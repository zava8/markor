cscope 15 $HOME/maigit/markor -q 0000006136 0001011076
	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/DocumentActivity_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

7 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

8 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gF¿meLayout
;

9 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

10 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

11 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

12 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

13 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

16 
public
 cÏs 
	cDocum’tAùiv™y_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

17 
´iv©e
 
Docum’tAùiv™y
 
	mrg‘
;

19 @
UiTh»ad


20 
public
 
	$Docum’tAùiv™y_V›wBšdšg
(
Docum’tAùiv™y
 
rg‘
) {

21 
	`this
(
rg‘
,¬g‘.
	`g‘Wšdow
().
	`g‘DecÜV›w
());

24 @
UiTh»ad


25 
public
 
	$Docum’tAùiv™y_V›wBšdšg
(
Docum’tAùiv™y
 
rg‘
, 
V›w
 
sourû
) {

26 
this
.
rg‘
 =arget;

28 
rg‘
.
_äagPÏûhŞd”
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
docum’t__¶aûhŞd”_äagm’t
, "f›ld '_äagPÏûhŞd”'", 
F¿meLayout
.
şass
);

29 
rg‘
.
_toŞb¬
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
toŞb¬
, "f›ld '_toŞb¬'", 
ToŞb¬
.
şass
);

30 
rg‘
.
_toŞb¬T™ËText
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
nÙe__aùiv™y__‹xt_nÙe_t™Ë
, "f›ld '_toŞb¬T™ËText'", 
TextV›w
.
şass
);

31 
	}
}

33 @
	gOv”ride


34 @
C®lSu³r


35 
public
 
	$unbšd
() {

36 
Docum’tAùiv™y
 
rg‘
 = 
this
.target;

37 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

38 
this
.
rg‘
 = 
nuÎ
;

40 
rg‘
.
_äagPÏûhŞd”
 = 
nuÎ
;

41 
rg‘
.
_toŞb¬
 = 
nuÎ
;

42 
rg‘
.
_toŞb¬T™ËText
 = 
nuÎ
;

43 
	}
}

	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/DocumentEditFragment_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

7 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

8 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

9 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

10 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

11 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

12 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

13 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

14 
impÜt
 
	gjava
.
	gÏng
.
	gCh¬Sequ’û
;

15 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

16 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gD¿ggabËSüŞlb¬SüŞlV›w
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

21 
public
 cÏs 
	cDocum’tEd™F¿gm’t_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

22 
´iv©e
 
Docum’tEd™F¿gm’t
 
	mrg‘
;

24 
´iv©e
 
V›w
 
	mv›w2131296405
;

26 
´iv©e
 
TextW©ch”
 
	mv›w2131296405TextW©ch”
;

28 @
UiTh»ad


29 
public
 
	$Docum’tEd™F¿gm’t_V›wBšdšg
(
fš®
 
Docum’tEd™F¿gm’t
 
rg‘
, 
V›w
 
sourû
) {

30 
this
.
rg‘
 =arget;

32 
V›w
 
v›w
;

33 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
docum’t__äagm’t__ed™__highlightšg_ed™Ü
, "field '_hlEditor'‡nd method 'onContentEditValueChanged'");

34 
rg‘
.
_hlEd™Ü
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
docum’t__äagm’t__ed™__highlightšg_ed™Ü
, "f›ld '_hlEd™Ü'", 
HighlightšgEd™Ü
.
şass
);

35 
v›w2131296405
 = 
v›w
;

36 
v›w2131296405TextW©ch”
 = 
Ãw
 
	`TextW©ch”
() {

37 @
Ov”ride


38 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
p0
, 
p1
, 
p2
, 
p3
) {

39 
rg‘
.
	`ÚCÚ‹ÁEd™V®ueChªged
(
p0
);

42 @
Ov”ride


43 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
p0
, 
p1
, 
p2
, 
p3
) {

46 @
Ov”ride


47 
public
 
	`aá”TextChªged
(
Ed™abË
 
p0
) {

50 ((
TextV›w
è
v›w
).
	`addTextChªgedLi¡’”
(
v›w2131296405TextW©ch”
);

51 
rg‘
.
_‹xtAùiÚsB¬
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
docum’t__äagm’t__ed™__‹xt_aùiÚs_b¬
, "f›ld '_‹xtAùiÚsB¬'", 
V›wGroup
.
şass
);

52 
rg‘
.
_‹xtSdW¬nšg
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
docum’t__äagm’t__ed™__cÚ‹Á_ed™Ü__³rmissiÚ_w¬nšg
, "f›ld '_‹xtSdW¬nšg'", 
TextV›w
.
şass
);

53 
rg‘
.
_webV›w
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
docum’t__äagm’t_v›w_webv›w
, "f›ld '_webV›w'", 
WebV›w
.
şass
);

54 
rg‘
.
_´im¬ySüŞlV›w
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
docum’t__äagm’t__ed™__cÚ‹Á_ed™Ü__süŞlšg_·»Á
, "f›ld '_´im¬ySüŞlV›w'", 
D¿ggabËSüŞlb¬SüŞlV›w
.
şass
);

57 @
Ov”ride


58 @
C®lSu³r


59 
public
 
	$unbšd
() {

60 
Docum’tEd™F¿gm’t
 
rg‘
 = 
this
.target;

61 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

62 
this
.
rg‘
 = 
nuÎ
;

64 
rg‘
.
_hlEd™Ü
 = 
nuÎ
;

65 
rg‘
.
_‹xtAùiÚsB¬
 = 
nuÎ
;

66 
rg‘
.
_‹xtSdW¬nšg
 = 
nuÎ
;

67 
rg‘
.
_webV›w
 = 
nuÎ
;

68 
rg‘
.
_´im¬ySüŞlV›w
 = 
nuÎ
;

70 ((
TextV›w
è
v›w2131296405
).
	`»moveTextChªgedLi¡’”
(
v›w2131296405TextW©ch”
);

71 
v›w2131296405TextW©ch”
 = 
nuÎ
;

72 
v›w2131296405
 = 
nuÎ
;

73 
	}
}

	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/DocumentShareIntoFragment_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

7 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

8 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

9 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

10 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

11 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

12 
impÜt
 
	gjava
.
	gÏng
.
	gCh¬Sequ’û
;

13 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

14 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

18 
public
 cÏs 
	cDocum’tSh¬eIÁoF¿gm’t_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

19 
´iv©e
 
Docum’tSh¬eIÁoF¿gm’t
 
	mrg‘
;

21 
´iv©e
 
V›w
 
	mv›w2131296408
;

23 
´iv©e
 
TextW©ch”
 
	mv›w2131296408TextW©ch”
;

25 @
UiTh»ad


26 
public
 
	$Docum’tSh¬eIÁoF¿gm’t_V›wBšdšg
(
fš®
 
Docum’tSh¬eIÁoF¿gm’t
 
rg‘
,

27 
V›w
 
sourû
) {

28 
this
.
rg‘
 =arget;

30 
V›w
 
v›w
;

31 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
docum’t__äagm’t__sh¬e_što__highlightšg_ed™Ü
, "field '_hlEditor'‡nd method 'onTextChanged'");

32 
rg‘
.
_hlEd™Ü
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
docum’t__äagm’t__sh¬e_što__highlightšg_ed™Ü
, "f›ld '_hlEd™Ü'", 
HighlightšgEd™Ü
.
şass
);

33 
v›w2131296408
 = 
v›w
;

34 
v›w2131296408TextW©ch”
 = 
Ãw
 
	`TextW©ch”
() {

35 @
Ov”ride


36 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
p0
, 
p1
, 
p2
, 
p3
) {

37 
rg‘
.
	`ÚTextChªged
(
p0
);

40 @
Ov”ride


41 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
p0
, 
p1
, 
p2
, 
p3
) {

44 @
Ov”ride


45 
public
 
	`aá”TextChªged
(
Ed™abË
 
p0
) {

48 ((
TextV›w
è
v›w
).
	`addTextChªgedLi¡’”
(
v›w2131296408TextW©ch”
);

51 @
Ov”ride


52 @
C®lSu³r


53 
public
 
	$unbšd
() {

54 
Docum’tSh¬eIÁoF¿gm’t
 
rg‘
 = 
this
.target;

55 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

56 
this
.
rg‘
 = 
nuÎ
;

58 
rg‘
.
_hlEd™Ü
 = 
nuÎ
;

60 ((
TextV›w
è
v›w2131296408
).
	`»moveTextChªgedLi¡’”
(
v›w2131296408TextW©ch”
);

61 
v›w2131296408TextW©ch”
 = 
nuÎ
;

62 
v›w2131296408
 = 
nuÎ
;

63 
	}
}

	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/MainActivity_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gdesign
.
	gwidg‘
.
	gBÙtomNavig©iÚV›w
;

7 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gdesign
.
	gwidg‘
.
	gFlßtšgAùiÚBu‰Ú
;

8 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gv›w
.
	gV›wPag”
;

9 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

10 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

11 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

12 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gDebouncšgOnClickLi¡’”
;

13 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

14 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

15 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

18 
public
 cÏs 
	cMašAùiv™y_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

19 
´iv©e
 
MašAùiv™y
 
	mrg‘
;

21 
´iv©e
 
V›w
 
	mv›w2131296425
;

23 
´iv©e
 
V›w
 
	mv›w2131296457
;

25 
´iv©e
 
	mV›wPag”
.
OnPageChªgeLi¡’”
 
	mv›w2131296457OnPageChªgeLi¡’”
;

27 @
UiTh»ad


28 
public
 
	$MašAùiv™y_V›wBšdšg
(
MašAùiv™y
 
rg‘
) {

29 
	`this
(
rg‘
,¬g‘.
	`g‘Wšdow
().
	`g‘DecÜV›w
());

32 @
UiTh»ad


33 
public
 
	$MašAùiv™y_V›wBšdšg
(
fš®
 
MašAùiv™y
 
rg‘
, 
V›w
 
sourû
) {

34 
this
.
rg‘
 =arget;

36 
V›w
 
v›w
;

37 
rg‘
.
_toŞb¬
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
toŞb¬
, "f›ld '_toŞb¬'", 
ToŞb¬
.
şass
);

38 
rg‘
.
_bÙtomNav
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
bÙtom_Çvig©iÚ_b¬
, "f›ld '_bÙtomNav'", 
BÙtomNavig©iÚV›w
.
şass
);

39 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
çb_add_Ãw_™em
, "field '_fab', method 'onClickFab',‡nd method 'onLongClickFab'");

40 
rg‘
.
_çb
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
çb_add_Ãw_™em
, "f›ld '_çb'", 
FlßtšgAùiÚBu‰Ú
.
şass
);

41 
v›w2131296425
 = 
v›w
;

42 
v›w
.
	`£tOnClickLi¡’”
(
Ãw
 
	`DebouncšgOnClickLi¡’”
() {

43 @
Ov”ride


44 
public
 
	`doClick
(
V›w
 
p0
) {

45 
rg‘
.
	`ÚClickFab
(
p0
);

48 
v›w
.
	`£tOnLÚgClickLi¡’”
(
Ãw
 
V›w
.
	`OnLÚgClickLi¡’”
() {

49 @
Ov”ride


50 
public
 
boŞ—n
 
	`ÚLÚgClick
(
V›w
 
p0
) {

51  
rg‘
.
	`ÚLÚgClickFab
(
p0
);

54 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
maš__v›w_·g”_cÚš”
, "field '_viewPager'‡nd method 'onViewPagerPageSelected'");

55 
rg‘
.
_v›wPag”
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
maš__v›w_·g”_cÚš”
, "f›ld '_v›wPag”'", 
V›wPag”
.
şass
);

56 
v›w2131296457
 = 
v›w
;

57 
v›w2131296457OnPageChªgeLi¡’”
 = 
Ãw
 
V›wPag”
.
	`OnPageChªgeLi¡’”
() {

58 @
Ov”ride


59 
public
 
	`ÚPageS–eùed
(
p0
) {

60 
rg‘
.
	`ÚV›wPag”PageS–eùed
(
p0
);

63 @
Ov”ride


64 
public
 
	`ÚPageSüŞËd
(
p0
, 
p1
, 
p2
) {

67 @
Ov”ride


68 
public
 
	`ÚPageSüŞlS‹Chªged
(
p0
) {

71 ((
V›wPag”
è
v›w
).
	`addOnPageChªgeLi¡’”
(
v›w2131296457OnPageChªgeLi¡’”
);

72 
	}
}

74 @
	gOv”ride


75 @
C®lSu³r


76 
public
 
	$unbšd
() {

77 
MašAùiv™y
 
rg‘
 = 
this
.target;

78 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

79 
this
.
rg‘
 = 
nuÎ
;

81 
rg‘
.
_toŞb¬
 = 
nuÎ
;

82 
rg‘
.
_bÙtomNav
 = 
nuÎ
;

83 
rg‘
.
_çb
 = 
nuÎ
;

84 
rg‘
.
_v›wPag”
 = 
nuÎ
;

86 
v›w2131296425
.
	`£tOnClickLi¡’”
(
nuÎ
);

87 
v›w2131296425
.
	`£tOnLÚgClickLi¡’”
(
nuÎ
);

88 
v›w2131296425
 = 
nuÎ
;

89 ((
V›wPag”
è
v›w2131296457
).
	`»moveOnPageChªgeLi¡’”
(
v›w2131296457OnPageChªgeLi¡’”
);

90 
v›w2131296457OnPageChªgeLi¡’”
 = 
nuÎ
;

91 
v›w2131296457
 = 
nuÎ
;

92 
	}
}

	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/SettingsActivity_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

7 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

8 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

9 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

10 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

11 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

14 
public
 cÏs 
	cS‘tšgsAùiv™y_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

15 
´iv©e
 
S‘tšgsAùiv™y
 
	mrg‘
;

17 @
UiTh»ad


18 
public
 
	$S‘tšgsAùiv™y_V›wBšdšg
(
S‘tšgsAùiv™y
 
rg‘
) {

19 
	`this
(
rg‘
,¬g‘.
	`g‘Wšdow
().
	`g‘DecÜV›w
());

22 @
UiTh»ad


23 
public
 
	$S‘tšgsAùiv™y_V›wBšdšg
(
S‘tšgsAùiv™y
 
rg‘
, 
V›w
 
sourû
) {

24 
this
.
rg‘
 =arget;

26 
rg‘
.
toŞb¬
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.toŞb¬, "f›ld 'toŞb¬'", 
ToŞb¬
.
şass
);

27 
	}
}

29 @
	gOv”ride


30 @
C®lSu³r


31 
public
 
	$unbšd
() {

32 
S‘tšgsAùiv™y
 
rg‘
 = 
this
.target;

33 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

34 
this
.
rg‘
 = 
nuÎ
;

36 
rg‘
.
toŞb¬
 = 
nuÎ
;

37 
	}
}

	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/opoc/ui/FilesystemViewerAdapter$FilesystemViewerViewHolder_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

7 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

8 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

9 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

10 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

11 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

12 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

13 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

16 
public
 cÏs 
	cFesy¡emV›w”Ad­‹r$Fesy¡emV›w”V›wHŞd”_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

17 
´iv©e
 
	mFesy¡emV›w”Ad­‹r
.
Fesy¡emV›w”V›wHŞd”
 
	mrg‘
;

19 @
UiTh»ad


20 
public
 
	$Fesy¡emV›w”Ad­‹r$Fesy¡emV›w”V›wHŞd”_V›wBšdšg
(
Fesy¡emV›w”Ad­‹r
.
Fesy¡emV›w”V›wHŞd”
 
rg‘
,

21 
V›w
 
sourû
) {

22 
this
.
rg‘
 =arget;

24 
rg‘
.
™emRoÙ
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_™em__roÙ
, "f›ld '™emRoÙ'", 
Lš—rLayout
.
şass
);

25 
rg‘
.
image
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_™em__image
, "f›ld 'image'", 
ImageV›w
.
şass
);

26 
rg‘
.
t™Ë
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_™em__t™Ë
, "f›ld 't™Ë'", 
TextV›w
.
şass
);

27 
rg‘
.
desütiÚ
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_™em__desütiÚ
, "f›ld 'desütiÚ'", 
TextV›w
.
şass
);

30 @
Ov”ride


31 @
C®lSu³r


32 
public
 
	$unbšd
() {

33 
Fesy¡emV›w”Ad­‹r
.
Fesy¡emV›w”V›wHŞd”
 
rg‘
 = 
this
.target;

34 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

35 
this
.
rg‘
 = 
nuÎ
;

37 
rg‘
.
™emRoÙ
 = 
nuÎ
;

38 
rg‘
.
image
 = 
nuÎ
;

39 
rg‘
.
t™Ë
 = 
nuÎ
;

40 
rg‘
.
desütiÚ
 = 
nuÎ
;

41 
	}
}

	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/opoc/ui/FilesystemViewerDialog_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gRecyş”V›w
;

7 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

8 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

9 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

10 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

11 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

12 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

13 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

14 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

15 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gDebouncšgOnClickLi¡’”
;

16 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

17 
impÜt
 
	gjava
.
	gÏng
.
	gCh¬Sequ’û
;

18 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

19 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

22 
public
 cÏs 
	cFesy¡emV›w”DŸlog_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

23 
´iv©e
 
Fesy¡emV›w”DŸlog
 
	mrg‘
;

25 
´iv©e
 
V›w
 
	mv›w2131296609
;

27 
´iv©e
 
V›w
 
	mv›w2131296610
;

29 
´iv©e
 
V›w
 
	mv›w2131296612
;

31 
´iv©e
 
V›w
 
	mv›w2131296615
;

33 
´iv©e
 
V›w
 
	mv›w2131296616
;

35 
´iv©e
 
TextW©ch”
 
	mv›w2131296616TextW©ch”
;

37 @
UiTh»ad


38 
public
 
	$Fesy¡emV›w”DŸlog_V›wBšdšg
(
fš®
 
Fesy¡emV›w”DŸlog
 
rg‘
, 
V›w
 
sourû
) {

39 
this
.
rg‘
 =arget;

41 
V›w
 
v›w
;

42 
rg‘
.
_»cyş”Li¡
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__li¡
, "f›ld '_»cyş”Li¡'", 
Recyş”V›w
.
şass
);

43 
rg‘
.
_dŸlogT™Ë
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__t™Ë
, "f›ld '_dŸlogT™Ë'", 
TextV›w
.
şass
);

44 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ú_ÿnûl
, "field '_buttonCancel'‡nd method 'onClicked'");

45 
rg‘
.
_bu‰ÚCªûl
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ú_ÿnûl
, "f›ld '_bu‰ÚCªûl'", 
TextV›w
.
şass
);

46 
v›w2131296609
 = 
v›w
;

47 
v›w
.
	`£tOnClickLi¡’”
(
Ãw
 
	`DebouncšgOnClickLi¡’”
() {

48 @
Ov”ride


49 
public
 
	`doClick
(
V›w
 
p0
) {

50 
rg‘
.
	`ÚClicked
(
p0
);

53 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ú_ok
, "field '_buttonOk'‡nd method 'onClicked'");

54 
rg‘
.
_bu‰ÚOk
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ú_ok
, "f›ld '_bu‰ÚOk'", 
TextV›w
.
şass
);

55 
v›w2131296610
 = 
v›w
;

56 
v›w
.
	`£tOnClickLi¡’”
(
Ãw
 
	`DebouncšgOnClickLi¡’”
() {

57 @
Ov”ride


58 
public
 
	`doClick
(
V›w
 
p0
) {

59 
rg‘
.
	`ÚClicked
(
p0
);

62 
rg‘
.
_utB¬
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__utb¬
, "f›ld '_utB¬'", 
Lš—rLayout
.
şass
);

63 
rg‘
.
_bu‰ÚB¬
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ús
, "f›ld '_bu‰ÚB¬'", 
Lš—rLayout
.
şass
);

64 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__home
, "field '_homeButton'‡nd method 'onClicked'");

65 
rg‘
.
_homeBu‰Ú
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
ui__fesy¡em_dŸlog__home
, "f›ld '_homeBu‰Ú'", 
ImageV›w
.
şass
);

66 
v›w2131296612
 = 
v›w
;

67 
v›w
.
	`£tOnClickLi¡’”
(
Ãw
 
	`DebouncšgOnClickLi¡’”
() {

68 @
Ov”ride


69 
public
 
	`doClick
(
V›w
 
p0
) {

70 
rg‘
.
	`ÚClicked
(
p0
);

73 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__£¬ch_bu‰Ú
, "field '_buttonSearch'‡nd method 'onClicked'");

74 
rg‘
.
_bu‰ÚS—rch
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
ui__fesy¡em_dŸlog__£¬ch_bu‰Ú
, "f›ld '_bu‰ÚS—rch'", 
ImageV›w
.
şass
);

75 
v›w2131296615
 = 
v›w
;

76 
v›w
.
	`£tOnClickLi¡’”
(
Ãw
 
	`DebouncšgOnClickLi¡’”
() {

77 @
Ov”ride


78 
public
 
	`doClick
(
V›w
 
p0
) {

79 
rg‘
.
	`ÚClicked
(
p0
);

82 
v›w
 = 
Uts
.
	`fšdRequœedV›w
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__£¬ch_ed™
, "field '_searchEdit'‡nd method 'changeAdapterFilter'");

83 
rg‘
.
_£¬chEd™
 = 
Uts
.
	`ÿ¡V›w
(
v›w
, 
R
.
id
.
ui__fesy¡em_dŸlog__£¬ch_ed™
, "f›ld '_£¬chEd™'", 
Ed™Text
.
şass
);

84 
v›w2131296616
 = 
v›w
;

85 
v›w2131296616TextW©ch”
 = 
Ãw
 
	`TextW©ch”
() {

86 @
Ov”ride


87 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
p0
, 
p1
, 
p2
, 
p3
) {

88 
rg‘
.
	`chªgeAd­‹rF‹r
(
p0
, 
p1
, 
p2
, 
p3
);

91 @
Ov”ride


92 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
p0
, 
p1
, 
p2
, 
p3
) {

95 @
Ov”ride


96 
public
 
	`aá”TextChªged
(
Ed™abË
 
p0
) {

99 ((
TextV›w
è
v›w
).
	`addTextChªgedLi¡’”
(
v›w2131296616TextW©ch”
);

102 @
Ov”ride


103 @
C®lSu³r


104 
public
 
	$unbšd
() {

105 
Fesy¡emV›w”DŸlog
 
rg‘
 = 
this
.target;

106 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

107 
this
.
rg‘
 = 
nuÎ
;

109 
rg‘
.
_»cyş”Li¡
 = 
nuÎ
;

110 
rg‘
.
_dŸlogT™Ë
 = 
nuÎ
;

111 
rg‘
.
_bu‰ÚCªûl
 = 
nuÎ
;

112 
rg‘
.
_bu‰ÚOk
 = 
nuÎ
;

113 
rg‘
.
_utB¬
 = 
nuÎ
;

114 
rg‘
.
_bu‰ÚB¬
 = 
nuÎ
;

115 
rg‘
.
_homeBu‰Ú
 = 
nuÎ
;

116 
rg‘
.
_bu‰ÚS—rch
 = 
nuÎ
;

117 
rg‘
.
_£¬chEd™
 = 
nuÎ
;

119 
v›w2131296609
.
	`£tOnClickLi¡’”
(
nuÎ
);

120 
v›w2131296609
 = 
nuÎ
;

121 
v›w2131296610
.
	`£tOnClickLi¡’”
(
nuÎ
);

122 
v›w2131296610
 = 
nuÎ
;

123 
v›w2131296612
.
	`£tOnClickLi¡’”
(
nuÎ
);

124 
v›w2131296612
 = 
nuÎ
;

125 
v›w2131296615
.
	`£tOnClickLi¡’”
(
nuÎ
);

126 
v›w2131296615
 = 
nuÎ
;

127 ((
TextV›w
è
v›w2131296616
).
	`»moveTextChªgedLi¡’”
(
v›w2131296616TextW©ch”
);

128 
v›w2131296616TextW©ch”
 = 
nuÎ
;

129 
v›w2131296616
 = 
nuÎ
;

130 
	}
}

	@app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/opoc/ui/FilesystemViewerFragment_ViewBinding.java

2 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gC®lSu³r
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gUiTh»ad
;

6 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gwidg‘
.
	gSweReäeshLayout
;

7 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gRecyş”V›w
;

8 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

9 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

10 
impÜt
 
	gbu‰”kniã
.
	gUnbšd”
;

11 
impÜt
 
	gbu‰”kniã
.
	gš‹º®
.
	gUts
;

12 
impÜt
 
	gjava
.
	gÏng
.
	gIÎeg®S‹Exû±iÚ
;

13 
impÜt
 
	gjava
.
	gÏng
.
	gOv”ride
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

16 
public
 cÏs 
	cFesy¡emV›w”F¿gm’t_V›wBšdšg
 
im¶em’ts
 
	mUnbšd”
 {

17 
´iv©e
 
Fesy¡emV›w”F¿gm’t
 
	mrg‘
;

19 @
UiTh»ad


20 
public
 
	$Fesy¡emV›w”F¿gm’t_V›wBšdšg
(
Fesy¡emV›w”F¿gm’t
 
rg‘
, 
V›w
 
sourû
) {

21 
this
.
rg‘
 =arget;

23 
rg‘
.
_»cyş”Li¡
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
ui__fesy¡em_dŸlog__li¡
, "f›ld '_»cyş”Li¡'", 
Recyş”V›w
.
şass
);

24 
rg‘
.
swe
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
puÎ_to_»äesh
, "f›ld 'swe'", 
SweReäeshLayout
.
şass
);

25 
rg‘
.
_em±yHšt
 = 
Uts
.
	`fšdRequœedV›wAsTy³
(
sourû
, 
R
.
id
.
em±y_hšt
, "f›ld '_em±yHšt'", 
TextV›w
.
şass
);

28 @
Ov”ride


29 @
C®lSu³r


30 
public
 
	$unbšd
() {

31 
Fesy¡emV›w”F¿gm’t
 
rg‘
 = 
this
.target;

32 ià(
rg‘
 =ğ
nuÎ
è
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("Bindings‡lready cleared.");

33 
this
.
rg‘
 = 
nuÎ
;

35 
rg‘
.
_»cyş”Li¡
 = 
nuÎ
;

36 
rg‘
.
swe
 = 
nuÎ
;

37 
rg‘
.
_em±yHšt
 = 
nuÎ
;

38 
	}
}

	@app/build/generated/source/buildConfig/flavorDefault/release/net/gsantner/markor/BuildConfig.java

4 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
;

6 
public
 
fš®
 cÏs 
	cBudCÚfig
 {

7 
public
 
fš®
 
boŞ—n
 
	mDEBUG
 = 
çl£
;

8 
public
 
fš®
 
SŒšg
 
	mAPPLICATION_ID
 = "net.gsantner.markor";

9 
public
 
fš®
 
SŒšg
 
	mBUILD_TYPE
 = "release";

10 
public
 
fš®
 
SŒšg
 
	mFLAVOR
 = "flavorDefault";

11 
public
 
fš®
 
	mVERSION_CODE
 = 124;

12 
public
 
fš®
 
SŒšg
 
	mVERSION_NAME
 = "2.8.0";

14 
public
 
fš®
 
SŒšg
 
	mBUILD_DATE
 = "2021-12-16T11:14Z";

15 
public
 
fš®
 
	mSŒšg
[] 
	mDETECTED_ANDROID_LOCALES
 = {};

16 
public
 
fš®
 
SŒšg
 
	gGITHASH
 = "7b37a5ac1fde94dbdbc191d930adfd7382f8011d";

17 
public
 
fš®
 
boŞ—n
 
	gIS_GPLAY_BUILD
 = 
çl£
;

18 
public
 
fš®
 
boŞ—n
 
	gIS_TEST_BUILD
 = 
çl£
;

	@app/src/flavorAtest/java/net/gsantner/opoc/util/AndroidSupportMeWrapper.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

21 
public
 cÏs 
	cAndroidSuµÜtMeW¿µ”
 
ex‹nds
 
	mAùiv™yUts
 {

22 
´iv©e
 
LoÿlS‘tšgsIm¶
 
	m_loÿlS‘tšgsIm¶
;

24 
public
 
	$AndroidSuµÜtMeW¿µ”
(
Aùiv™y
 
aùiv™y
) {

25 
	`su³r
(
aùiv™y
);

26 
_loÿlS‘tšgsIm¶
 = 
Ãw
 
	`LoÿlS‘tšgsIm¶
(
_cÚ‹xt
.
	`g‘AµliÿtiÚCÚ‹xt
());

29 
public
 
	$İ’PayP®DÚ©iÚPage
() {

30 
SŒšg
 
id
 = 
	`g‘PackageIdMªiã¡
();

31 
SŒšg
 
u¾
 = "h‰ps://www.·y·l.com/cgi-bš/websü?cmd=_s-xşick&ho¡ed_bu‰Ú_id=TVV24QBGMN23C&sourû=£lf.g§ÁÃr.Ãt%2F" + 
id
;

32 
	`İ’Web·geInEx‹º®Brow£r
(
u¾
);

33 
	}
}

36 
public
 
	$İ’G’”®DÚ©ePage
() {

37 
	`İ’Web·geInEx‹º®Brow£r
(
_cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
­p_dÚ©e_u¾
));

38 
	}
}

40 
public
 
	$mašOnResume
() {

41 ià(
_loÿlS‘tšgsIm¶
.
	`®l14dReque¡
()) {

42 
AË¹DŸlog
.
Bud”
 
dŸlog
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
_cÚ‹xt
);

43 
dŸlog
.
	`£tT™Ë
(
R
.
¡ršg
.
dÚ©e_
)

44 .
	`£tCªûÏbË
(
çl£
)

45 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
şo£
, (
dŸlogIÁ”çû
, 
i
è-> dŸlogIÁ”çû.
	`dismiss
())

46 .
	`£tPos™iveBu‰Ú
("PayP®", (
dŸlogIÁ”çû
, 
i
) -> {

47 
	`İ’PayP®DÚ©iÚPage
();

48 
dŸlogIÁ”çû
.
	`dismiss
();

50 .
	`£tNeuŒ®Bu‰Ú
(
R
.
¡ršg
.
dÚ©e_
, (
dŸlogIÁ”çû
, 
i
) -> {

51 
	`İ’G’”®DÚ©ePage
();

52 
dŸlogIÁ”çû
.
	`dismiss
();

54 .
	`£tMes§ge
(
R
.
¡ršg
.
do_you_like_this_´ojeù_wªt_dÚ©e_to_k“p_®ive
);

55 
dŸlog
.
	`show
();

57 
	}
}

59 
´iv©e
 cÏs 
	cLoÿlS‘tšgsIm¶
 
ex‹nds
 
	gSh¬edP»ã»nûsPrİ”tyBack’d
 {

60 
´iv©e
 
fš®
 
Sh¬edP»ã»nûs
 
	g_´efCache
;

62 
public
 
LoÿlS‘tšgsIm¶
(
CÚ‹xt
 
_cÚ‹xt
) {

63 
su³r
(
_cÚ‹xt
, "AndroidSupportMeWrapper.LocalSettingsImpl");

64 
	g_´efCache
 = 
_cÚ‹xt
.
g‘Sh¬edP»ã»nûs
("ÿche", 
CÚ‹xt
.
MODE_PRIVATE
);

67 
public
 
boŞ—n
 
®l14dReque¡
() {

68  
aá”DaysTrue
("all14dRequest", 14, 3);

	@app/src/flavorDefault/java/net/gsantner/opoc/util/AndroidSupportMeWrapper.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

21 
public
 cÏs 
	cAndroidSuµÜtMeW¿µ”
 
ex‹nds
 
	mAùiv™yUts
 {

22 
´iv©e
 
LoÿlS‘tšgsIm¶
 
	m_loÿlS‘tšgsIm¶
;

24 
public
 
	$AndroidSuµÜtMeW¿µ”
(
Aùiv™y
 
aùiv™y
) {

25 
	`su³r
(
aùiv™y
);

26 
_loÿlS‘tšgsIm¶
 = 
Ãw
 
	`LoÿlS‘tšgsIm¶
(
_cÚ‹xt
.
	`g‘AµliÿtiÚCÚ‹xt
());

29 
public
 
	$İ’PayP®DÚ©iÚPage
() {

30 
SŒšg
 
id
 = 
	`g‘PackageIdMªiã¡
();

31 
SŒšg
 
u¾
 = "h‰ps://www.·y·l.com/cgi-bš/websü?cmd=_s-xşick&ho¡ed_bu‰Ú_id=TVV24QBGMN23C&sourû=£lf.g§ÁÃr.Ãt%2F" + 
id
;

32 
	`İ’Web·geInEx‹º®Brow£r
(
u¾
);

33 
	}
}

36 
public
 
	$İ’G’”®DÚ©ePage
() {

37 
	`İ’Web·geInEx‹º®Brow£r
(
_cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
­p_dÚ©e_u¾
));

38 
	}
}

40 
public
 
	$mašOnResume
() {

41 ià(
_loÿlS‘tšgsIm¶
.
	`®l14dReque¡
()) {

42 
AË¹DŸlog
.
Bud”
 
dŸlog
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
_cÚ‹xt
);

43 
dŸlog
.
	`£tT™Ë
(
R
.
¡ršg
.
dÚ©e_
)

44 .
	`£tCªûÏbË
(
çl£
)

45 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
şo£
, (
dŸlogIÁ”çû
, 
i
è-> dŸlogIÁ”çû.
	`dismiss
())

46 .
	`£tPos™iveBu‰Ú
("PayP®", (
dŸlogIÁ”çû
, 
i
) -> {

47 
	`İ’PayP®DÚ©iÚPage
();

48 
dŸlogIÁ”çû
.
	`dismiss
();

50 .
	`£tNeuŒ®Bu‰Ú
(
R
.
¡ršg
.
dÚ©e_
, (
dŸlogIÁ”çû
, 
i
) -> {

51 
	`İ’G’”®DÚ©ePage
();

52 
dŸlogIÁ”çû
.
	`dismiss
();

54 .
	`£tMes§ge
(
R
.
¡ršg
.
do_you_like_this_´ojeù_wªt_dÚ©e_to_k“p_®ive
);

55 
dŸlog
.
	`show
();

57 
	}
}

59 
´iv©e
 cÏs 
	cLoÿlS‘tšgsIm¶
 
ex‹nds
 
	gSh¬edP»ã»nûsPrİ”tyBack’d
 {

60 
´iv©e
 
fš®
 
Sh¬edP»ã»nûs
 
	g_´efCache
;

62 
public
 
LoÿlS‘tšgsIm¶
(
CÚ‹xt
 
_cÚ‹xt
) {

63 
su³r
(
_cÚ‹xt
, "AndroidSupportMeWrapper.LocalSettingsImpl");

64 
	g_´efCache
 = 
_cÚ‹xt
.
g‘Sh¬edP»ã»nûs
("ÿche", 
CÚ‹xt
.
MODE_PRIVATE
);

67 
public
 
boŞ—n
 
®l14dReque¡
() {

68  
aá”DaysTrue
("all14dRequest", 31, 3);

	@app/src/flavorGplay/java/net/gsantner/opoc/util/AndroidSupportMeWrapper.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
;

16 
public
 cÏs 
	cAndroidSuµÜtMeW¿µ”
 
ex‹nds
 
	mAùiv™yUts
 {

18 
public
 
	$AndroidSuµÜtMeW¿µ”
(
Aùiv™y
 
aùiv™y
) {

19 
	`su³r
(
aùiv™y
);

22 
public
 
	$mašOnResume
() {

23 
	}
}

	@app/src/main/java/net/gsantner/markor/App.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAµliÿtiÚ
;

14 
public
 cÏs 
	cAµ
 
ex‹nds
 
	mAµliÿtiÚ
 {

16 @
Suµ»ssW¬nšgs
("unused")

17 
´iv©e
 
fš®
 
	mObjeù
[] 
	munu£d_ignÜe
 = 
Ãw
 
Objeù
[]

18 {
R
.
cŞÜ
.
cŞÜPrim¬y
, R.cŞÜ.
icÚs
, R.cŞÜ.
divid”
, R.
¶u¿ls
.
™em_£Ëùed
, R.
¡ršg
.
´ojeù_·ge
, R.
¡yË
.
AµTheme
, R.
¿w
.
»adme
};

20 
´iv©e
 
fš®
 [] 
	gunu£d_ignÜes
 = 
Ãw
 []{

21 
R
.
¡ršg
.
­³¬ªû
, R.¡ršg.
šfo
, R.¡ršg.
­³nd_to_w™h¬g
, R.¡ršg.
about
, R.¡ršg.
”rÜ_ÿÂÙ_ü—‹_nÙebook_dœ__­p¥ecific
, R.¡ršg.
show_liûn£_of_the_­p
, R.¡ršg.
show_thœd_·¹y_liûn£s
, R.¡ršg.
İ’_w™h
, R.¡ršg.
todo_li¡
, R.¡ršg.
sk
, R.¡ršg.
li¡
, R.¡ršg.
hi¡Üy
, R.¡ršg.
sync
, R.¡ršg.
upd©e
, R.¡ršg.
ş—r
, R.¡ršg.
due_d©e
, R.¡ršg.
cu¼’t_d©e
, R.¡ršg.
add_sk
, R.¡ršg.
add_x_w™h¬g
, R.¡ršg.
ü—‹_nÙe
, R.¡ršg.
back_to_´evious_fŞd”
, R.¡ršg.
­p_£‰šgs
, R.¡ršg.
ed™Ü_£‰šgs
, R.¡ršg.
»memb”_Ï¡_fŞd”_loÿtiÚ_Ú_¡¬tup
, R.¡ršg.
numb”_of_fes_w™h¬g
, R.¡ršg.
maš_v›w
, R.¡ršg.
cÚ‹xts
, R.¡ršg.
´ojeùs
, R.¡ršg.
»sourûs
, R.¡ršg.
v”tiÿl_®ignm’t
, R.¡ršg.
hÜizÚl_®ignm’t
, R.¡ršg.
deçuÉ_
, R.¡ršg.
Ëá
, R.¡ršg.
right
, R.¡ršg.
tİ
, R.¡ršg.
bÙtom
, R.¡ršg.
ûÁ”
, R.¡ršg.
dœeùÜy
, R.¡ršg.
”rÜ_piùu»_£ËùiÚ
, R.¡ršg.
’abË_undo_ªd_»do_be_·t›Á
, R.¡ršg.
‹xùiÚ
,

22 
R
.
¡ršg
.
gs
,

25 
´iv©e
 vŞ©
Aµ
 
	g_­p
;

27 
public
 
Aµ
 
	$g‘
() {

28  
_­p
;

29 
	}
}

31 @
Ov”ride


32 
public
 
	$ÚC»©e
() {

33 
su³r
.
	`ÚC»©e
();

34 
_­p
 = 
this
;

35 
	}
}

	@app/src/main/java/net/gsantner/markor/activity/ActionOrderActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

13 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAµCom·tAùiv™y
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gDivid”I‹mDecÜ©iÚ
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gLš—rLayoutMªag”
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gRecyş”V›w
;

20 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

21 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gh–³r
.
	gI‹mTouchH–³r
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uInæ©”
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

25 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

26 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

27 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

28 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gR–©iveLayout
;

29 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSw™ch
;

30 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownTextAùiÚs
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏš‹xtTextAùiÚs
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTextAùiÚs
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
.
	gZimWikiTextAùiÚs
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAùiv™yUts
;

39 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

40 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

42 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

43 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

44 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

45 
impÜt
 
	gjava
.
	gut
.
	gM­
;

46 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

48 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gh–³r
.
	gI‹mTouchH–³r
.
	gACTION_STATE_DRAG
;

50 
public
 cÏs 
	cAùiÚOrd”Aùiv™y
 
ex‹nds
 
	mAµCom·tAùiv™y
 {

52 
public
 
fš®
 
SŒšg
 
	mEXTRA_FORMAT_KEY
 = "FORMAT_KEY";

54 
´iv©e
 
Ord”Ad­‹r
 
	m_ad­‹r
;

55 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	m_keys
;

56 
´iv©e
 
	mLi¡
<
	mSŒšg
> 
	m_di§bËd
;

57 
´iv©e
 
	mLi¡
<
	mTextAùiÚs
.
	mAùiÚI‹m
> 
	m_aùiÚs
;

58 
´iv©e
 
TextAùiÚs
 
	m_‹xtAùiÚs
;

60 @
Ov”ride


61 
´Ùeùed
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

62 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
) {

63 
	`g‘Wšdow
().
	`£tEx™T¿ns™iÚ
(
nuÎ
);

65 
fš®
 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
this
);

66 
fš®
 
Aùiv™yUts
 
cÚ‹xtUts
 = 
Ãw
 
	`Aùiv™yUts
(
this
);

67 
cÚ‹xtUts
.
	`£tAµLªguage
(
­pS‘tšgs
.
	`g‘Lªguage
());

68 
	`£tTheme
(
R
.
¡yË
.
AµTheme_Light
);

69 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

70 
	`£tCÚ‹ÁV›w
(
R
.
Ïyout
.
aùiÚ_Üd”_aùiv™y
);

73 
fš®
 
ToŞb¬
 
_toŞb¬
 = 
	`fšdV›wById
(
R
.
id
.
toŞb¬
);

74 
	`£tSuµÜtAùiÚB¬
(
_toŞb¬
);

75 ià(
	`g‘SuµÜtAùiÚB¬
(è!ğ
nuÎ
) {

76 
	`g‘SuµÜtAùiÚB¬
().
	`£tDi¥ÏyHomeAsUpEÇbËd
(
Œue
);

80 
fš®
 
Recyş”V›w
 
»cyş”
 = 
	`fšdV›wById
(
R
.
id
.
aùiÚ_Üd”_aùiv™y_»cyş”
);

81 
»cyş”
.
	`£tLayoutMªag”
(
Ãw
 
	`Lš—rLayoutMªag”
(
this
));

82 
»cyş”
.
	`addI‹mDecÜ©iÚ
(
Ãw
 
	`Divid”I‹mDecÜ©iÚ
Ôecyş”.
	`g‘CÚ‹xt
(), 
Divid”I‹mDecÜ©iÚ
.
VERTICAL
));

84 
	`exŒaùAùiÚD©a
();

85 
_ad­‹r
 = 
Ãw
 
	`Ord”Ad­‹r
(
_aùiÚs
, 
_keys
, 
_di§bËd
);

87 
fš®
 
I‹mTouchH–³r
.
C®lback
 
ÿÎback
 = 
Ãw
 
	`ReÜd”C®lback
(
_ad­‹r
);

88 
fš®
 
I‹mTouchH–³r
 
h–³r
 = 
Ãw
 
	`I‹mTouchH–³r
(
ÿÎback
);

89 
h–³r
.
	`©chToRecyş”V›w
(
»cyş”
);

91 
»cyş”
.
	`£tHasFixedSize
(
Œue
);

92 
»cyş”
.
	`£tAd­‹r
(
_ad­‹r
);

95 @
Ov”ride


96 
public
 
boŞ—n
 
	$ÚC»©eO±iÚsM’u
(
M’u
 
m’u
) {

97 
fš®
 
M’uInæ©”
 
šæ©”
 = 
	`g‘M’uInæ©”
();

98 
šæ©”
.
	`šæ©e
(
R
.
m’u
.
aùiÚ_Üd”__m’u
, menu);

100 
fš®
 
CÚ‹xtUts
 
cu
 = CÚ‹xtUts.
	`g‘
();

101 
cu
.
	`tštM’uI‹ms
(
m’u
, 
Œue
, 
CŞÜ
.
WHITE
);

102 
cu
.
	`ä“CÚ‹xtRef
();

104  
Œue
;

105 
	}
}

107 @
Ov”ride


108 
public
 
boŞ—n
 
	$ÚO±iÚsI‹mS–eùed
(
M’uI‹m
 
™em
) {

109 
™em
.
	`g‘I‹mId
()) {

110 
ªdroid
.
R
.
id
.
home
: {

111 
	`fšish
();

112  
Œue
;

115 
R
.
id
.
aùiÚ_»Üd”_»£t
: {

116 
fš®
 
Li¡
<
SŒšg
> 
aùiveKeys
 = 
_‹xtAùiÚs
.
	`g‘AùiveAùiÚKeys
();

117 
i
 = 0; i < 
aùiveKeys
.
	`size
(); i++) {

118 
SŒšg
 
key
 = 
aùiveKeys
.
	`g‘
(
i
);

119 
_ad­‹r
.
Üd”
.
	`£t
(
i
, 
_keys
.
	`šdexOf
(
key
));

121 
_ad­‹r
.
	`nÙifyD©aS‘Chªged
();

122  
Œue
;

125  
çl£
;

126 
	}
}

128 
´iv©e
 
	$§veNewOrd”
() {

129 
fš®
 
A¼ayLi¡
<
SŒšg
> 
»Üd”edKeys
 = 
Ãw
 ArrayList<>();

131 
fš®
 
i
 : 
_ad­‹r
.
Üd”
) {

132 
»Üd”edKeys
.
	`add
(
_keys
.
	`g‘
(
i
));

135 
_‹xtAùiÚs
.
	`§veAùiÚOrd”
(
»Üd”edKeys
);

136 
_‹xtAùiÚs
.
	`§veDi§bËdAùiÚs
(
Ãw
 
A¼ayLi¡
<>(
_ad­‹r
.
_di§bËd
));

137 
	}
}

139 @
Ov”ride


140 
´Ùeùed
 
	$ÚPau£
() {

141 
su³r
.
	`ÚPau£
();

142 
	`§veNewOrd”
();

143 
	}
}

145 @
Suµ»ssW¬nšgs
("ConstantConditions")

146 
´iv©e
 
	$exŒaùAùiÚD©a
() {

147 
fš®
 
docum’tTy³
 = 
	`g‘IÁ’t
().
	`g‘ExŒas
().
	`g‘IÁ
(
EXTRA_FORMAT_KEY
);

149 ià(
docum’tTy³
 =ğ
R
.
¡ršg
.
´ef_key__m¬kdown__»Üd”_aùiÚs
) {

150 
_‹xtAùiÚs
 = 
Ãw
 
	`M¬kdownTextAùiÚs
(
this
, 
nuÎ
);

151 } ià(
docum’tTy³
 =ğ
R
.
¡ršg
.
´ef_key__todÙxt__»Üd”_aùiÚs
) {

152 
_‹xtAùiÚs
 = 
Ãw
 
	`TodoTxtTextAùiÚs
(
this
, 
nuÎ
);

153 } ià(
docum’tTy³
 =ğ
R
.
¡ršg
.
´ef_key__zimwiki__»Üd”_aùiÚs
) {

154 
_‹xtAùiÚs
 = 
Ãw
 
	`ZimWikiTextAùiÚs
(
this
, 
nuÎ
);

156 
_‹xtAùiÚs
 = 
Ãw
 
	`PÏš‹xtTextAùiÚs
(
this
, 
nuÎ
);

159 
fš®
 
M­
<
SŒšg
, 
TextAùiÚs
.
AùiÚI‹m
> 
aùiÚM­
 = 
_‹xtAùiÚs
.
	`g‘AùiveAùiÚM­
();

160 
_keys
 = 
_‹xtAùiÚs
.
	`g‘AùiÚOrd”
();

161 
_di§bËd
 = 
_‹xtAùiÚs
.
	`g‘Di§bËdAùiÚs
();

163 
_aùiÚs
 = 
Ãw
 
A¼ayLi¡
<>();

164 
fš®
 
SŒšg
 
key
 : 
_keys
) {

165 
_aùiÚs
.
	`add
(
aùiÚM­
.
	`g‘
(
key
));

167 
	}
}

169 
´iv©e
 
şass
 
HŞd”
 
ex‹nds
 
	gRecyş”V›w
.
	gV›wHŞd”
 {

170 
´iv©e
 
fš®
 
R–©iveLayout
 
	g_row
;

172 
´iv©e
 
HŞd”
(
V›w
 
row
) {

173 
su³r
(
row
);

174 
	g_row
 = (
R–©iveLayout
è
row
;

177 
´iv©e
 
bšdMod–
(
fš®
 
TextAùiÚs
.
AùiÚI‹m
 
aùiÚ
, fš® 
SŒšg
 
key
, fš® 
S‘
<SŒšg> 
di§bËd
) {

178 
fš®
 
Sw™ch
 
	g’abËd
 = 
_row
.
fšdV›wById
(
R
.
id
.
’abËd_sw™ch
);

179 
	g’abËd
.
£tOnCheckedChªgeLi¡’”
(
nuÎ
);

181 
	g’abËd
.
£tChecked
(!
di§bËd
.
cÚšs
(
key
));

182 
	g’abËd
.
£tOnCheckedChªgeLi¡’”
((
bu‰Ú
, 
isChecked
) -> {

183 ià(
isChecked
) {

184 
di§bËd
.
»move
(
key
);

186 
di§bËd
.
add
(
key
);

190 ((
	gImageV›w
è
	g_row
.
fšdV›wById
(
R
.
id
.
¡¬t_icÚ
)).
£tImageResourû
(
aùiÚ
.
icÚId
);

191 ((
	gTextV›w
è
	g_row
.
fšdV›wById
(
R
.
id
.
aùiÚ_‹xt
)).
£tText
(
aùiÚ
.
¡ršgId
);

194 
public
 
£tHighlight
() {

195 
	g_row
.
£tAÍha
(0.5f);

198 
public
 
un£tHighlight
() {

199 
	g_row
.
£tAÍha
(1.0f);

203 
´iv©e
 
şass
 
Ord”Ad­‹r
 
ex‹nds
 
	gRecyş”V›w
.
	gAd­‹r
<
	gHŞd”
> {

204 
´iv©e
 
fš®
 
	gLi¡
<
	gTextAùiÚs
.
	gAùiÚI‹m
> 
	g_aùiÚs
;

205 
´iv©e
 
fš®
 
	gLi¡
<
	gSŒšg
> 
	g_keys
;

206 
´iv©e
 
fš®
 
	gS‘
<
	gSŒšg
> 
	g_di§bËd
;

207 
´iv©e
 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	gÜd”
;

209 
´iv©e
 
Ord”Ad­‹r
(
Li¡
<
TextAùiÚs
.
AùiÚI‹m
> 
aùiÚs
, Li¡<
SŒšg
> 
keys
, Li¡<SŒšg> 
di§bËd
) {

210 
su³r
();

211 
	g_aùiÚs
 = 
aùiÚs
;

212 
	g_keys
 = 
keys
;

213 
	g_di§bËd
 = 
Ãw
 
HashS‘
<>(
di§bËd
);

215 
	gÜd”
 = 
Ãw
 
A¼ayLi¡
<>();

216 
	gi
 = 0; i < 
	g_aùiÚs
.
size
(); i++) {

217 
	gÜd”
.
add
(
i
);

221 @
	gNÚNuÎ


222 @
Ov”ride


223 
public
 
HŞd”
 
ÚC»©eV›wHŞd”
(@
NÚNuÎ
 
V›wGroup
 
·»Á
, 
v›wTy³
) {

224  
Ãw
 
HŞd”
(
g‘LayoutInæ©”
().
šæ©e
(
R
.
Ïyout
.
aùiÚ_Üd”_™em
, 
·»Á
, 
çl£
));

227 @
Ov”ride


228 
public
 
ÚBšdV›wHŞd”
(
HŞd”
 
hŞd”
, 
pos™iÚ
) {

229 
fš®
 
	gšdex
 = 
Üd”
.
g‘
(
pos™iÚ
);

230 
	ghŞd”
.
bšdMod–
(
_aùiÚs
.
g‘
(
šdex
), 
_keys
.g‘(šdex), 
_di§bËd
);

233 @
Ov”ride


234 
public
 
g‘I‹mCouÁ
() {

235  
	g_aùiÚs
.
size
();

239 
´iv©e
 
şass
 
ReÜd”C®lback
 
ex‹nds
 
	gI‹mTouchH–³r
.
	gSim¶eC®lback
 {

240 
´iv©e
 
fš®
 
Ord”Ad­‹r
 
	g_ad­‹r
;

242 
´iv©e
 
ReÜd”C®lback
(
Ord”Ad­‹r
 
ad­‹r
) {

243 
su³r
(
I‹mTouchH–³r
.
UP
 | I‹mTouchH–³r.
DOWN
, 0);

244 
	g_ad­‹r
 = 
ad­‹r
;

247 @
Ov”ride


248 
public
 
boŞ—n
 
ÚMove
(@
NÚNuÎ
 
Recyş”V›w
 
»cyş”V›w
, Recyş”V›w.
V›wHŞd”
 
v›wHŞd”
, Recyş”V›w.V›wHŞd” 
rg‘
) {

249 
fš®
 
	gäom
 = 
v›wHŞd”
.
g‘Ad­‹rPos™iÚ
();

250 
fš®
 
	gto
 = 
rg‘
.
g‘Ad­‹rPos™iÚ
();

252 
fš®
 
	gv®ue
 = 
_ad­‹r
.
Üd”
.
g‘
(
äom
);

253 
	g_ad­‹r
.
	gÜd”
.
»move
(
äom
);

254 
	g_ad­‹r
.
	gÜd”
.
add
(
to
, 
v®ue
);

255 
	g_ad­‹r
.
nÙifyI‹mMoved
(
äom
, 
to
);

257  
	gŒue
;

260 @
Ov”ride


261 
public
 
ÚSwed
(@
NÚNuÎ
 
Recyş”V›w
.
V›wHŞd”
 
v›wHŞd”
, 
dœeùiÚ
) {

265 @
Ov”ride


266 
public
 
ÚS–eùedChªged
(
Recyş”V›w
.
V›wHŞd”
 
hŞd”
, 
aùiÚS‹
) {

267 ià(
	gaùiÚS‹
 =ğ
ACTION_STATE_DRAG
) {

268 ((
HŞd”
è
hŞd”
).
£tHighlight
();

272 @
Ov”ride


273 
public
 
ş—rV›w
(@
NÚNuÎ
 
Recyş”V›w
 
»cyş”V›w
, @NÚNuÎ Recyş”V›w.
V›wHŞd”
 
hŞd”
) {

274 
	gsu³r
.
ş—rV›w
(
»cyş”V›w
, 
hŞd”
);

275 ((
	gHŞd”
è
	ghŞd”
).
un£tHighlight
();

	@app/src/main/java/net/gsantner/markor/activity/AppActivityBase.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

5 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

6 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
.
	gGsAùiv™yBa£
;

8 
public
 
ab¡¿ù
 
şass
 
AµAùiv™yBa£
 
ex‹nds
 
	gGsAùiv™yBa£
<
	gAµS‘tšgs
> {

10 @
Ov”ride


11 
public
 
IÁeg”
 
g‘NewNavig©iÚB¬CŞÜ
() {

12  
	g_aùiv™yUts
.
·r£CŞÜ
(
_­pS‘tšgs
.
g‘Navig©iÚB¬CŞÜ
());

15 @
Ov”ride


16 
public
 
AµS‘tšgs
 
ü—‹AµS‘tšgsIn¡ªû
(
CÚ‹xt
 
­¶iÿtiÚCÚ‹xt
) {

17  
Ãw
 
AµS‘tšgs
(
­¶iÿtiÚCÚ‹xt
);

	@app/src/main/java/net/gsantner/markor/activity/DocumentActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™yMªag”
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

16 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

17 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gReù
;

18 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gReùF
;

19 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

20 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

21 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

22 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

23 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

24 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tMªag”
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAùiÚB¬
;

26 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

27 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

28 
impÜt
 
	gªdroid
.
	g‹xt
.
	gHtml
;

29 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

30 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

31 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

32 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gF¿meLayout
;

33 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAùiv™yUts
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

39 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

40 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gP”missiÚCheck”
;

41 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
.
	gGsF¿gm’tBa£
;

42 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

43 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSh¬eUt
;

44 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

46 
impÜt
 
	gjava
.
	gio
.
	gFe
;

48 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

49 
impÜt
 
	gbu‰”kniã
.
	gBu‰”Kniã
;

50 
impÜt
 
	gÙh”
.
	gso
.
	gAndroidBug5497WÜk¬ound
;

52 
public
 cÏs 
	cDocum’tAùiv™y
 
ex‹nds
 
	mAµAùiv™yBa£
 {

53 
public
 
fš®
 
SŒšg
 
	mEXTRA_DO_PREVIEW
 = "EXTRA_DO_PREVIEW";

55 @
	$BšdV›w
(
R
.
id
.
docum’t__¶aûhŞd”_äagm’t
)

56 
F¿meLayout
 
_äagPÏûhŞd”
;

57 @
	$BšdV›w
(
R
.
id
.
toŞb¬
)

58 
ToŞb¬
 
_toŞb¬
;

59 @
	$BšdV›w
(
R
.
id
.
nÙe__aùiv™y__‹xt_nÙe_t™Ë
)

60 
TextV›w
 
_toŞb¬T™ËText
;

62 
´iv©e
 
F¿gm’tMªag”
 
_äagMªag”
;

63 
´iv©e
 
Docum’t
 
_docum’t
;

65 
´iv©e
 
AµS‘tšgs
 
_­pS‘tšgs
;

66 
´iv©e
 
Aùiv™yUts
 
_cÚ‹xtUts
;

68 
´iv©e
 
boŞ—n
 
ÃxtLaunchT¿n¥¬’tBg
 = 
çl£
;

71 
public
 
	$Ïunch
(
Aùiv™y
 
aùiv™y
, 
Fe
 
·th
, 
BoŞ—n
 
isFŞd”
, BoŞ—À
doP»v›w
, 
IÁ’t
 
š‹Á
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

72 ià(
š‹Á
 =ğ
nuÎ
) {

73 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
aùiv™y
, 
Docum’tAùiv™y
.
şass
);

75 ià(
·th
 !ğ
nuÎ
) {

76 
š‹Á
.
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
·th
);

78 ià(
lšeNumb”
 !ğ
nuÎ
 &&†ineNumber >= 0) {

79 
š‹Á
.
	`putExŒa
(
Docum’tIO
.
EXTRA_FILE_LINE_NUMBER
, 
lšeNumb”
);

81 ià(
isFŞd”
 !ğ
nuÎ
) {

82 
š‹Á
.
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
isFŞd”
);

84 ià(
doP»v›w
 !ğ
nuÎ
) {

85 
š‹Á
.
	`putExŒa
(
Docum’tAùiv™y
.
EXTRA_DO_PREVIEW
, 
doP»v›w
);

87 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
 && 
Ãw
 
	`AµS‘tšgs
(
aùiv™y
).
	`isMuÉiWšdowEÇbËd
()) {

88 
š‹Á
.
	`addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_NEW_DOCUMENT
 | IÁ’t.
FLAG_ACTIVITY_MULTIPLE_TASK
);

90 
š‹Á
.
	`addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_SINGLE_TOP
);

92 
ÃxtLaunchT¿n¥¬’tBg
 = (
aùiv™y
 
š¡ªûof
 
MašAùiv™y
);

93 
aùiv™y
.
	`¡¬tAùiv™y
(
š‹Á
);

96 
public
 
Objeù
[] 
	$checkIfLik–yTextfeAndG‘Ext
(
Fe
 
fe
) {

97 
SŒšg
 
â
 = 
fe
.
	`g‘Name
().
	`toLow”Ca£
();

98 ià(!
â
.
	`cÚšs
(".")) {

99  
Ãw
 
Objeù
[]{
Œue
, ""};

101 
SŒšg
 
ext
 = 
â
.
	`sub¡ršg
(â.
	`Ï¡IndexOf
("."));

102 
SŒšg
 
û
 : 
Ãw
 String[]{".py", ".cpp", ".h", ".js", ".html", ".css", ".java", ".qml", ".go", ".sh", ".rb", ".tex", ".json", ".xml", ".ini", ".yaml", ".yml", ".csv", ".xlf"}) {

103 ià(
ext
.
	`equ®s
(
û
)) {

104  
Ãw
 
Objeù
[]{
Œue
, 
ext
};

107  
Ãw
 
Objeù
[]{
çl£
, 
ext
};

108 
	}
}

110 
public
 
	$askU£rIfWªtsToO³nFeInThisAµ
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
Fe
 
fe
) {

111 
Objeù
[] 
ä‘
 = 
	`checkIfLik–yTextfeAndG‘Ext
(
fe
);

112 
boŞ—n
 
isLik–yTextfe
 = (boŞ—nè
ä‘
[0];

113 
SŒšg
 
ext
 = (SŒšgè
ä‘
[1];

114 
boŞ—n
 
isYes
 = 
Ãw
 
	`AµS‘tšgs
(
aùiv™y
.
	`g‘AµliÿtiÚCÚ‹xt
()).
	`isExtO³nW™hThisAµ
(
ext
);

116 
C®lback
.
a1
<
BoŞ—n
> 
İ’Fe
 = (
İ’InThisAµ
) -> {

117 ià(
İ’InThisAµ
) {

118 
Docum’tAùiv™y
.
	`Ïunch
(
aùiv™y
, 
fe
, 
çl£
, 
nuÎ
,‚ull,‚ull);

120 
Ãw
 
Ãt
.
g§ÁÃr
.
m¬kÜ
.
ut
.
	`Sh¬eUt
(
aùiv™y
).
	`v›wFeInOth”Aµ
(
fe
, 
nuÎ
);

124 ià(
isYes
) {

125 
İ’Fe
.
	`ÿÎback
(
Œue
);

126 } ià(
isLik–yTextfe
) {

127 
AË¹DŸlog
.
Bud”
 
dŸlog
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
aùiv™y
,‚ew 
	`AµS‘tšgs
×ùiv™y.
	`g‘AµliÿtiÚCÚ‹xt
()).
	`isD¬kThemeEÇbËd
(è? 
R
.
¡yË
.
Theme_AµCom·t_DŸlog
 : R.¡yË.
Theme_AµCom·t_Light_DŸlog
);

128 
dŸlog
.
	`£tT™Ë
(
R
.
¡ršg
.
İ’_w™h
)

129 .
	`£tMes§ge
(
R
.
¡ršg
.
£Ëùed_fe_may_be_a_‹xtfe_wªt_to_İ’_š_ed™Ü
)

130 .
	`£tIcÚ
(
R
.
d¿wabË
.
ic_İ’_š_brow£r_bÏck_24dp
)

131 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
­p_Çme
, (
dŸlog1
, 
which
è-> 
İ’Fe
.
	`ÿÎback
(
Œue
))

132 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
Ùh”
, (
dŸlog1
, 
which
è-> 
İ’Fe
.
	`ÿÎback
(
çl£
));

133 
dŸlog
.
	`ü—‹
().
	`show
();

135 
İ’Fe
.
	`ÿÎback
(
çl£
);

137 
	}
}

139 @
Ov”ride


140 
´Ùeùed
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

141 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

142 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
) {

143 
	`g‘Wšdow
().
	`£tEÁ”T¿ns™iÚ
(
nuÎ
);

145 
AµS‘tšgs
.
	`ş—rDebugLog
();

146 
_­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
this
);

147 
_cÚ‹xtUts
 = 
Ãw
 
	`Aùiv™yUts
(
this
);

148 
_cÚ‹xtUts
.
	`£tAµLªguage
(
_­pS‘tšgs
.
	`g‘Lªguage
());

149 ià(
_­pS‘tšgs
.
	`isEd™ÜStusB¬Hidd’
()) {

150 
	`g‘Wšdow
().
	`£tFÏgs
(
WšdowMªag”
.
LayoutP¬ams
.
FLAG_FULLSCREEN
, WindowManager.LayoutParams.FLAG_FULLSCREEN);

152 
	`£tTheme
(
_­pS‘tšgs
.
	`isD¬kThemeEÇbËd
(è? 
R
.
¡yË
.
AµTheme_D¬k
 : R.¡yË.
AµTheme_Light
);

153 ià(
ÃxtLaunchT¿n¥¬’tBg
) {

154 
	`g‘Wšdow
().
	`g‘DecÜV›w
().
	`£tBackgroundCŞÜ
(
CŞÜ
.
TRANSPARENT
);

155 
ÃxtLaunchT¿n¥¬’tBg
 = 
çl£
;

157 
	`£tCÚ‹ÁV›w
(
R
.
Ïyout
.
docum’t__aùiv™y
);

158 
_cÚ‹xtUts
.
	`£tAµLªguage
(
_­pS‘tšgs
.
	`g‘Lªguage
());

159 
Bu‰”Kniã
.
	`bšd
(
this
);

160 ià(
_­pS‘tšgs
.
	`isEd™ÜStusB¬Hidd’
()) {

161 
AndroidBug5497WÜk¬ound
.
	`assi¡Aùiv™y
(
this
);

164 
	`£tSuµÜtAùiÚB¬
(
_toŞb¬
);

165 
AùiÚB¬
 
ab
 = 
	`g‘SuµÜtAùiÚB¬
();

166 ià(
ab
 !ğ
nuÎ
) {

167 
ab
.
	`£tDi¥ÏyHomeAsUpEÇbËd
(
Œue
);

168 
ab
.
	`£tDi¥ÏyShowT™ËEÇbËd
(
çl£
);

170 
_toŞb¬
.
	`£tOnClickLi¡’”
(
this
::
ÚToŞb¬T™ËClicked
);

172 
_äagMªag”
 = 
	`g‘SuµÜtF¿gm’tMªag”
();

174 
	`hªdËLaunchšgIÁ’t
(
	`g‘IÁ’t
());

175 
	}
}

177 @
Ov”ride


178 
´Ùeùed
 
	$ÚNewIÁ’t
(
IÁ’t
 
š‹Á
) {

179 
su³r
.
	`ÚNewIÁ’t
(
š‹Á
);

180 
	`hªdËLaunchšgIÁ’t
(
š‹Á
);

181 
	}
}

183 
´iv©e
 
	$hªdËLaunchšgIÁ’t
(
IÁ’t
 
š‹Á
) {

184 ià(
š‹Á
 =ğ
nuÎ
) ;

186 
SŒšg
 
š‹ÁAùiÚ
 = 
š‹Á
.
	`g‘AùiÚ
();

187 
Uri
 
š‹ÁD©a
 = 
š‹Á
.
	`g‘D©a
();

189 
Fe
 
fe
 = (Feè
š‹Á
.
	`g‘S”ŸlizabËExŒa
(
Docum’tIO
.
EXTRA_PATH
);

190 
boŞ—n
 
feIsFŞd”
 = 
š‹Á
.
	`g‘BoŞ—nExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
çl£
);

192 
boŞ—n
 
š‹ÁIsV›w
 = 
IÁ’t
.
ACTION_VIEW
.
	`equ®s
(
š‹ÁAùiÚ
);

193 
boŞ—n
 
š‹ÁIsS’d
 = 
IÁ’t
.
ACTION_SEND
.
	`equ®s
(
š‹ÁAùiÚ
);

194 
boŞ—n
 
š‹ÁIsEd™
 = 
IÁ’t
.
ACTION_EDIT
.
	`equ®s
(
š‹ÁAùiÚ
);

196 ià(
š‹ÁIsS’d
 && 
š‹Á
.
	`hasExŒa
(
IÁ’t
.
EXTRA_TEXT
)) {

197 
	`showSh¬eIÁo
(
š‹Á
);

198 } ià(
fe
 =ğ
nuÎ
 && (
š‹ÁIsV›w
 || 
š‹ÁIsEd™
)) {

200 
fe
 = 
Ãw
 
	`Sh¬eUt
(
	`g‘AµliÿtiÚCÚ‹xt
()).
	`exŒaùFeFromIÁ’t
(
š‹Á
);

201 ià(
fe
 =ğ
nuÎ
 && 
š‹ÁD©a
 !ğnuÎ && iÁ’tD©a.
	`toSŒšg
().
	`¡¬tsW™h
("content://")) {

202 
	`showNÙSuµÜ‹dMes§ge
();

206 ià(!
š‹ÁIsS’d
 && 
fe
 !ğ
nuÎ
) {

207 
fš®
 
·¿mLšeNumb”
 = 
š‹Á
.
	`g‘IÁExŒa
(
Docum’tIO
.
EXTRA_FILE_LINE_NUMBER
, (
š‹ÁD©a
 !ğ
nuÎ
 ? 
SŒšgUts
.
	`ŒyP¬£IÁ
(š‹ÁD©a.
	`g‘Qu”yP¬am‘”
("line"), -1) : -1));

208 
fš®
 
boŞ—n
 
·¿mP»v›w
 = (
·¿mLšeNumb”
 < 0è&& (
š‹Á
.
	`g‘BoŞ—nExŒa
(
EXTRA_DO_PREVIEW
, 
çl£
)

209 || (
fe
.
	`exi¡s
(è&& fe.
	`isFe
(è&& 
_­pS‘tšgs
.
	`g‘Docum’tP»v›wS‹
(fe.
	`g‘P©h
()))

210 || 
fe
.
	`g‘Name
().
	`¡¬tsW™h
("index."));

211 
	`showTextEd™Ü
(
nuÎ
, 
fe
, 
feIsFŞd”
, 
·¿mP»v›w
, 
·¿mLšeNumb”
);

213 
	}
}

215 
´iv©e
 
	$showNÙSuµÜ‹dMes§ge
() {

217 
fš®
 
SŒšg
 
nÙSuµÜ‹dMes§ge
 = (

218 
	`g‘SŒšg
(
R
.
¡ršg
.
femªag”_dÛ¢Ù_suµly_»quœed_d©a__­p¥ecific
) + "\n\n"

219 + 
	`g‘SŒšg
(
R
.
¡ršg
.
sync_to_loÿl_fŞd”_nÙiû
) + "\n\n"

220 + 
	`g‘SŒšg
(
R
.
¡ršg
.
sync_to_loÿl_fŞd”_nÙiû_·ths
,

221 
	`g‘SŒšg
(
R
.
¡ršg
.
cÚfigu»_š_the_­ps_£‰šgs
))

222 ).
	`»¶aû
("\n", "<br/>");

224 
DŸlogIÁ”çû
.
OnClickLi¡’”
 
li¡’”
 = (
dŸlogIÁ”çû
, 
i
) -> {

225 
_cÚ‹xtUts
.
	`İ’Web·geInEx‹º®Brow£r
(
	`g‘SŒšg
(
R
.
¡ršg
.
sync_ş›Á_suµÜt_issue_u¾
));

228 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
this
)

229 .
	`£tMes§ge
(
Html
.
	`äomHtml
(
nÙSuµÜ‹dMes§ge
))

230 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
mÜe_šfo
, 
li¡’”
)

231 .
	`£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, 
nuÎ
)

232 .
	`£tOnDismissLi¡’”
((
dŸlogIÁ”çû
è-> 
	`fšish
())

233 .
	`ü—‹
().
	`show
();

234 
	}
}

236 
´iv©e
 
fš®
 
ReùF
 
	gpošt
 = 
Ãw
 RectF(0, 0, 0, 0);

237 
´iv©e
 
fš®
 
	gSWIPE_MIN_DX
 = 150;

238 
´iv©e
 
fš®
 
	gSWIPE_MAX_DY
 = 90;

240 @
Ov”ride


241 
public
 
boŞ—n
 
	$di¥©chTouchEv’t
(
MÙiÚEv’t
 
ev’t
) {

242 ià(
_­pS‘tšgs
.
	`isSweToChªgeMode
(è&& _­pS‘tšgs.
	`isEd™ÜLšeB»akšgEÇbËd
(è&& 
	`g‘Cu¼’tVisibËF¿gm’t
(è
š¡ªûof
 
Docum’tEd™F¿gm’t
) {

243 
Œy
 {

244 
Reù
 
aùiv™yVisibËSize
 = 
Ãw
 
	`Reù
();

245 
	`g‘Wšdow
().
	`g‘DecÜV›w
().
	`g‘WšdowVisibËDi¥ÏyF¿me
(
aùiv™yVisibËSize
);

247 ià(
ev’t
.
	`g‘AùiÚ
(è=ğ
MÙiÚEv’t
.
ACTION_DOWN
 &&ƒv’t.
	`g‘Y
(è> (
_toŞb¬
.
	`g‘BÙtom
(è+ 
_cÚ‹xtUts
.
	`cÚv”tDpToPx
(8)è&ƒv’t.g‘Y(è< (
aùiv™yVisibËSize
.
bÙtom
 - _contextUtils.convertDpToPx(52))) {

248 
pošt
.
	`£t
(
ev’t
.
	`g‘X
(),ƒv’t.
	`g‘Y
(), 0, 0);

249 } ià(
ev’t
.
	`g‘AùiÚ
(è=ğ
MÙiÚEv’t
.
ACTION_UP
) {

250 
pošt
.
	`£t
Õošt.
Ëá
,…ošt.
tİ
, 
ev’t
.
	`g‘X
(),ƒv’t.
	`g‘Y
());

251 ià(
M©h
.
	`abs
(
pošt
.
	`width
()è> 
SWIPE_MIN_DX
 && M©h.absÕošt.
	`height
()è< 
SWIPE_MAX_DY
) {

252 
	`g‘Cu¼’tVisibËF¿gm’t
().
	`g‘F¿gm’tM’u
().
	`³rfÜmId’tif›rAùiÚ
(
R
.
id
.
aùiÚ_´ev›w_ed™_toggË
, 0);

255 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

259 
Œy
 {

260  
su³r
.
	`di¥©chTouchEv’t
(
ev’t
);

261 } 
	`ÿtch
 (
IndexOutOfBoundsExû±iÚ
 
ignÜed
) {

262  
çl£
;

264 
	}
}

266 @
Ov”ride


267 
´Ùeùed
 
	$ÚAùiv™yResuÉ
(
»que¡Code
, 
»suÉCode
, 
IÁ’t
 
d©a
) {

268 
Sh¬eUt
 
shu
 = 
Ãw
 
	`Sh¬eUt
(
this
);

269 
shu
.
	`exŒaùResuÉFromAùiv™yResuÉ
(
»que¡Code
, 
»suÉCode
, 
d©a
);

270 
	}
}

272 
public
 
	$£tDocum’tT™Ë
(
fš®
 
SŒšg
 
t™Ë
) {

273 
_toŞb¬T™ËText
.
	`£tText
(
t™Ë
);

274 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
 && 
_­pS‘tšgs
.
	`isMuÉiWšdowEÇbËd
()) {

275 
	`£tTaskDesütiÚ
(
Ãw
 
Aùiv™yMªag”
.
	`TaskDesütiÚ
(
t™Ë
));

277 
	}
}

279 
public
 
showTextEd™Ü
(@
NuÎabË
 
Docum’t
 
docum’t
, @NuÎabË 
Fe
 
fe
, 
boŞ—n
 
feIsFŞd”
, boŞ—À
´ev›w
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

280 
GsF¿gm’tBa£
 
	gcu¼’tF¿gm’t
 = 
g‘Cu¼’tVisibËF¿gm’t
();

281 
Fe
 
	g»qFe
 = (
docum’t
 !ğ
nuÎ
è? docum’t.
g‘Fe
(è: 
fe
;

282 
fš®
 
	gfeLšeNumb”
 = 
lšeNumb”
 !ğ
nuÎ
 &&†ineNumber >= 0 ?†ineNumber : -1;

284 
boŞ—n
 
	g§meDocum’tReque¡ed
 = 
çl£
;

285 ià(
cu¼’tF¿gm’t
 
š¡ªûof
 
	gDocum’tEd™F¿gm’t
) {

286 
SŒšg
 
	g»qP©h
 = (
»qFe
 !ğ
nuÎ
è?„eqFe.
g‘P©h
() : "";

287 
	g§meDocum’tReque¡ed
 = 
»qP©h
.
equ®s
(((
Docum’tEd™F¿gm’t
è
cu¼’tF¿gm’t
).
g‘P©h
());

290 ià(!
	g§meDocum’tReque¡ed
) {

291 ià(
	gdocum’t
 !ğ
nuÎ
) {

292 
showF¿gm’t
(
Docum’tEd™F¿gm’t
.
ÃwIn¡ªû
(
docum’t
).
£tP»v›wFÏg
(
´ev›w
));

294 
showF¿gm’t
(
Docum’tEd™F¿gm’t
.
ÃwIn¡ªû
(
fe
, 
feIsFŞd”
, 
feLšeNumb”
).
£tP»v›wFÏg
(
´ev›w
));

299 
public
 
	$showSh¬eIÁo
(
IÁ’t
 
š‹Á
) {

301 
_toŞb¬T™ËText
.
	`£tText
(
R
.
¡ršg
.
sh¬e_što
);

302 
	`showF¿gm’t
(
Docum’tSh¬eIÁoF¿gm’t
.
	`ÃwIn¡ªû
(
š‹Á
));

303 
	}
}

305 
public
 
ÚReque¡P”missiÚsResuÉ
(
»que¡Code
, @
NÚNuÎ
 
SŒšg
[] 
³rmissiÚs
, @NÚNuÎ [] 
g¿ÁResuÉs
) {

306 
	gsu³r
.
ÚReque¡P”missiÚsResuÉ
(
»que¡Code
, 
³rmissiÚs
, 
g¿ÁResuÉs
);

307 
Ãw
 
P”missiÚCheck”
(
this
).
checkP”missiÚResuÉ
(
»que¡Code
, 
³rmissiÚs
, 
g¿ÁResuÉs
);

310 @
Ov”ride


311 
´Ùeùed
 
	$ÚResume
() {

312 
su³r
.
	`ÚResume
();

313 ià(
_­pS‘tšgs
.
	`isK“pSü“nOn
()) {

314 
	`g‘Wšdow
().
	`addFÏgs
(
WšdowMªag”
.
LayoutP¬ams
.
FLAG_KEEP_SCREEN_ON
);

316 
	`g‘Wšdow
().
	`ş—rFÏgs
(
WšdowMªag”
.
LayoutP¬ams
.
FLAG_KEEP_SCREEN_ON
);

318 
	}
}

320 @
	gOv”ride


321 @
Suµ»ssW¬nšgs
("StatementWithEmptyBody")

322 
public
 
	$ÚBackP»s£d
() {

323 
F¿gm’tMªag”
 
äagMgr
 = 
	`g‘SuµÜtF¿gm’tMªag”
();

324 
GsF¿gm’tBa£
 
tİ
 = 
	`g‘Cu¼’tVisibËF¿gm’t
();

325 ià(
tİ
 !ğ
nuÎ
) {

326 ià(!
tİ
.
	`ÚBackP»s£d
()) {

327 ià(
äagMgr
.
	`g‘BackSckEÁryCouÁ
() == 1) {

329 } ià(
äagMgr
.
	`g‘BackSckEÁryCouÁ
() > 0) {

331 
äagMgr
.
	`pİBackSck
();

341 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
) {

342 
	`fšishAndRemoveTask
();

344 
	`fšish
();

346 
	}
}

348 
public
 
GsF¿gm’tBa£
 
	$showF¿gm’t
(
GsF¿gm’tBa£
 
äagm’t
) {

350 ià(
äagm’t
 !ğ
	`g‘Cu¼’tVisibËF¿gm’t
()) {

352 
_äagMªag”
.
	`begšT¿n§ùiÚ
()

353 .
	`»¶aû
(
R
.
id
.
docum’t__¶aûhŞd”_äagm’t
, 
äagm’t
, f¿gm’t.
	`g‘F¿gm’tTag
())

354 .
	`comm™
();

356 
	`suµÜtInv®id©eO±iÚsM’u
();

358  
äagm’t
;

359 
	}
}

361 
public
 
synchrÚized
 
GsF¿gm’tBa£
 
	$g‘Exi¡šgF¿gm’t
(
fš®
 
SŒšg
 
äagm’tTag
) {

362 
F¿gm’tMªag”
 
fmgr
 = 
	`g‘SuµÜtF¿gm’tMªag”
();

363 
GsF¿gm’tBa£
 
äagm’t
 = (GsF¿gm’tBa£è
fmgr
.
	`fšdF¿gm’tByTag
(
äagm’tTag
);

364  
äagm’t
;

365 
	}
}

367 
´iv©e
 
GsF¿gm’tBa£
 
	$g‘Cu¼’tVisibËF¿gm’t
() {

368  (
GsF¿gm’tBa£
è
	`g‘SuµÜtF¿gm’tMªag”
().
	`fšdF¿gm’tById
(
R
.
id
.
docum’t__¶aûhŞd”_äagm’t
);

369 
	}
}

371 
public
 
	$£tDocum’t
(
Docum’t
 
docum’t
) {

372 
_docum’t
 = 
docum’t
;

373 
_toŞb¬T™ËText
.
	`£tText
(
_docum’t
.
	`g‘T™Ë
());

374 
	}
}

376 
´iv©e
 
boŞ—n
 
	$§veDocum’t
() {

377 
boŞ—n
 
»t
 = 
çl£
;

378 ià(
	`g‘Exi¡šgF¿gm’t
(
Docum’tEd™F¿gm’t
.
FRAGMENT_TAG
è!ğ
nuÎ
) {

379 
Docum’tEd™F¿gm’t
 
def
 = ((Docum’tEd™F¿gm’tè
	`g‘Exi¡šgF¿gm’t
(Docum’tEd™F¿gm’t.
FRAGMENT_TAG
));

380 
»t
 = 
def
.
	`§veDocum’t
();

381 
	`£tDocum’t
(
def
.
	`g‘Docum’t
());

383  
»t
;

384 
	}
}

386 
´iv©e
 
	$ÚToŞb¬T™ËClicked
(
V›w
 
v
) {

387 ià(
	`g‘Exi¡šgF¿gm’t
(
Docum’tEd™F¿gm’t
.
FRAGMENT_TAG
è!ğ
nuÎ
) {

388 
Docum’tEd™F¿gm’t
 
def
 = ((Docum’tEd™F¿gm’tè
	`g‘Exi¡šgF¿gm’t
(Docum’tEd™F¿gm’t.
FRAGMENT_TAG
));

389 
def
.
	`ÚToŞb¬T™ËClicked
(
_toŞb¬
);

391 
	}
}

	@app/src/main/java/net/gsantner/markor/activity/DocumentEditFragment.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

13 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

15 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Mªag”
;

16 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCompÚ’tName
;

17 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

18 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

19 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

20 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gD¿wabË
;

21 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

22 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

23 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

24 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAµCom·tAùiv™y
;

26 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

27 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

28 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

29 
impÜt
 
	gªdroid
.
	gv›w
.
	gG¿v™y
;

30 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

31 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uInæ©”
;

32 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

33 
impÜt
 
	gªdroid
.
	gv›w
.
	gSubM’u
;

34 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

35 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

36 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebS‘tšgs
;

37 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

38 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gHÜizÚlSüŞlV›w
;

39 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gS—rchV›w
;

40 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

41 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

43 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gAµ
;

44 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gBudCÚfig
;

45 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

46 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextCÚv”‹r
;

47 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

48 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gCommÚTextAùiÚs
;

49 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gD©‘imeFÜm©DŸlog
;

50 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

51 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gA‰achImageOrLškDŸlog
;

52 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gD¿ggabËSüŞlb¬SüŞlV›w
;

53 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFeInfoDŸlog
;

54 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

55 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

56 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

57 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

58 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

59 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

60 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gM¬kÜWebV›wCl›Á
;

61 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

62 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
.
	gGsF¿gm’tBa£
;

63 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gFÚtP»ã»nûCom·t
;

64 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

65 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
;

66 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCoŞEx³rim’lStuff
;

67 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gTextV›wUndoRedo
;

69 
impÜt
 
	gjava
.
	gio
.
	gFe
;

70 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

72 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

73 
impÜt
 
	gbu‰”kniã
.
	gOnTextChªged
;

74 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gwidg‘
.
	gWrM¬kÜWidg‘Provid”
;

76 @
Suµ»ssW¬nšgs
({"UnusedReturnValue", "RedundantCast"})

77 @
Suµ»ssLšt
("NonConstantResourceId")

78 
public
 
şass
 
Docum’tEd™F¿gm’t
 
ex‹nds
 
GsF¿gm’tBa£
 
im¶em’ts
 
	gTextFÜm©
.
	gTextFÜm©Aµl›r
 {

79 
public
 
fš®
 
	gHISTORY_DELTA
 = 5000;

80 
public
 
fš®
 
SŒšg
 
	gFRAGMENT_TAG
 = "DocumentEditFragment";

81 
´iv©e
 
fš®
 
SŒšg
 
	gSAVESTATE_DOCUMENT
 = "DOCUMENT";

82 
´iv©e
 
fš®
 
SŒšg
 
	gSAVESTATE_CURSOR_POS
 = "CURSOR_POS";

83 
´iv©e
 
fš®
 
SŒšg
 
	gSAVESTATE_PREVIEW_ON
 = "SAVESTATE_PREVIEW_ON";

85 
´iv©e
 
AµS‘tšgs
 
	g_­pS‘tšgs
;

86 
´iv©e
 
HÜizÚlSüŞlV›w
 
	ghsV›w
;

93 
´iv©e
 
boŞ—n
 
	gw¿pTextS‘tšg
;

94 
´iv©e
 
boŞ—n
 
	gw¿pText
;

95 
´iv©e
 
boŞ—n
 
	ghighlightText
;

97 
public
 
Docum’tEd™F¿gm’t
 
ÃwIn¡ªû
(
Docum’t
 
docum’t
) {

98 
Docum’tEd™F¿gm’t
 
	gf
 = 
Ãw
 DocumentEditFragment();

99 
BundË
 
	g¬gs
 = 
Ãw
 Bundle();

100 
	g¬gs
.
putS”ŸlizabË
(
Docum’tIO
.
EXTRA_DOCUMENT
, 
docum’t
);

101 
	gf
.
£tArgum’ts
(
¬gs
);

102  
	gf
;

105 
public
 
Docum’tEd™F¿gm’t
 
ÃwIn¡ªû
(
Fe
 
·th
, 
boŞ—n
 
·thIsFŞd”
, 
fš®
 
lšeNumb”
) {

106 
Docum’tEd™F¿gm’t
 
	gf
 = 
Ãw
 DocumentEditFragment();

107 
BundË
 
	g¬gs
 = 
Ãw
 Bundle();

108 
	g¬gs
.
putS”ŸlizabË
(
Docum’tIO
.
EXTRA_PATH
, 
·th
);

109 
	g¬gs
.
putBoŞ—n
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
·thIsFŞd”
);

110 
	g¬gs
.
putIÁ
(
Docum’tIO
.
EXTRA_FILE_LINE_NUMBER
, 
lšeNumb”
);

111 
	gf
.
£tArgum’ts
(
¬gs
);

112  
	gf
;

116 @
BšdV›w
(
R
.
id
.
docum’t__äagm’t__ed™__highlightšg_ed™Ü
)

117 
HighlightšgEd™Ü
 
	g_hlEd™Ü
;

119 @
BšdV›w
(
R
.
id
.
docum’t__äagm’t__ed™__‹xt_aùiÚs_b¬
)

120 
V›wGroup
 
	g_‹xtAùiÚsB¬
;

122 @
BšdV›w
(
R
.
id
.
docum’t__äagm’t__ed™__cÚ‹Á_ed™Ü__³rmissiÚ_w¬nšg
)

123 
TextV›w
 
	g_‹xtSdW¬nšg
;

125 @
BšdV›w
(
R
.
id
.
docum’t__äagm’t_v›w_webv›w
)

126 
WebV›w
 
	g_webV›w
;

128 @
BšdV›w
(
R
.
id
.
docum’t__äagm’t__ed™__cÚ‹Á_ed™Ü__süŞlšg_·»Á
)

129 
D¿ggabËSüŞlb¬SüŞlV›w
 
	g_´im¬ySüŞlV›w
;

131 
´iv©e
 
S—rchV›w
 
	g_m’uS—rchV›wFÜV›wMode
;

132 
´iv©e
 
Docum’t
 
	g_docum’t
;

133 
´iv©e
 
TextFÜm©
 
	g_‹xtFÜm©
;

134 
´iv©e
 
Sh¬eUt
 
	g_sh¬eUt
;

135 
´iv©e
 
TextV›wUndoRedo
 
	g_ed™TextUndoRedoH–³r
;

136 
´iv©e
 
boŞ—n
 
	g_isP»v›wVisibË
;

137 
´iv©e
 
M¬kÜWebV›wCl›Á
 
	g_webV›wCl›Á
;

138 
´iv©e
 
boŞ—n
 
	g_ÃxtCÚv”tToPrštMode
 = 
çl£
;

139 
´iv©e
 
boŞ—n
 
	g_fœ¡FeLßd
 = 
Œue
;

141 
public
 
Docum’tEd™F¿gm’t
() {

142 
su³r
();

145 @
Ov”ride


146 
public
 
ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

147 
	gsu³r
.
ÚC»©e
(
§vedIn¡ªûS‹
);

148 
	g_­pS‘tšgs
 = 
Ãw
 
AµS‘tšgs
(
g‘CÚ‹xt
());

149 ià(
	g_­pS‘tšgs
.
g‘S‘WebV›wFuÎd¿wšg
(è&& 
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
LOLLIPOP
) {

150 
WebV›w
.
’abËSlowWhŞeDocum’tD¿w
();

154 @
Ov”ride


155 
´Ùeùed
 
g‘LayoutResId
() {

156  
	gR
.
	gÏyout
.
	gdocum’t__äagm’t__ed™
;

159 @
Suµ»ssLšt
({"SetJavaScriptEnabled", "WrongConstant"})

160 @
Ov”ride


161 
public
 
ÚV›wC»©ed
(@
NÚNuÎ
 
V›w
 
v›w
, 
BundË
 
§vedIn¡ªûS‹
) {

162 
	gsu³r
.
ÚV›wC»©ed
(
v›w
, 
§vedIn¡ªûS‹
);

164 
	g_sh¬eUt
 = 
Ãw
 
Sh¬eUt
(
v›w
.
g‘CÚ‹xt
());

166 
	g_webV›wCl›Á
 = 
Ãw
 
M¬kÜWebV›wCl›Á
(
g‘Aùiv™y
());

167 
	g_webV›w
.
£tBackgroundCŞÜ
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
v›w
.
g‘CÚ‹xt
(), 
_­pS‘tšgs
.
isD¬kThemeEÇbËd
(è? 
R
.
cŞÜ
.
d¬k__background
 : R.cŞÜ.
light__background
));

168 
	g_webV›w
.
£tWebV›wCl›Á
(
_webV›wCl›Á
);

169 
WebS‘tšgs
 
	gwebS‘tšgs
 = 
_webV›w
.
g‘S‘tšgs
();

170 
	gwebS‘tšgs
.
£tButInZoomCÚŒŞs
(
Œue
);

171 
	gwebS‘tšgs
.
£tDi¥ÏyZoomCÚŒŞs
(
çl£
);

172 
	gwebS‘tšgs
.
£tTextZoom
((è(
_­pS‘tšgs
.
g‘V›wFÚtSize
() / 15.7f * 100f));

173 
	gwebS‘tšgs
.
£tAµCacheEÇbËd
(
Œue
);

174 
	gwebS‘tšgs
.
£tD©aba£EÇbËd
(
Œue
);

175 
	gwebS‘tšgs
.
£tGeŞoÿtiÚEÇbËd
(
çl£
);

176 
	gwebS‘tšgs
.
£tJavaSütEÇbËd
(
Œue
);

177 
	gwebS‘tšgs
.
£tDomStÜageEÇbËd
(
Œue
);

179 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
KITKAT
 && 
BudCÚfig
.
IS_TEST_BUILD
) {

180 
WebV›w
.
£tWebCÚ‹ÁsDebuggšgEÇbËd
(
Œue
);

183 ià(
	g§vedIn¡ªûS‹
 !ğ
nuÎ
 && 
§vedIn¡ªûS‹
.
cÚšsKey
(
SAVESTATE_DOCUMENT
)) {

184 
_docum’t
 = (
Docum’t
è
§vedIn¡ªûS‹
.
g‘S”ŸlizabË
(
SAVESTATE_DOCUMENT
);

186 
	g_docum’t
 = 
lßdDocum’t
();

187 
lßdDocum’tIÁoUi
();

188 ià(
	g§vedIn¡ªûS‹
 !ğ
nuÎ
 && 
§vedIn¡ªûS‹
.
cÚšsKey
(
SAVESTATE_CURSOR_POS
)) {

189 
cursÜ
 = 
§vedIn¡ªûS‹
.
g‘IÁ
(
SAVESTATE_CURSOR_POS
);

190 ià(
	gcursÜ
 >ğ0 && 
cursÜ
 < 
_hlEd™Ü
.
Ëngth
()) {

191 
_hlEd™Ü
.
£tS–eùiÚ
(
cursÜ
);

194 
	g_ed™TextUndoRedoH–³r
 = 
Ãw
 
TextV›wUndoRedo
(
_hlEd™Ü
);

195 
Ãw
 
Aùiv™yUts
(
g‘Aùiv™y
()).
hideSoáKeybßrd
().
ä“CÚ‹xtRef
();

196 
	g_hlEd™Ü
.
ş—rFocus
();

197 
	g_hlEd™Ü
.
£tLšeS·cšg
(0, 
_­pS‘tšgs
.
g‘Ed™ÜLšeS·cšg
());

199 
£tupAµ—¿nûP»ã»nûs
(
v›w
);

201 ià(
	g§vedIn¡ªûS‹
 !ğ
nuÎ
 && 
§vedIn¡ªûS‹
.
cÚšsKey
(
SAVESTATE_PREVIEW_ON
)) {

202 
_isP»v›wVisibË
 = 
§vedIn¡ªûS‹
.
g‘BoŞ—n
(
SAVESTATE_PREVIEW_ON
, _isPreviewVisible);

204 ià(
	g_isP»v›wVisibË
) {

205 
£tDocum’tV›wVisib™y
(
Œue
);

208 
fš®
 
ToŞb¬
 
	gtoŞb¬
 = 
g‘ToŞb¬
();

209 ià(
	gtoŞb¬
 !ğ
nuÎ
) {

210 
toŞb¬
.
£tOnLÚgClickLi¡’”
(
_lÚgClickToTİOrBÙtom
);

214 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
O
) {

215 
_hlEd™Ü
.
£tImpÜÁFÜAcûssib™y
(
V›w
.
IMPORTANT_FOR_AUTOFILL_NO_EXCLUDE_DESCENDANTS
);

217 
»¡ÜeDocum’tPos™iÚs
();

220 @
Ov”ride


221 
public
 
ÚResume
() {

222 
	gsu³r
.
ÚResume
();

223 
checkR–ßdDisk
(
çl£
);

224 
	gcursÜ
 = 
_hlEd™Ü
.
g‘S–eùiÚS¹
();

225 
	gcursÜ
 = 
M©h
.
max
(0, 
cursÜ
);

226 
	gcursÜ
 = 
M©h
.
mš
(
_hlEd™Ü
.
Ëngth
(), 
cursÜ
);

227 
	g_hlEd™Ü
.
£tS–eùiÚ
(
cursÜ
);

229 
	g_hlEd™Ü
.
£tG¿v™y
(
_­pS‘tšgs
.
isEd™ÜS¹Ed™šgInC’‹r
(è? 
G¿v™y
.
CENTER
 : G¿v™y.
NO_GRAVITY
);

230 ià(
	g_docum’t
 !ğ
nuÎ
 && 
_docum’t
.
g‘Fe
() !=‚ull) {

231 ià(!
_docum’t
.
g‘Fe
().
g‘P¬’tFe
().
exi¡s
()) {

233 
_docum’t
.
g‘Fe
().
g‘P¬’tFe
().
mkdœs
();

235 
boŞ—n
 
	g³rmok
 = 
_sh¬eUt
.
ÿnWr™eFe
(
_docum’t
.
g‘Fe
(), 
çl£
);

236 ià(!
	g³rmok
 && !
	g_docum’t
.
g‘Fe
().
isDœeùÜy
(è&& 
	g_sh¬eUt
.
ÿnWr™eFe
(
_docum’t
.getFile(), _document.getFile().isDirectory())) {

237 
	g³rmok
 = 
Œue
;

239 ià(
	g_sh¬eUt
.
isUnd”StÜageAcûssFŞd”
(
_docum’t
.
g‘Fe
()è&& _sh¬eUt.
g‘StÜageAcûssF¿mewÜkT»eUri
(è=ğ
nuÎ
) {

240 
_sh¬eUt
.
showMouÁSdDŸlog
(
g‘Aùiv™y
());

243 
	g_‹xtSdW¬nšg
.
£tVisib™y
(
³rmok
 ? 
V›w
.
GONE
 : V›w.
VISIBLE
);

253 ià(
	g_docum’t
 !ğ
nuÎ
 && 
_docum’t
.
g‘Fe
(è!ğnuÎ && _docum’t.g‘Fe().
g‘AbsŞu‹P©h
().
cÚšs
("mÜdÜ/1-•ub-ex³rim’t.md"è&& 
g‘Aùiv™y
(è
š¡ªûof
 
Docum’tAùiv™y
) {

254 
_hlEd™Ü
.
£tText
(
CoŞEx³rim’lStuff
.
cÚv”tEpubToText
(
_docum’t
.
g‘Fe
(), 
g‘SŒšg
(
R
.
¡ršg
.
·ge
)));

258 
š™DocS‹
();

261 @
Ov”ride


262 
public
 
ÚC»©eO±iÚsM’u
(
M’u
 
m’u
, 
M’uInæ©”
 
šæ©”
) {

263 
	gsu³r
.
ÚC»©eO±iÚsM’u
(
m’u
, 
šæ©”
);

264 
	gšæ©”
.
šæ©e
(
R
.
m’u
.
docum’t__ed™__m’u
, menu);

265 
CÚ‹xtUts
 
	gcu
 = CÚ‹xtUts.
g‘
();

266 
	gcu
.
tštM’uI‹ms
(
m’u
, 
Œue
, 
CŞÜ
.
WHITE
);

267 
	gcu
.
£tSubM’uIcÚsVisibl™y
(
m’u
, 
Œue
);

269 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_undo
).
£tVisibË
(
_­pS‘tšgs
.
isEd™ÜHi¡ÜyEÇbËd
());

270 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_»do
).
£tVisibË
(
_­pS‘tšgs
.
isEd™ÜHi¡ÜyEÇbËd
());

271 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_£nd_debug_log
).
£tVisibË
(
MašAùiv™y
.
IS_DEBUG_ENABLED
 && 
g‘Aùiv™y
(è
š¡ªûof
 
Docum’tAùiv™y
 && !
_isP»v›wVisibË
);

273 
fš®
 
boŞ—n
 
	gÿnUndo
 = 
_ed™TextUndoRedoH–³r
.
g‘CªUndo
();

274 
fš®
 
boŞ—n
 
	gÿnRedo
 = 
_ed™TextUndoRedoH–³r
.
g‘CªRedo
();

275 
fš®
 
boŞ—n
 
	gisEx³rim’lF—tu»sEÇbËd
 = 
_­pS‘tšgs
.
isEx³rim’lF—tu»sEÇbËd
();

278 
D¿wabË
 
	gd¿wabË
;

279 
	gd¿wabË
 = 
m’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_undo
).
£tEÇbËd
(
ÿnUndo
).
£tVisibË
(!
_isP»v›wVisibË
).
g‘IcÚ
();

280 
	gd¿wabË
.
mu‹
().
£tAÍha
(
ÿnUndo
 ? 255 : 40);

281 
	gd¿wabË
 = 
m’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_»do
).
£tEÇbËd
(
ÿnRedo
).
£tVisibË
(!
_isP»v›wVisibË
).
g‘IcÚ
();

282 
	gd¿wabË
.
mu‹
().
£tAÍha
(
ÿnRedo
 ? 255 : 40);

285 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_ed™
).
£tVisibË
(
_isP»v›wVisibË
);

286 
	gm’u
.
fšdI‹m
(
R
.
id
.
subm’u_©ch
).
£tVisibË
(
çl£
);

287 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_´ev›w
).
£tVisibË
(!
_isP»v›wVisibË
);

288 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_£¬ch
).
£tVisibË
(!
_isP»v›wVisibË
);

289 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_£¬ch_v›w
).
£tVisibË
(
_isP»v›wVisibË
);

290 
	gm’u
.
fšdI‹m
(
R
.
id
.
subm’u_fÜm©_£ËùiÚ
).
£tVisibË
(!
_isP»v›wVisibË
);

292 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_sh¬e_pdf
).
£tVisibË
(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
KITKAT
);

293 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_sh¬e_image
).
£tVisibË
(
Œue
);

294 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_lßd_•ub
).
£tVisibË
(
isEx³rim’lF—tu»sEÇbËd
);

297 
	g_m’uS—rchV›wFÜV›wMode
 = (
S—rchV›w
è
m’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_£¬ch_v›w
).
g‘AùiÚV›w
();

298 
	g_m’uS—rchV›wFÜV›wMode
.
£tSubm™Bu‰ÚEÇbËd
(
Œue
);

299 
	g_m’uS—rchV›wFÜV›wMode
.
£tQu”yHšt
(
g‘SŒšg
(
R
.
¡ršg
.
£¬ch
));

300 
	g_m’uS—rchV›wFÜV›wMode
.
£tOnQu”yTextFocusChªgeLi¡’”
((
v
, 
£¬chHasFocus
) -> {

301 ià(!
£¬chHasFocus
) {

302 
_m’uS—rchV›wFÜV›wMode
.
£tQu”y
("", 
çl£
);

303 
_m’uS—rchV›wFÜV›wMode
.
£tIcÚif›d
(
Œue
);

306 
	g_m’uS—rchV›wFÜV›wMode
.
£tOnQu”yTextLi¡’”
(
Ãw
 
S—rchV›w
.
OnQu”yTextLi¡’”
() {

307 @
Ov”ride


308 
public
 
boŞ—n
 
ÚQu”yTextSubm™
(
SŒšg
 
‹xt
) {

309 
_webV›w
.
fšdNext
(
Œue
);

310  
Œue
;

313 @
Ov”ride


314 
public
 
boŞ—n
 
ÚQu”yTextChªge
(
SŒšg
 
‹xt
) {

315 
_webV›w
.
fšdAÎAsync
(
‹xt
);

316  
Œue
;

320 
upd©eM’uToggËS‹s
(
_docum’t
.
g‘FÜm©
());

323 
public
 
lßdDocum’tIÁoUi
() {

324 
	ged™Üpos
 = 
_hlEd™Ü
.
g‘S–eùiÚS¹
();

325 
	g_hlEd™Ü
.
£tText
(
_docum’t
.
g‘CÚ‹Á
());

326 
	ged™Üpos
 = 
ed™Üpos
 > 
_hlEd™Ü
.
Ëngth
() ? _hlEditor.length() - 1 :ƒditorpos;

327 
	g_hlEd™Ü
.
£tS–eùiÚ
(
M©h
.
max
(
ed™Üpos
, 0));

328 
Aùiv™y
 
	gaùiv™y
 = 
g‘Aùiv™y
();

329 ià(
aùiv™y
 
š¡ªûof
 
	gDocum’tAùiv™y
) {

330 
Docum’tAùiv™y
 
	gda
 = ((Docum’tAùiv™yè
aùiv™y
);

331 
	gda
.
£tDocum’tT™Ë
(
_docum’t
.
g‘T™Ë
());

332 
	gda
.
£tDocum’t
(
_docum’t
);

336 
	g_docum’t
.
£tFÜm©
(
_­pS‘tšgs
.
g‘Docum’tFÜm©
(
g‘P©h
(), 
_docum’t
.
g‘FÜm©
()));

337 
­¶yTextFÜm©
(
_docum’t
.
g‘FÜm©
());

338 
	g_‹xtFÜm©
.
g‘TextAùiÚs
().
£tDocum’t
(
_docum’t
);

340 ià(
	g_isP»v›wVisibË
) {

341 
	g_webV›wCl›Á
.
£tRe¡ÜeSüŞlY
(
_webV›w
.
g‘SüŞlY
());

342 
£tDocum’tV›wVisib™y
(
_isP»v›wVisibË
);

346 @
Ov”ride


347 
public
 
boŞ—n
 
ÚO±iÚsI‹mS–eùed
(
fš®
 
M’uI‹m
 
™em
) {

348 ià(
	g™em
 =ğ
nuÎ
) {

349  
Œue
;

351 
	g_sh¬eUt
.
£tCÚ‹xt
(
g‘Aùiv™y
());

352 
fš®
 
	g™emId
 = 
™em
.
g‘I‹mId
();

353 
	g™emId
) {

354 
	gR
.
	gid
.
	gaùiÚ_undo
: {

355 ià(
_ed™TextUndoRedoH–³r
.
g‘CªUndo
()) {

356 
_hlEd™Ü
.
di§bËHighligh‹rAutoFÜm©
();

357 
	g_ed™TextUndoRedoH–³r
.
undo
();

358 
	g_hlEd™Ü
.
’abËHighligh‹rAutoFÜm©
();

359 ((
	gAµCom·tAùiv™y
è
g‘Aùiv™y
()).
suµÜtInv®id©eO±iÚsM’u
();

361  
	gŒue
;

363 
	gR
.
	gid
.
	gaùiÚ_»do
: {

364 ià(
_ed™TextUndoRedoH–³r
.
g‘CªRedo
()) {

365 
_hlEd™Ü
.
di§bËHighligh‹rAutoFÜm©
();

366 
	g_ed™TextUndoRedoH–³r
.
»do
();

367 
	g_hlEd™Ü
.
’abËHighligh‹rAutoFÜm©
();

368 ((
	gAµCom·tAùiv™y
è
g‘Aùiv™y
()).
suµÜtInv®id©eO±iÚsM’u
();

370  
	gŒue
;

372 
	gR
.
	gid
.
	gaùiÚ_§ve
: {

373 
Docum’tIO
.
SAVE_IGNORE_EMTPY_NEXT_TIME
 = 
Œue
;

374 
§veDocum’t
();

375 
	gDocum’tIO
.
	gSAVE_IGNORE_EMTPY_NEXT_TIME
 = 
çl£
;

376  
	gŒue
;

378 
	gR
.
	gid
.
	gaùiÚ_»lßd
: {

379 
checkR–ßdDisk
(
Œue
);

380  
	gŒue
;

382 
	gR
.
	gid
.
	gaùiÚ_´ev›w
: {

383 
£tDocum’tV›wVisib™y
(
Œue
);

384  
	gŒue
;

386 
	gR
.
	gid
.
	gaùiÚ_ed™
: {

387 
£tDocum’tV›wVisib™y
(
çl£
);

388  
	gŒue
;

390 
	gR
.
	gid
.
	gaùiÚ_´ev›w_ed™_toggË
: {

391 
£tDocum’tV›wVisib™y
(!
_isP»v›wVisibË
);

392  
	gŒue
;

394 
	gR
.
	gid
.
	gaùiÚ_add_shÜtcut_Ïunch”_home
: {

395 
_sh¬eUt
.
ü—‹Launch”DesktİShÜtcut
(
_docum’t
);

396  
	gŒue
;

398 
	gR
.
	gid
.
	gaùiÚ_sh¬e_‹xt
: {

399 ià(
§veDocum’t
()) {

400 
_sh¬eUt
.
sh¬eText
(
_docum’t
.
g‘CÚ‹Á
(), "text/plain");

402  
	gŒue
;

404 
	gR
.
	gid
.
	gaùiÚ_sh¬e_fe
: {

405 ià(
§veDocum’t
()) {

406 
_sh¬eUt
.
sh¬eSŒ—m
(
_docum’t
.
g‘Fe
(), "text/plain");

408  
	gŒue
;

410 
	gR
.
	gid
.
	gaùiÚ_sh¬e_html
:

411 
R
.
id
.
aùiÚ_sh¬e_html_sourû
: {

412 ià(
§veDocum’t
()) {

413 
TextCÚv”‹r
 
cÚv”‹r
 = 
TextFÜm©
.
g‘FÜm©
(
_docum’t
.g‘FÜm©(), 
g‘Aùiv™y
(), _docum’t, 
_hlEd™Ü
).
g‘CÚv”‹r
();

414 
	g_sh¬eUt
.
sh¬eText
(
cÚv”‹r
.
cÚv”tM¬kup
(
_docum’t
.
g‘CÚ‹Á
(), 
_hlEd™Ü
.
g‘CÚ‹xt
(), 
çl£
, _docum’t.
g‘Fe
()),

415 "‹xt/" + (
™em
.
g‘I‹mId
(è=ğ
R
.
id
.
aùiÚ_sh¬e_html
 ? "html" : "plain"));

417  
	gŒue
;

419 
	gR
.
	gid
.
	gaùiÚ_sh¬e_ÿËnd¬_ev’t
: {

420 ià(
§veDocum’t
()) {

421 ià(!
_sh¬eUt
.
ü—‹C®’d¬Aµoštm’t
(
_docum’t
.
g‘T™Ë
(), _docum’t.
g‘CÚ‹Á
(), 
nuÎ
)) {

422 
	gTß¡
.
makeText
(
g‘Aùiv™y
(), 
R
.
¡ršg
.
no_ÿËnd¬_­p_is_š¡®Ëd
, 
Tß¡
.
LENGTH_SHORT
).
show
();

425  
	gŒue
;

427 
	gªdroid
.
	gR
.
	gid
.
	ghome
: {

428 
fš®
 
Aùiv™y
 
aùiv™y
 = 
g‘Aùiv™y
();

429 ià((
§veDocum’t
(è|| (
	g_hlEd™Ü
.
Ëngth
(è< 10 && 
	gTextUts
.
g‘TrimmedL’gth
(
_hlEd™Ü
.
g‘Ed™abËText
()è=ğ0)è&& 
aùiv™y
 !ğ
nuÎ
) {

430 
aùiv™y
.
ÚBackP»s£d
();

432  
	gŒue
;

434 
	gR
.
	gid
.
	gaùiÚ_sh¬e_sü“nshÙ
:

435 
R
.
id
.
aùiÚ_sh¬e_image
:

436 
R
.
id
.
aùiÚ_sh¬e_pdf
: {

437 
_­pS‘tšgs
.
g‘S‘WebV›wFuÎd¿wšg
(
Œue
);

438 ià(
§veDocum’t
()) {

439 
	g_ÃxtCÚv”tToPrštMode
 = 
Œue
;

440 
£tDocum’tV›wVisib™y
(
Œue
);

441 
	gTß¡
.
makeText
(
g‘Aùiv™y
(), 
R
.
¡ršg
.
¶—£_wa™
, 
Tß¡
.
LENGTH_LONG
).
show
();

442 
	g_webV›w
.
po¡D–ayed
(() -> {

443 ià(
™em
.
g‘I‹mId
(è=ğ
R
.
id
.
aùiÚ_sh¬e_pdf
 && 
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
KITKAT
) {

444 
_sh¬eUt
.
´štOrC»©ePdfFromWebv›w
(
_webV›w
, 
_docum’t
, _docum’t.
g‘CÚ‹Á
().
cÚšs
("beamer\n"));

445 } ià(
™em
.
g‘I‹mId
(è!ğ
R
.
id
.
aùiÚ_sh¬e_pdf
) {

446 
_sh¬eUt
.
sh¬eImage
(
Ãt
.
g§ÁÃr
.
İoc
.
ut
.
Sh¬eUt
.
g‘B™m­FromWebV›w
(
_webV›w
, 
™em
.
g‘I‹mId
(è=ğ
R
.
id
.
aùiÚ_sh¬e_image
));

451  
	gŒue
;

453 
	gR
.
	g¡ršg
.
	gaùiÚ_fÜm©_zimwiki
:

454 
R
.
¡ršg
.
aùiÚ_fÜm©_keyv®ue
:

455 
R
.
¡ršg
.
aùiÚ_fÜm©_todÙxt
:

456 
R
.
¡ršg
.
aùiÚ_fÜm©_¶aš‹xt
:

457 
R
.
¡ršg
.
aùiÚ_fÜm©_m¬kdown
: {

458 ià(
_docum’t
 !ğ
nuÎ
) {

459 
_docum’t
.
£tFÜm©
(
™emId
);

460 
­¶yTextFÜm©
(
™emId
);

461 
	g_­pS‘tšgs
.
£tDocum’tFÜm©
(
g‘P©h
(), 
_docum’t
.
g‘FÜm©
());

463  
	gŒue
;

465 
	gR
.
	gid
.
	gaùiÚ_£¬ch
: {

466 
£tDocum’tV›wVisib™y
(
çl£
);

467 
	g_‹xtFÜm©
.
g‘TextAùiÚs
().
runAùiÚ
(
CommÚTextAùiÚs
.
ACTION_SEARCH
);

468  
	gŒue
;

470 
	gR
.
	gid
.
	gaùiÚ_£nd_debug_log
: {

471 
fš®
 
SŒšg
 
‹xt
 = 
AµS‘tšgs
.
g‘DebugLog
(è+ "\n\n------------------------\n\n\n\n" + 
Docum’tIO
.
g‘MaskedCÚ‹Á
(
_docum’t
);

472 
	g_sh¬eUt
.
d¿áEma
("Debug Log " + 
g‘SŒšg
(
R
.
¡ršg
.
­p_Çme_»®
), 
‹xt
, "debug@localhost.lan");

473  
	gŒue
;

476 
	gR
.
	gid
.
	gaùiÚ_©ch_cŞÜ
: {

477 
Ãw
 
CommÚTextAùiÚs
(
g‘Aùiv™y
(), 
_hlEd™Ü
).
runAùiÚ
(CommÚTextAùiÚs.
ACTION_COLOR_PICKER
);

478  
	gŒue
;

480 
	gR
.
	gid
.
	gaùiÚ_©ch_d©e
: {

481 
D©‘imeFÜm©DŸlog
.
showD©‘imeFÜm©DŸlog
(
g‘Aùiv™y
(), 
_hlEd™Ü
);

482  
	gŒue
;

484 
	gR
.
	gid
.
	gaùiÚ_©ch_audio
:

485 
R
.
id
.
aùiÚ_©ch_fe
:

486 
R
.
id
.
aùiÚ_©ch_image
:

487 
R
.
id
.
aùiÚ_©ch_lšk
: {

488 
aùiÚId
 = (
™emId
 =ğ
R
.
id
.
aùiÚ_©ch_audio
 ? 4 : (™emId =ğR.id.
aùiÚ_©ch_image
 ? 2 : 3));

489 
	gA‰achImageOrLškDŸlog
.
showIn£¹ImageOrLškDŸlog
(
aùiÚId
, 
_docum’t
.
g‘FÜm©
(), 
g‘Aùiv™y
(), 
_hlEd™Ü
, _docum’t.
g‘Fe
());

490  
	gŒue
;

493 
	gR
.
	gid
.
	gaùiÚ_lßd_•ub
: {

494 
Fesy¡emV›w”C»©Ü
.
showFeDŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

495 @
Ov”ride


496 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

497 
_hlEd™Ü
.
£tText
(
CoŞEx³rim’lStuff
.
cÚv”tEpubToText
(
fe
, 
g‘SŒšg
(
R
.
¡ršg
.
·ge
)));

500 @
Ov”ride


501 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

502 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
£Ëù
;

504 }, 
g‘F¿gm’tMªag”
(), 
g‘Aùiv™y
(),

505 
šput
 -> iÅuˆ!ğ
nuÎ
 && iÅut.
g‘AbsŞu‹P©h
().
toLow”Ca£
().
’dsW™h
(".epub")

507  
	gŒue
;

509 
	gR
.
	gid
.
	gaùiÚ_¥“d_»ad
: {

510 
CoŞEx³rim’lStuff
.
showS³edR—dDŸlog
(
g‘Aùiv™y
(), 
_docum’t
.
g‘CÚ‹Á
());

511  
	gŒue
;

513 
	gR
.
	gid
.
	gaùiÚ_w¿p_wÜds
: {

514 
w¿pText
 = !wrapText;

515 
	gw¿pTextS‘tšg
 = 
w¿pText
;

516 
	g_­pS‘tšgs
.
£tDocum’tW¿pS‹
(
g‘P©h
(), 
w¿pTextS‘tšg
);

517 
£tHÜizÚlSüŞlMode
(
w¿pText
);

518 
upd©eM’uToggËS‹s
(0);

519  
	gŒue
;

521 
	gR
.
	gid
.
	gaùiÚ_’abË_highlightšg
: {

522 
highlightText
 = !highlightText;

523 
	g_hlEd™Ü
.
£tHighlightšgEÇbËd
(
highlightText
);

524 
	g_­pS‘tšgs
.
£tDocum’tHighlightS‹
(
g‘P©h
(), 
highlightText
);

525 
upd©eM’uToggËS‹s
(0);

526  
	gŒue
;

528 
	gR
.
	gid
.
	gaùiÚ_šfo
: {

529 ià(
_docum’t
 !ğ
nuÎ
 && _docum’t.
g‘Fe
() !=‚ull) {

530 
§veDocum’t
();

531 
	gFeInfoDŸlog
.
show
(
_docum’t
.
g‘Fe
(), 
g‘F¿gm’tMªag”
());

533  
	gŒue
;

535 
	gR
.
	gid
.
	gaùiÚ_£t_fÚt_size
: {

536 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showFÚtSizeDŸlog
(
g‘Aùiv™y
(), 
_­pS‘tšgs
.
g‘Docum’tFÚtSize
(
g‘P©h
()), (
ÃwSize
) -> {

537 
_hlEd™Ü
.
£tTextSize
(
Ty³dV®ue
.
COMPLEX_UNIT_SP
, (è
ÃwSize
);

538 
_­pS‘tšgs
.
£tDocum’tFÚtSize
(
g‘P©h
(), 
ÃwSize
);

542  
	gsu³r
.
ÚO±iÚsI‹mS–eùed
(
™em
);

545 
´iv©e
 
	g_Ï¡ChªgedTh»adS¹
 = 0;

547 @
OnTextChªged
(
v®ue
 = 
R
.
id
.
docum’t__äagm’t__ed™__highlightšg_ed™Ü
, 
ÿÎback
 = OnTextChªged.
C®lback
.
TEXT_CHANGED
)

548 
public
 
ÚCÚ‹ÁEd™V®ueChªged
(
Ch¬Sequ’û
 
‹xt
) {

549 ià((
_Ï¡ChªgedTh»adS¹
 + 
HISTORY_DELTA
è< 
Sy¡em
.
cu¼’tTimeMlis
()) {

550 
_Ï¡ChªgedTh»adS¹
 = 
Sy¡em
.
cu¼’tTimeMlis
();

551 
	g_hlEd™Ü
.
po¡D–ayed
(() -> {

552 
_docum’t
.
£tCÚ‹Á
(
‹xt
.
toSŒšg
());

553 
Aùiv™y
 
aùiv™y
 = 
g‘Aùiv™y
();

554 ià(
aùiv™y
 
š¡ªûof
 
AµCom·tAùiv™y
) {

555 ((
AµCom·tAùiv™y
è
aùiv™y
).
suµÜtInv®id©eO±iÚsM’u
();

557 }, 
HISTORY_DELTA
);

559 
Aùiv™y
 
	gaùiv™y
 = 
g‘Aùiv™y
();

560 ià(
	gaùiv™y
 !ğ
nuÎ
 && 
aùiv™y
 
š¡ªûof
 
AµCom·tAùiv™y
) {

561 ((
AµCom·tAùiv™y
è
aùiv™y
).
suµÜtInv®id©eO±iÚsM’u
();

566 @
Suµ»ssW¬nšgs
({"ConstantConditions", "ResultOfMethodCallIgnored"})

567 
´iv©e
 
Docum’t
 
lßdDocum’t
() {

568 
Docum’t
 
	gdocum’t
 = 
Docum’tIO
.
lßdDocum’t
(
g‘Aùiv™y
(), 
g‘Argum’ts
(), 
_docum’t
);

569 ià(
	gdocum’t
 !ğ
nuÎ
) {

570 
docum’t
.
£tDoHi¡Üy
(
_­pS‘tšgs
.
isEd™ÜHi¡ÜyEÇbËd
());

572 ià(
	gdocum’t
.
g‘Hi¡Üy
().
isEm±y
()) {

573 
	gdocum’t
.
fÜûAddNextChªgeToHi¡Üy
();

574 
	gdocum’t
.
addToHi¡Üy
();

577  
	gdocum’t
;

580 
public
 
­¶yTextFÜm©
(
fš®
 
‹xtFÜm©Id
) {

581 
	g_‹xtAùiÚsB¬
.
»moveAÎV›ws
();

582 
	g_‹xtFÜm©
 = 
TextFÜm©
.
g‘FÜm©
(
‹xtFÜm©Id
, 
g‘Aùiv™y
(), 
_docum’t
, 
_hlEd™Ü
);

583 
	g_hlEd™Ü
.
£tHighligh‹r
(
_‹xtFÜm©
.
g‘Highligh‹r
());

584 
	g_hlEd™Ü
.
’abËHighligh‹rAutoFÜm©
();

585 
	g_‹xtFÜm©
.
g‘TextAùiÚs
()

586 .
£tHighlightšgEd™Ü
(
_hlEd™Ü
)

587 .
­³ndTextAùiÚsToB¬
(
_‹xtAùiÚsB¬
);

589 
upd©eM’uToggËS‹s
(
‹xtFÜm©Id
);

592 
´iv©e
 
£tupAµ—¿nûP»ã»nûs
(
V›w
 
äagm’tV›w
) {

593 
	g_hlEd™Ü
.
£tTextSize
(
Ty³dV®ue
.
COMPLEX_UNIT_SP
, 
_­pS‘tšgs
.
g‘Docum’tFÚtSize
(
g‘P©h
()));

594 
	g_hlEd™Ü
.
£tTy³çû
(
FÚtP»ã»nûCom·t
.
ty³çû
(
g‘CÚ‹xt
(), 
_­pS‘tšgs
.
g‘FÚtFamy
(), 
Ty³çû
.
NORMAL
));

596 
	g_hlEd™Ü
.
£tBackgroundCŞÜ
(
_­pS‘tšgs
.
g‘Ed™ÜBackgroundCŞÜ
());

597 
	g_hlEd™Ü
.
£tTextCŞÜ
(
_­pS‘tšgs
.
g‘Ed™ÜFÜegroundCŞÜ
());

598 
	gäagm’tV›w
.
fšdV›wById
(
R
.
id
.
docum’t__äagm’t__ed™__‹xt_aùiÚs_b¬__süŞlšg_·»Á
).
£tBackgroundCŞÜ
(
_­pS‘tšgs
.
g‘Ed™ÜTexùiÚB¬CŞÜ
());

601 
´iv©e
 
š™DocS‹
() {

602 
fš®
 
SŒšg
 
	g·th
 = 
g‘P©h
();

603 
	gw¿pTextS‘tšg
 = 
_­pS‘tšgs
.
g‘Docum’tW¿pS‹
(
·th
);

604 
	gw¿pText
 = 
isDi¥ÏyedAtMašAùiv™y
(è|| 
w¿pTextS‘tšg
;

606 
	ghighlightText
 = 
_­pS‘tšgs
.
g‘Docum’tHighlightS‹
(
·th
, 
_hlEd™Ü
.
g‘Text
());

607 
upd©eM’uToggËS‹s
(0);

609 
£tHÜizÚlSüŞlMode
(
w¿pText
);

610 
	g_hlEd™Ü
.
£tHighlightšgEÇbËd
(
highlightText
);

613 
´iv©e
 
upd©eM’uToggËS‹s
(
fš®
 
£ËùedFÜm©AùiÚId
) {

614 
M’uI‹m
 
	gmi
;

615 
SubM’u
 
	gsu
;

616 ià((
	gmi
 = 
_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_w¿p_wÜds
)è!ğ
nuÎ
) {

617 
mi
.
£tChecked
(
w¿pText
);

619 ià((
	gmi
 = 
_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_’abË_highlightšg
)è!ğ
nuÎ
) {

620 
mi
.
£tChecked
(
highlightText
);

623 ià(
	g£ËùedFÜm©AùiÚId
 !ğ0 && (
mi
 = 
_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
subm’u_fÜm©_£ËùiÚ
)è!ğ
nuÎ
 && (
su
 = mi.
g‘SubM’u
()) !=‚ull) {

624 
i
 = 0; 
	gi
 < 
	gsu
.
size
(); i++) {

625 ià((
	gmi
 = 
su
.
g‘I‹m
(
i
)).
g‘I‹mId
(è=ğ
£ËùedFÜm©AùiÚId
) {

626 
mi
.
£tChecked
(
Œue
);

632 
´iv©e
 
£tHÜizÚlSüŞlMode
(
fš®
 
boŞ—n
 
w¿p
) {

634 
fš®
 
CÚ‹xt
 
	gcÚ‹xt
 = 
g‘CÚ‹xt
();

635 ià(
	gcÚ‹xt
 !ğ
nuÎ
 && 
_hlEd™Ü
 !=‚ull) {

636 
_´im¬ySüŞlV›w
.
»moveAÎV›ws
();

637 ià(
	ghsV›w
 !ğ
nuÎ
) {

638 
hsV›w
.
»moveAÎV›ws
();

640 ià(!
	gw¿p
) {

641 
	g_hlEd™Ü
.
£tHÜizÚÎySüŞlšg
(
Œue
);

642 ià(
	ghsV›w
 =ğ
nuÎ
) {

643 
hsV›w
 = 
Ãw
 
HÜizÚlSüŞlV›w
(
cÚ‹xt
);

644 
	ghsV›w
.
£tFlV›wpÜt
(
Œue
);

646 
	ghsV›w
.
addV›w
(
_hlEd™Ü
);

647 
	g_´im¬ySüŞlV›w
.
addV›w
(
hsV›w
);

649 
	g_hlEd™Ü
.
£tHÜizÚÎySüŞlšg
(
çl£
);

650 
	g_´im¬ySüŞlV›w
.
addV›w
(
_hlEd™Ü
);

655 @
Ov”ride


656 
public
 
SŒšg
 
g‘F¿gm’tTag
() {

657  
	gFRAGMENT_TAG
;

660 @
Ov”ride


661 
public
 
boŞ—n
 
ÚBackP»s£d
() {

662 
fš®
 
boŞ—n
 
	g´ev›w
 = (

663 
g‘Aùiv™y
().
g‘IÁ’t
().
g‘BoŞ—nExŒa
(
Docum’tAùiv™y
.
EXTRA_DO_PREVIEW
, 
çl£
)

664 || 
	g_­pS‘tšgs
.
g‘Docum’tP»v›wS‹
(
g‘P©h
())

665 || 
	g_docum’t
.
g‘Fe
().
g‘Name
().
¡¬tsW™h
("index."));

666 
§veDocum’t
();

667 ià(
	g_isP»v›wVisibË
 && !
	g´ev›w
) {

668 
£tDocum’tV›wVisib™y
(
çl£
);

669  
	gŒue
;

670 } ià(!
	g_isP»v›wVisibË
 && 
	g´ev›w
) {

671 
£tDocum’tV›wVisib™y
(
Œue
);

672  
	gŒue
;

673 } ià(
	g_m’uS—rchV›wFÜV›wMode
 !ğ
nuÎ
 && !
_m’uS—rchV›wFÜV›wMode
.
isIcÚif›d
()) {

674 
_m’uS—rchV›wFÜV›wMode
.
ş—rFocus
();

675  
	gŒue
;

677  
	gçl£
;

682 
public
 
boŞ—n
 
§veDocum’t
() {

683 
boŞ—n
 
	g»t
 = 
çl£
;

684 ià(
isAdded
(è&& 
	g_hlEd™Ü
 !ğ
nuÎ
 && 
_hlEd™Ü
.
g‘Text
() !=‚ull) {

685 
»t
 = 
Docum’tIO
.
§veDocum’t
(
_docum’t
, 
_hlEd™Ü
.
g‘Text
().
toSŒšg
(), 
_sh¬eUt
, 
g‘CÚ‹xt
());

686 
upd©eLaunch”Widg‘s
();

688 ià(
	g_docum’t
 !ğ
nuÎ
 && 
_docum’t
.
g‘Fe
() !=‚ull) {

689 
_­pS‘tšgs
.
£tLa¡Ed™Pos™iÚ
(
_docum’t
.
g‘Fe
(), 
_hlEd™Ü
.
g‘S–eùiÚS¹
());

690 
	g_­pS‘tšgs
.
£tDocum’tP»v›wS‹
(
g‘P©h
(), 
_isP»v›wVisibË
);

693  
	g»t
;

696 
public
 
»¡ÜeDocum’tPos™iÚs
() {

697 ià(!
	gA¼ays
.
asLi¡
(
_hlEd™Ü
, 
_webV›w
, 
_docum’t
.
g‘Fe
()).
cÚšs
(
nuÎ
è&& !
isDi¥ÏyedAtMašAùiv™y
()) {

698 
	gv
;

699 ià((
	gv
 = 
_docum’t
.
g‘In™ŸlLšeNumb”
()) >= 0) {

700 
_hlEd™Ü
.
smoÙhMoveCursÜToLše
(
v
);

702 
	g_docum’t
.
£tIn™ŸlLšeNumb”
(-1);

706 
´iv©e
 
boŞ—n
 
isDi¥ÏyedAtMašAùiv™y
() {

707  
g‘Aùiv™y
(è
š¡ªûof
 
	gMašAùiv™y
;

710 @
Ov”ride


711 
public
 
ÚSaveIn¡ªûS‹
(@
NÚNuÎ
 
BundË
 
outS‹
) {

712 
§veDocum’t
();

713 ià((
	g_hlEd™Ü
.
Ëngth
(è* 
	g_docum’t
.
g‘Hi¡Üy
().
size
(è* 1.05è< 9200 && 
	gçl£
) {

714 
	goutS‹
.
putS”ŸlizabË
(
SAVESTATE_DOCUMENT
, 
_docum’t
);

716 ià(
g‘Argum’ts
(è!ğ
nuÎ
 && 
_docum’t
.
g‘Fe
() !=‚ull) {

717 
g‘Argum’ts
().
putS”ŸlizabË
(
Docum’tIO
.
EXTRA_PATH
, 
_docum’t
.
g‘Fe
());

718 
g‘Argum’ts
().
putS”ŸlizabË
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
çl£
);

720 ià(
	g_hlEd™Ü
 !ğ
nuÎ
) {

721 
outS‹
.
putS”ŸlizabË
(
SAVESTATE_CURSOR_POS
, 
_hlEd™Ü
.
g‘S–eùiÚS¹
());

723 
	goutS‹
.
putBoŞ—n
(
SAVESTATE_PREVIEW_ON
, 
_isP»v›wVisibË
);

728 
	gsu³r
.
ÚSaveIn¡ªûS‹
(
outS‹
);

731 @
Ov”ride


732 
public
 
ÚPau£
() {

733 
	gsu³r
.
ÚPau£
();

734 
§veDocum’t
();

735 ià(
	g_docum’t
 !ğ
nuÎ
 && 
_docum’t
.
g‘Fe
() !=‚ull) {

736 
_­pS‘tšgs
.
addReûÁDocum’t
(
_docum’t
.
g‘Fe
());

740 
´iv©e
 
upd©eLaunch”Widg‘s
() {

741 
CÚ‹xt
 
	gc
 = 
Aµ
.
g‘
().
g‘AµliÿtiÚCÚ‹xt
();

742 
AµWidg‘Mªag”
 
	g­pWidg‘Mªag”
 = AµWidg‘Mªag”.
g‘In¡ªû
(
c
);

743 [] 
	g­pWidg‘Ids
 = 
­pWidg‘Mªag”
.
g‘AµWidg‘Ids
(
Ãw
 
CompÚ’tName
(
c
, 
WrM¬kÜWidg‘Provid”
.
şass
));

744 
	g­pWidg‘Mªag”
.
nÙifyAµWidg‘V›wD©aChªged
(
­pWidg‘Ids
, 
R
.
id
.
widg‘_nÙes_li¡
);

747 @
Ov”ride


748 
public
 
£tU£rVisibËHšt
(
boŞ—n
 
isVisibËToU£r
) {

749 
	gsu³r
.
£tU£rVisibËHšt
(
isVisibËToU£r
);

750 ià(
	gisVisibËToU£r
 && 
isDi¥ÏyedAtMašAùiv™y
()) {

751 
checkR–ßdDisk
(
çl£
);

752 } ià(!
	gisVisibËToU£r
 && 
	g_docum’t
 !ğ
nuÎ
) {

753 
§veDocum’t
();

756 
fš®
 
ToŞb¬
 
	gtoŞb¬
 = 
g‘ToŞb¬
();

757 ià(
	gtoŞb¬
 !ğ
nuÎ
 && 
isVisibËToU£r
) {

758 
toŞb¬
.
£tOnLÚgClickLi¡’”
(
_lÚgClickToTİOrBÙtom
);

761 ià(
	gisVisibËToU£r
) {

762 
š™DocS‹
();

766 
´iv©e
 
checkR–ßdDisk
(
boŞ—n
 
fÜûR–ßd
) {

767 ià(
	g_fœ¡FeLßd
) {

768 
	g_fœ¡FeLßd
 = 
çl£
;

771 
Docum’t
 
	gcmp
 = 
Docum’tIO
.
lßdDocum’t
(
g‘Aùiv™y
(), 
g‘Argum’ts
(), 
nuÎ
);

772 ià(
	gfÜûR–ßd
 || (
	g_docum’t
 !ğ
nuÎ
 && 
cmp
 !ğnuÎ && cmp.
g‘CÚ‹Á
(è!ğnuÎ && !cmp.g‘CÚ‹Á().
equ®s
(
_docum’t
.getContent()))) {

773 
_ed™TextUndoRedoH–³r
.
ş—rHi¡Üy
();

774 
	g_docum’t
 = 
cmp
;

775 
lßdDocum’t
();

776 
lßdDocum’tIÁoUi
();

780 @
Ov”ride


781 
public
 
ÚF¿gm’tFœ¡TimeVisibË
() {

782 
fš®
 
boŞ—n
 
	gš™P»v›w
 = 
_­pS‘tšgs
.
g‘Docum’tP»v›wS‹
(
g‘P©h
());

783 ià(
	g_§vedIn¡ªûS‹
 =ğ
nuÎ
 || !
_§vedIn¡ªûS‹
.
cÚšsKey
(
SAVESTATE_CURSOR_POS
è&& 
_hlEd™Ü
.
Ëngth
() > 0) {

784 
Ï¡Pos
;

785 ià(
	g_docum’t
 !ğ
nuÎ
 && 
_docum’t
.
g‘Fe
(è!ğnuÎ && (
Ï¡Pos
 = 
_­pS‘tšgs
.
g‘La¡Ed™Pos™iÚCh¬
(_docum’t.g‘Fe())è>ğ0 &&†a¡Po <ğ
_hlEd™Ü
.
Ëngth
()) {

786 ià(!
š™P»v›w
) {

787 
_hlEd™Ü
.
»que¡Focus
();

789 
	g_hlEd™Ü
.
£tS–eùiÚ
(
Ï¡Pos
);

790 } ià(
	g_­pS‘tšgs
.
isEd™ÜS¹OnBÙ‰om
()) {

791 ià(!
	gš™P»v›w
) {

792 
	g_hlEd™Ü
.
»que¡Focus
();

794 
	g_hlEd™Ü
.
£tS–eùiÚ
(
_hlEd™Ü
.
Ëngth
());

799 
public
 
£tDocum’tV›wVisib™y
(
boŞ—n
 
show
) {

800 ià(!
	gshow
) {

801 
	g_webV›wCl›Á
.
£tRe¡ÜeSüŞlY
(
_webV›w
.
g‘SüŞlY
());

803 ià(
	gshow
) {

804 
	g_docum’t
.
£tCÚ‹Á
(
_hlEd™Ü
.
g‘Text
().
toSŒšg
());

805 
	g_‹xtFÜm©
.
g‘CÚv”‹r
().
cÚv”tM¬kupShowInWebV›w
(
_docum’t
, 
_webV›w
, 
_ÃxtCÚv”tToPrštMode
, _docum’t.
g‘Fe
());

806 
Ãw
 
Aùiv™yUts
(
g‘Aùiv™y
()).
hideSoáKeybßrd
().
ä“CÚ‹xtRef
();

807 
	g_hlEd™Ü
.
ş—rFocus
();

808 
	g_hlEd™Ü
.
po¡D–ayed
((è-> 
Ãw
 
Aùiv™yUts
(
g‘Aùiv™y
()).
hideSoáKeybßrd
().
ä“CÚ‹xtRef
(), 300);

810 
	g_ÃxtCÚv”tToPrštMode
 = 
çl£
;

811 
	g_webV›w
.
£tAÍha
(0);

812 
	g_webV›w
.
£tVisib™y
(
show
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

813 ià(
	gshow
) {

814 
	g_webV›w
.
ªim©e
().
£tDu¿tiÚ
(150).
®pha
(1.0f).
£tLi¡’”
(
nuÎ
);

816 
	g_isP»v›wVisibË
 = 
show
;

817 ((
	gAµCom·tAùiv™y
è
g‘Aùiv™y
()).
suµÜtInv®id©eO±iÚsM’u
();

820 
fš®
 
	gV›w
.
OnLÚgClickLi¡’”
 
	g_lÚgClickToTİOrBÙtom
 = 
Ãw
 
V›w
.OnLongClickListener() {

821 @
Ov”ride


822 
public
 
boŞ—n
 
ÚLÚgClick
(
V›w
 
v
) {

823 ià(
g‘U£rVisibËHšt
()) {

824 ià(
_isP»v›wVisibË
) {

825 
boŞ—n
 
tİ
 = 
_webV›w
.
g‘SüŞlY
() > 100;

826 
	g_webV›w
.
süŞlTo
(0, 
tİ
 ? 0 : 
_webV›w
.
g‘CÚ‹ÁHeight
());

827 ià(!
	gtİ
) {

828 
	g_webV›w
.
süŞlBy
(0, 1000);

829 
	g_webV›w
.
süŞlBy
(0, 1000);

832 
Ãw
 
CommÚTextAùiÚs
(
g‘Aùiv™y
(), 
_hlEd™Ü
).
runAùiÚ
(CommÚTextAùiÚs.
ACTION_JUMP_BOTTOM_TOP
);

834  
	gŒue
;

836  
	gçl£
;

845 
public
 
Docum’t
 
g‘Docum’t
() {

846  
	g_docum’t
;

849 
public
 
SŒšg
 
g‘P©h
() {

850  
	gDocum’t
.
g‘P©h
(
_docum’t
);

853 
public
 
WebV›w
 
g‘Webv›w
() {

854  
	g_webV›w
;

857 
public
 
Docum’tEd™F¿gm’t
 
£tP»v›wFÏg
(
boŞ—n
 
´ev›w
) {

858 
	g_isP»v›wVisibË
 = 
´ev›w
;

859  
	gthis
;

862 
public
 
ÚToŞb¬T™ËClicked
(
fš®
 
ToŞb¬
 
toŞb¬
) {

863 ià(!
	g_isP»v›wVisibË
 && 
	g_‹xtFÜm©
 !ğ
nuÎ
) {

864 
_‹xtFÜm©
.
g‘TextAùiÚs
().
runAùiÚ
(
g‘SŒšg
(
R
.
¡ršg
.
tmaid_commÚ_toŞb¬_t™Ë_şicked_ed™_aùiÚ
));

	@app/src/main/java/net/gsantner/markor/activity/DocumentRelayActivity.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

3 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

5 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

11 
public
 cÏs 
	cDocum’tR–ayAùiv™y
 
ex‹nds
 
	mAùiv™y
 {

13 @
Ov”ride


14 
´Ùeùed
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

15 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

16 
	`ÏunchDocum’tAùiv™yAndFšish
(
	`g‘IÁ’t
());

19 @
Ov”ride


20 
´Ùeùed
 
	$ÚNewIÁ’t
(
IÁ’t
 
š‹Á
) {

21 
su³r
.
	`ÚNewIÁ’t
(
š‹Á
);

22 
	`ÏunchDocum’tAùiv™yAndFšish
(
š‹Á
);

23 
	}
}

25 
´iv©e
 
	$ÏunchDocum’tAùiv™yAndFšish
(
IÁ’t
 
š‹Á
) {

26 
IÁ’t
 
ÃwIÁ’t
 = 
Ãw
 
	`IÁ’t
(
š‹Á
);

27 
ÃwIÁ’t
.
	`£tCÏss
(
this
, 
Docum’tAùiv™y
.
şass
);

28 
Docum’tAùiv™y
.
	`Ïunch
(
this
, 
nuÎ
,‚uÎ,‚uÎ, 
ÃwIÁ’t
,‚ull);

29 
	`fšish
();

30 
	}
}

	@app/src/main/java/net/gsantner/markor/activity/DocumentShareIntoFragment.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

14 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tT¿n§ùiÚ
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nû
;

20 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûGroup
;

21 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

22 
impÜt
 
	gªdroid
.
	gut
.
	gP©‹ºs
;

23 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

25 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gNewFeDŸlog
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gP”missiÚCheck”
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
.
	gGsF¿gm’tBa£
;

39 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏšTextStuff
;

40 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gGsP»ã»nûF¿gm’tCom·t
;

41 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”Ad­‹r
;

42 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

44 
impÜt
 
	gjava
.
	gio
.
	gFe
;

45 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

46 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

48 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

49 
impÜt
 
	gbu‰”kniã
.
	gOnTextChªged
;

51 
public
 cÏs 
	cDocum’tSh¬eIÁoF¿gm’t
 
ex‹nds
 
	mGsF¿gm’tBa£
 {

52 
public
 
fš®
 
SŒšg
 
	mFRAGMENT_TAG
 = "DocumentShareIntoFragment";

53 
public
 
fš®
 
SŒšg
 
	mEXTRA_SHARED_TEXT
 = "EXTRA_SHARED_TEXT";

54 
´iv©e
 
Fe
 
	mwÜkšgDœ
;

56 
public
 
Docum’tSh¬eIÁoF¿gm’t
 
	$ÃwIn¡ªû
(
IÁ’t
 
š‹Á
) {

57 
Docum’tSh¬eIÁoF¿gm’t
 
f
 = 
Ãw
 
	`Docum’tSh¬eIÁoF¿gm’t
();

58 
BundË
 
¬gs
 = 
Ãw
 
	`BundË
();

60 
fš®
 
SŒšg
 
sh¬edText
 = 
	`fÜm©Lšk
(
š‹Á
.
	`g‘SŒšgExŒa
(
IÁ’t
.
EXTRA_SUBJECT
), iÁ’t.g‘SŒšgExŒa(IÁ’t.
EXTRA_TEXT
));

62 
Objeù
 
š‹ÁFe
 = 
š‹Á
.
	`g‘S”ŸlizabËExŒa
(
Docum’tIO
.
EXTRA_PATH
);

63 ià(
š‹ÁFe
 !ğ
nuÎ
 && 
š‹Á
.
	`g‘BoŞ—nExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
çl£
)) {

64 
f
.
wÜkšgDœ
 = (
Fe
è
š‹ÁFe
;

67 
¬gs
.
	`putSŒšg
(
EXTRA_SHARED_TEXT
, 
sh¬edText
);

68 
f
.
	`£tArgum’ts
(
¬gs
);

69  
f
;

72 @
	$BšdV›w
(
R
.
id
.
docum’t__äagm’t__sh¬e_što__highlightšg_ed™Ü
)

73 
HighlightšgEd™Ü
 
_hlEd™Ü
;

75 
´iv©e
 
Sh¬eIÁoImpÜtO±iÚsF¿gm’t
 
_sh¬eIÁoImpÜtO±iÚsF¿gm’t
;

77 
public
 
	$Docum’tSh¬eIÁoF¿gm’t
() {

78 
	}
}

80 @
Ov”ride


81 
´Ùeùed
 
	$g‘LayoutResId
() {

82  
R
.
Ïyout
.
docum’t__äagm’t__sh¬e_što
;

83 
	}
}

85 @
Ov”ride


86 
public
 
ÚV›wC»©ed
(@
NÚNuÎ
 
V›w
 
v›w
, 
BundË
 
§vedIn¡ªûS‹
) {

87 
	gsu³r
.
ÚV›wC»©ed
(
v›w
, 
§vedIn¡ªûS‹
);

88 
AµS‘tšgs
 
	gas
 = 
Ãw
 AµS‘tšgs(
v›w
.
g‘CÚ‹xt
());

89 
CÚ‹xtUts
 
	gcu
 = 
Ãw
 CÚ‹xtUts(
v›w
.
g‘CÚ‹xt
());

90 
	gcu
.
£tAµLªguage
(
as
.
g‘Lªguage
());

91 
SŒšg
 
	gsh¬edText
 = 
g‘Argum’ts
(è!ğ
nuÎ
 ? g‘Argum’ts().
g‘SŒšg
(
EXTRA_SHARED_TEXT
, "") : "";

92 
	gsh¬edText
 = 
sh¬edText
.
Œim
();

94 
	gv›w
.
£tBackgroundCŞÜ
(
as
.
g‘BackgroundCŞÜ
());

95 ià(
	g_§vedIn¡ªûS‹
 =ğ
nuÎ
) {

96 
F¿gm’tT¿n§ùiÚ
 
t
 = 
g‘ChdF¿gm’tMªag”
().
begšT¿n§ùiÚ
();

97 
	g_sh¬eIÁoImpÜtO±iÚsF¿gm’t
 = 
Sh¬eIÁoImpÜtO±iÚsF¿gm’t
.
ÃwIn¡ªû
(
sh¬edText
);

98 
	g_sh¬eIÁoImpÜtO±iÚsF¿gm’t
.
£tWÜkšgDœ
(
wÜkšgDœ
);

99 
	gt
.
»¶aû
(
R
.
id
.
docum’t__sh¬e_što__äagm’t__¶aûhŞd”_äagm’t
, 
_sh¬eIÁoImpÜtO±iÚsF¿gm’t
, 
Sh¬eIÁoImpÜtO±iÚsF¿gm’t
.
TAG
).
comm™
();

101 
	g_sh¬eIÁoImpÜtO±iÚsF¿gm’t
 = (
Sh¬eIÁoImpÜtO±iÚsF¿gm’t
è
g‘ChdF¿gm’tMªag”
().
fšdF¿gm’tByTag
(Sh¬eIÁoImpÜtO±iÚsF¿gm’t.
TAG
);

103 
	g_hlEd™Ü
.
£tText
(
sh¬edText
);

104 
	g_hlEd™Ü
.
£tBackgroundCŞÜ
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
v›w
.
g‘CÚ‹xt
(), 
as
.
isD¬kThemeEÇbËd
(è? 
R
.
cŞÜ
.
d¬k__background_2
 : R.cŞÜ.
light__background_2
));

105 
	g_hlEd™Ü
.
£tTextCŞÜ
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
v›w
.
g‘CÚ‹xt
(), 
as
.
isD¬kThemeEÇbËd
(è? 
R
.
cŞÜ
.
wh™e
 : R.cŞÜ.
d¬k_g»y
));

106 
	g_hlEd™Ü
.
£tTextSize
(
Ty³dV®ue
.
COMPLEX_UNIT_SP
, 
as
.
g‘FÚtSize
());

107 
	g_hlEd™Ü
.
£tTy³çû
(
Ty³çû
.
ü—‹
(
as
.
g‘FÚtFamy
(), Ty³çû.
NORMAL
));

108 ià(
	gsh¬edText
.
Œim
().
isEm±y
()è
	g_hlEd™Ü
.
»que¡Focus
();

111 @
	$OnTextChªged
(
v®ue
 = 
R
.
id
.
docum’t__äagm’t__sh¬e_što__highlightšg_ed™Ü
, 
ÿÎback
 = 
OnTextChªged
.
C®lback
.
TEXT_CHANGED
)

112 
public
 
	$ÚTextChªged
(
Ch¬Sequ’û
 
‹xt
) {

113 ià(
_sh¬eIÁoImpÜtO±iÚsF¿gm’t
 !ğ
nuÎ
) {

114 
_sh¬eIÁoImpÜtO±iÚsF¿gm’t
.
	`£tText
(
‹xt
.
	`toSŒšg
());

116 
	}
}

118 @
Ov”ride


119 
public
 
SŒšg
 
	$g‘F¿gm’tTag
() {

120  
FRAGMENT_TAG
;

121 
	}
}

123 @
Ov”ride


124 
public
 
boŞ—n
 
	$ÚBackP»s£d
() {

125  
çl£
;

126 
	}
}

129 
public
 
şass
 
Sh¬eIÁoImpÜtO±iÚsF¿gm’t
 
ex‹nds
 
	gGsP»ã»nûF¿gm’tCom·t
<
	gAµS‘tšgs
> {

130 
public
 
fš®
 
SŒšg
 
	gTAG
 = "ShareIntoImportOptionsFragment";

131 
´iv©e
 
fš®
 
SŒšg
 
	gEXTRA_TEXT
 = 
IÁ’t
.
EXTRA_TEXT
;

132 
´iv©e
 
Fe
 
	gwÜkšgDœ
;

134 @
Ov”ride


135 
public
 
boŞ—n
 
isDivid”VisibË
() {

136  
	gŒue
;

139 
public
 
Sh¬eIÁoImpÜtO±iÚsF¿gm’t
 
ÃwIn¡ªû
(
SŒšg
 
sh¬edText
) {

140 
Sh¬eIÁoImpÜtO±iÚsF¿gm’t
 
	gf
 = 
Ãw
 ShareIntoImportOptionsFragment();

141 
BundË
 
	gbundË
 = 
Ãw
 Bundle();

142 
	gbundË
.
putSŒšg
(
EXTRA_TEXT
, 
sh¬edText
);

143 
	gf
.
£tArgum’ts
(
bundË
);

144  
	gf
;

147 
public
 
£tWÜkšgDœ
(
Fe
 
dœ
) {

148 
	gwÜkšgDœ
 = 
dœ
;

151 
´iv©e
 
SŒšg
 
	g_sh¬edText
 = "";

153 @
Ov”ride


154 
public
 
g‘P»ã»nûResourûFÜInæ©iÚ
() {

155  
	gR
.
	gxml
.
	g´eçùiÚs_sh¬e_što
;

158 @
Ov”ride


159 
public
 
SŒšg
 
g‘F¿gm’tTag
() {

160  
	gTAG
;

163 @
Ov”ride


164 
´Ùeùed
 
AµS‘tšgs
 
g‘AµS‘tšgs
(
CÚ‹xt
 
cÚ‹xt
) {

165  
Ãw
 
AµS‘tšgs
(
cÚ‹xt
);

168 @
Ov”ride


169 
´Ùeùed
 
aá”OnC»©e
(
BundË
 
§vedIn¡ªûs
, 
CÚ‹xt
 
cÚ‹xt
) {

170 
	gsu³r
.
aá”OnC»©e
(
§vedIn¡ªûs
, 
cÚ‹xt
);

171 ià(
g‘Argum’ts
(è!ğ
nuÎ
) {

172 
_sh¬edText
 = 
g‘Argum’ts
().
g‘SŒšg
(
EXTRA_TEXT
, "");

174 ià(
	g§vedIn¡ªûs
 !ğ
nuÎ
) {

175 
_sh¬edText
 = 
§vedIn¡ªûs
.
g‘SŒšg
(
EXTRA_TEXT
, _sharedText);

177 
doUpd©eP»ã»nûs
();

180 @
Ov”ride


181 
public
 
ÚSaveIn¡ªûS‹
(
BundË
 
outS‹
) {

182 
	gsu³r
.
ÚSaveIn¡ªûS‹
(
outS‹
);

183 ià((
	g_sh¬edText
.
Ëngth
() * 1.05) < 8200) {

184 
	goutS‹
.
putSŒšg
(
EXTRA_TEXT
, 
_sh¬edText
);

188 @
Ov”ride


189 
public
 
IÁeg”
 
g‘IcÚTštCŞÜ
() {

190 
boŞ—n
 
	gd¬k
 = 
g‘AµS‘tšgs
(
g‘CÚ‹xt
()).
isD¬kThemeEÇbËd
();

191  
	g_cu
.
rcŞÜ
(
d¬k
 ? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
);

194 
public
 
£tText
(
SŒšg
 
‹xt
) {

195 
	g_sh¬edText
 = 
‹xt
;

196 ià(
isAdded
()) {

197 
doUpd©eP»ã»nûs
();

201 
´iv©e
 
­³ndToExi¡šgDocum’t
(
fš®
 
Fe
 
fe
, fš® 
SŒšg
 
£·¿tÜ
, fš® 
boŞ—n
 
showEd™Ü
) {

202 
BundË
 
	g¬gs
 = 
Ãw
 Bundle();

203 
	g¬gs
.
putS”ŸlizabË
(
Docum’tIO
.
EXTRA_PATH
, 
fe
);

204 
	g¬gs
.
putBoŞ—n
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
çl£
);

205 
Docum’t
 
	gdocum’t
 = 
Docum’tIO
.
lßdDocum’t
(
g‘CÚ‹xt
(), 
¬gs
, 
nuÎ
);

206 
SŒšg
 
	gŒimmedCÚ‹Á
 = 
docum’t
.
g‘CÚ‹Á
().
Œim
();

207 
SŒšg
 
	gcu¼’tCÚ‹Á
 = 
TextUts
.
isEm±y
(
ŒimmedCÚ‹Á
) ? "" : (trimmedContent + "\n");

208 
	gDocum’tIO
.
§veDocum’t
(
docum’t
, 
cu¼’tCÚ‹Á
 + 
£·¿tÜ
 + 
_sh¬edText
, 
Ãw
 
Sh¬eUt
(
g‘CÚ‹xt
()), getContext());

209 ià(
	gshowEd™Ü
) {

210 
showInDocum’tAùiv™y
(
docum’t
);

213 ià(
	gfe
 !ğ
nuÎ
) {

214 
_­pS‘tšgs
.
addReûÁDocum’t
(
fe
);

218 
´iv©e
 
showAµ’dDŸlog
(
keyId
) {

219 
fš®
 
Fe
 
	g¡¬tFŞd”
;

220 
	gkeyId
) {

221 
	gR
.
	g¡ršg
.
	g´ef_key__çvour™e_fes
: {

222 
¡¬tFŞd”
 = 
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_FAVOURITE
;

225 
	gR
.
	g¡ršg
.
	g´ef_key__pİuÏr_docum’ts
: {

226 
¡¬tFŞd”
 = 
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_POPULAR
;

229 
	gR
.
	g¡ršg
.
	g´ef_key__»ûÁ_docum’ts
: {

230 
¡¬tFŞd”
 = 
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_RECENTS
;

234 
¡¬tFŞd”
 = 
_­pS‘tšgs
.
g‘NÙebookDœeùÜy
();

238 
	gFesy¡emV›w”C»©Ü
.
showFeDŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

239 @
Ov”ride


240 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

241 
dİt
.
roÙFŞd”
 = 
¡¬tFŞd”
;

244 @
Ov”ride


245 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

246 
­³ndToExi¡šgDocum’t
(
fe
, 
g‘S•¬©Ü
(
_sh¬edText
), 
Œue
);

249 }, 
g‘F¿gm’tMªag”
(), 
g‘Aùiv™y
(), 
Fesy¡emV›w”C»©Ü
.
IsMimeText
);

253 
´iv©e
 
ü—‹NewDocum’t
() {

254 
	gFesy¡emV›w”C»©Ü
.
showFŞd”DŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

255 @
Ov”ride


256 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

257 
dİt
.
roÙFŞd”
 = (
wÜkšgDœ
 =ğ
nuÎ
è? 
_­pS‘tšgs
.
g‘NÙebookDœeùÜy
() : workingDir;

260 @
Ov”ride


261 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
dœ
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

262 
NewFeDŸlog
 
dŸlog
 = NewFeDŸlog.
ÃwIn¡ªû
(
dœ
, 
çl£
, (
ok
, 
f
) -> {

263 ià(
ok
 && 
f
.
isFe
()) {

264 
­³ndToExi¡šgDocum’t
(
f
, "", 
Œue
);

267 
dŸlog
.
show
(
g‘Aùiv™y
().
g‘SuµÜtF¿gm’tMªag”
(), 
NewFeDŸlog
.
FRAGMENT_TAG
);

269 }, 
g‘F¿gm’tMªag”
(), 
g‘Aùiv™y
());

272 
´iv©e
 
showInDocum’tAùiv™y
(
Docum’t
 
docum’t
) {

273 ià(
g‘Aùiv™y
(è
š¡ªûof
 
	gDocum’tAùiv™y
) {

274 
Docum’tAùiv™y
 
	ga
 = (Docum’tAùiv™yè
g‘Aùiv™y
();

275 
	ga
.
£tDocum’t
(
docum’t
);

276 
	ga
.
showTextEd™Ü
(
docum’t
, 
nuÎ
, 
çl£
, 
_­pS‘tšgs
.
g‘Docum’tP»v›wS‹
(
Docum’t
.
g‘P©h
(document)),‚ull);

280 @
	gOv”ride


281 @
Suµ»ssW¬nšgs
({"ConstantConditions", "ConstantIfStatement", "StatementWithEmptyBody"})

282 
public
 
BoŞ—n
 
ÚP»ã»nûClicked
(
P»ã»nû
 
´eã»nû
, 
SŒšg
 
key
, 
keyId
) {

283 
AµS‘tšgs
 
	g­pS‘tšgs
 = 
Ãw
 AµS‘tšgs(
g‘Aùiv™y
().
g‘AµliÿtiÚCÚ‹xt
());

284 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
g‘Aùiv™y
());

285 
Sh¬eUt
 
	gshu
 = 
Ãw
 Sh¬eUt(
g‘CÚ‹xt
());

286 
SŒšg
 
	gtmps
;

288 
boŞ—n
 
	gşo£
 = 
çl£
;

289 
	gkeyId
) {

290 
	gR
.
	g¡ršg
.
	g´ef_key__sh¬e_što__şbßrd
: {

291 
shu
.
£tClbßrd
(
_sh¬edText
);

292 
	gşo£
 = 
Œue
;

295 
	gR
.
	g¡ršg
.
	g´ef_key__sh¬e_što__ü—‹_docum’t
: {

296 ià(
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

297 
ü—‹NewDocum’t
();

299  
	gŒue
;

301 
	gR
.
	g¡ršg
.
	g´ef_key__çvour™e_fes
:

302 
R
.
¡ršg
.
´ef_key__pİuÏr_docum’ts
:

303 
R
.
¡ršg
.
´ef_key__»ûÁ_docum’ts
:

304 
R
.
¡ršg
.
´ef_key__sh¬e_što__exi¡šg_docum’t
: {

305 ià(
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

306 
showAµ’dDŸlog
(
keyId
);

308  
	gŒue
;

310 
	gR
.
	g¡ršg
.
	g´ef_key__sh¬e_što__quicknÙe
: {

311 ià(
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

312 
­³ndToExi¡šgDocum’t
(
_­pS‘tšgs
.
g‘QuickNÙeFe
(), 
g‘S•¬©Ü
(
_sh¬edText
), 
çl£
);

313 
	gşo£
 = 
Œue
;

317 
	gR
.
	g¡ršg
.
	g´ef_key__sh¬e_što__todo
: {

318 ià(
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

319 
SŒšg
 
£p
 = "\n";

320 ià(
	g­pS‘tšgs
.
isTodoS¹TasksW™hTodaysD©eEÇbËd
()) {

321 
	g£p
 = 
TodoTxtTask
.
g‘Today
() + " ";

323 ià(
	g­pS‘tšgs
.
isTodoNewTaskW™hHuuidEÇbËd
()) {

324 
	g£p
 +ğ"huuid:" + 
PÏšTextStuff
.
ÃwHuuid
(
­pS‘tšgs
.
g‘HuuidDeviûId
()) + " ";

325 
	g£p
 = 
£p
.
»¶aû
("\n", "");

327 
­³ndToExi¡šgDocum’t
(
_­pS‘tšgs
.
g‘TodoFe
(), 
£p
, 
çl£
);

328 
	gşo£
 = 
Œue
;

332 
	gR
.
	g¡ršg
.
	g´ef_key__sh¬e_što__İ’_š_brow£r
: {

333 ià((
tmps
 = 
PÏšTextStuff
.
ŒyExŒaùU¾AroundPos
(
_sh¬edText
, _sh¬edText.
Ëngth
())è!ğ
nuÎ
) {

334 
Ãw
 
CÚ‹xtUts
(
g‘Aùiv™y
()).
İ’Web·geInEx‹º®Brow£r
(
tmps
);

335 
	gşo£
 = 
Œue
;

339 
	gR
.
	g¡ršg
.
	g´ef_key__sh¬e_što__»sh¬e
: {

340 
shu
.
sh¬eText
(
_sh¬edText
, 
nuÎ
);

341 
	gşo£
 = 
Œue
;

344 
	gR
.
	g¡ršg
.
	g´ef_key__sh¬e_što__ÿËnd¬_ev’t
: {

345 ià(
shu
.
ü—‹C®’d¬Aµoštm’t
(
nuÎ
, 
_sh¬edText
,‚ull)) {

346 
	gşo£
 = 
Œue
;

348 
	gTß¡
.
makeText
(
g‘CÚ‹xt
(), 
R
.
¡ršg
.
no_ÿËnd¬_­p_is_š¡®Ëd
, 
Tß¡
.
LENGTH_SHORT
).
show
();

354 ià(
	g´eã»nû
.
g‘Key
().
¡¬tsW™h
("/")) {

355 ià(
	g³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

356 
­³ndToExi¡šgDocum’t
(
Ãw
 
Fe
(
´eã»nû
.
g‘Key
()), 
g‘S•¬©Ü
(
_sh¬edText
), 
Œue
);

357 
	gşo£
 = 
çl£
;

361 ià(
	gşo£
) {

362 ià(
g‘Aùiv™y
(è!ğ
nuÎ
) {

363 
g‘Aùiv™y
().
fšish
();

365  
	gŒue
;

367  
	gnuÎ
;

370 @
Ov”ride


371 
public
 
doUpd©eP»ã»nûs
() {

372 
	gsu³r
.
doUpd©eP»ã»nûs
();

373 
boŞ—n
 
	gmaybeHasWebU¾
 = 
_sh¬edText
.
cÚšs
("http://") || _sharedText.contains("https://");

375 
£tP»ã»nûVisibË
(
R
.
¡ršg
.
´ef_key__sh¬e_što__todo
, !
_sh¬edText
.
Œim
().
cÚšs
("\n"è&& _sh¬edText.
Ëngth
() < 300);

376 
£tP»ã»nûVisibË
(
R
.
¡ršg
.
´ef_key__sh¬e_što__İ’_š_brow£r
, 
maybeHasWebU¾
);

379 
´iv©e
 
addDocum’tToP»fgroup
(
SŒšg
 
f•©h
, 
fš®
 
P»ã»nûGroup
 
´efGroup
) {

380 
Fe
 
	gfe
 = 
Ãw
 Fe(
f•©h
);

381 ià(
	gfe
.
exi¡s
()) {

382 
P»ã»nû
 
	g´efd
 = 
Ãw
 P»ã»nû(
´efGroup
.
g‘CÚ‹xt
());

383 
	g´efd
.
£tT™Ë
(
fe
.
g‘Name
());

384 
	g´efd
.
£tSumm¬y
(
fe
.
g‘P¬’t
());

385 
	g´efd
.
£tKey
(
fe
.
g‘AbsŞu‹P©h
());

386 
­³ndP»ã»nû
(
´efd
, 
´efGroup
);

398 
´iv©e
 
SŒšg
 
	$fÜm©Lšk
(
SŒšg
 
‹xt
, SŒšg 
lšk
) {

399 
lšk
 =†šk =ğ
nuÎ
 ? "" :†ink;

400 
‹xt
 =exˆ=ğ
nuÎ
 ? "" :ext;

402 
fš®
 
SŒšg
 
fÜm©‹dLšk
;

403 
fš®
 
M©ch”
 
lškM©ch
 = 
P©‹ºs
.
WEB_URL
.
	`m©ch”
(
lšk
.
	`Œim
());

404 ià(
lškM©ch
.
	`m©ches
(è&& !
lšk
.
	`Œim
().m©ches("\\s"è&& !
‹xt
.trim().matches("\\s")) {

406 
Œy
 {

407 
‹xt
 = 
TextUts
.
	`isEm±y
Ñextè? 
lškM©ch
.
	`group
(4).
	`»¶aûAÎ
("\\.$", "") :ext;

408 } 
	`ÿtch
 (
IÎeg®S‹Exû±iÚ
 | 
IndexOutOfBoundsExû±iÚ
 
e
) {

409 
‹xt
 = "";

412 
fÜm©‹dLšk
 = 
SŒšg
.
	`fÜm©
("[%s](%s )",

413 
‹xt
.
	`Œim
().
	`»¶aû
("[", "\\[").replace("]", "\\]"),

414 
lšk
.
	`Œim
().
	`»¶aû
("(", "\\(").replace(")", "\\)")

417 
fÜm©‹dLšk
 = 
‹xt
 + " " + 
lšk
;

419  
fÜm©‹dLšk
;

420 
	}
}

430 
´iv©e
 
SŒšg
 
	$g‘S•¬©Ü
(
fš®
 
SŒšg
 
s
) {

431 
Ëngth
 = 0;

432 ià(!
TextUts
.
	`isEm±y
(
s
)) {

433 
Ëngth
 = 
s
.
	`Ëngth
();

435 
fš®
 
M©ch”
 
m©ch
 = 
P©‹º
.
	`compe
("\\[(.*)(?<!\\\\)\\]\\(.*(?<!\\\\)\\)").
	`m©ch”
(
s
);

436 ià(
m©ch
.
	`m©ches
()) {

437 
Ëngth
 = 
m©ch
.
	`group
(1).
	`Ëngth
();

440  (
Ëngth
 > 50) ? "\n----\n" : "\n";

441 
	}
}

	@app/src/main/java/net/gsantner/markor/activity/IntroActivity.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

3 
impÜt
 
	gªdroid
.
	gMªiã¡
;

4 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

7 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

8 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

9 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûMªag”
;

11 
impÜt
 
	gcom
.
	gg™hub
.
	g·ŞÜÙŞo
.
	g­pšŒo
.
	gAµIÁro
;

12 
impÜt
 
	gcom
.
	gg™hub
.
	g·ŞÜÙŞo
.
	g­pšŒo
.
	gAµIÁroF¿gm’t
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gP”missiÚCheck”
;

19 
public
 cÏs 
	cIÁroAùiv™y
 
ex‹nds
 
	mAµIÁro
 {

20 
´iv©e
 
fš®
 
SŒšg
 
	mPREF_KEY_WAS_SHOWN
 = 
IÁroAùiv™y
.
şass
.
g‘CªÚiÿlName
() + "was_shown";

22 
public
 
	$İtS¹
(
Aùiv™y
 
aùiveAùiv™y
) {

23 
Sh¬edP»ã»nûs
 
g‘P»fs
 = 
P»ã»nûMªag”
.
	`g‘DeçuÉSh¬edP»ã»nûs
(
aùiveAùiv™y
.
	`g‘Ba£CÚ‹xt
());

24 
boŞ—n
 
wasShownY‘
 = 
g‘P»fs
.
	`g‘BoŞ—n
(
PREF_KEY_WAS_SHOWN
, 
çl£
);

25 ià(!
wasShownY‘
) {

26 
aùiveAùiv™y
.
	`¡¬tAùiv™y
(
Ãw
 
	`IÁ’t
×ùiveAùiv™y, 
IÁroAùiv™y
.
şass
));

30 @
Ov”ride


31 
public
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

32 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

33 
Ãw
 
	`CÚ‹xtUts
(
this
).
	`£tAµLªguage
(
AµS‘tšgs
.
	`g‘
().
	`g‘Lªguage
());

37 
	`addSlide
(
AµIÁroF¿gm’t
.
	`ÃwIn¡ªû
(
	`g‘SŒšg
(
R
.
¡ršg
.
maš_v›w
), g‘SŒšg(R.¡ršg.
nÙebook_is_the_home_of_your_fes
), R.
d¿wabË
.
sü“n1_maš_v›w
, 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
	`g‘AµliÿtiÚCÚ‹xt
(), R.
cŞÜ
.
´im¬y
)));

38 
	`addSlide
(
AµIÁroF¿gm’t
.
	`ÃwIn¡ªû
(
	`g‘SŒšg
(
R
.
¡ršg
.
ed™Ü
), g‘SŒšg(R.¡ršg.
”rÜ_Ãed_¡Üage_³rmissiÚ_to_§ve_docum’ts
), R.
d¿wabË
.
sü“n2_ed™Ü
, 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
	`g‘AµliÿtiÚCÚ‹xt
(), R.
cŞÜ
.
´im¬y
)));

39 
	`addSlide
(
AµIÁroF¿gm’t
.
	`ÃwIn¡ªû
(
	`g‘SŒšg
(
R
.
¡ršg
.
v›w
), "", R.
d¿wabË
.
sü“n3_v›w
, 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
	`g‘AµliÿtiÚCÚ‹xt
(), R.
cŞÜ
.
´im¬y
)));

40 
	`addSlide
(
AµIÁroF¿gm’t
.
	`ÃwIn¡ªû
(
	`g‘SŒšg
(
R
.
¡ršg
.
sh¬e
è+ " -> " + g‘SŒšg(R.¡ršg.
­p_Çme
), "", R.
d¿wabË
.
sü“n4_sh¬e_što
, 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
	`g‘AµliÿtiÚCÚ‹xt
(), R.
cŞÜ
.
´im¬y
)));

41 
	`addSlide
(
AµIÁroF¿gm’t
.
	`ÃwIn¡ªû
(
	`g‘SŒšg
(
R
.
¡ršg
.
todo
), g‘SŒšg(R.¡ršg.
todo_is_the_—s›¡_way_
), R.
d¿wabË
.
ic_Ïunch”_todo
, 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
	`g‘AµliÿtiÚCÚ‹xt
(), R.
cŞÜ
.
´im¬y
)));

42 
	`addSlide
(
AµIÁroF¿gm’t
.
	`ÃwIn¡ªû
(
	`g‘SŒšg
(
R
.
¡ršg
.
quicknÙe
), g‘SŒšg(R.¡ršg.
quicknÙe_is_the_ç¡e¡_İtiÚ_to_wr™e_down_nÙes
), R.
d¿wabË
.
ic_Ïunch”_quicknÙe
, 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
	`g‘AµliÿtiÚCÚ‹xt
(), R.
cŞÜ
.
´im¬y
)));

45 
	`askFÜP”missiÚs
(
Ãw
 
SŒšg
[]{
Mªiã¡
.
³rmissiÚ
.
WRITE_EXTERNAL_STORAGE
}, 
	`g‘Slides
().
	`size
());

46 
	`showSkBu‰Ú
(
çl£
);

47 
	`£tNextPageSweLock
(
çl£
);

48 
	`£tSweLock
(
çl£
);

49 
	}
}

51 @
Ov”ride


52 
public
 
	$ÚSkP»s£d
() {

53 ià(
Ãw
 
	`P”missiÚCheck”
(
this
).
	`doIfExtStÜageP”missiÚG¿Áed
()) {

54 
	`fšish
();

56 ià(
	`g‘Pag”
().
	`g‘Cu¼’tI‹m
(è< 
	`g‘Slides
().
	`size
()) {

57 
i
 = 
	`g‘Pag”
().
	`g‘Cu¼’tI‹m
(); i < 
	`g‘Slides
().
	`size
(); i++) {

58 
	`g‘Pag”
().
	`goToNextSlide
();

61 
	}
}

63 @
Ov”ride


64 
public
 
	$ÚNextP»s£d
() {

65 
	}
}

67 @
Ov”ride


68 
public
 
	$ÚDÚeP»s£d
() {

69 
P»ã»nûMªag”
.
	`g‘DeçuÉSh¬edP»ã»nûs
(
	`g‘Ba£CÚ‹xt
()).
	`ed™
().
	`putBoŞ—n
(
PREF_KEY_WAS_SHOWN
, 
Œue
).
	`­¶y
();

70 
	`fšish
();

71 
	}
}

73 @
Ov”ride


74 
public
 
	$ÚSlideChªged
() {

75 ià(
	`g‘Pag”
().
	`g‘Cu¼’tI‹m
() == 2) {

76 
Ãw
 
	`P”missiÚCheck”
(
this
).
	`doIfExtStÜageP”missiÚG¿Áed
();

78 
	}
}

	@app/src/main/java/net/gsantner/markor/activity/MainActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

12 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™yMªag”
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

15 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

16 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

17 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

18 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

20 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gdesign
.
	gwidg‘
.
	gBÙtomNavig©iÚV›w
;

21 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gdesign
.
	gwidg‘
.
	gFlßtšgAùiÚBu‰Ú
;

22 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’t
;

23 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tMªag”
;

24 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tPag”Ad­‹r
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

26 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gv›w
.
	gV›wPag”
;

27 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

28 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

29 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

30 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

31 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

32 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

33 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

35 
impÜt
 
	gcom
.
	gpix¶ic™y
.
	gg’”©e
.
	gR©e
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gBudCÚfig
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

39 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

40 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

41 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gNewFeDŸlog
;

42 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAùiv™yUts
;

43 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

44 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gP”missiÚCheck”
;

45 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

46 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
.
	gGsF¿gm’tBa£
;

47 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	gm¬kdown
.
	gSim¶eM¬kdownP¬£r
;

48 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”Ad­‹r
;

49 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

50 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”F¿gm’t
;

52 
impÜt
 
	gjava
.
	gio
.
	gFe
;

53 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

54 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

55 
impÜt
 
	gjava
.
	gut
.
	gLškedHashM­
;

56 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	gTimeUn™
;

58 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

59 
impÜt
 
	gbu‰”kniã
.
	gBu‰”Kniã
;

60 
impÜt
 
	gbu‰”kniã
.
	gOnClick
;

61 
impÜt
 
	gbu‰”kniã
.
	gOnLÚgClick
;

62 
impÜt
 
	gbu‰”kniã
.
	gOnPageChªge
;

64 
public
 
şass
 
MašAùiv™y
 
ex‹nds
 
AµAùiv™yBa£
 
im¶em’ts
 
	gFesy¡emV›w”F¿gm’t
.
	gFesy¡emF¿gm’tO±iÚsLi¡’”
, 
	gBÙtomNavig©iÚV›w
.
	gOnNavig©iÚI‹mS–eùedLi¡’”
 {

66 
public
 
boŞ—n
 
	gIS_DEBUG_ENABLED
 = 
çl£
;

68 @
BšdV›w
(
R
.
id
.
toŞb¬
)

69 
public
 
ToŞb¬
 
	g_toŞb¬
;

71 @
BšdV›w
(
R
.
id
.
bÙtom_Çvig©iÚ_b¬
)

72 
BÙtomNavig©iÚV›w
 
	g_bÙtomNav
;

74 @
BšdV›w
(
R
.
id
.
çb_add_Ãw_™em
)

75 
FlßtšgAùiÚBu‰Ú
 
	g_çb
;

77 @
BšdV›w
(
R
.
id
.
maš__v›w_·g”_cÚš”
)

78 
V›wPag”
 
	g_v›wPag”
;

79 
´iv©e
 
SeùiÚsPag”Ad­‹r
 
	g_v›wPag”Ad­‹r
;

81 
´iv©e
 
boŞ—n
 
	g_doubËBackToEx™P»s£dOnû
;

82 
´iv©e
 
M’uI‹m
 
	g_Ï¡BÙtomM’uI‹m
;

84 
´iv©e
 
AµS‘tšgs
 
	g_­pS‘tšgs
;

85 
´iv©e
 
Aùiv™yUts
 
	g_cÚ‹xtUts
;

86 
´iv©e
 
Sh¬eUt
 
	g_sh¬eUt
;

88 @
Suµ»ssLšt
("SdCardPath")

89 @
Ov”ride


90 
´Ùeùed
 
ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

91 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
LOLLIPOP
) {

92 
g‘Wšdow
().
£tEx™T¿ns™iÚ
(
nuÎ
);

94 
	g_­pS‘tšgs
 = 
Ãw
 
AµS‘tšgs
(
this
);

95 
	g_cÚ‹xtUts
 = 
Ãw
 
Aùiv™yUts
(
this
);

96 
	g_sh¬eUt
 = 
Ãw
 
Sh¬eUt
(
this
);

97 
	g_cÚ‹xtUts
.
£tAµLªguage
(
_­pS‘tšgs
.
g‘Lªguage
());

98 ià(
	g_­pS‘tšgs
.
isOv”v›wStusB¬Hidd’
()) {

99 
g‘Wšdow
().
£tFÏgs
(
WšdowMªag”
.
LayoutP¬ams
.
FLAG_FULLSCREEN
, WindowManager.LayoutParams.FLAG_FULLSCREEN);

101 
£tTheme
(
_­pS‘tšgs
.
isD¬kThemeEÇbËd
(è? 
R
.
¡yË
.
AµTheme_D¬k
 : R.¡yË.
AµTheme_Light
);

102 
	gsu³r
.
ÚC»©e
(
§vedIn¡ªûS‹
);

103 
£tCÚ‹ÁV›w
(
R
.
Ïyout
.
maš__aùiv™y
);

104 
	gBu‰”Kniã
.
bšd
(
this
);

105 
£tSuµÜtAùiÚB¬
(
_toŞb¬
);

106 
	g_toŞb¬
.
£tOnClickLi¡’”
(
this
::
ÚToŞb¬T™ËClicked
);

108 
İtShowR©e
();

110 
	gŒy
 {

111 ià(
	g_­pS‘tšgs
.
isAµCu¼’tV”siÚFœ¡S¹
(
Œue
)) {

112 
Sim¶eM¬kdownP¬£r
 
	gsmp
 = Sim¶eM¬kdownP¬£r.
g‘
().
£tDeçuÉSmpF‹r
(Sim¶eM¬kdownP¬£r.
FILTER_ANDROID_TEXTVIEW
);

113 
SŒšg
 
	ghtml
 = "";

114 
	ghtml
 +ğ
smp
.
·r£
(
g‘SŒšg
(
R
.
¡ršg
.
cİyright_liûn£_‹xt_officŸl
).
»¶aû
("\n", " \n"), "").
g‘Html
();

115 
	ghtml
 +ğ"<br/><br/><br/><big><big>" + 
g‘SŒšg
(
R
.
¡ršg
.
chªg–og
è+ "</big></big><br/>" + 
smp
.
·r£
(
g‘Resourûs
().
İ’RawResourû
(R.
¿w
.chªg–og), "", 
Sim¶eM¬kdownP¬£r
.
FILTER_ANDROID_TEXTVIEW
);

116 
	ghtml
 +ğ"<br/><br/><br/><big><big>" + 
g‘SŒšg
(
R
.
¡ršg
.
liûn£s
è+ "</big></big><br/>" + 
smp
.
·r£
(
g‘Resourûs
().
İ’RawResourû
(R.
¿w
.
liûn£s_3rd_·¹y
), "").
g‘Html
();

117 
Aùiv™yUts
 
	g_au
 = 
Ãw
 Aùiv™yUts(
this
);

118 
	g_au
.
showDŸlogW™hHtmlTextV›w
(0, 
html
);

120 } 
ÿtch
 (
IOExû±iÚ
 
e
) {

121 
	ge
.
´štSckT¿û
();

124 
	gIÁroAùiv™y
.
İtS¹
(
this
);

127 
	g_v›wPag”Ad­‹r
 = 
Ãw
 
SeùiÚsPag”Ad­‹r
(
g‘SuµÜtF¿gm’tMªag”
());

128 
	g_v›wPag”
.
£tAd­‹r
(
_v›wPag”Ad­‹r
);

129 
	g_v›wPag”
.
£tOffsü“nPageLim™
(4);

130 
	g_bÙtomNav
.
£tOnNavig©iÚI‹mS–eùedLi¡’”
(
this
);

133 ià(
	gBudCÚfig
.
	gIS_TEST_BUILD
 && 
	gçl£
) {

134 
	gDocum’tAùiv™y
.
Ïunch
(
this
, 
Ãw
 
Fe
("/sdÿrd/Docum’ts/mÜdÜ/¯-b—m”.md"), 
çl£
, 
Œue
, 
nuÎ
,‚ull);

137 (
Ãw
 
Aùiv™yUts
(
this
)).
­¶yS³cŸlLaunch”sVisib™y
(
_­pS‘tšgs
.
isS³cŸlFeLaunch”sEÇbËd
());

139 
	g_bÙtomNav
.
po¡D–ayed
(() -> {

140 ià(
_­pS‘tšgs
.
g‘AµS¹upTab
(è!ğ
R
.
id
.
Çv_nÙebook
) {

141 
_bÙtomNav
.
£tS–eùedI‹mId
(
_­pS‘tšgs
.
g‘AµS¹upTab
());

146 
´iv©e
 
İtShowR©e
() {

147 
Ãw
 
	gR©e
.
Bud”
(
this
)

148 .
£tTrigg”CouÁ
(4)

149 .
£tMšimumIn¡®lTime
((è
TimeUn™
.
MINUTES
.
toMlis
(30))

150 .
£tF“dbackAùiÚ
((è-> 
Ãw
 
Aùiv™yUts
(
this
).
showGoogËPÏyEÁryFÜThisAµ
())

151 .
bud
().
couÁ
().
showReque¡
();

154 
public
 
ÚReque¡P”missiÚsResuÉ
(
»que¡Code
, @
NÚNuÎ
 
SŒšg
[] 
³rmissiÚs
, @NÚNuÎ [] 
g¿ÁResuÉs
) {

155 
	gsu³r
.
ÚReque¡P”missiÚsResuÉ
(
»que¡Code
, 
³rmissiÚs
, 
g¿ÁResuÉs
);

156 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
this
);

157 
	g³rmc
.
checkP”missiÚResuÉ
(
»que¡Code
, 
³rmissiÚs
, 
g¿ÁResuÉs
);

161 @
Ov”ride


162 
public
 
boŞ—n
 
ÚO±iÚsI‹mS–eùed
(
M’uI‹m
 
™em
) {

163 
	gsu³r
.
ÚO±iÚsI‹mS–eùed
(
™em
);

164 
AµS‘tšgs
 
	gas
 = 
Ãw
 AµS‘tšgs(
this
);

165 
	g™em
.
g‘I‹mId
()) {

166 
	gR
.
	gid
.
	gaùiÚ_´ev›w
: {

167 
Fe
 
f
 = 
_bÙtomNav
.
g‘S–eùedI‹mId
(è=ğ
R
.
id
.
Çv_quicknÙe
 ? 
as
.
g‘QuickNÙeFe
(è:‡s.
g‘TodoFe
();

168 
	gDocum’tAùiv™y
.
Ïunch
(
MašAùiv™y
.
this
, 
f
, 
çl£
, 
Œue
, 
nuÎ
,‚ull);

169  
	gŒue
;

171 
	gR
.
	gid
.
	gaùiÚ_£‰šgs
: {

172 
Ãw
 
Aùiv™yUts
(
this
).
ªim©eToAùiv™y
(
S‘tšgsAùiv™y
.
şass
, 
çl£
, 
nuÎ
);

173  
	gŒue
;

176  
	gçl£
;

180 @
Ov”ride


181 
public
 
boŞ—n
 
ÚC»©eO±iÚsM’u
(
fš®
 
M’u
 
m’u
) {

182 
g‘M’uInæ©”
().
šæ©e
(
R
.
m’u
.
maš__m’u
, menu);

184 
	gm’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_£‰šgs
).
£tVisibË
(
_­pS‘tšgs
.
isShowS‘tšgsO±iÚInMašToŞb¬
());

186 
	g_cÚ‹xtUts
.
tštM’uI‹ms
(
m’u
, 
Œue
, 
CŞÜ
.
WHITE
);

187 
	g_cÚ‹xtUts
.
£tSubM’uIcÚsVisibl™y
(
m’u
, 
Œue
);

188  
	gŒue
;

191 @
Ov”ride


192 
´Ùeùed
 
ÚResume
() {

194 
	gsu³r
.
ÚResume
();

195 
	gIS_DEBUG_ENABLED
 = 
BudCÚfig
.
IS_TEST_BUILD
;

196 ià(
	g_­pS‘tšgs
.
isReü—‹MašRequœed
()) {

198 
IÁ’t
 
	gš‹Á
 = 
g‘IÁ’t
();

199 
ov”rideP’dšgT¿ns™iÚ
(0, 0);

200 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_NO_ANIMATION
);

201 
fšish
();

202 
ov”rideP’dšgT¿ns™iÚ
(0, 0);

203 
¡¬tAùiv™y
(
š‹Á
);

206 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
LOLLIPOP
 && 
_­pS‘tšgs
.
isMuÉiWšdowEÇbËd
()) {

207 
£tTaskDesütiÚ
(
Ãw
 
Aùiv™yMªag”
.
TaskDesütiÚ
(
g‘SŒšg
(
R
.
¡ršg
.
­p_Çme
)));

210 
	gcŞÜ
 = 
CÚ‹xtCom·t
.
g‘CŞÜ
(
this
, 
_­pS‘tšgs
.
isD¬kThemeEÇbËd
()

211 ? 
R
.
cŞÜ
.
d¬k__background
 : R.cŞÜ.
light__background
);

212 
	g_v›wPag”
.
g‘RoÙV›w
().
£tBackgroundCŞÜ
(
cŞÜ
);

214 ià(
	g_­pS‘tšgs
.
isK“pSü“nOn
()) {

215 
g‘Wšdow
().
addFÏgs
(
WšdowMªag”
.
LayoutP¬ams
.
FLAG_KEEP_SCREEN_ON
);

217 
g‘Wšdow
().
ş—rFÏgs
(
WšdowMªag”
.
LayoutP¬ams
.
FLAG_KEEP_SCREEN_ON
);

221 @
	gOv”ride


222 @
Suµ»ssW¬nšgs
("unused")

223 
´Ùeùed
 
ÚAùiv™yResuÉ
(
»que¡Code
, 
»suÉCode
, 
IÁ’t
 
d©a
) {

225 
Objeù
 
	g»suÉ
 = 
_sh¬eUt
.
exŒaùResuÉFromAùiv™yResuÉ
(
»que¡Code
, 
»suÉCode
, 
d©a
, 
this
);

228 
	gŒy
 {

229 
Fesy¡emV›w”F¿gm’t
 
	gäag
 = (Fesy¡emV›w”F¿gm’tè
_v›wPag”Ad­‹r
.
g‘F¿gm’tByTag
(Fesy¡emV›w”F¿gm’t.
FRAGMENT_TAG
);

230 
	gäag
.
g‘Ad­‹r
().
»cÚfigu»
();

231 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

232 
»ü—‹
();

236 @
OnLÚgClick
({
R
.
id
.
çb_add_Ãw_™em
})

237 
public
 
boŞ—n
 
ÚLÚgClickFab
(
V›w
 
v›w
) {

238 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
this
);

239 
Fesy¡emV›w”F¿gm’t
 
	gfsF¿g
 = (Fesy¡emV›w”F¿gm’tè
_v›wPag”Ad­‹r
.
g‘F¿gm’tByTag
(Fesy¡emV›w”F¿gm’t.
FRAGMENT_TAG
);

240 ià(
	gfsF¿g
 !ğ
nuÎ
 && 
³rmc
.
mkdœIfStÜageP”missiÚG¿Áed
()) {

241 
fsF¿g
.
g‘Ad­‹r
().
£tCu¼’tFŞd”
(fsF¿g.
g‘Cu¼’tFŞd”
().
equ®s
(
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_RECENTS
)

242 ? 
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_FAVOURITE
 : Fesy¡emV›w”Ad­‹r.
VIRTUAL_STORAGE_RECENTS


243 , 
Œue
);

245  
	gŒue
;

248 @
Suµ»ssW¬nšgs
("SwitchStatementWithTooFewBranches")

249 @
OnClick
({
R
.
id
.
çb_add_Ãw_™em
})

250 
public
 
ÚClickFab
(
V›w
 
v›w
) {

251 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
this
);

252 
Fesy¡emV›w”F¿gm’t
 
	gfsF¿g
 = (Fesy¡emV›w”F¿gm’tè
_v›wPag”Ad­‹r
.
g‘F¿gm’tByTag
(Fesy¡emV›w”F¿gm’t.
FRAGMENT_TAG
);

253 ià(
	gfsF¿g
 =ğ
nuÎ
) {

257 ià(
	gfsF¿g
.
g‘Ad­‹r
().
isCu¼’tFŞd”Vœtu®
()) {

258 
	gfsF¿g
.
g‘Ad­‹r
().
lßdFŞd”
(
_­pS‘tšgs
.
g‘NÙebookDœeùÜy
());

261 ià(
	g³rmc
.
mkdœIfStÜageP”missiÚG¿Áed
()) {

262 
	gv›w
.
g‘Id
()) {

263 
	gR
.
	gid
.
	gçb_add_Ãw_™em
: {

264 ià(
_sh¬eUt
.
isUnd”StÜageAcûssFŞd”
(
fsF¿g
.
g‘Cu¼’tFŞd”
()è&& _sh¬eUt.
g‘StÜageAcûssF¿mewÜkT»eUri
(è=ğ
nuÎ
) {

265 
_sh¬eUt
.
showMouÁSdDŸlog
(
this
);

269 ià(!
	gfsF¿g
.
g‘Ad­‹r
().
isCu¼’tFŞd”Wr™—bË
()) {

273 
NewFeDŸlog
 
	gdŸlog
 = NewFeDŸlog.
ÃwIn¡ªû
(
fsF¿g
.
g‘Cu¼’tFŞd”
(), 
Œue
, (
ok
, 
f
) -> {

274 ià(
ok
) {

275 ià(
f
.
isFe
()) {

276 
Docum’tAùiv™y
.
Ïunch
(
MašAùiv™y
.
this
, 
f
, 
çl£
, f®£, 
nuÎ
,‚ull);

277 } ià(
f
.
isDœeùÜy
()) {

278 
Fesy¡emV›w”F¿gm’t
 
wrF¿gm’t
 = (Fesy¡emV›w”F¿gm’tè
_v›wPag”Ad­‹r
.
g‘F¿gm’tByTag
(Fesy¡emV›w”F¿gm’t.
FRAGMENT_TAG
);

279 ià(
wrF¿gm’t
 !ğ
nuÎ
) {

280 
wrF¿gm’t
.
»lßdCu¼’tFŞd”
();

285 
	gdŸlog
.
show
(
g‘SuµÜtF¿gm’tMªag”
(), 
NewFeDŸlog
.
FRAGMENT_TAG
);

292 @
Ov”ride


293 
public
 
ÚBackP»s£d
() {

295 ià(
	g_doubËBackToEx™P»s£dOnû
) {

296 
	gsu³r
.
ÚBackP»s£d
();

297 
	g_­pS‘tšgs
.
£tFeBrow£rLa¡Brow£dFŞd”
(
_­pS‘tšgs
.
g‘NÙebookDœeùÜy
());

302 
GsF¿gm’tBa£
 
	gäag
 = 
_v›wPag”Ad­‹r
.
g‘CachedF¿gm’ts
().
g‘
(
_v›wPag”
.
g‘Cu¼’tI‹m
());

303 ià(
	gäag
 !ğ
nuÎ
 && 
äag
.
ÚBackP»s£d
()) {

308 
	g_doubËBackToEx™P»s£dOnû
 = 
Œue
;

309 
Ãw
 
Aùiv™yUts
(
this
).
showSÇckB¬
(
R
.
¡ršg
.
´ess_back_agaš_to_ex™
, 
çl£
, R.¡ršg.
ex™
, 
v›w
 -> 
fšish
());

310 
Ãw
 
HªdËr
().
po¡D–ayed
((è-> 
_doubËBackToEx™P»s£dOnû
 = 
çl£
, 2000);

313 @
Ov”ride


314 
public
 
boŞ—n
 
ÚNavig©iÚI‹mS–eùed
(@
NÚNuÎ
 
M’uI‹m
 
™em
) {

315 
upd©eFabVisib™y
(
™em
.
g‘I‹mId
(è=ğ
R
.
id
.
Çv_nÙebook
);

316 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
this
);

318 
	g™em
.
g‘I‹mId
()) {

319 
	gR
.
	gid
.
	gÇv_nÙebook
: {

320 
_v›wPag”
.
£tCu¼’tI‹m
(0);

321 
	g_toŞb¬
.
£tT™Ë
(
g‘FeBrow£rT™Ë
());

322  
	gŒue
;

325 
	gR
.
	gid
.
	gÇv_todo
: {

326 
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
();

327 
»¡ÜeDeçuÉToŞb¬
();

328 
	g_v›wPag”
.
£tCu¼’tI‹m
(1);

329 
	g_toŞb¬
.
£tT™Ë
(
R
.
¡ršg
.
todo
);

330  
	gŒue
;

332 
	gR
.
	gid
.
	gÇv_quicknÙe
: {

333 
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
();

334 
»¡ÜeDeçuÉToŞb¬
();

335 
	g_v›wPag”
.
£tCu¼’tI‹m
(2);

336 
	g_toŞb¬
.
£tT™Ë
(
R
.
¡ršg
.
quicknÙe
);

337  
	gŒue
;

339 
	gR
.
	gid
.
	gÇv_mÜe
: {

340 
»¡ÜeDeçuÉToŞb¬
();

341 
	g_v›wPag”
.
£tCu¼’tI‹m
(3);

342 
	g_toŞb¬
.
£tT™Ë
(
R
.
¡ršg
.
mÜe
);

343  
	gŒue
;

346  
	gçl£
;

349 
public
 
upd©eFabVisib™y
(
boŞ—n
 
visibË
) {

350 ià(
	gvisibË
) {

351 
	g_çb
.
show
();

353 
	g_çb
.
hide
();

357 
public
 
SŒšg
 
g‘FeBrow£rT™Ë
() {

358 
fš®
 
Fe
 
	gfe
 = 
_­pS‘tšgs
.
g‘FeBrow£rLa¡Brow£dFŞd”
();

359 
SŒšg
 
	gt™Ë
 = 
g‘SŒšg
(
R
.
¡ršg
.
­p_Çme
);

360 ià(!
	g_­pS‘tšgs
.
g‘NÙebookDœeùÜy
().
g‘AbsŞu‹P©h
().
equ®s
(
fe
.getAbsolutePath())) {

361 
	gt™Ë
 = "> " + 
fe
.
g‘Name
();

363  
	gt™Ë
;

366 @
OnPageChªge
(
v®ue
 = 
R
.
id
.
maš__v›w_·g”_cÚš”
, 
ÿÎback
 = OnPageChªge.
C®lback
.
PAGE_SELECTED
)

367 
public
 
ÚV›wPag”PageS–eùed
(
pos
) {

368 
M’u
 
m’u
 = 
_bÙtomNav
.
g‘M’u
();

369 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
this
);

370 (
	g_Ï¡BÙtomM’uI‹m
 !ğ
nuÎ
 ? 
_Ï¡BÙtomM’uI‹m
 : 
m’u
.
g‘I‹m
(0)).
£tChecked
(
çl£
);

371 
	g_Ï¡BÙtomM’uI‹m
 = 
m’u
.
g‘I‹m
(
pos
).
£tChecked
(
Œue
);

372 
upd©eFabVisib™y
(
pos
 == 0);

373 
	g_toŞb¬
.
£tT™Ë
(
Ãw
 
SŒšg
[]{
g‘FeBrow£rT™Ë
(), 
g‘SŒšg
(
R
.
¡ršg
.
todo
), g‘SŒšg(R.¡ršg.
quicknÙe
), g‘SŒšg(R.¡ršg.
mÜe
)}[
pos
]);

375 ià(
	gpos
 > 0 &&…os < 3) {

376 
	g³rmc
.
doIfExtStÜageP”missiÚG¿Áed
();

380 
´iv©e
 
	gFesy¡emV›w”D©a
.
O±iÚs
 
	g_fesy¡emDŸlogO±iÚs
 = 
nuÎ
;

382 @
Ov”ride


383 
public
 
	gFesy¡emV›w”D©a
.
O±iÚs
 
g‘Fesy¡emF¿gm’tO±iÚs
(
Fesy¡emV›w”D©a
.O±iÚ 
exi¡šgO±iÚs
) {

384 ià(
	g_fesy¡emDŸlogO±iÚs
 =ğ
nuÎ
) {

385 
_fesy¡emDŸlogO±iÚs
 = 
Fesy¡emV›w”C»©Ü
.
´•¬eFsV›w”O±s
(
g‘AµliÿtiÚCÚ‹xt
(), 
çl£
, 
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

386 @
Ov”ride


387 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

388 
dİt
.
descModtimeIn¡—dOfP¬’t
 = 
Œue
;

390 
dİt
.
roÙFŞd”
 = 
_­pS‘tšgs
.
g‘FŞd”ToLßdByM’uId
(_­pS‘tšgs.
g‘AµS¹upFŞd”M’uId
());

391 
dİt
.
fŞd”Fœ¡
 = 
_­pS‘tšgs
.
isFesy¡emLi¡FŞd”Fœ¡
();

392 
dİt
.
doS–eùMuÉË
 = dİt.
doS–eùFŞd”
 = dİt.
doS–eùFe
 = 
Œue
;

393 
dİt
.
mouÁedStÜageFŞd”
 = 
_sh¬eUt
.
g‘StÜageAcûssFŞd”
();

394 
dİt
.
showDÙFes
 = 
_­pS‘tšgs
.
isShowDÙFes
();

395 
dİt
.
feCom·¿bË
 = 
Fesy¡emV›w”F¿gm’t
.
sÜtFŞd”
(
nuÎ
);

398 @
Ov”ride


399 
public
 
ÚFsV›w”DoUiUpd©e
(
Fesy¡emV›w”Ad­‹r
 
ad­‹r
) {

400 ià(
ad­‹r
 !ğ
nuÎ
 &&‡d­‹r.
g‘Cu¼’tFŞd”
(è!ğnuÎ && !
TextUts
.
isEm±y
×d­‹r.g‘Cu¼’tFŞd”().
g‘Name
())) {

401 
_­pS‘tšgs
.
£tFeBrow£rLa¡Brow£dFŞd”
(
ad­‹r
.
g‘Cu¼’tFŞd”
());

402 
_toŞb¬
.
£tT™Ë
(
ad­‹r
.
¬eI‹msS–eùed
(è? "" : 
g‘FeBrow£rT™Ë
());

403 
šv®id©eO±iÚsM’u
();

405 ià(
ad­‹r
.
g‘Cu¼’tFŞd”
().
equ®s
(
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_FAVOURITE
)) {

406 
ad­‹r
.
g‘FsO±iÚs
().
çvour™eFes
 = 
_­pS‘tšgs
.
g‘Favour™eFes
();

411 @
Ov”ride


412 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

413 ià(
TextFÜm©
.
isTextFe
(
fe
)) {

414 
Docum’tAùiv™y
.
Ïunch
(
MašAùiv™y
.
this
, 
fe
, 
çl£
, 
nuÎ
,‚uÎ, 
lšeNumb”
);

415 } ià(
fe
.
g‘Name
().
toLow”Ca£
().
’dsW™h
(".apk")) {

416 
_sh¬eUt
.
»que¡ApkIn¡®ÏtiÚ
(
fe
);

418 
Docum’tAùiv™y
.
askU£rIfWªtsToO³nFeInThisAµ
(
MašAùiv™y
.
this
, 
fe
);

423  
	g_fesy¡emDŸlogO±iÚs
;

426 şas 
	cSeùiÚsPag”Ad­‹r
 
ex‹nds
 
	gF¿gm’tPag”Ad­‹r
 {

427 
´iv©e
 
	gHashM­
<
	gIÁeg”
, 
	gGsF¿gm’tBa£
> 
	g_äagCache
 = 
Ãw
 
LškedHashM­
<>();

429 
SeùiÚsPag”Ad­‹r
(
F¿gm’tMªag”
 
äagMgr
) {

430 
su³r
(
äagMgr
);

433 @
Ov”ride


434 
public
 
Objeù
 
š¡ªtŸ‹I‹m
(
V›wGroup
 
cÚš”
, 
pos™iÚ
) {

435 
GsF¿gm’tBa£
 
	gäagm’t
 = (GsF¿gm’tBa£è
su³r
.
š¡ªtŸ‹I‹m
(
cÚš”
, 
pos™iÚ
);

436 
	g_äagCache
.
put
(
pos™iÚ
, 
äagm’t
);

437  
	gäagm’t
;

440 @
Ov”ride


441 
public
 
F¿gm’t
 
g‘I‹m
(
pos
) {

442 
	g_bÙtomNav
.
g‘M’u
().
g‘I‹m
(
pos
).
g‘I‹mId
()) {

444 
R
.
id
.
Çv_nÙebook
: {

445  
Fesy¡emV›w”F¿gm’t
.
ÃwIn¡ªû
(
g‘Fesy¡emF¿gm’tO±iÚs
(
nuÎ
));

447 
	gR
.
	gid
.
	gÇv_quicknÙe
: {

448  
Docum’tEd™F¿gm’t
.
ÃwIn¡ªû
(
_­pS‘tšgs
.
g‘QuickNÙeFe
(), 
çl£
, -1);

450 
	gR
.
	gid
.
	gÇv_todo
: {

451  
Docum’tEd™F¿gm’t
.
ÃwIn¡ªû
(
_­pS‘tšgs
.
g‘TodoFe
(), 
çl£
, -1);

453 
	gR
.
	gid
.
	gÇv_mÜe
: {

454  
MÜeF¿gm’t
.
ÃwIn¡ªû
();

459 @
Ov”ride


460 
public
 
de¡royI‹m
(
V›wGroup
 
cÚš”
, 
pos™iÚ
, 
Objeù
 
objeù
) {

461 
	gsu³r
.
de¡royI‹m
(
cÚš”
, 
pos™iÚ
, 
objeù
);

462 
	g_äagCache
.
»move
(
pos™iÚ
);

465 @
Ov”ride


466 
public
 
g‘CouÁ
() {

467  
	g_bÙtomNav
.
g‘M’u
().
size
();

470 
public
 
GsF¿gm’tBa£
 
g‘F¿gm’tByTag
(
SŒšg
 
äagm’tTag
) {

471 
GsF¿gm’tBa£
 
	gäag
 : 
_äagCache
.
v®ues
()) {

472 ià(
äagm’tTag
.
equ®s
(
äag
.
g‘F¿gm’tTag
())) {

473  
äag
;

476  
	gnuÎ
;

479 
public
 
	gHashM­
<
	gIÁeg”
, 
	gGsF¿gm’tBa£
> 
g‘CachedF¿gm’ts
() {

480  
	g_äagCache
;

484 @
Ov”ride


485 
´Ùeùed
 
	$ÚStİ
() {

486 
su³r
.
	`ÚStİ
();

488 
	`»¡ÜeDeçuÉToŞb¬
();

489 
	}
}

495 
´iv©e
 
	$»¡ÜeDeçuÉToŞb¬
() {

496 
Fesy¡emV›w”F¿gm’t
 
wrF¿gm’t
 = (Fesy¡emV›w”F¿gm’tè
_v›wPag”Ad­‹r
.
	`g‘F¿gm’tByTag
(Fesy¡emV›w”F¿gm’t.
FRAGMENT_TAG
);

497 ià(
wrF¿gm’t
 !ğ
nuÎ
) {

498 
wrF¿gm’t
.
	`ş—rS–eùiÚ
();

500 
	}
}

502 
´iv©e
 
	$ÚToŞb¬T™ËClicked
(
V›w
 
v
) {

503 
F¿gm’t
 
f
 = 
_v›wPag”Ad­‹r
.
	`g‘I‹m
(
_v›wPag”
.
	`g‘Cu¼’tI‹m
());

504 ià(
f
 
š¡ªûof
 
Docum’tEd™F¿gm’t
) {

505 
Docum’tEd™F¿gm’t
 
def
 = (Docum’tEd™F¿gm’tè
f
;

506 
def
.
	`ÚToŞb¬T™ËClicked
(
_toŞb¬
);

508 
	}
}

	@app/src/main/java/net/gsantner/markor/activity/MoreFragment.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

13 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tT¿n§ùiÚ
;

16 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
.
	gGsF¿gm’tBa£
;

21 
public
 cÏs 
	cMÜeF¿gm’t
 
ex‹nds
 
	mGsF¿gm’tBa£
 {

22 
public
 
fš®
 
SŒšg
 
	mFRAGMENT_TAG
 = "MoreFragment";

24 
public
 
MÜeF¿gm’t
 
	$ÃwIn¡ªû
() {

25  
Ãw
 
	`MÜeF¿gm’t
();

28 
public
 
	$MÜeF¿gm’t
() {

29 
	}
}

31 @
Ov”ride


32 
´Ùeùed
 
	$g‘LayoutResId
() {

33  
R
.
Ïyout
.
mÜe__äagm’t
;

34 
	}
}

36 @
Ov”ride


37 
public
 
SŒšg
 
	$g‘F¿gm’tTag
() {

38  
FRAGMENT_TAG
;

39 
	}
}

41 @
Ov”ride


42 
public
 
ÚV›wC»©ed
(@
NÚNuÎ
 
V›w
 
v›w
, 
BundË
 
§vedIn¡ªûS‹
) {

43 
	gsu³r
.
ÚV›wC»©ed
(
v›w
, 
§vedIn¡ªûS‹
);

44 
MÜeInfoF¿gm’t
 
	gmÜeInfoF¿gm’t
;

45 ià(
	g_§vedIn¡ªûS‹
 =ğ
nuÎ
) {

46 
F¿gm’tT¿n§ùiÚ
 
t
 = 
g‘ChdF¿gm’tMªag”
().
begšT¿n§ùiÚ
();

47 
	gmÜeInfoF¿gm’t
 = 
MÜeInfoF¿gm’t
.
ÃwIn¡ªû
();

48 
	gt
.
»¶aû
(
R
.
id
.
mÜe__äagm’t__¶aûhŞd”_äagm’t
, 
mÜeInfoF¿gm’t
, 
MÜeInfoF¿gm’t
.
TAG
).
comm™
();

50 
	gmÜeInfoF¿gm’t
 = (
MÜeInfoF¿gm’t
è
g‘ChdF¿gm’tMªag”
().
fšdF¿gm’tByTag
(MÜeInfoF¿gm’t.
TAG
);

	@app/src/main/java/net/gsantner/markor/activity/MoreInfoFragment.java

12 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

16 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nû
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûGroup
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	gm¬kdown
.
	gSim¶eM¬kdownP¬£r
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gGsP»ã»nûF¿gm’tCom·t
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSh¬eUt
;

27 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

28 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

30 
public
 
şass
 
MÜeInfoF¿gm’t
 
ex‹nds
 
	gGsP»ã»nûF¿gm’tCom·t
<
	gAµS‘tšgs
> {

31 
public
 
fš®
 
SŒšg
 
	gTAG
 = "MoreInfoFragment";

33 
public
 
MÜeInfoF¿gm’t
 
ÃwIn¡ªû
() {

34  
Ãw
 
MÜeInfoF¿gm’t
();

37 @
Ov”ride


38 
public
 
g‘P»ã»nûResourûFÜInæ©iÚ
() {

39  
	gR
.
	gxml
.
	g´eçùiÚs__mÜe_šfÜm©iÚ
;

42 @
Ov”ride


43 
public
 
SŒšg
 
g‘F¿gm’tTag
() {

44  
	gTAG
;

47 @
Ov”ride


48 
´Ùeùed
 
AµS‘tšgs
 
g‘AµS‘tšgs
(
CÚ‹xt
 
cÚ‹xt
) {

49  
	g_­pS‘tšgs
 !ğ
nuÎ
 ? 
_­pS‘tšgs
 : 
Ãw
 
AµS‘tšgs
(
cÚ‹xt
);

52 @
Ov”ride


53 
public
 
boŞ—n
 
isDivid”VisibË
() {

54  
	gŒue
;

57 @
	gOv”ride


58 @
Suµ»ssW¬nšgs
({"ConstantConditions", "ConstantIfStatement", "StatementWithEmptyBody"})

59 
public
 
BoŞ—n
 
ÚP»ã»nûClicked
(
P»ã»nû
 
´eã»nû
, 
SŒšg
 
key
, 
keyResId
) {

60 
Aùiv™yUts
 
	gau
 = 
Ãw
 Aùiv™yUts(
g‘Aùiv™y
());

61 ià(
isAdded
(è&& 
	g´eã»nû
.
hasKey
()) {

62 
	gkeyResId
) {

63 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__­p
: {

64 
_cu
.
İ’Web·geInEx‹º®Brow£r
(
g‘SŒšg
(
R
.
¡ršg
.
­p_web_u¾
));

65  
	gŒue
;

67 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__£‰šgs
: {

68 
au
.
ªim©eToAùiv™y
(
S‘tšgsAùiv™y
.
şass
, 
çl£
, 124);

69  
	gŒue
;

71 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__¿‹_­p
: {

72 
au
.
showGoogËPÏyEÁryFÜThisAµ
();

73  
	gŒue
;

76 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__još_commun™y
: {

77 
_cu
.
İ’Web·geInEx‹º®Brow£r
(
g‘SŒšg
(
R
.
¡ršg
.
­p_commun™y_u¾
));

78  
	gŒue
;

80 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__h–p
: {

81 
_cu
.
İ’Web·geInEx‹º®Brow£r
(

82 
SŒšg
.
fÜm©
("https://gsantner.net/project/%s.html?source=inapp_more_help_faq",

83 
g‘SŒšg
(
R
.
¡ršg
.
­p_Çme_»®
).
toLow”Ca£
()));

84  
	gŒue
;

86 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__dÚ©e
: {

87 
_cu
.
İ’Web·geInEx‹º®Brow£r
(
g‘SŒšg
(
R
.
¡ršg
.
­p_dÚ©e_u¾
));

88  
	gŒue
;

90 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__bug_»pÜts
: {

91 
_cu
.
İ’Web·geInEx‹º®Brow£r
(
g‘SŒšg
(
R
.
¡ršg
.
­p_bug»pÜt_u¾
));

92  
	gŒue
;

94 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__Œª¦©e
: {

95 
_cu
.
İ’Web·geInEx‹º®Brow£r
(
g‘SŒšg
(
R
.
¡ršg
.
­p_Œª¦©e_u¾
));

96  
	gŒue
;

98 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__sourû_code
: {

99 
_cu
.
İ’Web·geInEx‹º®Brow£r
(
g‘SŒšg
(
R
.
¡ršg
.
­p_sourû_code_u¾
));

100  
	gŒue
;

102 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__´ojeù_liûn£
: {

103 
au
.
showDŸlogW™hRawFeInWebV›w
("liûn£.txt", 
R
.
¡ršg
.
´ojeù_liûn£
);

104  
	gŒue
;

106 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__İ’_sourû_liûn£s
: {

107 
Œy
 {

108 
au
.
showDŸlogW™hHtmlTextV›w
(
R
.
¡ršg
.
liûn£s
, 
Ãw
 
Sim¶eM¬kdownP¬£r
().
·r£
(

109 
g‘Resourûs
().
İ’RawResourû
(
R
.
¿w
.
liûn£s_3rd_·¹y
),

110 "", 
Sim¶eM¬kdownP¬£r
.
FILTER_ANDROID_TEXTVIEW
).
g‘Html
());

111 } 
ÿtch
 (
IOExû±iÚ
 
e
) {

112 
	ge
.
´štSckT¿û
();

114  
	gŒue
;

116 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__cÚŒibutÜs_public_šfo
: {

117 
Œy
 {

118 
au
.
showDŸlogW™hHtmlTextV›w
(
R
.
¡ršg
.
cÚŒibutÜs
, 
Ãw
 
Sim¶eM¬kdownP¬£r
().
·r£
(

119 
g‘Resourûs
().
İ’RawResourû
(
R
.
¿w
.
cÚŒibutÜs
),

120 "", 
Sim¶eM¬kdownP¬£r
.
FILTER_ANDROID_TEXTVIEW
).
g‘Html
());

121 } 
ÿtch
 (
IOExû±iÚ
 
e
) {

122 
	ge
.
´štSckT¿û
();

124  
	gŒue
;

126 
	gR
.
	g¡ršg
.
	g´ef_key__mÜe_šfo__cİy_bud_šfÜm©iÚ
: {

127 
Ãw
 
Sh¬eUt
(
g‘CÚ‹xt
()).
£tClbßrd
(
´eã»nû
.
g‘Summ¬y
());

128 
Sim¶eM¬kdownP¬£r
 
	gsmp
 = 
Ãw
 SimpleMarkdownParser();

129 
	gŒy
 {

130 
SŒšg
 
	ghtml
 = 
smp
.
·r£
(
g‘Resourûs
().
İ’RawResourû
(
R
.
¿w
.
chªg–og
), "", 
Sim¶eM¬kdownP¬£r
.
FILTER_ANDROID_TEXTVIEW
).
g‘Html
();

131 
	gau
.
showDŸlogW™hHtmlTextV›w
(
R
.
¡ršg
.
chªg–og
, 
html
);

132 } 
ÿtch
 (
Exû±iÚ
 
ex
) {

135  
	gŒue
;

139  
	gnuÎ
;

142 @
Ov”ride


143 
´Ùeùed
 
boŞ—n
 
isAÎowedToTšt
(
P»ã»nû
 
´ef
) {

144  !
g‘SŒšg
(
R
.
¡ršg
.
´ef_key__mÜe_šfo__­p
).
equ®s
(
´ef
.
g‘Key
());

147 @
Ov”ride


148 
public
 
synchrÚized
 
doUpd©eP»ã»nûs
() {

149 
	gsu³r
.
doUpd©eP»ã»nûs
();

150 
CÚ‹xt
 
	gcÚ‹xt
 = 
g‘CÚ‹xt
();

151 ià(
	gcÚ‹xt
 =ğ
nuÎ
) {

154 
LoÿË
 
	gloÿË
 = LoÿË.
g‘DeçuÉ
();

155 
SŒšg
 
	gtmp
;

156 
P»ã»nû
 
	g´ef
;

157 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__mÜe_šfo__´ojeù_liûn£
, 
g‘SŒšg
(R.¡ršg.
­p_liûn£_Çme
));

160 ià((
	g´ef
 = 
fšdP»ã»nû
(
R
.
¡ršg
.
´ef_key__mÜe_šfo__­p
)è!ğ
nuÎ
 && 
´ef
.
g‘Summ¬y
() ==‚ull) {

161 
´ef
.
£tIcÚ
(
R
.
d¿wabË
.
ic_Ïunch”
);

162 
	g´ef
.
£tSumm¬y
(
SŒšg
.
fÜm©
(
loÿË
, "%s\nV”siÚ v% (%d)", 
_cu
.
g‘PackageIdR—l
(), _cu.
g‘AµV”siÚName
(), _cu.
bcšt
("VERSION_CODE", 0)));

166 ià((
	g´ef
 = 
fšdP»ã»nû
(
R
.
¡ršg
.
´ef_key__mÜe_šfo__cİy_bud_šfÜm©iÚ
)è!ğ
nuÎ
 && 
´ef
.
g‘Summ¬y
() ==‚ull) {

167 
SŒšg
 
summ¬y
 = SŒšg.
fÜm©
(
loÿË
, "\n<b>Package:</b> %s\n<b>V”siÚ:</b> v% (%d)", 
_cu
.
g‘PackageIdR—l
(), _cu.
g‘AµV”siÚName
(), _cu.
bcšt
("VERSION_CODE", 0));

168 
	gsumm¬y
 +ğ(
tmp
 = 
_cu
.
bc¡r
("FLAVOR", "")).
isEm±y
(è? "" : ("\n<b>FÏvÜ:</b> " +mp.
»¶aû
("flavor", ""));

169 
	gsumm¬y
 +ğ(
tmp
 = 
_cu
.
bc¡r
("BUILD_TYPE", "")).
isEm±y
() ? "" : (" (" +mp + ")");

170 
	gsumm¬y
 +ğ(
tmp
 = 
_cu
.
bc¡r
("BUILD_DATE", "")).
isEm±y
() ? "" : ("\n<b>Build date:</b> " +mp);

171 
	gsumm¬y
 +ğ(
tmp
 = 
_cu
.
g‘AµIn¡®ÏtiÚSourû
()).
isEm±y
() ? "" : ("\n<b>ISource:</b> " +mp);

172 
	gsumm¬y
 +ğ(
tmp
 = 
_cu
.
bc¡r
("GITHASH", "")).
isEm±y
() ? "" : ("\n<b>VCS Hash:</b> " +mp);

173 
	g´ef
.
£tSumm¬y
(
_cu
.
htmlToS·Âed
(
summ¬y
.
Œim
().
»¶aû
("\n", "<br/>")));

178 ià((
	g´ef
 = 
fšdP»ã»nû
(
R
.
¡ršg
.
´ef_key__mÜe_šfo__´ojeù_‹am
)è!ğ
nuÎ
 && ((
P»ã»nûGroup
è
´ef
).
g‘P»ã»nûCouÁ
() == 0) {

179 
SŒšg
[] 
d©a
 = (
_cu
.
»adTextfeFromRawRes
(
R
.
¿w
.
´ojeù_‹am
, "", "").
Œim
(è+ "\n\n").
¥l™
("\n");

180 
	gi
 = 0; i + 2 < 
	gd©a
.
	gËngth
; i += 4) {

181 
P»ã»nû
 
³rsÚ
 = 
Ãw
 P»ã»nû(
cÚ‹xt
);

182 
	g³rsÚ
.
£tT™Ë
(
d©a
[
i
]);

183 
	g³rsÚ
.
£tSumm¬y
(
d©a
[
i
 + 1]);

184 
	g³rsÚ
.
£tIcÚ
(
R
.
d¿wabË
.
ic_³rsÚ_bÏck_24dp
);

185 
	gŒy
 {

186 
Uri
 
	guri
 = Uri.
·r£
(
d©a
[
i
 + 2]);

187 
IÁ’t
 
	gš‹Á
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_VIEW
, 
uri
);

188 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_NEW_TASK
);

189 
	g³rsÚ
.
£tIÁ’t
(
š‹Á
);

190 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

192 
­³ndP»ã»nû
(
³rsÚ
, (
P»ã»nûGroup
è
´ef
);

196 ià((
	g´ef
 = 
fšdP»ã»nû
(
R
.
¡ršg
.
´ef_key__mÜe_šfo__h–p
)è!ğ
nuÎ
) {

197 
´ef
.
£tT™Ë
(
g‘SŒšg
(
R
.
¡ršg
.
h–p
) + " / FAQ");

	@app/src/main/java/net/gsantner/markor/activity/SettingsActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
;

12 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

16 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

17 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

18 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

19 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

20 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tMªag”
;

21 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tT¿n§ùiÚ
;

22 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nû
;

23 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûF¿gm’tCom·t
;

24 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûSü“n
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

26 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

27 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gRemÙeV›ws
;

28 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAùiv™yUts
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gBackupUts
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gP”missiÚCheck”
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gFÚtP»ã»nûCom·t
;

39 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gGsP»ã»nûF¿gm’tCom·t
;

40 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

41 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

43 
impÜt
 
	gjava
.
	gio
.
	gFe
;

44 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

45 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

47 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

48 
impÜt
 
	gbu‰”kniã
.
	gBu‰”Kniã
;

49 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gwidg‘
.
	gWrM¬kÜWidg‘Provid”
;

51 
public
 cÏs 
	cS‘tšgsAùiv™y
 
ex‹nds
 
	mAµAùiv™yBa£
 {

53 @
Suµ»ssW¬nšgs
("WeakerAccess")

54 
public
 şas 
	cRESULT
 {

55 
public
 
fš®
 
	mNOCHANGE
 = -1;

56 
public
 
fš®
 
	mCHANGED
 = 1;

57 
public
 
fš®
 
	mRESTART_REQ
 = 2;

60 
public
 
	gaùiv™yR‘V®
 = 
RESULT
.
NOCHANGE
;

61 
´iv©e
 
	gicÚCŞÜ
 = 
CŞÜ
.
WHITE
;

63 @
	$BšdV›w
(
R
.
id
.
toŞb¬
)

64 
´Ùeùed
 
ToŞb¬
 
toŞb¬
;

66 
public
 
	$ÚC»©e
(
BundË
 
b
) {

68 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
this
);

69 
CÚ‹xtUts
 
cÚ‹xtUts
 = 
Ãw
 
	`CÚ‹xtUts
(
this
);

70 
cÚ‹xtUts
.
	`£tAµLªguage
(
­pS‘tšgs
.
	`g‘Lªguage
());

71 
	`£tTheme
(
­pS‘tšgs
.
	`isD¬kThemeEÇbËd
(è? 
R
.
¡yË
.
AµTheme_D¬k
 : R.¡yË.
AµTheme_Light
);

72 
su³r
.
	`ÚC»©e
(
b
);

80 
	`£tCÚ‹ÁV›w
(
R
.
Ïyout
.
£‰šgs__aùiv™y
);

81 
Bu‰”Kniã
.
	`bšd
(
this
);

84 
FÚtP»ã»nûCom·t
.
add™iÚ®yCheckedFŞd”
 = 
Ãw
 
	`Fe
(
­pS‘tšgs
.
	`g‘NÙebookDœeùÜy
(), ".app/fonts");

85 
icÚCŞÜ
 = 
cÚ‹xtUts
.
	`rcŞÜ
(
­pS‘tšgs
.
	`isD¬kThemeEÇbËd
(è? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
);

86 
toŞb¬
.
	`£tT™Ë
(
R
.
¡ršg
.
£‰šgs
);

87 
	`£tSuµÜtAùiÚB¬
(
toŞb¬
);

88 
toŞb¬
.
	`£tNavig©iÚIcÚ
(
	`g‘Resourûs
().
	`g‘D¿wabË
(
R
.
d¿wabË
.
ic_¬row_back_wh™e_24dp
));

89 
toŞb¬
.
	`£tNavig©iÚOnClickLi¡’”
(
v›w
 -> 
S‘tšgsAùiv™y
.
this
.
	`ÚBackP»s£d
());

90 
	`showF¿gm’t
(
S‘tšgsF¿gm’tMa¡”
.
TAG
, 
çl£
);

91 
	}
}

93 
´Ùeùed
 
	$showF¿gm’t
(
SŒšg
 
g
, 
boŞ—n
 
addToBackSck
) {

94 
SŒšg
 
toŞb¬T™Ë
 = 
	`g‘SŒšg
(
R
.
¡ršg
.
£‰šgs
);

95 
GsP»ã»nûF¿gm’tCom·t
 
´efF¿g
 = (GsP»ã»nûF¿gm’tCom·tè
	`g‘SuµÜtF¿gm’tMªag”
().
	`fšdF¿gm’tByTag
(
g
);

96 ià(
´efF¿g
 =ğ
nuÎ
) {

97 
g
) {

98 
S‘tšgsF¿gm’tMa¡”
.
TAG
:

100 
´efF¿g
 = 
Ãw
 
	`S‘tšgsF¿gm’tMa¡”
();

101 
toŞb¬T™Ë
 = 
´efF¿g
.
	`g‘T™ËOrDeçuÉ
(toolbarTitle);

106 
toŞb¬
.
	`£tT™Ë
(
toŞb¬T™Ë
);

107 
F¿gm’tT¿n§ùiÚ
 
t
 = 
	`g‘SuµÜtF¿gm’tMªag”
().
	`begšT¿n§ùiÚ
();

108 ià(
addToBackSck
) {

109 
t
.
	`addToBackSck
(
g
);

111 
t
.
	`»¶aû
(
R
.
id
.
£‰šgs__aùiv™y__äagm’t_¶aûhŞd”
, 
´efF¿g
, 
g
).
	`comm™
();

112 
	}
}

114 @
Ov”ride


115 
´Ùeùed
 
	$ÚStİ
() {

116 
	`£tResuÉ
(
aùiv™yR‘V®
);

117 
su³r
.
	`ÚStİ
();

118 
	}
}

120 
public
 
ab¡¿ù
 cÏs 
	cM¬kÜS‘tšgsF¿gm’t
 
ex‹nds
 
	gGsP»ã»nûF¿gm’tCom·t
 {

121 
´Ùeùed
 
AµS‘tšgs
 
	g_as
;

123 @
Ov”ride


124 
´Ùeùed
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
g‘AµS‘tšgs
(
CÚ‹xt
 
cÚ‹xt
) {

125 ià(
	g_as
 =ğ
nuÎ
) {

126 
_as
 = 
Ãw
 
AµS‘tšgs
(
cÚ‹xt
);

128  
	g_as
;

131 @
Ov”ride


132 
public
 
IÁeg”
 
g‘IcÚTštCŞÜ
() {

133  
	gicÚCŞÜ
;

136 @
Ov”ride


137 
´Ùeùed
 
ÚP»ã»nûChªged
(
Sh¬edP»ã»nûs
 
´efs
, 
SŒšg
 
key
) {

138 
	gaùiv™yR‘V®
 = 
RESULT
.
CHANGED
;

141 @
Ov”ride


142 
´Ùeùed
 
ÚP»ã»nûSü“nChªged
(
P»ã»nûF¿gm’tCom·t
 
´eã»nûF¿gm’tCom·t
, 
P»ã»nûSü“n
 
´eã»nûSü“n
) {

143 
	gsu³r
.
ÚP»ã»nûSü“nChªged
(
´eã»nûF¿gm’tCom·t
, 
´eã»nûSü“n
);

144 ià(!
	gTextUts
.
isEm±y
(
´eã»nûSü“n
.
g‘T™Ë
())) {

145 
S‘tšgsAùiv™y
 
	ga
 = (S‘tšgsAùiv™yè
g‘Aùiv™y
();

146 ià(
	ga
 !ğ
nuÎ
) {

147 
a
.
toŞb¬
.
£tT™Ë
(
´eã»nûSü“n
.
g‘T™Ë
());

153 @
Ov”ride


154 
public
 
	$ÚBackP»s£d
() {

155 
GsP»ã»nûF¿gm’tCom·t
 
´efF¿g
 = (GsP»ã»nûF¿gm’tCom·tè
	`g‘SuµÜtF¿gm’tMªag”
().
	`fšdF¿gm’tByTag
(
S‘tšgsF¿gm’tMa¡”
.
TAG
);

156 ià(
´efF¿g
 !ğ
nuÎ
 &&…»fF¿g.
	`ÿnGoBack
()) {

157 
´efF¿g
.
	`goBack
();

160 
su³r
.
	`ÚBackP»s£d
();

161 
	}
}

163 
public
 şas 
	cS‘tšgsF¿gm’tMa¡”
 
ex‹nds
 
	gM¬kÜS‘tšgsF¿gm’t
 {

164 
public
 
fš®
 
SŒšg
 
	gTAG
 = "SettingsFragmentMaster";

166 @
Ov”ride


167 
public
 
g‘P»ã»nûResourûFÜInæ©iÚ
() {

168  
	gR
.
	gxml
.
	g´eã»nûs_ma¡”
;

171 @
Ov”ride


172 
public
 
SŒšg
 
g‘F¿gm’tTag
() {

173  
	gTAG
;

176 @
Ov”ride


177 
public
 
doUpd©eP»ã»nûs
() {

178 
SŒšg
 
	g»move
 = "/storage/emulated/0/";

179 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__nÙebook_dœeùÜy
,

180 
_cu
.
htmlToS·Âed
("<sm®l><sm®l>" + 
AµS‘tšgs
.
g‘
().
g‘NÙebookDœeùÜyAsSŒ
().
»¶aû
(
»move
, "") + "</small></small>")

182 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__quicknÙe_f•©h
,

183 
_cu
.
htmlToS·Âed
("<sm®l><sm®l>" + 
_as
.
g‘QuickNÙeFe
().
g‘AbsŞu‹P©h
().
»¶aû
(
»move
, "") + "</small></small>")

185 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__todo_f•©h
,

186 
_cu
.
htmlToS·Âed
("<sm®l><sm®l>" + 
_as
.
g‘TodoFe
().
g‘AbsŞu‹P©h
().
»¶aû
(
»move
, "") + "</small></small>")

188 
upd©eP»ã»nû
(
R
.
¡ršg
.
´ef_key__is_Ïunch”_fÜ_¥ecŸl_fes_’abËd
, 
nuÎ
,

189 ("Launch” (" + 
g‘SŒšg
(
R
.
¡ršg
.
¥ecŸl_docum’ts
) + ")"),

190 
g‘SŒšg
(
R
.
¡ršg
.
­p_d¿w”_Ïunch”_¥ecŸl_fes_desütiÚ
), 
Œue


192 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__exts_to_®ways_İ’_š_this_­p
, 
_­pS‘tšgs
.
g‘SŒšg
(R.string.pref_key__exts_to_always_open_in_this_app, ""));

193 ià(
	g_­pS‘tšgs
.
g‘SŒšg
(
R
.
¡ršg
.
´ef_key__fe_desütiÚ_fÜm©
, "").
equ®s
("")) {

194 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__fe_desütiÚ_fÜm©
, 
g‘SŒšg
(R.¡ršg.
deçuÉ_
));

196 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__fe_desütiÚ_fÜm©
, 
_­pS‘tšgs
.
g‘SŒšg
(R.string.pref_key__file_description_format, ""));

199 
£tP»ã»nûVisibË
(
R
.
¡ršg
.
´ef_key__is_muÉi_wšdow_’abËd
, 
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
);

201 
£tP»ã»nûVisibË
(
R
.
¡ršg
.
´ef_key__£t_’üy±iÚ_·sswÜd
, 
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
M
);

202 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
M
 && 
_as
.
isDeçuÉPasswÜdS‘
()) {

203 
upd©eSumm¬y
(
R
.
¡ršg
.
´ef_key__£t_’üy±iÚ_·sswÜd
, 
g‘SŒšg
(R.¡ršg.
hidd’_·sswÜd
));

207 
fš®
 [] 
	gex³rim’lKeys
 = 
Ãw
 []{

208 
R
.
¡ršg
.
´ef_key__swe_to_chªge_mode
,

209 
R
.
¡ršg
.
´ef_key__todÙxt__hl_d–ay
,

210 
R
.
¡ršg
.
´ef_key__m¬kdown__hl_d–ay_v2
,

211 
R
.
¡ršg
.
´ef_key__is_ed™Ü_¡©usb¬_hidd’
,

212 
R
.
¡ršg
.
´ef_key__b_width_v2
,

213 
R
.
¡ršg
.
´ef_key__ed™Ü_lše_¥acšg
,

214 
R
.
¡ršg
.
´ef_key__todÙxt__¡¬t_Ãw_sks_w™h_huuid_v3
,

216 
fš®
 
	gkeyId
 : 
ex³rim’lKeys
) {

217 
£tP»ã»nûVisibË
(
keyId
, 
_as
.
isEx³rim’lF—tu»sEÇbËd
());

221 @
Suµ»ssLšt
("ApplySharedPref")

222 @
Ov”ride


223 
´Ùeùed
 
ÚP»ã»nûChªged
(
Sh¬edP»ã»nûs
 
´efs
, 
SŒšg
 
key
) {

224 
	gsu³r
.
ÚP»ã»nûChªged
(
´efs
, 
key
);

225 ià(
eq
(
key
, 
R
.
¡ršg
.
´ef_key__Ïnguage
)) {

226 
	gaùiv™yR‘V®
 = 
RESULT
.
RESTART_REQ
;

227 
	g_as
.
£tReü—‹MašRequœed
(
Œue
);

228 } ià(
eq
(
key
, 
R
.
¡ršg
.
´ef_key__­p_theme
)) {

230 
	gWrM¬kÜWidg‘Provid”
.
hªdËWidg‘Scheme
(

231 
g‘CÚ‹xt
(),

232 
Ãw
 
RemÙeV›ws
(
g‘CÚ‹xt
().
g‘PackageName
(), 
R
.
Ïyout
.
widg‘_Ïyout
),

233 
Ãw
 
AµS‘tšgs
(
g‘CÚ‹xt
()).
isD¬kThemeEÇbËd
());

234 
	g_as
.
£tReü—‹MašRequœed
(
Œue
);

235 
g‘Aùiv™y
().
fšish
();

236 } ià(
eq
(
key
, 
R
.
¡ršg
.
´ef_key__is_ov”v›w_¡©usb¬_hidd’
)) {

237 
	gaùiv™yR‘V®
 = 
RESULT
.
RESTART_REQ
;

238 
	g_as
.
£tReü—‹MašRequœed
(
Œue
);

239 } ià(
eq
(
key
, 
R
.
¡ršg
.
´ef_key__is_Ïunch”_fÜ_¥ecŸl_fes_’abËd
)) {

240 
boŞ—n
 
	gexŒaLaunch”sEÇbËd
 = 
´efs
.
g‘BoŞ—n
(
key
, 
çl£
);

241 
Aùiv™yUts
 
	gau
 = 
Ãw
 Aùiv™yUts(
g‘Aùiv™y
());

242 
	gau
.
­¶yS³cŸlLaunch”sVisib™y
(
exŒaLaunch”sEÇbËd
);

243 } ià(
eq
(
key
, 
R
.
¡ršg
.
´ef_key__fe_desütiÚ_fÜm©
)) {

244 
	gŒy
 {

245 
Ãw
 
Sim¶eD©eFÜm©
(
´efs
.
g‘SŒšg
(
key
, ""), 
LoÿË
.
g‘DeçuÉ
());

246 } 
ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
e
) {

247 
	gTß¡
.
makeText
(
g‘CÚ‹xt
(), 
e
.
g‘LoÿlizedMes§ge
(è+ "\n\n" + 
g‘SŒšg
(
R
.
¡ršg
.
lßdšg_deçuÉ_v®ue
), 
Tß¡
.
LENGTH_SHORT
).
show
();

248 
	g´efs
.
ed™
().
putSŒšg
(
key
, "").
comm™
();

253 @
	gOv”ride


254 @
Suµ»ssW¬nšgs
({"ConstantConditions", "ConstantIfStatement", "StatementWithEmptyBody"})

255 
public
 
BoŞ—n
 
ÚP»ã»nûClicked
(
P»ã»nû
 
´eã»nû
, 
SŒšg
 
key
, 
keyResId
) {

256 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
g‘Aùiv™y
());

257 
	gkeyResId
) {

259 
	gR
.
	g¡ršg
.
	g´ef_key__nÙebook_dœeùÜy
: {

260 ià(
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

261 
F¿gm’tMªag”
 
äagMªag”
 = 
g‘Aùiv™y
().
g‘SuµÜtF¿gm’tMªag”
();

262 
	gFesy¡emV›w”C»©Ü
.
showFŞd”DŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

263 @
Ov”ride


264 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

265 
AµS‘tšgs
 
as
 = AµS‘tšgs.
g‘
();

266 
as
.
£tSaveDœeùÜy
(
fe
.
g‘AbsŞu‹P©h
());

267 
as
.
£tReü—‹MašRequœed
(
Œue
);

268 
doUpd©eP»ã»nûs
();

271 @
Ov”ride


272 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

273 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
£Ëù_¡Üage_fŞd”
;

274 ià(!
³rmc
.
mkdœIfStÜageP”missiÚG¿Áed
()) {

275 
dİt
.
roÙFŞd”
 = 
EnvœÚm’t
.
g‘Ex‹º®StÜageDœeùÜy
();

278 }, 
äagMªag”
, 
g‘Aùiv™y
());

280  
	gŒue
;

282 
	gR
.
	g¡ršg
.
	g´ef_key__quicknÙe_f•©h
: {

283 ià(
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

284 
F¿gm’tMªag”
 
äagMªag”
 = 
g‘Aùiv™y
().
g‘SuµÜtF¿gm’tMªag”
();

285 
	gFesy¡emV›w”C»©Ü
.
showFeDŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

286 @
Ov”ride


287 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

288 
AµS‘tšgs
 
as
 = AµS‘tšgs.
g‘
();

289 
as
.
£tQuickNÙeFe
(
fe
);

290 
as
.
£tReü—‹MašRequœed
(
Œue
);

291 
doUpd©eP»ã»nûs
();

294 @
Ov”ride


295 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

296 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
quicknÙe
;

297 
dİt
.
roÙFŞd”
 = 
EnvœÚm’t
.
g‘Ex‹º®StÜageDœeùÜy
();

299 }, 
äagMªag”
, 
g‘Aùiv™y
(), 
Fesy¡emV›w”C»©Ü
.
IsMimeText
);

301  
	gŒue
;

303 
	gR
.
	g¡ršg
.
	g´ef_key__todo_f•©h
: {

304 ià(
³rmc
.
doIfExtStÜageP”missiÚG¿Áed
()) {

305 
F¿gm’tMªag”
 
äagMªag”
 = 
g‘Aùiv™y
().
g‘SuµÜtF¿gm’tMªag”
();

306 
	gFesy¡emV›w”C»©Ü
.
showFeDŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

307 @
Ov”ride


308 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

309 
AµS‘tšgs
 
as
 = AµS‘tšgs.
g‘
();

310 
as
.
£tTodoFe
(
fe
);

311 
as
.
£tReü—‹MašRequœed
(
Œue
);

312 
doUpd©eP»ã»nûs
();

315 @
Ov”ride


316 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

317 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
todo
;

318 
dİt
.
roÙFŞd”
 = 
EnvœÚm’t
.
g‘Ex‹º®StÜageDœeùÜy
();

320 }, 
äagMªag”
, 
g‘Aùiv™y
(), 
Fesy¡emV›w”C»©Ü
.
IsMimeText
);

322  
	gŒue
;

324 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_m¬kÜ
: {

325 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
wh™e
, R.cŞÜ.
d¬k_g»y
);

326 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
d¬k_g»y
, R.cŞÜ.
light__background
);

329 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_bÏckÜwh™e
: {

330 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
wh™e
, R.cŞÜ.
bÏck
);

331 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
bÏck
, R.cŞÜ.
wh™e
);

334 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_amŞed
: {

335 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
wh™e
, R.cŞÜ.
bÏck
);

336 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
bÏck
, R.cŞÜ.
wh™e
);

337 
	g_as
.
£tD¬kThemeEÇbËd
(
Œue
);

340 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_sŞ¬ized
: {

341 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
sŞ¬ized_fg
, R.cŞÜ.
sŞ¬ized_bg_d¬k
);

342 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
sŞ¬ized_fg
, R.cŞÜ.
sŞ¬ized_bg_light
);

345 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_gruvbox
: {

346 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
gruvbox_fg_d¬k
, R.cŞÜ.
gruvbox_bg_d¬k
);

347 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
gruvbox_fg_light
, R.cŞÜ.
gruvbox_bg_light
);

350 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_nÜd
: {

351 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
nÜd_fg_d¬k
, R.cŞÜ.
nÜd_bg_d¬k
);

352 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
nÜd_fg_light
, R.cŞÜ.
nÜd_bg_light
);

355 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_g»’sÿË
: {

356 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
g»’_d¬k
, R.cŞÜ.
bÏck
);

357 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
g»’_light
, R.cŞÜ.
wh™e
);

360 
	gR
.
	g¡ršg
.
	g´ef_key__ed™Ü_basic_cŞÜ_scheme_£pŸ
: {

361 
_as
.
£tEd™ÜBasicCŞÜ
(
Œue
, 
R
.
cŞÜ
.
£pŸ_bg_light__fg_d¬k
, R.cŞÜ.
£pŸ_fg_light__bg_d¬k
);

362 
	g_as
.
£tEd™ÜBasicCŞÜ
(
çl£
, 
R
.
cŞÜ
.
£pŸ_fg_light__bg_d¬k
, R.cŞÜ.
£pŸ_bg_light__fg_d¬k
);

365 
	gR
.
	g¡ršg
.
	g´ef_key__¶aš‹xt__»Üd”_aùiÚs
:

366 
R
.
¡ršg
.
´ef_key__m¬kdown__»Üd”_aùiÚs
:

367 
R
.
¡ršg
.
´ef_key__zimwiki__»Üd”_aùiÚs
:

368 
R
.
¡ršg
.
´ef_key__todÙxt__»Üd”_aùiÚs
: {

369 
¡¬tAùiv™y
(
Ãw
 
IÁ’t
(
g‘Aùiv™y
(), 
AùiÚOrd”Aùiv™y
.
şass
).
putExŒa
(AùiÚOrd”Aùiv™y.
EXTRA_FORMAT_KEY
, 
keyResId
));

372 
	gR
.
	g¡ršg
.
	g´ef_key__£t_’üy±iÚ_·sswÜd
: {

373 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showS‘PasswÜdDŸlog
(
g‘Aùiv™y
());

376 
	gR
.
	g¡ršg
.
	g´ef_key__backup_£‰šgs
: {

377 
BackupUts
.
showBackupWr™eToDŸlog
(
g‘CÚ‹xt
(), 
g‘F¿gm’tMªag”
());

380 
	gR
.
	g¡ršg
.
	g´ef_key__»¡Üe_£‰šgs
: {

381 
BackupUts
.
showBackupS–eùFromDŸlog
(
g‘CÚ‹xt
(), 
g‘F¿gm’tMªag”
());

386 ià(
	gkey
.
¡¬tsW™h
("´ef_key__ed™Ü_basic_cŞÜ_scheme"è&& !key.
cÚšs
("_fg_") && !key.contains("_bg_")) {

387 
	g_as
.
£tReü—‹MašRequœed
(
Œue
);

388 
»¡¬tAùiv™y
();

390  
	gnuÎ
;

393 @
Ov”ride


394 
public
 
boŞ—n
 
isDivid”VisibË
() {

395  
	gŒue
;

	@app/src/main/java/net/gsantner/markor/activity/openeditor/OpenEditorActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gİ’ed™Ü
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAµCom·tAùiv™y
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gDocum’tAùiv™y
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gP”missiÚCheck”
;

23 
impÜt
 
	gjava
.
	gio
.
	gFe
;

25 
public
 cÏs 
	cO³nEd™ÜAùiv™y
 
ex‹nds
 
	mAµCom·tAùiv™y
 {

26 
´Ùeùed
 
	$İ’Ed™ÜFÜFe
(
Fe
 
fe
) {

27 
IÁ’t
 
İ’IÁ’t
 = 
Ãw
 
	`IÁ’t
(
	`g‘AµliÿtiÚCÚ‹xt
(), 
Docum’tAùiv™y
.
şass
)

28 .
	`£tAùiÚ
(
IÁ’t
.
ACTION_CALL_BUTTON
)

29 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
fe
)

30 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
çl£
);

31 
	`İ’Aùiv™yAndClo£
(
İ’IÁ’t
, 
fe
);

34 
´Ùeùed
 
	$İ’Aùiv™yAndClo£
(
fš®
 
IÁ’t
 
İ’IÁ’t
, 
Fe
 
fe
) {

35 
Œy
 {

36 
P”missiÚCheck”
 
³rmc
 = 
Ãw
 
	`P”missiÚCheck”
(
this
);

37 ià(
³rmc
.
	`doIfExtStÜageP”missiÚG¿Áed
(
	`g‘SŒšg
(
R
.
¡ršg
.
”rÜ_Ãed_¡Üage_³rmissiÚ_to_§ve_docum’ts
))) {

38 
fe
 = (f!ğ
nuÎ
 ? f: 
Ãw
 
	`AµS‘tšgs
(
	`g‘AµliÿtiÚCÚ‹xt
()).
	`g‘NÙebookDœeùÜy
());

39 ià(!
fe
.
	`g‘P¬’tFe
().
	`exi¡s
()) {

41 
fe
.
	`g‘P¬’tFe
().
	`mkdœs
();

43 ià(!
fe
.
	`exi¡s
(è&& !fe.
	`isDœeùÜy
()) {

44 
FeUts
.
	`wr™eFe
(
fe
, "");

46 
İ’IÁ’t
.
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, o³nIÁ’t.
	`hasExŒa
(Docum’tIO.EXTRA_PATHè? o³nIÁ’t.
	`g‘S”ŸlizabËExŒa
(Docum’tIO.EXTRA_PATHè: 
fe
);

47 
İ’IÁ’t
.
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, o³nIÁ’t.
	`hasExŒa
(Docum’tIO.EXTRA_PATH_IS_FOLDERè? o³nIÁ’t.
	`g‘S”ŸlizabËExŒa
(Docum’tIO.EXTRA_PATH_IS_FOLDERè: 
fe
.
	`isDœeùÜy
());

48 
Aùiv™yUts
 
au
 = 
Ãw
 
	`Aùiv™yUts
(
this
);

49 
au
.
	`ªim©eToAùiv™y
(
İ’IÁ’t
, 
Œue
, 1);

51 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

52 
	`fšish
();

54 
	}
}

	@app/src/main/java/net/gsantner/markor/activity/openeditor/OpenEditorQuickNoteActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gİ’ed™Ü
;

12 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

17 
public
 cÏs 
	cO³nEd™ÜQuickNÙeAùiv™y
 
ex‹nds
 
	mO³nEd™ÜAùiv™y
 {

19 @
Ov”ride


20 
´Ùeùed
 
ÚC»©e
(@
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
) {

21 
	msu³r
.
ÚC»©e
(
§vedIn¡ªûS‹
);

22 
İ’Ed™ÜFÜFe
(
Ãw
 
AµS‘tšgs
(
g‘AµliÿtiÚCÚ‹xt
()).
g‘QuickNÙeFe
());

	@app/src/main/java/net/gsantner/markor/activity/openeditor/OpenEditorTodoActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gİ’ed™Ü
;

12 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

17 
public
 cÏs 
	cO³nEd™ÜTodoAùiv™y
 
ex‹nds
 
	mO³nEd™ÜAùiv™y
 {

19 @
Ov”ride


20 
´Ùeùed
 
ÚC»©e
(@
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
) {

21 
	msu³r
.
ÚC»©e
(
§vedIn¡ªûS‹
);

22 
İ’Ed™ÜFÜFe
(
Ãw
 
AµS‘tšgs
(
g‘AµliÿtiÚCÚ‹xt
()).
g‘TodoFe
());

	@app/src/main/java/net/gsantner/markor/activity/openeditor/OpenShareIntoActivity.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gİ’ed™Ü
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

13 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gDocum’tR–ayAùiv™y
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

19 
public
 cÏs 
	cO³nSh¬eIÁoAùiv™y
 
ex‹nds
 
	mO³nEd™ÜAùiv™y
 {

20 @
Ov”ride
 
´Ùeùed
 
ÚC»©e
(@
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
è{ 
	msu³r
.onCreate(savedInstanceState);

21 
IÁ’t
 
	mİ’Sh¬e
 = 
Ãw
 IÁ’t(
this
, 
Docum’tR–ayAùiv™y
.
şass
)

22 .
£tAùiÚ
(
IÁ’t
.
ACTION_SEND
)

23 .
putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
Œue
)

24 .
putExŒa
(
IÁ’t
.
EXTRA_TEXT
, "");

25 
İ’Aùiv™yAndClo£
(
İ’Sh¬e
, 
nuÎ
);

	@app/src/main/java/net/gsantner/markor/format/AutoFormatter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
;

12 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

19 
impÜt
 
	gjava
.
	gut
.
	gEm±ySckExû±iÚ
;

20 
impÜt
 
	gjava
.
	gut
.
	gSck
;

21 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

22 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

24 
public
 cÏs 
	cAutoFÜm©‹r
 {

26 
´iv©e
 
fš®
 
P»fixP©‹ºs
 
	m_´efixP©‹ºs
;

27 
´iv©e
 
fš®
 
	m_šd’tCh¬aù”
;

29 
´iv©e
 
Ch¬Sequ’û
 
	m_sourû
;

30 
´iv©e
 
	m_¡¬t
;

31 
´iv©e
 
	m_’d
;

32 
´iv©e
 
S·Âed
 
	m_de¡
;

33 
´iv©e
 
	m_d¡¬t
;

34 
´iv©e
 
	m_d’d
;

36 
public
 
	$AutoFÜm©‹r
(
P»fixP©‹ºs
 
´efixP©‹ºs
, 
šd’tCh¬aù”
) {

37 
_´efixP©‹ºs
 = 
´efixP©‹ºs
;

38 
_šd’tCh¬aù”
 = 
šd’tCh¬aù”
;

41 
public
 
Ch¬Sequ’û
 
	$f‹r
(
Ch¬Sequ’û
 
sourû
, 
¡¬t
, 
’d
, 
S·Âed
 
de¡
, 
d¡¬t
, 
d’d
) {

43 
	`š™Ÿlize
(
sourû
, 
¡¬t
, 
’d
, 
de¡
, 
d¡¬t
, 
d’d
);

45 
Œy
 {

46 ià(
_¡¬t
 < 
_sourû
.
	`Ëngth
(è&& 
_d¡¬t
 <ğ
_de¡
.Ëngth(è&& 
SŒšgUts
.
	`isNewLše
(_sourû, _¡¬t, 
_’d
)) {

47  
	`autoInd’t
();

49 } 
	`ÿtch
 (
IndexOutOfBoundsExû±iÚ
 | 
NuÎPoš‹rExû±iÚ
 
e
) {

50 
e
.
	`´štSckT¿û
();

52  
_sourû
;

53 
	}
}

55 
´iv©e
 
	$š™Ÿlize
(
Ch¬Sequ’û
 
sourû
, 
¡¬t
, 
’d
, 
S·Âed
 
de¡
, 
d¡¬t
, 
d’d
) {

56 
_sourû
 = 
sourû
;

57 
_¡¬t
 = 
¡¬t
;

58 
_’d
 = 
’d
;

59 
_de¡
 = 
de¡
;

60 
_d¡¬t
 = 
d¡¬t
;

61 
_d’d
 = 
d’d
;

62 
	}
}

64 @
Suµ»ssLšt
("DefaultLocale")

65 
´iv©e
 
Ch¬Sequ’û
 
	$autoInd’t
() {

67 
fš®
 
Ord”edLi¡Lše
 
oLše
 = 
Ãw
 
	`Ord”edLi¡Lše
(
_de¡
, 
_d¡¬t
, 
_´efixP©‹ºs
);

68 
fš®
 
UnOrd”edOrCheckLi¡Lše
 
uLše
 = 
Ãw
 
	`UnOrd”edOrCheckLi¡Lše
(
_de¡
, 
_d¡¬t
, 
_´efixP©‹ºs
);

69 
fš®
 
SŒšg
 
šd’t
 = 
_sourû
 + 
SŒšgUts
.
	`»³©Ch¬s
(
_šd’tCh¬aù”
, 
oLše
.indent);

71 
fš®
 
SŒšg
 
»suÉ
;

72 ià(
oLše
.
isOrd”edLi¡
 && oLše.
lšeEnd
 !ğoLše.
groupEnd
 && 
_d’d
 >= oLine.groupEnd) {

73 
»suÉ
 = 
šd’t
 + 
SŒšg
.
	`fÜm©
("%s%ø", 
	`g‘NextOrd”edV®ue
(
oLše
.
v®ue
), oLše.
d–im™”
);

74 } ià(
uLše
.
isUnÜd”edOrCheckLi¡
 && uLše.
lšeEnd
 !ğuLše.
groupEnd
 && 
_d’d
 >= uLine.groupEnd) {

75 
SŒšg
 
™emP»fix
 = 
uLše
.
ÃwI‹mP»fix
;

76 
»suÉ
 = 
šd’t
 + 
™emP»fix
;

78 
»suÉ
 = 
šd’t
;

81  
»suÉ
;

82 
	}
}

84 
public
 şas 
	cP»fixP©‹ºs
 {

85 
public
 
fš®
 
P©‹º
 
	g´efixUnÜd”edLi¡
;

86 
public
 
fš®
 
P©‹º
 
	g´efixCheckBoxLi¡
;

87 
public
 
fš®
 
P©‹º
 
	g´efixOrd”edLi¡
;

89 
public
 
P»fixP©‹ºs
(
P©‹º
 
´efixUnÜd”edLi¡
, P©‹º 
´efixCheckBoxLi¡
, P©‹º 
´efixOrd”edLi¡
) {

90 
	gthis
.
	g´efixUnÜd”edLi¡
 = 
´efixUnÜd”edLi¡
;

91 
	gthis
.
	g´efixCheckBoxLi¡
 = 
´efixCheckBoxLi¡
;

92 
	gthis
.
	g´efixOrd”edLi¡
 = 
´efixOrd”edLi¡
;

96 
public
 şas 
	cLi¡Lše
 {

97 
´Ùeùed
 
fš®
 
	gINDENT_DELTA
 = 2;

99 
´Ùeùed
 
fš®
 
Ch¬Sequ’û
 
	g‹xt
;

101 
public
 
fš®
 
	glšeS¹
, 
	glšeEnd
;

102 
public
 
fš®
 
SŒšg
 
	glše
;

103 
public
 
fš®
 
	gšd’t
;

104 
public
 
fš®
 
boŞ—n
 
	gisEm±y
;

105 
public
 
fš®
 
boŞ—n
 
	gisTİLev–
;

107 
public
 
Li¡Lše
(
Ch¬Sequ’û
 
‹xt
, 
pos™iÚ
) {

109 
	gthis
.
	g‹xt
 = 
‹xt
;

110 
	glšeS¹
 = 
SŒšgUts
.
g‘LšeS¹
(
‹xt
, 
pos™iÚ
);

111 
	glšeEnd
 = 
SŒšgUts
.
g‘LšeEnd
(
‹xt
, 
pos™iÚ
);

112 
	glše
 = 
‹xt
.
subSequ’û
(
lšeS¹
, 
lšeEnd
).
toSŒšg
();

113 
	gšd’t
 = 
SŒšgUts
.
g‘NextNÚWh™e¥aû
(
‹xt
, 
lšeS¹
è- 
	glšeS¹
;

114 
	gisEm±y
 = (
lšeEnd
 - 
lšeS¹
è=ğ
šd’t
;

115 
	gisTİLev–
 = 
šd’t
 <ğ
INDENT_DELTA
;

119 
public
 
boŞ—n
 
isP¬’tLev–Of
(
fš®
 
Li¡Lše
 
lše
) {

120  
	glše
.
	gisEm±y
 || (!isEm±y && (lše.
	gšd’t
 - ind’tè> 
	gINDENT_DELTA
);

123 
public
 
boŞ—n
 
isChdLev–Of
(
fš®
 
Li¡Lše
 
lše
) {

124  
	gisEm±y
 || (!
	glše
.isEm±y && (
	gšd’t
 -†še.šd’tè> 
	gINDENT_DELTA
);

127 
public
 
boŞ—n
 
isSiblšgLev–Of
(
fš®
 
Li¡Lše
 
lše
) {

128  !
isP¬’tLev–Of
(
lše
è&& !
isChdLev–Of
(line);

135 
public
 şas 
	cOrd”edLi¡Lše
 
ex‹nds
 
	gLi¡Lše
 {

137 
´iv©e
 
fš®
 
	gFULL_GROUP
 = 2;

138 
´iv©e
 
fš®
 
	gVALUE_GROUP
 = 3;

139 
´iv©e
 
fš®
 
	gDELIM_GROUP
 = 4;

141 
´iv©e
 
fš®
 
P»fixP©‹ºs
 
	g´efixP©‹ºs
;

143 
public
 
fš®
 
boŞ—n
 
	gisOrd”edLi¡
;

144 
public
 
fš®
 
	gd–im™”
;

145 
public
 
fš®
 
	gnumS¹
, 
	gnumEnd
;

146 
public
 
fš®
 
	ggroupS¹
, 
	ggroupEnd
;

147 
public
 
fš®
 
SŒšg
 
	gv®ue
;

149 
public
 
Ord”edLi¡Lše
(
Ch¬Sequ’û
 
‹xt
, 
pos™iÚ
, 
P»fixP©‹ºs
 
´efixP©‹ºs
) {

150 
su³r
(
‹xt
, 
pos™iÚ
);

151 
	gthis
.
	g´efixP©‹ºs
 = 
´efixP©‹ºs
;

153 
fš®
 
M©ch”
 
	gm©ch
 = 
´efixP©‹ºs
.
´efixOrd”edLi¡
.
m©ch”
(
lše
);

154 
	gisOrd”edLi¡
 = 
m©ch
.
fšd
();

155 ià(
	gisOrd”edLi¡
) {

156 
	gd–im™”
 = 
m©ch
.
group
(
DELIM_GROUP
).
ch¬At
(0);

157 
	gnumS¹
 = 
m©ch
.
¡¬t
(
VALUE_GROUP
è+ 
lšeS¹
;

158 
	gnumEnd
 = 
m©ch
.
’d
(
VALUE_GROUP
è+ 
lšeS¹
;

159 
	gv®ue
 = 
m©ch
.
group
(
VALUE_GROUP
);

160 
	ggroupS¹
 = 
lšeS¹
 + 
m©ch
.
¡¬t
(
FULL_GROUP
);

161 
	ggroupEnd
 = 
lšeS¹
 + 
m©ch
.
’d
(
FULL_GROUP
);

163 
	ggroupEnd
 = 
groupS¹
 = 
numS¹
 = 
numEnd
 = -1;

164 
	gv®ue
 = "";

165 
	gd–im™”
 = 0;

169 
public
 
boŞ—n
 
isM©chšgLi¡
(
fš®
 
Ord”edLi¡Lše
 
lše
) {

170  
	gisOrd”edLi¡
 && 
	glše
.isOrd”edLi¡ && 
	gd–im™”
 =ğ
lše
.
d–im™”
 && 
M©h
.
abs
(
šd’t
 -†še.šd’tè<ğ
INDENT_DELTA
;

173 
public
 
Ord”edLi¡Lše
 
g‘Lev–S¹
() {

174 
Ord”edLi¡Lše
 
	gli¡S¹
 = 
this
;

176 ià(
	glšeS¹
 > 
	gINDENT_DELTA
) {

177 
boŞ—n
 
	gm©chšg
;

178 
Ord”edLi¡Lše
 
	glše
 = 
this
;

180 
	gpos™iÚ
 = 
lše
.
lšeS¹
 - 1;

181 
	glše
 = 
Ãw
 
Ord”edLi¡Lše
(
‹xt
, 
pos™iÚ
, 
´efixP©‹ºs
);

182 
	gm©chšg
 = 
isM©chšgLi¡
(
lše
);

183 ià(
	gm©chšg
) {

184 
	gli¡S¹
 = 
lše
;

186 } 
	glše
.
	glšeS¹
 > 
	gINDENT_DELTA
 && (
	gm©chšg
 || 
isP¬’tLev–Of
(
lše
)));

189  
	gli¡S¹
;

192 
public
 
Ord”edLi¡Lše
 
g‘P¬’t
() {

193 
Ord”edLi¡Lše
 
	glše
 = 
nuÎ
;

194 ià((
	glšeS¹
 > 0è&& (
	gisEm±y
 || !
	gisTİLev–
)) {

195 
	gpos™iÚ
 = 
lšeS¹
 - 1;

197 
	glše
 = 
Ãw
 
Ord”edLi¡Lše
(
‹xt
, 
pos™iÚ
, 
´efixP©‹ºs
);

198 
	gpos™iÚ
 = 
lše
.
lšeS¹
 - 1;

199 } 
	gpos™iÚ
 > 0 && !
	glše
.
isP¬’tLev–Of
(
this
));

201  
	glše
;

208 
public
 şas 
	cUnOrd”edOrCheckLi¡Lše
 
ex‹nds
 
	gLi¡Lše
 {

209 
´iv©e
 
fš®
 
	gFULL_ITEM_PREFIX_GROUP
 = 2;

210 
´iv©e
 
fš®
 
	gCHECKBOX_PREFIX_LEFT_GROUP
 = 3;

211 
´iv©e
 
fš®
 
	gCHECKBOX_PREFIX_RIGHT_GROUP
 = 4;

213 
´iv©e
 
fš®
 
P»fixP©‹ºs
 
	g´efixP©‹ºs
;

215 
public
 
fš®
 
boŞ—n
 
	gisUnÜd”edOrCheckLi¡
;

216 
public
 
fš®
 
SŒšg
 
	gÃwI‹mP»fix
;

217 
public
 
fš®
 
	ggroupS¹
, 
	ggroupEnd
;

219 
public
 
UnOrd”edOrCheckLi¡Lše
(
Ch¬Sequ’û
 
‹xt
, 
pos™iÚ
, 
P»fixP©‹ºs
 
´efixP©‹ºs
) {

220 
su³r
(
‹xt
, 
pos™iÚ
);

221 
	gthis
.
	g´efixP©‹ºs
 = 
´efixP©‹ºs
;

223 
fš®
 
M©ch”
 
	gcheckli¡M©ch”
 = 
´efixP©‹ºs
.
´efixCheckBoxLi¡
.
m©ch”
(
lše
);

224 
fš®
 
M©ch”
 
	gunÜd”edLi¡M©ch”
 = 
´efixP©‹ºs
.
´efixUnÜd”edLi¡
.
m©ch”
(
lše
);

226 
fš®
 
boŞ—n
 
	gisCheckli¡
 = 
checkli¡M©ch”
.
fšd
();

227 
	gisUnÜd”edOrCheckLi¡
 = 
isCheckli¡
 || 
unÜd”edLi¡M©ch”
.
fšd
();

228 
fš®
 
M©ch”
 
	gm©ch”
 = 
isCheckli¡
 ? 
checkli¡M©ch”
 : 
unÜd”edLi¡M©ch”
;

230 ià(
	gisUnÜd”edOrCheckLi¡
) {

231 
	ggroupS¹
 = 
lšeS¹
 + 
m©ch”
.
¡¬t
(
FULL_ITEM_PREFIX_GROUP
);

232 
	ggroupEnd
 = 
lšeS¹
 + 
m©ch”
.
’d
(
FULL_ITEM_PREFIX_GROUP
);

233 
SŒšg
 
	gem±yCheckboxCÚ‹Á
 = " ";

234 
	gÃwI‹mP»fix
 = 
isCheckli¡
 ? 
m©ch”
.
group
(
CHECKBOX_PREFIX_LEFT_GROUP
è+ 
em±yCheckboxCÚ‹Á
 + m©ch”.group(
CHECKBOX_PREFIX_RIGHT_GROUP
)

235 : 
m©ch”
.
group
(
FULL_ITEM_PREFIX_GROUP
);

237 
	ggroupS¹
 = 
groupEnd
 = -1;

238 
	gÃwI‹mP»fix
 = "";

251 
´iv©e
 
Ord”edLi¡Lše
 
	$g‘Ord”edLi¡S¹
(
fš®
 
Ed™abË
 
‹xt
, 
pos™iÚ
, fš® 
P»fixP©‹ºs
 
´efixP©‹ºs
) {

252 
pos™iÚ
 = 
M©h
.
	`max
(M©h.
	`mš
Õos™iÚ, 
‹xt
.
	`Ëngth
() - 1), 0);

253 
Ord”edLi¡Lše
 
li¡S¹
 = 
Ãw
 
	`Ord”edLi¡Lše
(
‹xt
, 
pos™iÚ
, 
´efixP©‹ºs
);

255 
Ord”edLi¡Lše
 
lše
 = 
li¡S¹
;

257 
lše
 =†še.
	`g‘P¬’t
();

258 ià(
lše
 !ğ
nuÎ
 &&†še.
isOrd”edLi¡
) {

259 
li¡S¹
 = 
lše
;

261 } 
lše
 !ğ
nuÎ
);

263 ià(
li¡S¹
.
isOrd”edLi¡
 ||†i¡S¹.
isEm±y
) {

264 
li¡S¹
 =†i¡S¹.
	`g‘Lev–S¹
();

267  
li¡S¹
;

268 
	}
}

271 
public
 
	$»numb”Ord”edLi¡
(
fš®
 
HighlightšgEd™Ü
 
ed™Ü
, 
cursÜPos™iÚ
, fš® 
P»fixP©‹ºs
 
´efixP©‹ºs
) {

272 
Œy
 {

273 
ed™Ü
.
	`£tAcûssib™yEÇbËd
(
çl£
);

274 
	`»numb”Ord”edLi¡
(
ed™Ü
.
	`g‘Text
(), 
cursÜPos™iÚ
, 
´efixP©‹ºs
);

275 } 
fš®ly
 {

276 
ed™Ü
.
	`£tAcûssib™yEÇbËd
(
Œue
);

278 
	}
}

286 
public
 
	$»numb”Ord”edLi¡
(
fš®
 
Ed™abË
 
‹xt
, 
cursÜPos™iÚ
, fš® 
P»fixP©‹ºs
 
´efixP©‹ºs
) {

289 
fš®
 
Ord”edLi¡Lše
 
fœ¡Lše
 = 
	`g‘Ord”edLi¡S¹
(
‹xt
, 
cursÜPos™iÚ
, 
´efixP©‹ºs
);

290 
pos™iÚ
 = 
fœ¡Lše
.
lšeEnd
 + 1;

292 ià(
fœ¡Lše
.
isOrd”edLi¡
 && 
pos™iÚ
 < 
‹xt
.
	`Ëngth
()) {

294 
fš®
 
Sck
<
Ord”edLi¡Lše
> 
Ëv–s
 = 
Ãw
 Stack<>();

295 
Ëv–s
.
	`push
(
fœ¡Lše
);

297 
Ord”edLi¡Lše
 
lše
 = 
fœ¡Lše
;

299 
Œy
 {

302 
lše
 = 
Ãw
 
	`Ord”edLi¡Lše
(
‹xt
, 
pos™iÚ
, 
´efixP©‹ºs
);

304 ià(!(
fœ¡Lše
.
	`isP¬’tLev–Of
(
lše
è|| fœ¡Lše.
	`isM©chšgLi¡
(line))) {

309 ià(
lše
.
isOrd”edLi¡
) {

311 ià(
lše
.
	`isChdLev–Of
(
Ëv–s
.
	`³ek
())) {

312 
Ëv–s
.
	`push
(
lše
);

315 ià(
lše
.
	`isP¬’tLev–Of
(
Ëv–s
.
	`³ek
())) {

316 
Ëv–s
.
	`³ek
().
	`isChdLev–Of
(
lše
)) {

317 
Ëv–s
.
	`pİ
();

322 ià(
lše
 !ğ
Ëv–s
.
	`³ek
(è&& !Ëv–s.³ek().
	`isM©chšgLi¡
(line)) {

323 
Ëv–s
.
	`pİ
();

324 
Ëv–s
.
	`push
(
lše
);

328 ià(!
lše
.
isEm±y
) {

329 !
Ëv–s
.
	`isEm±y
(è&& !Ëv–s.
	`³ek
().
	`isP¬’tLev–Of
(
lše
)) {

330 
Ëv–s
.
	`pİ
();

335 ià(
lše
.
isOrd”edLi¡
) {

338 
fš®
 
Ord”edLi¡Lše
 
³ek
 = 
Ëv–s
.
	`³ek
();

339 
fš®
 
SŒšg
 
ÃwV®ue
 = (
lše
 =ğ
³ek
è? "1" : 
	`g‘NextOrd”edV®ue
Õ“k.
v®ue
);

340 ià(!
ÃwV®ue
.
	`equ®s
(
lše
.
v®ue
)) {

341 
‹xt
.
	`»¶aû
(
lše
.
numS¹
,†še.
numEnd
, 
ÃwV®ue
);

344 
lše
 = 
Ãw
 
	`Ord”edLi¡Lše
(
‹xt
,†še.
lšeS¹
, 
´efixP©‹ºs
);

347 
Ëv–s
.
	`pİ
();

348 
Ëv–s
.
	`push
(
lše
);

351 
pos™iÚ
 = 
lše
.
lšeEnd
 + 1;

352 } 
pos™iÚ
 < 
‹xt
.
	`Ëngth
() &&…osition > 0);

354 } 
	`ÿtch
 (
Em±ySckExû±iÚ
 
ignÜed
) {

356 
ignÜed
.
	`´štSckT¿û
();

359 
	}
}

361 
´iv©e
 
SŒšg
 
	$g‘NextOrd”edV®ue
(
SŒšg
 
cu¼’tV®ue
) {

362 
fš®
 
P©‹º
 
numb”P©‹º
 = P©‹º.
	`compe
("\\d+");

363 
fš®
 
P©‹º
 
low”ÿ£L‘‹rP©‹º
 = P©‹º.
	`compe
("[a-z]");

364 
fš®
 
P©‹º
 
ÿp™®L‘‹rP©‹º
 = P©‹º.
	`compe
("[A-z]");

366 ià(
numb”P©‹º
.
	`m©ch”
(
cu¼’tV®ue
).
	`fšd
()) {

367 
štV®ue
 = 
IÁeg”
.
	`·r£IÁ
(
cu¼’tV®ue
);

368  
IÁeg”
.
	`toSŒšg
(
štV®ue
 + 1);

370 
ch¬V®ue
 = 
cu¼’tV®ue
.
	`ch¬At
(0);

371 ià(
low”ÿ£L‘‹rP©‹º
.
	`m©ch”
(
cu¼’tV®ue
).
	`fšd
()) {

372  
ch¬V®ue
 < 'z' ? "" + () (charValue + 1) : "" + 'a';

373 } ià(
ÿp™®L‘‹rP©‹º
.
	`m©ch”
(
cu¼’tV®ue
).
	`fšd
()) {

374  
ch¬V®ue
 < 'Z' ? "" + () (charValue + 1) : "" + 'A';

378 
	}
}

	@app/src/main/java/net/gsantner/markor/format/ListHandler.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

19 
public
 cÏs 
	cLi¡HªdËr
 
im¶em’ts
 
	mTextW©ch”
 {

20 
´iv©e
 
fš®
 
boŞ—n
 
	m_»Üd”EÇbËd
;

21 
´iv©e
 
	m»Üd”Pos™iÚ
;

22 
´iv©e
 
boŞ—n
 
	mŒigg”ReÜd”
 = 
çl£
;

23 
´iv©e
 
IÁeg”
 
	mbefÜeLšeEnd
 = 
nuÎ
;

25 
´iv©e
 
fš®
 
	mAutoFÜm©‹r
.
P»fixP©‹ºs
 
	m_´efixP©‹ºs
;

27 
public
 
	$Li¡HªdËr
(
fš®
 
boŞ—n
 
»Üd”EÇbËd
, fš® 
AutoFÜm©‹r
.
P»fixP©‹ºs
 
´efixP©‹ºs
) {

28 
	`su³r
();

29 
_»Üd”EÇbËd
 = 
»Üd”EÇbËd
;

30 
_´efixP©‹ºs
 = 
´efixP©‹ºs
;

33 @
Ov”ride


34 
public
 
	$ÚTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
, 
couÁ
) {

36 
Œigg”ReÜd”
 =rigg”ReÜd” || 
	`cÚšsNewlše
(
s
, 
¡¬t
, 
couÁ
);

39 ià(
befÜeLšeEnd
 !ğ
nuÎ
 && 
couÁ
 > 0 && 
¡¬t
 > -1 && s¹ < 
s
.
	`Ëngth
(è&& s.
	`ch¬At
(start) == '\n') {

41 
fš®
 
S·ÂabË
 
sS·n
 = (S·ÂabËè
s
;

43 
fš®
 
AutoFÜm©‹r
.
Ord”edLi¡Lše
 
oM©ch
 = 
Ãw
 AutoFÜm©‹r.
	`Ord”edLi¡Lše
(
s
, 
¡¬t
, 
_´efixP©‹ºs
);

44 
fš®
 
AutoFÜm©‹r
.
UnOrd”edOrCheckLi¡Lše
 
uM©ch
 = 
Ãw
 AutoFÜm©‹r.
	`UnOrd”edOrCheckLi¡Lše
(
s
, 
¡¬t
, 
_´efixP©‹ºs
);

46 ià(
oM©ch
.
isOrd”edLi¡
 && 
befÜeLšeEnd
 =ğoM©ch.
groupEnd
) {

47 
sS·n
.
	`£tS·n
(
this
, 
oM©ch
.
lšeS¹
, oM©ch.
lšeEnd
 + 1, 
S·Âed
.
SPAN_COMPOSING
);

48 } ià(
uM©ch
.
isUnÜd”edOrCheckLi¡
 && 
befÜeLšeEnd
 =ğuM©ch.
groupEnd
) {

49 
sS·n
.
	`£tS·n
(
this
, 
uM©ch
.
lšeS¹
, uM©ch.
lšeEnd
 + 1, 
S·Âed
.
SPAN_COMPOSING
);

51 
»Üd”Pos™iÚ
 = 
¡¬t
;

54 
befÜeLšeEnd
 = 
nuÎ
;

55 
	}
}

57 @
Ov”ride


58 
public
 
	$aá”TextChªged
(
Ed™abË
 
e
) {

60 
Objeù
 
¥ª
 : 
e
.
	`g‘S·ns
(0,ƒ.
	`Ëngth
(), 
this
.
	`g‘CÏss
())) {

61 ià((
e
.
	`g‘S·nFÏgs
(
¥ª
è& 
S·Âed
.
SPAN_COMPOSING
) != 0) {

62 
e
.
	`d–‘e
Ó.
	`g‘S·nS¹
(
¥ª
),ƒ.
	`g‘S·nEnd
(span));

65 ià(
_»Üd”EÇbËd
 && 
Œigg”ReÜd”
 && 
»Üd”Pos™iÚ
 > 0 &&„eÜd”Pos™iÚ < 
e
.
	`Ëngth
()) {

66 
AutoFÜm©‹r
.
	`»numb”Ord”edLi¡
(
e
, 
»Üd”Pos™iÚ
, 
_´efixP©‹ºs
);

68 
	}
}

70 @
Ov”ride


71 
public
 
	$befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
, 
aá”
) {

72 
Œigg”ReÜd”
 = 
	`cÚšsNewlše
(
s
, 
¡¬t
, 
couÁ
);

73 
»Üd”Pos™iÚ
 = 
¡¬t
;

75 
befÜeLšeEnd
 = 
SŒšgUts
.
	`g‘LšeEnd
(
s
, 
¡¬t
);

76 
	}
}

78 
´iv©e
 
boŞ—n
 
	$cÚšsNewlše
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
) {

79 
fš®
 
’d
 = 
¡¬t
 + 
couÁ
;

80 
i
 = 
¡¬t
; i < 
’d
; i++) {

81 ià(
s
.
	`ch¬At
(
i
) == '\n') {

82  
Œue
;

85  
çl£
;

86 
	}
}

	@app/src/main/java/net/gsantner/markor/format/TextConverter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gfÜm©
.
	gD©eFÜm©
;

14 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

19 
impÜt
 
	gjava
.
	gio
.
	gFe
;

20 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

22 @
Suµ»ssW¬nšgs
("WeakerAccess")

23 
public
 
ab¡¿ù
 cÏs 
	cTextCÚv”‹r
 {

27 
´Ùeùed
 
fš®
 
SŒšg
 
	mUTF_CHARSET
 = "utf-8";

28 
´Ùeùed
 
fš®
 
SŒšg
 
	mCONTENT_TYPE_HTML
 = "text/html";

29 
´Ùeùed
 
fš®
 
SŒšg
 
	mCONTENT_TYPE_PLAIN
 = "text/plain";

31 
´Ùeùed
 
fš®
 
SŒšg
 
	mCSS_S
 = "<styleype='text/css'>";

32 
´Ùeùed
 
fš®
 
SŒšg
 
	mCSS_E
 = "</style>";

33 
´Ùeùed
 
fš®
 
SŒšg
 
	mJS_S
 = "<script>";

34 
´Ùeùed
 
fš®
 
SŒšg
 
	mJS_E
 = "</script>";

36 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_TEXT_DIRECTION
 = "{{‡pp.text_direction }}";

37 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_FONT
 = "{{‡pp.text_font }}";

38 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_BW_INVERSE_OF_THEME
 = "{{‡pp.token_bw_inverse_of_theme }}";

39 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_BW_INVERSE_OF_THEME_HEADER_UNDERLINE
 = "{{‡pp.token_headline_underline_inverse_of_theme }}";

40 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_LINK_COLOR
 = "{{‡pp.token_link_color }}";

41 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_TEXT_CONVERTER_CSS_CLASS
 = "{{…ost.text_converter_name }}";

42 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_TEXT_CONVERTER_MAX_ZOOM_OUT_BY_DEFAULT
 = "{{‡pp.webview_max_zoom_out_by_default }}";

43 
´Ùeùed
 
fš®
 
SŒšg
 
	mTOKEN_POST_TODAY_DATE
 = "{{…ost.date_today }}";

45 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML_DOCTYPE
 = "<!DOCTYPE html>";

46 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML001_HEAD_WITH_BASESTYLE
 = "<html><h—d>" + 
CSS_S
 + "html,body{·ddšg:4px 8px 4px 8px;fÚt-çmy:'" + 
TOKEN_FONT
 + "';}h1,h2,h3,h4,h5,h6{fÚt-çmy:'§ns-£rif-cÚd’£d';}a{cŞÜ: " + 
TOKEN_LINK_COLOR
 + ";‹xt-decÜ©iÚ:und”lše;}img{height:auto;width:325px;m¬gš:auto;}" + 
CSS_E
;

47 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML002_HEAD_WITH_STYLE_LIGHT
 = 
CSS_S
 + "html,body{cŞÜ:#303030;}blockquÙe{cŞÜ:#73747d;}" + 
CSS_E
;

48 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML002_HEAD_WITH_STYLE_DARK
 = 
CSS_S
 + "html,body{cŞÜ:#ffffff;background-cŞÜ:#303030;}a:vis™ed{cŞÜ:#dddddd;}blockquÙe{cŞÜ:#cccccc;}" + 
CSS_E
;

49 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML003_RIGHT_TO_LEFT
 = 
CSS_S
 + "body{‹xt-®ign:" + 
TOKEN_TEXT_DIRECTION
 + ";dœeùiÚ:¹l;}" + 
CSS_E
;

50 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML004_HEAD_META_VIEWPORT_MOBILE
 = "<style>video, img { max-width: 100%; }…re { max-width: 100%; overflow:‡uto; } </style>";

51 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML100_PERCENT_IN_FILEPATH
 = "<ba£>" + 
JS_S
 + "v¬‚ewba£ = docum’t.ba£URI.¥l™('%').još('%25'); docum’t.qu”yS–eùÜ('ba£').£tA‰ribu‹('h»f',‚ewba£);" + 
JS_E
;

52 
´Ùeùed
 
fš®
 
SŒšg
 
	mCSS_TABLE_STYLE
 = 
CSS_S
 + "bË,h,d { bÜd”: 1px sŞid " + 
TOKEN_BW_INVERSE_OF_THEME
 + "; bÜd”-cŞÏp£: cŞÏp£; bÜd”-¥acšg: 0;…addšg: 6px; }" + 
CSS_E
;

55 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML500_BODY
 = "</h—d>\n<body cÏss='" + 
TOKEN_TEXT_CONVERTER_CSS_CLASS
 + "' onload='onPageLoaded_markor_private();'>\n\n<!-- USER DOCUMENT CONTENT -->\n\n\n";

59 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML990_BODY_END
 = "\n\n<!-- USER DOCUMENT CONTENT END -->\n\n</body></html>";

61 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML_ON_PAGE_LOAD_S
 = "<script> function onPageLoaded_markor_private() {\n";

62 
´Ùeùed
 
fš®
 
SŒšg
 
	mHTML_ON_PAGE_LOAD_E
 = "\nonPageLoaded(); }\n</script>";

77 
public
 
SŒšg
 
	$cÚv”tM¬kupShowInWebV›w
(
Docum’t
 
docum’t
, 
WebV›w
 
webV›w
, 
boŞ—n
 
isExpÜtInLightMode
, 
Fe
 
fe
) {

78 
CÚ‹xt
 
cÚ‹xt
 = 
webV›w
.
	`g‘CÚ‹xt
();

79 
SŒšg
 
html
;

80 
Œy
 {

81 
html
 = 
	`cÚv”tM¬kup
(
docum’t
.
	`g‘CÚ‹Á
(), 
cÚ‹xt
, 
isExpÜtInLightMode
, 
fe
);

82 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

83 
html
 = "PËa£„•Üˆ©…rojeù issuŒack”: " + 
e
.
	`toSŒšg
();

86 
SŒšg
 
ba£FŞd”
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
).
	`g‘NÙebookDœeùÜyAsSŒ
();

87 ià(
docum’t
.
	`g‘Fe
(è!ğ
nuÎ
 && docum’t.g‘Fe().
	`g‘P¬’tFe
() !=‚ull) {

88 
ba£FŞd”
 = 
docum’t
.
	`g‘Fe
().
	`g‘P¬’t
();

90 
ba£FŞd”
 = "file://" + baseFolder + "/";

91 
webV›w
.
	`lßdD©aW™hBa£URL
(
ba£FŞd”
, 
html
, 
	`g‘CÚ‹ÁTy³
(), 
UTF_CHARSET
, 
nuÎ
);

95 
i
 = (
html
.
	`cÚšs
(
TOKEN_TEXT_CONVERTER_MAX_ZOOM_OUT_BY_DEFAULT
) ? 0 : 99); i < 30; i++) {

96 
webV›w
.
	`po¡D–ayed
(webV›w::
zoomOut
, 210 * (
i
 < 5 ? 1 : (i < 10 ? 2 : (i < 15 ? 3 : (i < 20 ? 5 : 9)))));

99  
html
;

102 
´Ùeùed
 
SŒšg
 
	$g‘FeEx‹nsiÚ
(
Fe
 
fe
) {

103 ià(
fe
 =ğ
nuÎ
) {

106  (
fe
.
	`g‘Name
().
	`cÚšs
("."è? fe.g‘Name().
	`sub¡ršg
(fe.g‘Name().
	`Ï¡IndexOf
(".")è: "").
	`toLow”Ca£
();

107 
	}
}

116 
public
 
ab¡¿ù
 
SŒšg
 
cÚv”tM¬kup
(SŒšg 
m¬kup
, 
CÚ‹xt
 
cÚ‹xt
, 
boŞ—n
 
isExpÜtInLightMode
, 
Fe
 
fe
);

118 
´Ùeùed
 
SŒšg
 
	$putCÚ‹ÁIÁoTem¶©e
(
CÚ‹xt
 
cÚ‹xt
, 
SŒšg
 
cÚ‹Á
, 
boŞ—n
 
isExpÜtInLightMode
, 
Fe
 
fe
, SŒšg 
ÚLßdJs
, SŒšg 
h—d
) {

119 
fš®
 
SŒšg
 
cÚ‹ÁLow”
 = 
cÚ‹Á
.
	`toLow”Ca£
();

120 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
);

121 
boŞ—n
 
d¬kTheme
 = 
­pS‘tšgs
.
	`isD¬kThemeEÇbËd
(è&& !
isExpÜtInLightMode
;

122 
SŒšg
 
html
 = 
HTML_DOCTYPE
 + 
HTML001_HEAD_WITH_BASESTYLE
 + (
d¬kTheme
 ? 
HTML002_HEAD_WITH_STYLE_DARK
 : 
HTML002_HEAD_WITH_STYLE_LIGHT
);

123 ià(
isExpÜtInLightMode
) {

124 
html
 = html.
	`»¶aû
("html,body{color:#303030;}", "html,body{color: black !important; background-color: white !important;}");

126 
html
 +ğ
HTML004_HEAD_META_VIEWPORT_MOBILE
 + 
CSS_TABLE_STYLE
;

127 ià(
­pS‘tšgs
.
	`isR’d”R
()) {

128 
html
 +ğ
HTML003_RIGHT_TO_LEFT
;

131 
html
 +ğ
h—d
 + 
­pS‘tšgs
.
	`g‘InjeùedH—d”
();

133 
html
 +ğ
HTML_ON_PAGE_LOAD_S
 + 
ÚLßdJs
 + 
HTML_ON_PAGE_LOAD_E
;

136 
SŒšg
 
fÚt
 = 
­pS‘tšgs
.
	`g‘FÚtFamy
();

137 ià(
fÚt
.
	`¡¬tsW™h
("/")) {

138 
html
 +ğ
CSS_S
 + "@fÚt-çû { fÚt-çmy: u5cdÙ; src: u¾('fe://" + 
fÚt
 + "'); }" + 
CSS_E
;

139 
fÚt
 = "u5cdot";

143 
html
 = html.
	`»¶aû
(
CSS_E
 + 
CSS_S
, "").replace(CSS_E + "\n" + CSS_S, "");

146 ià(
fe
 !ğ
nuÎ
) {

147 ià(
fe
.
	`g‘AbsŞu‹P©h
().
	`cÚšs
("%"è|| ((
cÚ‹ÁLow”
.contains(".nextcloud") || contentLower.contains(".owncloud")) && (contentLower.contains("%2") || contentLower.contains("%4")))) {

148 
html
 +ğ
HTML100_PERCENT_IN_FILEPATH
;

153 
html
 +ğ
HTML500_BODY
;

154 
html
 +ğ
­pS‘tšgs
.
	`g‘InjeùedBody
();

155 
html
 +ğ
cÚ‹Á
;

156 
html
 +ğ
HTML990_BODY_END
;

159 
html
 = html

160 .
	`»¶aû
(
TOKEN_BW_INVERSE_OF_THEME
, 
d¬kTheme
 ? "white" : "black")

161 .
	`»¶aû
(
TOKEN_BW_INVERSE_OF_THEME_HEADER_UNDERLINE
, 
d¬kTheme
 ? "#eaecef" : "#696969")

162 .
	`»¶aû
(
TOKEN_LINK_COLOR
, 
­pS‘tšgs
.
	`g‘V›wModeLškCŞÜ
())

163 .
	`»¶aû
(
TOKEN_TEXT_DIRECTION
, 
­pS‘tšgs
.
	`isR’d”R
() ? "right" : "left")

164 .
	`»¶aû
(
TOKEN_FONT
, 
fÚt
)

165 .
	`»¶aû
(
TOKEN_TEXT_CONVERTER_CSS_CLASS
, "fÜm©-" + 
	`g‘CÏss
().
	`g‘Sim¶eName
().
	`toLow”Ca£
().»¶aû("‹xtcÚv”‹r", "").»¶aû("cÚv”‹r", ""è+ " f“xt-" + 
	`g‘FeEx‹nsiÚ
(
fe
).replace(".", ""))

166 .
	`»¶aû
(
TOKEN_POST_TODAY_DATE
, 
D©eFÜm©
.
	`g‘D©eFÜm©
(
cÚ‹xt
).
	`fÜm©
(
Ãw
 
	`D©e
()));

168  
html
;

169 
	}
}

171 
´Ùeùed
 
SŒšg
 
	$g‘CÚ‹ÁTy³
() {

172  
CONTENT_TYPE_HTML
;

173 
	}
}

175 
public
 
ab¡¿ù
 
boŞ—n
 
isFeOutOfThisFÜm©
(
SŒšg
 
f•©h
);

	@app/src/main/java/net/gsantner/markor/format/TextFormat.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gkeyv®ue
.
	gKeyV®ueCÚv”‹r
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gkeyv®ue
.
	gKeyV®ueHighligh‹r
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownHighligh‹r
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownTextAùiÚs
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownTextCÚv”‹r
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏš‹xtCÚv”‹r
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏš‹xtHighligh‹r
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏš‹xtTextAùiÚs
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtHighligh‹r
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTextAùiÚs
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTextCÚv”‹r
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
.
	gZimWikiHighligh‹r
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
.
	gZimWikiTextAùiÚs
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
.
	gZimWikiTextCÚv”‹r
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighligh‹r
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

35 
impÜt
 
	gjava
.
	gio
.
	gFe
;

36 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

38 
public
 cÏs 
	cTextFÜm©
 {

39 
public
 
fš®
 
	mFORMAT_UNKNOWN
 = 0;

40 
public
 
fš®
 
	mFORMAT_ZIMWIKI
 = 
R
.
¡ršg
.
aùiÚ_fÜm©_zimwiki
;

41 
public
 
fš®
 
	mFORMAT_MARKDOWN
 = 
R
.
¡ršg
.
aùiÚ_fÜm©_m¬kdown
;

42 
public
 
fš®
 
	mFORMAT_PLAIN
 = 
R
.
¡ršg
.
aùiÚ_fÜm©_¶aš‹xt
;

43 
public
 
fš®
 
	mFORMAT_TODOTXT
 = 
R
.
¡ršg
.
aùiÚ_fÜm©_todÙxt
;

44 
public
 
fš®
 
	mFORMAT_KEYVALUE
 = 
R
.
¡ršg
.
aùiÚ_fÜm©_keyv®ue
;

46 
public
 
fš®
 
M¬kdownTextCÚv”‹r
 
	mCONVERTER_MARKDOWN
 = 
Ãw
 MarkdownTextConverter();

47 
public
 
fš®
 
ZimWikiTextCÚv”‹r
 
	mCONVERTER_ZIMWIKI
 = 
Ãw
 ZimWikiTextConverter();

48 
public
 
fš®
 
TodoTxtTextCÚv”‹r
 
	mCONVERTER_TODOTXT
 = 
Ãw
 TodoTxtTextConverter();

49 
public
 
fš®
 
KeyV®ueCÚv”‹r
 
	mCONVERTER_KEYVALUE
 = 
Ãw
 KeyValueConverter();

50 
public
 
fš®
 
PÏš‹xtCÚv”‹r
 
	mCONVERTER_PLAINTEXT
 = 
Ãw
 PlaintextConverter();

53 
´iv©e
 
fš®
 
	mTextCÚv”‹r
[] 
	mCONVERTERS
 = 
Ãw
 
TextCÚv”‹r
[]{

54 
CONVERTER_MARKDOWN
,

55 
CONVERTER_TODOTXT
,

56 
CONVERTER_ZIMWIKI
,

57 
CONVERTER_KEYVALUE
,

58 
CONVERTER_PLAINTEXT
,

61 
public
 
boŞ—n
 
	$isTextFe
(
fš®
 
SŒšg
 
absŞu‹P©h
) {

62  
	`isTextFe
(
Ãw
 
	`Fe
(
absŞu‹P©h
));

63 
	}
}

65 
public
 
boŞ—n
 
	$isTextFe
(
fš®
 
Fe
 
fe
) {

66 ià(
fe
 =ğ
nuÎ
) {

67  
çl£
;

69 
fš®
 
SŒšg
 
·th
 = 
fe
.
	`g‘AbsŞu‹P©h
().
	`toLow”Ca£
(
LoÿË
.
ROOT
);

70 
TextCÚv”‹r
 
cÚv”‹r
 : 
CONVERTERS
) {

71 ià(
cÚv”‹r
.
	`isFeOutOfThisFÜm©
(
·th
)) {

72  
Œue
;

76  
FeUts
.
	`isTextFe
(
fe
);

77 
	}
}

79 
public
 
š‹rçû
 
	gTextFÜm©Aµl›r
 {

80 
­¶yTextFÜm©
(
‹xtFÜm©Id
);

83 
public
 
TextFÜm©
 
	$g‘FÜm©
(
fÜm©Id
, 
Aùiv™y
 
aùiv™y
, 
Docum’t
 
docum’t
, 
HighlightšgEd™Ü
 
hlEd™Ü
) {

84 
TextFÜm©
 
fÜm©
 = 
Ãw
 
	`TextFÜm©
();

85 
fÜm©Id
) {

86 
FORMAT_PLAIN
: {

87 
fÜm©
.
	`£tCÚv”‹r
(
CONVERTER_PLAINTEXT
);

88 
fÜm©
.
	`£tHighligh‹r
(
Ãw
 
	`PÏš‹xtHighligh‹r
(
hlEd™Ü
, 
docum’t
));

89 
fÜm©
.
	`£tTextAùiÚs
(
Ãw
 
	`PÏš‹xtTextAùiÚs
(
aùiv™y
, 
docum’t
));

92 
FORMAT_TODOTXT
: {

93 
fÜm©
.
	`£tCÚv”‹r
(
CONVERTER_TODOTXT
);

94 
fÜm©
.
	`£tHighligh‹r
(
Ãw
 
	`TodoTxtHighligh‹r
(
hlEd™Ü
, 
docum’t
));

95 
fÜm©
.
	`£tTextAùiÚs
(
Ãw
 
	`TodoTxtTextAùiÚs
(
aùiv™y
, 
docum’t
));

99 
FORMAT_KEYVALUE
: {

100 
fÜm©
.
	`£tCÚv”‹r
(
CONVERTER_KEYVALUE
);

101 
fÜm©
.
	`£tHighligh‹r
(
Ãw
 
	`KeyV®ueHighligh‹r
(
hlEd™Ü
, 
docum’t
));

102 
fÜm©
.
	`£tTextAùiÚs
(
Ãw
 
	`PÏš‹xtTextAùiÚs
(
aùiv™y
, 
docum’t
));

106 
FORMAT_ZIMWIKI
: {

107 
fÜm©
.
	`£tCÚv”‹r
(
CONVERTER_ZIMWIKI
);

108 
fÜm©
.
	`£tHighligh‹r
(
Ãw
 
	`ZimWikiHighligh‹r
(
hlEd™Ü
, 
docum’t
));

109 
fÜm©
.
	`£tTextAùiÚs
(
Ãw
 
	`ZimWikiTextAùiÚs
(
aùiv™y
, 
docum’t
));

114 
FORMAT_MARKDOWN
: {

115 
fÜm©
.
	`£tCÚv”‹r
(
CONVERTER_MARKDOWN
);

116 
fÜm©
.
	`£tHighligh‹r
(
Ãw
 
	`M¬kdownHighligh‹r
(
hlEd™Ü
, 
docum’t
));

117 
fÜm©
.
	`£tTextAùiÚs
(
Ãw
 
	`M¬kdownTextAùiÚs
(
aùiv™y
, 
docum’t
));

121  
fÜm©
;

122 
	}
}

127 
´iv©e
 
TextAùiÚs
 
	g_‹xtAùiÚs
;

128 
´iv©e
 
Highligh‹r
 
	g_highligh‹r
;

129 
´iv©e
 
TextCÚv”‹r
 
	g_cÚv”‹r
;

131 
public
 
	$TextFÜm©
() {

132 
	}
}

134 
public
 
	$TextFÜm©
(
TextAùiÚs
 
‹xtAùiÚs
, 
Highligh‹r
 
highligh‹r
, 
TextCÚv”‹r
 
cÚv”‹r
) {

135 
_‹xtAùiÚs
 = 
‹xtAùiÚs
;

136 
_highligh‹r
 = 
highligh‹r
;

137 
_cÚv”‹r
 = 
cÚv”‹r
;

138 
	}
}

145 
public
 
TextAùiÚs
 
	$g‘TextAùiÚs
() {

146  
_‹xtAùiÚs
;

147 
	}
}

149 
public
 
	$£tTextAùiÚs
(
TextAùiÚs
 
‹xtAùiÚs
) {

150 
_‹xtAùiÚs
 = 
‹xtAùiÚs
;

151 
	}
}

153 
public
 
Highligh‹r
 
	$g‘Highligh‹r
() {

154  
_highligh‹r
;

155 
	}
}

157 
public
 
	$£tHighligh‹r
(
Highligh‹r
 
highligh‹r
) {

158 
_highligh‹r
 = 
highligh‹r
;

159 
	}
}

161 
public
 
TextCÚv”‹r
 
	$g‘CÚv”‹r
() {

162  
_cÚv”‹r
;

163 
	}
}

165 
public
 
	$£tCÚv”‹r
(
TextCÚv”‹r
 
cÚv”‹r
) {

166 
_cÚv”‹r
 = 
cÚv”‹r
;

167 
	}
}

	@app/src/main/java/net/gsantner/markor/format/general/BackgroundParagraphSpan.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gLšeBackgroundS·n
;

17 
public
 
ab¡¿ù
 cÏs 
	cBackgroundP¬ag¿phS·n
 
im¶em’ts
 
	mLšeBackgroundS·n
 {

18 
´iv©e
 
	m_´eviousP¬ag¿phBegšIndex
 = -1;

20 @
Ov”ride


21 
public
 
	$d¿wBackground
(
Cªvas
 
c
, 
Pašt
 
p
, 
Ëá
, 
right
, 
tİ
, 
ba£lše
, 
bÙtom
, 
Ch¬Sequ’û
 
‹xt
, 
¡¬t
, 
’d
, 
Êum
) {

22 
fš®
 
·štCŞÜBak
 = 
p
.
	`g‘CŞÜ
();

23 
boŞ—n
 
isFœ¡LšeOfP¬ag¿ph
 = 
_´eviousP¬ag¿phBegšIndex
 !ğ
¡¬t
;

24 
	`d¿wBackground
(
c
, 
p
, 
Ëá
, 
right
, 
tİ
, 
ba£lše
, 
bÙtom
, 
‹xt
, 
¡¬t
, 
’d
, 
Êum
, 
isFœ¡LšeOfP¬ag¿ph
);

25 
_´eviousP¬ag¿phBegšIndex
 = 
’d
;

26 
p
.
	`£tCŞÜ
(
·štCŞÜBak
);

29 @
	`Suµ»ssW¬nšgs
("WeakerAccess")

30 
public
 
ab¡¿ù
 
	`d¿wBackground
(
Cªvas
 
c
, 
Pašt
 
p
, 
Ëá
, 
right
, 
tİ
, 
ba£lše
, 
bÙtom
, 
Ch¬Sequ’û
 
‹xt
, 
¡¬t
, 
’d
, 
Êum
, 
boŞ—n
 
isFœ¡LšeOfP¬ag¿ph
);

44 
	}
}

	@app/src/main/java/net/gsantner/markor/format/general/ColorUnderlineSpan.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextPašt
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gUnd”lšeS·n
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gUpd©eAµ—¿nû
;

16 
impÜt
 
	gjava
.
	gÏng
.
	g»æeù
.
	gM‘hod
;

18 
public
 cÏs 
	cCŞÜUnd”lšeS·n
 
ex‹nds
 
Und”lšeS·n
 
im¶em’ts
 
	mUpd©eAµ—¿nû
 {

19 
´iv©e
 
fš®
 
	m_cŞÜ
;

20 
´iv©e
 
fš®
 
	m_thickÃss
;

22 
public
 
	$CŞÜUnd”lšeS·n
(
cŞÜ
, 
Flßt
 
thickÃss
) {

23 
_cŞÜ
 = 
cŞÜ
;

24 
_thickÃss
 = 
thickÃss
 =ğ
nuÎ
 ? 1.0f :hickness;

27 @
Ov”ride


28 
public
 
	$upd©eD¿wS‹
(
fš®
 
TextPašt
 

) {

29 
Œy
 {

30 
M‘hod
 
m‘hod
 = 
TextPašt
.
şass
.
	`g‘M‘hod
("£tUnd”lšeText", 
IÁeg”
.
TYPE
, 
Flßt
.TYPE);

31 
m‘hod
.
	`švoke
(

, 
_cŞÜ
, 
_thickÃss
);

32 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

33 

.
	`£tUnd”lšeText
(
Œue
);

35 
	}
}

	@app/src/main/java/net/gsantner/markor/format/general/CommonTextActions.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

16 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

17 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

19 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜPick”V›w
;

20 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gUts
;

21 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gCŞÜPick”ClickLi¡’”
;

22 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gCŞÜPick”DŸlogBud”
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏšTextStuff
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

32 @
Suµ»ssW¬nšgs
("WeakerAccess")

33 
public
 cÏs 
	cCommÚTextAùiÚs
 {

34 
public
 
fš®
 
	mACTION_SPECIAL_KEY__ICON
 = 
R
.
d¿wabË
.
ic_keybßrd_bÏck_24dp
;

35 
public
 
fš®
 
SŒšg
 
	mACTION_SPECIAL_KEY
 = "tmaid_common_special_key";

37 
public
 
fš®
 
	mACTION_OPEN_LINK_BROWSER__ICON
 = 
R
.
d¿wabË
.
ic_İ’_š_brow£r_bÏck_24dp
;

38 
public
 
fš®
 
SŒšg
 
	mACTION_OPEN_LINK_BROWSER
 = "tmaid_common_open_link_browser";

40 
public
 
fš®
 
	mACTION_COLOR_PICKER_ICON
 = 
R
.
d¿wabË
.
ic_fÜm©_cŞÜ_fl_bÏck_24dp
;

41 
public
 
fš®
 
SŒšg
 
	mACTION_COLOR_PICKER
 = "tmaid_common_color_picker";

43 
public
 
fš®
 
	mACTION_DELETE_LINES_ICON
 = 
R
.
d¿wabË
.
ic_d–‘e_bÏck_24dp
;

44 
public
 
fš®
 
SŒšg
 
	mACTION_DELETE_LINES
 = "tmaid_common_delete_lines";

46 
public
 
fš®
 
	mACTION_END_LINE_WITH_TWO_SPACES_ICON
 = 
R
.
d¿wabË
.
ic_keybßrd_»tuº_bÏck_24dp
;

47 
public
 
fš®
 
SŒšg
 
	mACTION_END_LINE_WITH_TWO_SPACES
 = "tmaid_markdown_end_line_with_two_spaces";

49 
public
 
fš®
 
	mACTION_SEARCH_ICON
 = 
R
.
d¿wabË
.
ic_£¬ch_bÏck_24dp
;

50 
public
 
fš®
 
SŒšg
 
	mACTION_SEARCH
 = "tmaid_common_search_in_content_of_current_file";

52 
public
 
fš®
 
	mACTION_JUMP_BOTTOM_TOP_ICON
 = 
R
.
d¿wabË
.
ic_v”tiÿl_®ign_ûÁ”_bÏck_24dp
;

53 
public
 
fš®
 
SŒšg
 
	mACTION_JUMP_BOTTOM_TOP
 = "tmaid_common_jump_to_bottom";

55 
public
 
fš®
 
SŒšg
 
	mACTION_MOVE_UP
 = "tmaid_common_move_text_one_line_up";

56 
public
 
fš®
 
SŒšg
 
	mACTION_MOVE_DOWN
 = "tmaid_common_move_text_one_line_down";

57 
public
 
fš®
 
SŒšg
 
	mACTION_NEW_LINE_BELOW
 = "tmaid_common_new_line_below";

59 
´iv©e
 
fš®
 
SŒšg
 
	mLINE_SEPARATOR
 = 
TextUts
.
isEm±y
(
Sy¡em
.
g‘Prİ”ty
("line.separator")) ? "\n" : System.getProperty("line.separator");

61 
´iv©e
 
fš®
 
Aùiv™y
 
	m_aùiv™y
;

62 
´iv©e
 
fš®
 
HighlightšgEd™Ü
 
	m_hlEd™Ü
;

64 
public
 
	$CommÚTextAùiÚs
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
HighlightšgEd™Ü
 
hlEd™Ü
) {

65 
_aùiv™y
 = 
aùiv™y
;

66 
_hlEd™Ü
 = 
hlEd™Ü
;

69 
´iv©e
 
SŒšg
 
	`r¡r
(@
SŒšgRes
 
»sKey
) {

70  
_aùiv™y
.
	`g‘SŒšg
(
»sKey
);

71 
	}
}

74 
public
 
boŞ—n
 
	$runAùiÚ
(
SŒšg
 
aùiÚ
) {

75 
fš®
 
SŒšg
 
ÜigText
 = 
_hlEd™Ü
.
	`g‘Text
().
	`toSŒšg
();

76 
aùiÚ
) {

77 
ACTION_SPECIAL_KEY
: {

80 
fš®
 [] 
£l
 = 
SŒšgUts
.
	`g‘S–eùiÚ
(
_hlEd™Ü
);

81 
_hlEd™Ü
.
	`ş—rFocus
();

82 
_hlEd™Ü
.
	`»que¡Focus
();

83 
_hlEd™Ü
.
	`£tS–eùiÚ
(
£l
[0], sel[1]);

85 
S—rchOrCu¡omTextDŸlogC»©Ü
.
	`showS³cŸlKeyDŸlog
(
_aùiv™y
, (
ÿÎbackPaylßd
) -> {

86 ià(!
_hlEd™Ü
.
	`hasS–eùiÚ
(è&& _hlEd™Ü.
	`Ëngth
() > 0) {

87 
_hlEd™Ü
.
	`»que¡Focus
();

89 ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_·ge_down
))) {

90 
_hlEd™Ü
.
	`simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_PAGE_DOWN
);

91 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_·ge_up
))) {

92 
_hlEd™Ü
.
	`simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_PAGE_UP
);

93 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_pos_1
))) {

94 
_hlEd™Ü
.
	`simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_MOVE_HOME
);

95 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_pos_’d
))) {

96 
_hlEd™Ü
.
	`simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_MOVE_END
);

97 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_pos_1_docum’t
))) {

98 
_hlEd™Ü
.
	`£tS–eùiÚ
(0);

99 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
move_‹xt_Úe_lše_up
))) {

100 
	`moveLšeBy1
(
Œue
);

101 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
move_‹xt_Úe_lše_down
))) {

102 
	`moveLšeBy1
(
çl£
);

103 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_pos_’d_docum’t
))) {

104 
_hlEd™Ü
.
	`£tS–eùiÚ
(_hlEd™Ü.
	`Ëngth
());

105 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_ù¾_a
))) {

106 
_hlEd™Ü
.
	`£tS–eùiÚ
(0, _hlEd™Ü.
	`Ëngth
());

107 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
key_b
))) {

108 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("\u0009");

109 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
z”o_width_¥aû
))) {

110 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("\u200B");

111 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
£¬ch
))) {

112 
	`runAùiÚ
(
ACTION_SEARCH
);

113 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
b»ak_·ge_pdf_´št
))) {

114 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("<div style='page-break-after:always;'></div>");

115 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
ohm
))) {

116 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("Î©");

117 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
cÚtšued_ov”lše
))) {

118 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("â€¾â€¾â€¾â€¾â€¾");

119 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
shrug
))) {

120 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("Â¯\\_(ãƒ„)_/Â¯");

121 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
ch¬_punù©iÚ_m¬k_¬rows
))) {

122 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("Â»Â«");

123 } ià(
ÿÎbackPaylßd
.
	`equ®s
(
	`r¡r
(
R
.
¡ršg
.
£Ëù_cu¼’t_lše
))) {

124 
_hlEd™Ü
.
	`£tS–eùiÚEx·ndWhŞeLšes
();

127  
Œue
;

129 
ACTION_MOVE_UP
: {

130 
	`moveLšeBy1
(
Œue
);

131  
Œue
;

133 
ACTION_MOVE_DOWN
: {

134 
	`moveLšeBy1
(
çl£
);

135  
Œue
;

137 
ACTION_NEW_LINE_BELOW
: {

139 
_hlEd™Ü
.
	`£tS–eùiÚ
(
SŒšgUts
.
	`g‘LšeEnd
(_hlEd™Ü.
	`g‘Text
(), SŒšgUts.
	`g‘S–eùiÚ
(_hlEditor)[1]));

140 
_hlEd™Ü
.
	`simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_ENTER
);

141  
Œue
;

143 
ACTION_OPEN_LINK_BROWSER
: {

144 
SŒšg
 
u¾
;

145 ià((
u¾
 = 
PÏšTextStuff
.
	`ŒyExŒaùU¾AroundPos
(
_hlEd™Ü
.
	`g‘Text
().
	`toSŒšg
(), _hlEd™Ü.
	`g‘S–eùiÚS¹
())è!ğ
nuÎ
) {

146 ià(
u¾
.
	`’dsW™h
(")")) {

147 
u¾
 = u¾.
	`sub¡ršg
(0, u¾.
	`Ëngth
() - 1);

149 
Ãw
 
	`CÚ‹xtUts
(
_aùiv™y
).
	`İ’Web·geInEx‹º®Brow£r
(
u¾
);

151  
Œue
;

153 
ACTION_DELETE_LINES
: {

154 
fš®
 [] 
£l
 = 
SŒšgUts
.
	`g‘LšeS–eùiÚ
(
_hlEd™Ü
);

155 
fš®
 
Ed™abË
 
‹xt
 = 
_hlEd™Ü
.
	`g‘Text
();

156 
fš®
 
boŞ—n
 
Ï¡Lše
 = 
£l
[1] =ğ
‹xt
.
	`Ëngth
();

157 
fš®
 
boŞ—n
 
fœ¡Lše
 = 
£l
[0] == 0;

158 
‹xt
.
	`d–‘e
(
£l
[0] - (
Ï¡Lše
 && !
fœ¡Lše
 ? 1 : 0), sel[1] + (lastLine ? 0 : 1));

159  
Œue
;

161 
ACTION_END_LINE_WITH_TWO_SPACES
: {

162 ià(
_hlEd™Ü
.
	`Ëngth
() > 1) {

163 
¡¬t
 = 
_hlEd™Ü
.
	`g‘S–eùiÚS¹
();

164 
SŒšg
 
‹xt
 = 
_hlEd™Ü
.
	`g‘Text
().
	`toSŒšg
();

165 
š£¹Pos
 = 
‹xt
.
	`šdexOf
('\n', 
¡¬t
);

166 
š£¹Pos
 = in£¹Po < 1 ? 
‹xt
.
	`Ëngth
() : insertPos;

167 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(
š£¹Pos
, " " + (
‹xt
.
	`’dsW™h
("\n") ? "" : "\n"));

168 
_hlEd™Ü
.
	`£tS–eùiÚ
((
M©h
.
	`mš
((
š£¹Pos
 + 3), _hlEd™Ü.
	`Ëngth
())));

170  
Œue
;

172 
ACTION_SEARCH
: {

173 
S—rchOrCu¡omTextDŸlogC»©Ü
.
	`showS—rchDŸlog
(
_aùiv™y
, 
_hlEd™Ü
.
	`g‘Text
(), 
SŒšgUts
.
	`g‘S–eùiÚ
(_hlEd™Ü), (
lšeNr
) -> {

174 ià(!
_hlEd™Ü
.
	`hasFocus
()) {

175 
_hlEd™Ü
.
	`»que¡Focus
();

177 
_hlEd™Ü
.
	`£tS–eùiÚ
(
SŒšgUts
.
	`g‘IndexFromLšeOff£t
(
ÜigText
, 
lšeNr
, 0));

179  
Œue
;

181 
ACTION_JUMP_BOTTOM_TOP
: {

182 
pos
 = 
_hlEd™Ü
.
	`g‘S–eùiÚS¹
();

183 
_hlEd™Ü
.
	`£tS–eùiÚ
(
pos
 =ğ0 ? _hlEd™Ü.
	`g‘Text
().
	`Ëngth
() : 0);

184  
Œue
;

186 
ACTION_COLOR_PICKER
: {

187 
S—rchOrCu¡omTextDŸlogC»©Ü
.
	`showCŞÜS–eùiÚModeDŸlog
(
_aùiv™y
, 
Ãw
 
C®lback
.
a1
<
IÁeg”
>() {

188 @
Ov”ride


189 
public
 
	`ÿÎback
(
IÁeg”
 
cŞÜIn£¹Ty³
) {

190 
CŞÜPick”DŸlogBud”


191 .
	`w™h
(
_hlEd™Ü
.
	`g‘CÚ‹xt
())

192 .
	`£tT™Ë
(
R
.
¡ršg
.
cŞÜ
)

193 .
	`wh“lTy³
(
CŞÜPick”V›w
.
WHEEL_TYPE
.
FLOWER
)

194 .
	`d’s™y
(12)

195 .
	`£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, 
Ãw
 
	`CŞÜPick”ClickLi¡’”
() {

196 @
Ov”ride


197 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
£ËùedCŞÜ
, 
IÁeg”
[] 
®lCŞÜs
) {

198 
SŒšg
 
hex
 = 
Uts
.
	`g‘HexSŒšg
(
£ËùedCŞÜ
, 
çl£
).
	`toLow”Ca£
();

199 
pos
 = 
_hlEd™Ü
.
	`g‘S–eùiÚS¹
();

200 
cŞÜIn£¹Ty³
) {

201 
R
.
¡ršg
.
hexcode
: {

202 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(
pos
, 
hex
);

205 
R
.
¡ršg
.
fÜeground
: {

206 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(
pos
, "<¥ª styË='cŞÜ:" + 
hex
 + ";'></span>");

207 
_hlEd™Ü
.
	`£tS–eùiÚ
(_hlEd™Ü.
	`g‘S–eùiÚS¹
() - 7);

210 
R
.
¡ršg
.
background
: {

211 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(
pos
, "<¥ª styË='background-cŞÜ:" + 
hex
 + ";'></span>");

212 
_hlEd™Ü
.
	`£tS–eùiÚ
(_hlEd™Ü.
	`g‘S–eùiÚS¹
() - 7);

219 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
, 
nuÎ
)

220 .
	`bud
()

221 .
	`show
();

224  
Œue
;

229  
çl£
;

230 
	}
}

232 
public
 
	$moveLšeBy1
(
fš®
 
boŞ—n
 
up
) {

234 
fš®
 
Ed™abË
 
‹xt
 = 
_hlEd™Ü
.
	`g‘Text
();

236 
fš®
 [] 
£l
 = 
SŒšgUts
.
	`g‘S–eùiÚ
(
_hlEd™Ü
);

237 
fš®
 
lšesS¹
 = 
SŒšgUts
.
	`g‘LšeS¹
(
‹xt
, 
£l
[0]);

238 
fš®
 
lšesEnd
 = 
SŒšgUts
.
	`g‘LšeEnd
(
‹xt
, 
£l
[1]);

240 ià((
up
 && 
lšesS¹
 > 0è|| (!u°&& 
lšesEnd
 < 
‹xt
.
	`Ëngth
())) {

242 
fš®
 
Ch¬Sequ’û
 
lšes
 = 
‹xt
.
	`subSequ’û
(
lšesS¹
, 
lšesEnd
);

244 
fš®
 
®tS¹
 = 
up
 ? 
SŒšgUts
.
	`g‘LšeS¹
(
‹xt
, 
lšesS¹
 - 1è: 
lšesEnd
 + 1;

245 
fš®
 
®tEnd
 = 
SŒšgUts
.
	`g‘LšeEnd
(
‹xt
, 
®tS¹
);

246 
fš®
 
Ch¬Sequ’û
 
®tLše
 = 
‹xt
.
	`subSequ’û
(
®tS¹
, 
®tEnd
);

248 
Œy
 {

250 
_hlEd™Ü
.
	`di§bËHighligh‹rAutoFÜm©
();

252 
fš®
 [] 
£lS¹
 = 
SŒšgUts
.
	`g‘LšeOff£tFromIndex
(
‹xt
, 
£l
[0]);

253 
fš®
 [] 
£lEnd
 = 
SŒšgUts
.
	`g‘LšeOff£tFromIndex
(
‹xt
, 
£l
[1]);

255 
fš®
 
SŒšg
 
ÃwPaœ
 = SŒšg.
	`fÜm©
("%s\n%s", 
up
 ? 
lšes
 : 
®tLše
, up ?‡ltLine :†ines);

256 
‹xt
.
	`»¶aû
(
M©h
.
	`mš
(
lšesS¹
, 
®tS¹
), M©h.
	`max
(
®tEnd
, 
lšesEnd
), 
ÃwPaœ
);

258 
£lS¹
[0] +ğ
up
 ? -1 : 1;

259 
£lEnd
[0] +ğ
up
 ? -1 : 1;

260 
_hlEd™Ü
.
	`£tS–eùiÚ
(

261 
SŒšgUts
.
	`g‘IndexFromLšeOff£t
(
‹xt
, 
£lS¹
),

262 
SŒšgUts
.
	`g‘IndexFromLšeOff£t
(
‹xt
, 
£lEnd
)

265 } 
fš®ly
 {

266 
_hlEd™Ü
.
	`’abËHighligh‹rAutoFÜm©
();

269 
	}
}

	@app/src/main/java/net/gsantner/markor/format/general/DatetimeFormatDialog.java

7 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

9 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

10 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

11 
impÜt
 
	gªdroid
.
	g­p
.
	gD©ePick”DŸlog
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gTimePick”DŸlog
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gos
.
	gCÚfigu¿tiÚCom·t
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

18 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

19 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

21 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

22 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBu‰Ú
;

23 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckBox
;

24 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

25 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLi¡PİupWšdow
;

26 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSim¶eAd­‹r
;

27 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

36 
impÜt
 
	gjava
.
	g‹xt
.
	gD©eFÜm©
;

37 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

38 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

39 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

40 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

41 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

42 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

43 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

44 
impÜt
 
	gjava
.
	gut
.
	gLškedHashS‘
;

45 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

46 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

47 
impÜt
 
	gjava
.
	gut
.
	gM­
;

48 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

50 
public
 cÏs 
	cD©‘imeFÜm©DŸlog
 {

51 
´iv©e
 
fš®
 
SŒšg
 
	mRECENT_FORMATS_STRING
 = "datetimformat_dialog__recent_formats_string_history";

52 
´iv©e
 
fš®
 
SŒšg
 
	mRECENT_FORMATS_LENGTHS
 = "datetimformat_dialog__recent_formats_lengths_history";

54 
´iv©e
 
fš®
 
	mMAX_RECENT_FORMATS
 = 5;

56 
´iv©e
 
fš®
 
	mSŒšg
[] 
	mPREDEFINED_DATE_TIME_FORMATS
 = {

84 @
Suµ»ssLšt
({"ClickableViewAccessibility", "SetTextI18n, InflateParams"})

85 
public
 
	$showD©‘imeFÜm©DŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
HighlightšgEd™Ü
 
hlEd™Ü
) {

86 
fš®
 
AË¹DŸlog
.
Bud”
 
bud”
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
aùiv™y
);

87 
fš®
 
V›w
 
v›wRoÙ
 = 
aùiv™y
.
	`g‘LayoutInæ©”
().
	`šæ©e
(
R
.
Ïyout
.
time_fÜm©_dŸlog
, 
nuÎ
);

89 
fš®
 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
v›wRoÙ
.
	`g‘CÚ‹xt
());

90 
fš®
 
AµS‘tšgs
 
as
 = 
Ãw
 
	`AµS‘tšgs
(
v›wRoÙ
.
	`g‘CÚ‹xt
());

92 
fš®
 
LoÿË
 
loÿË
 = 
CÚfigu¿tiÚCom·t
.
	`g‘LoÿËs
(
aùiv™y
.
	`g‘Resourûs
().
	`g‘CÚfigu¿tiÚ
()).
	`g‘
(0);

94 
fš®
 
C®’d¬
 
ÿl
 = C®’d¬.
	`g‘In¡ªû
();

95 
ÿl
.
	`£t
(
C®’d¬
.
MILLISECOND
, 0);

96 
ÿl
.
	`£t
(
C®’d¬
.
SECOND
, 0);

98 
fš®
 
AtomicReã»nû
<
DŸlog
> 
dŸlog
 = 
Ãw
 AtomicReference<>();

99 
fš®
 
AtomicReã»nû
<
C®lback
.
a1
<
SŒšg
>> 
ÿÎbackIn£¹TextToEd™Ü
 = 
Ãw
 AtomicReference<>();

100 
fš®
 
Li¡PİupWšdow
 
pİupWšdow
 = 
Ãw
 
	`Li¡PİupWšdow
(
aùiv™y
);

101 
fš®
 
TextV›w
 
d©eH—dlše
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
d©e_h—dlše
);

102 
fš®
 
Ed™Text
 
fÜm©Ed™Text
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
d©‘ime_fÜm©_šput
);

103 
fš®
 
TextV›w
 
´ev›wTextV›w
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
fÜm©‹d_exam¶e
);

104 
fš®
 
Bu‰Ú
 
d©ePickBu‰Ú
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
¡¬t_d©•ick”_bu‰Ú
);

105 
fš®
 
Bu‰Ú
 
timePickBu‰Ú
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
¡¬t_tim•ick”_bu‰Ú
);

106 
fš®
 
CheckBox
 
fÜm©In¡—dCheckbox
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
g‘_fÜm©_š¡—d_d©e_Ü_time_checkbox
);

107 
fš®
 
CheckBox
 
®waysNowCheckBox
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
®ways_u£_cu¼’t_d©‘ime_checkbox
);

109 
fš®
 
Li¡
<
SŒšg
> 
»ûÁFÜm©s
 = 
	`g‘ReûÁFÜm©s
(
aùiv™y
);

110 
fš®
 
Li¡
<
SŒšg
> 
®lFÜm©s
 = 
	`g‘AÎFÜm©s
(
»ûÁFÜm©s
);

113 
pİupWšdow
.
	`£tAd­‹r
(
Ãw
 
	`Sim¶eAd­‹r
(
aùiv™y
, 
	`ü—‹Ad­‹rD©a
(
loÿË
, 
®lFÜm©s
),

114 
ªdroid
.
R
.
Ïyout
.
sim¶e_ex·ndabË_li¡_™em_2
, 
Ãw
 
SŒšg
[]{"format", "date"},

115 
Ãw
 []{
ªdroid
.
R
.
id
.
‹xt1
,‡ndroid.R.id.
‹xt2
}

118 
pİupWšdow
.
	`£tOnI‹mClickLi¡’”
((
·»Á
, 
v›w
, 
pos™iÚ
, 
id
) -> {

119 
fÜm©Ed™Text
.
	`£tText
(
®lFÜm©s
.
	`g‘
(
pos™iÚ
));

120 
pİupWšdow
.
	`dismiss
();

121 
	`£tToNow
(
ÿl
, 
®waysNowCheckBox
.
	`isChecked
());

122 
´ev›wTextV›w
.
	`£tText
(
	`·r£D©‘imeFÜm©ToSŒšg
(
loÿË
, 
fÜm©Ed™Text
.
	`g‘Text
().
	`toSŒšg
(), 
ÿl
.
	`g‘TimeInMlis
()));

125 
pİupWšdow
.
	`£tAnchÜV›w
(
fÜm©Ed™Text
);

126 
pİupWšdow
.
	`£tMod®
(
Œue
);

127 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
d©‘ime_fÜm©_šput_show_¥šÃr
).
	`£tOnClickLi¡’”
(
v
 -> 
pİupWšdow
.
	`show
());

130 
fÜm©Ed™Text
.
	`addTextChªgedLi¡’”
(
Ãw
 
	`TextW©ch”
() {

131 
´iv©e
 
fš®
 
DELAY
 = 100;

132 
´iv©e
 
ed™Time
 = 0;

134 @
Ov”ride


135 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
, 
aá”
) {

136 
ed™Time
 = 
Sy¡em
.
	`cu¼’tTimeMlis
();

139 @
Ov”ride


140 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
, 
couÁ
) {

141 
ed™Time
 = 
Sy¡em
.
	`cu¼’tTimeMlis
();

144 @
Ov”ride


145 
public
 
	`aá”TextChªged
(
Ed™abË
 
s
) {

146 ià(
ed™Time
 + 
DELAY
 > 
Sy¡em
.
	`cu¼’tTimeMlis
()) {

147 
	`£tToNow
(
ÿl
, 
®waysNowCheckBox
.
	`isChecked
());

148 
´ev›wTextV›w
.
	`£tText
(
	`·r£D©‘imeFÜm©ToSŒšg
(
loÿË
, 
fÜm©Ed™Text
.
	`g‘Text
().
	`toSŒšg
(), 
ÿl
.
	`g‘TimeInMlis
()));

149 
fš®
 
boŞ—n
 
”rÜ
 = 
´ev›wTextV›w
.
	`g‘Text
().
	`toSŒšg
().
	`isEm±y
(è&& !
fÜm©Ed™Text
.getText().toString().isEmpty();

150 
fÜm©Ed™Text
.
	`£tE¼Ü
(
”rÜ
 ? "^^^!!! 'nÜm®ext'" : 
nuÎ
);

151 
´ev›wTextV›w
.
	`£tVisib™y
(
”rÜ
 ? 
V›w
.
GONE
 : V›w.
VISIBLE
);

157 
fš®
 
SŒšg
 
LAST_USED_PREF
 = 
D©‘imeFÜm©DŸlog
.
şass
.
	`g‘CªÚiÿlName
() + ".lastusedformat";

158 
fš®
 
SŒšg
 
Ï¡U£d
 = (
»ûÁFÜm©s
.
	`size
(è> 0è?„eûÁFÜm©s.
	`g‘
(0è: 
as
.
	`g‘SŒšg
(
LAST_USED_PREF
, "");

160 
fÜm©Ed™Text
.
	`£tText
(
Ï¡U£d
);

161 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
time_fÜm©_Ï¡_u£d
).
	`£tEÇbËd
(
»ûÁFÜm©s
.
	`size
() > 0);

162 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
time_fÜm©_Ï¡_u£d
).
	`£tOnClickLi¡’”
(
b
 -> 
ÿÎbackIn£¹TextToEd™Ü
.
	`g‘
().
	`ÿÎback
(
Ï¡U£d
));

163 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
time_fÜm©_ju¡_d©e
).
	`£tOnClickLi¡’”
(
b
 -> 
ÿÎbackIn£¹TextToEd™Ü
.
	`g‘
().
	`ÿÎback
(
cu
.
	`g‘LoÿlizedD©eFÜm©
()));

164 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
time_fÜm©_ju¡_time
).
	`£tOnClickLi¡’”
(
b
 -> 
ÿÎbackIn£¹TextToEd™Ü
.
	`g‘
().
	`ÿÎback
(
cu
.
	`g‘LoÿlizedTimeFÜm©
()));

165 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
time_fÜm©_yyyy_mm_dd
).
	`£tOnClickLi¡’”
(
b
 -> 
ÿÎbackIn£¹TextToEd™Ü
.
	`g‘
().
	`ÿÎback
("yyyy-MM-dd"));

168 
d©ePickBu‰Ú
.
	`£tOnClickLi¡’”
(
bu‰Ú
 -> 
Ãw
 
	`D©ePick”DŸlog
(
aùiv™y
, (
v›w
, 
y—r
, 
mÚth
, 
day
) -> {

169 
ÿl
.
	`£t
(
C®’d¬
.
YEAR
, 
y—r
);

170 
ÿl
.
	`£t
(
C®’d¬
.
MONTH
, 
mÚth
);

171 
ÿl
.
	`£t
(
C®’d¬
.
DAY_OF_MONTH
, 
day
);

172 
´ev›wTextV›w
.
	`£tText
(
	`·r£D©‘imeFÜm©ToSŒšg
(
loÿË
, 
fÜm©Ed™Text
.
	`g‘Text
().
	`toSŒšg
(), 
ÿl
.
	`g‘TimeInMlis
()));

173 }, 
ÿl
.
	`g‘
(
C®’d¬
.
YEAR
), c®.g‘(C®’d¬.
MONTH
), c®.g‘(C®’d¬.
DAY_OF_MONTH
)).
	`show
()

177 
timePickBu‰Ú
.
	`£tOnClickLi¡’”
(
bu‰Ú
 -> 
Ãw
 
	`TimePick”DŸlog
(
aùiv™y
, (
timePick”
, 
hour
, 
mš
) -> {

178 
ÿl
.
	`£t
(
C®’d¬
.
HOUR_OF_DAY
, 
hour
);

179 
ÿl
.
	`£t
(
C®’d¬
.
MINUTE
, 
mš
);

180 
´ev›wTextV›w
.
	`£tText
(
	`·r£D©‘imeFÜm©ToSŒšg
(
loÿË
, 
fÜm©Ed™Text
.
	`g‘Text
().
	`toSŒšg
(), 
ÿl
.
	`g‘TimeInMlis
()));

181 }, 
ÿl
.
	`g‘
(
C®’d¬
.
HOUR_OF_DAY
), c®.g‘(C®’d¬.
MINUTE
), 
Œue
).
	`show
()

185 
V›w
.
OnClickLi¡’”
 
ÚO±iÚsChªgedLi¡’”
 = 
v
 -> {

186 
boŞ—n
 
d©eChªg—bË
 = !
fÜm©In¡—dCheckbox
.
	`isChecked
(è&& !
®waysNowCheckBox
.isChecked();

187 
timePickBu‰Ú
.
	`£tEÇbËd
(
d©eChªg—bË
);

188 
d©ePickBu‰Ú
.
	`£tEÇbËd
(
d©eChªg—bË
);

189 
d©eH—dlše
.
	`£tEÇbËd
(!
fÜm©In¡—dCheckbox
.
	`isChecked
());

190 
®waysNowCheckBox
.
	`£tEÇbËd
(!
fÜm©In¡—dCheckbox
.
	`isChecked
());

192 
fÜm©In¡—dCheckbox
.
	`£tOnClickLi¡’”
(
ÚO±iÚsChªgedLi¡’”
);

193 
®waysNowCheckBox
.
	`£tOnClickLi¡’”
(
ÚO±iÚsChªgedLi¡’”
);

195 
ÿÎbackIn£¹TextToEd™Ü
.
	`£t
((
£ËùedFÜm©
) -> {

196 
	`£tToNow
(
ÿl
, 
®waysNowCheckBox
.
	`isChecked
());

197 
SŒšg
 
‹xt
 = 
	`·r£D©‘imeFÜm©ToSŒšg
(
loÿË
, 
£ËùedFÜm©
, 
ÿl
.
	`g‘TimeInMlis
());

198 
´ev›wTextV›w
.
	`£tText
(
‹xt
);

199 
hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
(
	`g‘Ouut
(

200 
fÜm©In¡—dCheckbox
.
	`isChecked
(), 
‹xt
, 
fÜm©Ed™Text
.
	`g‘Text
().
	`toSŒšg
())

202 
dŸlog
.
	`g‘
().
	`dismiss
();

206 
bud”
.
	`£tV›w
(
v›wRoÙ
)

207 .
	`£tNeuŒ®Bu‰Ú
(
R
.
¡ršg
.
h–p
, (
dlgI
, 
which
è-> 
cu
.
	`İ’Web·geInEx‹º®Brow£r
("https://developer.android.com/reference/java/text/SimpleDateFormat#date-and-time-patterns"))

208 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
, 
nuÎ
)

209 .
	`£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, (
dlgI
, 
which
) -> {

210 
fš®
 
SŒšg
 
cu¼’t
 = 
fÜm©Ed™Text
.
	`g‘Text
().
	`toSŒšg
();

211 
	`§veReûÁFÜm©s
(
aùiv™y
, 
»ûÁFÜm©s
, 
cu¼’t
);

212 
ÿÎbackIn£¹TextToEd™Ü
.
	`g‘
().
	`ÿÎback
(
cu¼’t
);

215 
dŸlog
.
	`£t
(
bud”
.
	`show
());

216 
	}
}

224 
´iv©e
 
SŒšg
 
	$·r£D©‘imeFÜm©ToSŒšg
(
fš®
 
LoÿË
 
loÿË
, fš® 
SŒšg
 
timeFÜm©
, fš® 
LÚg
 
d©‘ime
) {

225 
Œy
 {

226 
D©eFÜm©
 
fÜm©‹r
 = 
Ãw
 
	`Sim¶eD©eFÜm©
(
timeFÜm©
.
	`»¶aû
("\\n", "\n"), 
loÿË
);

227  
fÜm©‹r
.
	`fÜm©
(
d©‘ime
);

228 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

232 
	}
}

240 
´iv©e
 
SŒšg
 
	$g‘Ouut
(
BoŞ—n
 
isU£FÜm©In¡—d
, 
SŒšg
 
d©‘ime
, SŒšg 
fÜm©
) {

241  
isU£FÜm©In¡—d
 !ğ
nuÎ
 && isU£FÜm©In¡—d ? 
fÜm©
 : 
d©‘ime
;

242 
	}
}

250 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
g‘AÎFÜm©s
(
fš®
 
Li¡
<
SŒšg
> 
»ûÁ
) {

251 
fš®
 
	gLškedHashS‘
<
	gSŒšg
> 
	gfÜm©s
 = 
Ãw
 
LškedHashS‘
<>(
»ûÁ
);

252 
	gfÜm©s
.
addAÎ
(
A¼ays
.
asLi¡
(
PREDEFINED_DATE_TIME_FORMATS
));

253  
Ãw
 
	gA¼ayLi¡
<>(
	gfÜm©s
);

263 
´iv©e
 
	gLi¡
<
	gM­
<
	gSŒšg
, SŒšg>> 
ü—‹Ad­‹rD©a
(
fš®
 
LoÿË
 
loÿË
, fš® 
Li¡
<
SŒšg
> 
fÜm©s
) {

264 
	gLi¡
<
	gM­
<
	gSŒšg
, SŒšg>> 
	gfÜm©sAndP¬£d
 = 
Ãw
 
A¼ayLi¡
<>();

265 
fš®
 
	gcu¼’tMlis
 = 
Sy¡em
.
cu¼’tTimeMlis
();

268 
fš®
 
SŒšg
 
	gf
 : 
fÜm©s
) {

269 
M­
<
SŒšg
, 
	gSŒšg
> 
	g·œ
 = 
Ãw
 
HashM­
<>(2);

270 
	g·œ
.
put
("fÜm©", 
f
);

271 
	g·œ
.
put
("d©e", 
·r£D©‘imeFÜm©ToSŒšg
(
loÿË
, 
f
, 
cu¼’tMlis
));

272 
	gfÜm©sAndP¬£d
.
add
(
·œ
);

275  
	gfÜm©sAndP¬£d
;

281 
´iv©e
 
	$£tToNow
(
fš®
 
C®’d¬
 
ÿl
, 
boŞ—n
 
doIt
) {

282 ià(
doIt
) {

283 
ÿl
.
	`£tTime
(
Ãw
 
	`D©e
());

285 
	}
}

300 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
	$g‘ReûÁFÜm©s
(
fš®
 
Aùiv™y
 
aùiv™y
) {

301 
fš®
 
Sh¬edP»ã»nûs
 
£‰šgs
 = 
aùiv™y
.
	`g‘Sh¬edP»ã»nûs
(
Sh¬edP»ã»nûsPrİ”tyBack’d
.
SHARED_PREF_APP
, 
CÚ‹xt
.
MODE_PRIVATE
);

302 
fš®
 
SŒšg
 
combšed
 = 
£‰šgs
.
	`g‘SŒšg
(
RECENT_FORMATS_STRING
, 
nuÎ
);

303 
fš®
 
SŒšg
 
Ëngths
 = 
£‰šgs
.
	`g‘SŒšg
(
RECENT_FORMATS_LENGTHS
, 
nuÎ
);

306 
fš®
 
Li¡
<
SŒšg
> 
fÜm©s
 = 
Ãw
 
A¼ayLi¡
<>();

307 
Œy
 {

308 ià(
combšed
 !ğ
nuÎ
 && 
Ëngths
 !=‚ull) {

309 
´ev
 = 0;

310 
fš®
 
SŒšg
 
s
 : 
Ëngths
.
	`¥l™
(",")) {

311 
v®
 = 
IÁeg”
.
	`·r£IÁ
(
s
è+ 
´ev
;

312 
fÜm©s
.
	`add
(
combšed
.
	`sub¡ršg
(
´ev
, 
v®
));

313 
´ev
 = 
v®
;

316 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 | 
IndexOutOfBoundsExû±iÚ
 
e
) {

317  
CŞËùiÚs
.
	`em±yLi¡
();

319  
fÜm©s
;

320 
	}
}

330 
´iv©e
 
§veReûÁFÜm©s
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
Li¡
<
SŒšg
> 
fÜm©s
, fš® SŒšg 
ÃwFÜm©
) {

332 
fš®
 
	gLškedHashS‘
<
	gSŒšg
> 
	gfÜm©S‘
 = 
Ãw
 
LškedHashS‘
<>();

333 ià(
	gÃwFÜm©
 !ğ
nuÎ
 && !
ÃwFÜm©
.
Œim
().
isEm±y
()) {

334 
fÜm©S‘
.
add
(
ÃwFÜm©
);

336 
fš®
 
SŒšg
 
	gfÜm©
 : 
fÜm©s
) {

337 
fÜm©S‘
.
add
(
fÜm©
);

338 ià(
	gfÜm©S‘
.
size
(è>ğ
MAX_RECENT_FORMATS
) {

343 
fš®
 
	gLi¡
<
	gSŒšg
> 
	gËngths
 = 
Ãw
 
A¼ayLi¡
<>();

344 
fš®
 
SŒšg
 
	gs
 : 
fÜm©S‘
) {

345 
Ëngths
.
add
(
IÁeg”
.
toSŒšg
(
s
.
Ëngth
()));

348 
fš®
 
	gSh¬edP»ã»nûs
.
Ed™Ü
 
	ged™
 = 
aùiv™y
.
g‘Sh¬edP»ã»nûs
(
Sh¬edP»ã»nûsPrİ”tyBack’d
.
SHARED_PREF_APP
, 
CÚ‹xt
.
MODE_PRIVATE
).
ed™
();

349 
	ged™
.
putSŒšg
(
RECENT_FORMATS_STRING
, 
TextUts
.
još
("", 
fÜm©S‘
)).
­¶y
();

350 
	ged™
.
putSŒšg
(
RECENT_FORMATS_LENGTHS
, 
TextUts
.
još
(",", 
Ëngths
)).
­¶y
();

359 
public
 
SŒšg
 
	$g‘Mo¡ReûÁD©e
(
fš®
 
Aùiv™y
 
aùiv™y
) {

360 
fš®
 
Li¡
<
SŒšg
> 
fÜm©s
 = 
	`g‘ReûÁFÜm©s
(
aùiv™y
);

361 ià(
fÜm©s
.
	`size
() > 0) {

362 
fš®
 
LoÿË
 
loÿË
 = 
CÚfigu¿tiÚCom·t
.
	`g‘LoÿËs
(
aùiv™y
.
	`g‘Resourûs
().
	`g‘CÚfigu¿tiÚ
()).
	`g‘
(0);

363  
	`·r£D©‘imeFÜm©ToSŒšg
(
loÿË
, 
fÜm©s
.
	`g‘
(0), 
Sy¡em
.
	`cu¼’tTimeMlis
());

367 
	}
}

	@app/src/main/java/net/gsantner/markor/format/general/FilledBackgroundParagraphSpan.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gP¬ag¿phStyË
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gS·nC»©Ü
;

18 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

20 
public
 cÏs 
	cFËdBackgroundP¬ag¿phS·n
 
ex‹nds
 
	mBackgroundP¬ag¿phS·n
 {

21 
´iv©e
 
fš®
 
	m_cŞÜ
;

23 
public
 
	$FËdBackgroundP¬ag¿phS·n
(
cŞÜ
) {

24 
_cŞÜ
 = 
cŞÜ
;

28 @
Ov”ride


29 
public
 
	$d¿wBackground
(
Cªvas
 
c
, 
Pašt
 
p
, 
Ëá
, 
right
, 
tİ
, 
ba£lše
, 
bÙtom
, 
Ch¬Sequ’û
 
‹xt
, 
¡¬t
, 
’d
, 
Êum
, 
boŞ—n
 
isFœ¡LšeOfP¬ag¿ph
) {

31 
p
.
	`£tCŞÜ
(
_cŞÜ
);

32 
c
.
	`d¿wReù
(
Ëá
, 
tİ
, 
right
, 
bÙtom
, 
p
);

33 
	}
}

39 
public
 
şass
 
Ev”ySecÚdLšeS·nC»©ÜP
 
im¶em’ts
 
	gS·nC»©Ü
.
	gP¬ag¿phStyËC»©Ü
 {

40 
´iv©e
 
	g_cŞÜ
;

42 
public
 
Ev”ySecÚdLšeS·nC»©ÜP
(
cŞÜ
) {

43 
	g_cŞÜ
 = 
cŞÜ
;

46 @
Ov”ride


47 
public
 
P¬ag¿phStyË
 
ü—‹
(
M©ch”
 
m©ch”
, 
iM
) {

48  (
	giM
 =ğ0 || 
iM
 % 2 == 1)

49 ? 
nuÎ
 : 
Ãw
 
FËdBackgroundP¬ag¿phS·n
(
_cŞÜ


	@app/src/main/java/net/gsantner/markor/format/general/FirstLineTopPaddedParagraphSpan.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gLšeHeightS·n
;

15 
public
 cÏs 
	cFœ¡LšeTİPaddedP¬ag¿phS·n
 
im¶em’ts
 
	mLšeHeightS·n
 {

16 
´iv©e
 
	m_·¿g¿phFœ¡lšeS·cšg
;

17 
´iv©e
 
IÁeg”
 
	m_ÜigAsûÁ
;

19 
public
 
	$Fœ¡LšeTİPaddedP¬ag¿phS·n
(
·¿g¿phFœ¡lšeS·cšg
) {

20 
_·¿g¿phFœ¡lšeS·cšg
 = 
·¿g¿phFœ¡lšeS·cšg
;

23 @
Ov”ride


24 
public
 
	$choo£Height
(
Ch¬Sequ’û
 
‹xt
, 
¡¬t
, 
’d
, 
¥ª¡¬tv
, 
v
, 
Pašt
.
FÚtM‘ricsIÁ
 
fm
) {

25 ià(
_ÜigAsûÁ
 =ğ
nuÎ
) {

26 
_ÜigAsûÁ
 = 
fm
.
asûÁ
;

28 
boŞ—n
 
isFœ¡LšeInP¬ag¿ph
 = 
¥ª¡¬tv
 =ğ
v
;

29 
fm
.
asûÁ
 = (
isFœ¡LšeInP¬ag¿ph
è? 
M©h
.
	`round
(fm.asûÁ * 
_·¿g¿phFœ¡lšeS·cšg
è: 
_ÜigAsûÁ
;

30 
	}
}

	@app/src/main/java/net/gsantner/markor/format/general/HexColorCodeUnderlineSpan.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gP¬ûÏbËS·n
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gS·nC»©Ü
;

17 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

18 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

20 
public
 
şass
 
HexCŞÜCodeUnd”lšeS·n
 
im¶em’ts
 
	gS·nC»©Ü
.
	gP¬ûÏbËS·nC»©Ü
 {

21 
public
 
fš®
 
P©‹º
 
	gPATTERN
 = P©‹º.
compe
("(?:\\s|[\";,:'*]|^)(#[A-Fa-f0-9]{6,8})+(?:\\s|[\";,:'*]|$)");

23 
public
 
P¬ûÏbËS·n
 
ü—‹
(
M©ch”
 
m©ch”
, 
iM
) {

24  
Ãw
 
CŞÜUnd”lšeS·n
(
CŞÜ
.
·r£CŞÜ
(
m©ch”
.
group
(1)), 3f);

	@app/src/main/java/net/gsantner/markor/format/general/HorizontalLineBackgroundParagraphSpan.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

14 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

15 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gReù
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜIÁ
;

19 
public
 cÏs 
	cHÜizÚlLšeBackgroundP¬ag¿phS·n
 
ex‹nds
 
	mBackgroundP¬ag¿phS·n
 {

20 
´iv©e
 
fš®
 
	m_cŞÜ
;

21 
´iv©e
 
fš®
 
	m_hrHeightPx
;

22 
´iv©e
 
fš®
 
	m_tİOff£tPx
;

24 
public
 
HÜizÚlLšeBackgroundP¬ag¿phS·n
(@
CŞÜIÁ
 
cŞÜ
) {

25 
this
(
cŞÜ
, -1, -1);

28 
public
 
HÜizÚlLšeBackgroundP¬ag¿phS·n
(@
CŞÜIÁ
 
cŞÜ
, 
hrHeightDp
, 
tİOff£tDp
) {

29 
	ghrHeightDp
 = 
hrHeightDp
 > 0 ? hrHeightDp : 2f;

30 
	gtİOff£tDp
 = 
tİOff£tDp
 > 0 ?opOffsetDp : 9f;

31 
	g_cŞÜ
 = 
cŞÜ
;

32 
	g_hrHeightPx
 = 
M©h
.
round
(
hrHeightDp
 * 
Resourûs
.
g‘Sy¡em
().
g‘Di¥ÏyM‘rics
().
d’s™y
);

33 
	g_tİOff£tPx
 = (è
tİOff£tDp
;

36 @
Ov”ride


37 
public
 
	$d¿wBackground
(
Cªvas
 
c
, 
Pašt
 
p
, 
Ëá
, 
right
, 
tİ
, 
ba£lše
, 
bÙtom
, 
Ch¬Sequ’û
 
‹xt
, 
¡¬t
, 
’d
, 
Êum
, 
boŞ—n
 
isFœ¡LšeOfP¬ag¿ph
) {

38 ià(
¡¬t
 > 0 && 
isFœ¡LšeOfP¬ag¿ph
) {

39 
p
.
	`£tCŞÜ
(
_cŞÜ
);

40 
c
.
	`d¿wReù
(
Ãw
 
	`Reù
(
Ëá
, 
tİ
 + 
_tİOff£tPx
, 
right
,İ + _tİOff£tPx + 
_hrHeightPx
), 
p
);

42 
	}
}

	@app/src/main/java/net/gsantner/markor/format/keyvalue/KeyValueConverter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gkeyv®ue
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏš‹xtCÚv”‹r
;

14 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

16 @
Suµ»ssW¬nšgs
("WeakerAccess")

17 
public
 cÏs 
	cKeyV®ueCÚv”‹r
 
ex‹nds
 
	mPÏš‹xtCÚv”‹r
 {

19 @
Ov”ride


20 
public
 
boŞ—n
 
	$isFeOutOfThisFÜm©
(
SŒšg
 
f•©h
) {

21 ià(!
f•©h
.
	`cÚšs
(".")) {

22  
çl£
;

24 
SŒšg
 
ext
 = 
f•©h
.
	`sub¡ršg
(f•©h.
	`Ï¡IndexOf
(".")).
	`toLow”Ca£
();

25  
A¼ays
.
	`asLi¡
(
Ãw
 
SŒšg
[]{".yml", ".yaml", ".toml", ".vcf", ".ics", ".ši", ".jsÚ", ".csv"}).
	`cÚšs
(
ext
);

27 
	}
}

	@app/src/main/java/net/gsantner/markor/format/keyvalue/KeyValueHighlighter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gkeyv®ue
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownHighligh‹rP©‹º
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighligh‹r
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

22 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

24 
public
 cÏs 
	cKeyV®ueHighligh‹r
 
ex‹nds
 
	mHighligh‹r
 {

25 
public
 
	$KeyV®ueHighligh‹r
(
HighlightšgEd™Ü
 
hlEd™Ü
, 
Docum’t
 
docum’t
) {

26 
	`su³r
(
hlEd™Ü
, 
docum’t
);

29 @
Ov”ride


30 
´Ùeùed
 
S·ÂabË
 
	$run
(
fš®
 
S·ÂabË
 
¥ªÇbË
) {

31 
Œy
 {

32 
	`ş—rS·ns
(
¥ªÇbË
);

34 ià(
¥ªÇbË
.
	`Ëngth
() == 0) {

35  
¥ªÇbË
;

38 
_´of”
.
	`¡¬t
(
Œue
, "KeyValue Highlighting");

39 
	`g’”®HighlightRun
(
¥ªÇbË
);

41 
_´of”
.
	`»¡¬t
("KeyValue: Generic key-value");

42 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_KEY_VALUE
.
	`g‘P©‹º
(), 
Ty³çû
.
BOLD
);

43 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_KEY_VALUE_QUOTED
.
	`g‘P©‹º
(), 
Ty³çû
.
BOLD
);

44 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_UNORDERED_LIST
.
	`g‘P©‹º
(), 0xffef6D00);

45 
_´of”
.
	`»¡¬t
("KeyValue: vcard");

46 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_VCARD_KEY
.
	`g‘P©‹º
(), 
Ty³çû
.
BOLD
);

47 
_´of”
.
	`»¡¬t
("KeyValue: ini");

48 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_INI_KEY
.
	`g‘P©‹º
(), 
Ty³çû
.
BOLD
);

49 
	`ü—‹R–©iveSizeS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_INI_HEADER
.
	`g‘P©‹º
(), 1.25f);

50 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_INI_HEADER
.
	`g‘P©‹º
(), 0xffef6D00);

51 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_INI_COMMENT
.
	`g‘P©‹º
(), 0xff88b04b);

52 
_´of”
.
	`»¡¬t
("KeyValue: comment");

53 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
KeyV®ueHighligh‹rP©‹º
.
PATTERN_COMMENT
.
	`g‘P©‹º
(), 0xff88b04b);

63 
_´of”
.
	`’d
();

64 
_´of”
.
	`´štProfšgGroup
();

65 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

69  
¥ªÇbË
;

70 
	}
}

72 @
Ov”ride


73 
public
 
IÅutF‹r
 
	$g‘AutoFÜm©‹r
() {

74  
AUTOFORMATTER_NONE
;

75 
	}
}

77 @
Ov”ride


78 
public
 
	$g‘HighlightšgD–ay
(
CÚ‹xt
 
cÚ‹xt
) {

79  
LONG_HIGHLIGHTING_DELAY
;

80 
	}
}

83 
	eKeyV®ueHighligh‹rP©‹º
 {

84 
PATTERN_KEY_VALUE
(
P©‹º
.
compe
("(?im)^([a-z_0-9]+)[-:=]")),

85 
PATTERN_KEY_VALUE_QUOTED
(
P©‹º
.
compe
("(?i)([\"'][a-z_0-9\\- ]+[\"']\\s*[-:=])")),

86 
PATTERN_VCARD_KEY
(
P©‹º
.
compe
("(?im)^(?<FIELD>[^\\s:;]+)(;(?<PARAM>[^=:;]+)=\"?(?<VALUE>[^:;]+)\"?)*:")),

87 
PATTERN_INI_HEADER
(
P©‹º
.
compe
("(?im)^(\\[.*\\])$")),

88 
PATTERN_INI_KEY
(
P©‹º
.
compe
("(?im)^([a-z_0-9]+)\\s*[=]")),

89 
PATTERN_INI_COMMENT
(
P©‹º
.
compe
("(?im)^(;.*)$")),

90 
PATTERN_UNORDERED_LIST
(
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
.
·‰”n
),

91 
PATTERN_COMMENT
(
P©‹º
.
compe
("(?im)^((#|//)\\s+.*)$")),

92 
PATTERN_CSV
(
P©‹º
.
compe
("[,;:]")),

95 
´iv©e
 
P©‹º
 
	g·‰”n
;

97 
KeyV®ueHighligh‹rP©‹º
(
P©‹º
 
·‰”n
) {

98 
	gthis
.
	g·‰”n
 = 
·‰”n
;

101 
public
 
P©‹º
 
g‘P©‹º
() {

102  
	g·‰”n
;

	@app/src/main/java/net/gsantner/markor/format/markdown/MarkdownAutoFormat.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gAutoFÜm©‹r
;

17 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

19 
public
 cÏs 
	cM¬kdownAutoFÜm©
 
im¶em’ts
 
	mIÅutF‹r
 {

20 
public
 
fš®
 
P©‹º
 
	mPREFIX_CHECKBOX_LIST
 = P©‹º.
compe
("^(\\s*)(([-*+]\\s\\[)[\\sxX](]\\s))");

22 
´iv©e
 
fš®
 
AutoFÜm©‹r
 
	m_autoFÜm©‹r
;

24 
public
 
	$M¬kdownAutoFÜm©
() {

25 
_autoFÜm©‹r
 = 
Ãw
 
	`AutoFÜm©‹r
(
	`g‘P»fixP©‹ºs
(), ' ');

29 @
Ov”ride


30 
public
 
Ch¬Sequ’û
 
	$f‹r
(
Ch¬Sequ’û
 
sourû
, 
¡¬t
, 
’d
, 
S·Âed
 
de¡
, 
d¡¬t
, 
d’d
) {

31  
_autoFÜm©‹r
.
	`f‹r
(
sourû
, 
¡¬t
, 
’d
, 
de¡
, 
d¡¬t
, 
d’d
);

32 
	}
}

34 
public
 
	gAutoFÜm©‹r
.
P»fixP©‹ºs
 
	$g‘P»fixP©‹ºs
() {

35  
Ãw
 
AutoFÜm©‹r
.
	`P»fixP©‹ºs
(

36 
M¬kdownR•ÏûP©‹ºG’”©Ü
.
PREFIX_UNORDERED_LIST
,

37 
PREFIX_CHECKBOX_LIST
,

38 
M¬kdownR•ÏûP©‹ºG’”©Ü
.
PREFIX_ORDERED_LIST
);

39 
	}
}

	@app/src/main/java/net/gsantner/markor/format/markdown/MarkdownHighlighter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gLi¡HªdËr
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighligh‹r
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

23 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gfÜm©
.
	gm¬kdown
.
	gWrM¬kdownH—d”S·nC»©Ü
;

25 
public
 cÏs 
	cM¬kdownHighligh‹r
 
ex‹nds
 
	mHighligh‹r
 {

26 
´iv©e
 
fš®
 
boŞ—n
 
	m_highlightLšeEndšg
;

27 
´iv©e
 
fš®
 
boŞ—n
 
	m_highlightCodeChªgeFÚt
;

28 
´iv©e
 
fš®
 
boŞ—n
 
	m_highlightBigg”H—dšgs
;

29 
´iv©e
 
fš®
 
boŞ—n
 
	m_highlightDi§bËCodeBlock
;

31 
´iv©e
 
fš®
 
	mMD_COLOR_HEADING
 = 0xffef6D00;

32 
´iv©e
 
fš®
 
	mMD_COLOR_LINK
 = 0xff1ea3fe;

33 
´iv©e
 
fš®
 
	mMD_COLOR_LIST
 = 0xffdaa521;

34 
´iv©e
 
fš®
 
	mMD_COLOR_QUOTE
 = 0xff88b04c;

35 
´iv©e
 
fš®
 
	mMD_COLOR_CODEBLOCK
 = 0xff8c8c8c;

37 
public
 
	$M¬kdownHighligh‹r
(
HighlightšgEd™Ü
 
hlEd™Ü
, 
Docum’t
 
docum’t
) {

38 
	`su³r
(
hlEd™Ü
, 
docum’t
);

39 
_highlightLšks
 = 
çl£
;

40 
_highlightLšeEndšg
 = 
_­pS‘tšgs
.
	`isM¬kdownHighlightLšeEndšg
();

41 
_highlightCodeChªgeFÚt
 = 
_­pS‘tšgs
.
	`isM¬kdownHighlightCodeFÚtMÚo¥aûAÎowed
();

42 
_highlightBigg”H—dšgs
 = 
_­pS‘tšgs
.
	`isM¬kdownBigg”H—dšgs
();

43 
_highlightDi§bËCodeBlock
 = 
_­pS‘tšgs
.
	`isM¬kdownDi§bËCodeBlockHighlight
();

44 
	`£tTextModif›r
(
Ãw
 
	`Li¡HªdËr
(
_­pS‘tšgs
.
	`isM¬kdownAutoUpd©eLi¡
(), 
M¬kdownAutoFÜm©
.
	`g‘P»fixP©‹ºs
()));

47 @
Ov”ride


48 
´Ùeùed
 
S·ÂabË
 
	$run
(
fš®
 
S·ÂabË
 
¥ªÇbË
) {

49 
Œy
 {

50 
	`ş—rS·ns
(
¥ªÇbË
);

52 ià(
¥ªÇbË
.
	`Ëngth
() == 0) {

53  
¥ªÇbË
;

56 
_´of”
.
	`¡¬t
(
Œue
, "Markdown Highlighting");

57 
	`g’”®HighlightRun
(
¥ªÇbË
);

59 
_´of”
.
	`»¡¬t
("Heading");

60 ià(
_highlightBigg”H—dšgs
) {

61 
	`ü—‹H—d”S·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
HEADING
, 
MD_COLOR_HEADING
);

63 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
HEADING_SIMPLE
.
·‰”n
, 
MD_COLOR_HEADING
);

65 
_´of”
.
	`»¡¬t
("Link");

66 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
LINK
.
·‰”n
, 
MD_COLOR_LINK
);

67 
_´of”
.
	`»¡¬t
("List");

68 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
.
·‰”n
, 
MD_COLOR_LIST
);

69 
_´of”
.
	`»¡¬t
("OrderedList");

70 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
LIST_ORDERED
.
·‰”n
, 
MD_COLOR_LIST
);

71 ià(
_highlightLšeEndšg
) {

72 
_´of”
.
	`»¡¬t
("Double spaceƒnding - bgcolor");

73 
	`ü—‹CŞÜBackgroundS·n
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
DOUBLESPACE_LINE_ENDING
.
·‰”n
, 
MD_COLOR_CODEBLOCK
);

75 
_´of”
.
	`»¡¬t
("Bold");

76 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
BOLD
.
·‰”n
, 
Ty³çû
.BOLD);

77 
_´of”
.
	`»¡¬t
("Italics");

78 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
ITALICS
.
·‰”n
, 
Ty³çû
.
ITALIC
);

79 
_´of”
.
	`»¡¬t
("Quotation");

80 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
QUOTATION
.
·‰”n
, 
MD_COLOR_QUOTE
);

81 
_´of”
.
	`»¡¬t
("Strikethrough");

82 
	`ü—‹S·nW™hSŒikeThroughFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
.
·‰”n
);

83 ià(
_highlightCodeChªgeFÚt
) {

84 
_´of”
.
	`»¡¬t
("Code - Font [MonoSpace]");

85 
	`ü—‹MÚo¥aûS·nFÜM©ches
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
CODE
.
·‰”n
);

87 
_´of”
.
	`»¡¬t
("Code - bgcolor");

88 ià(!
_highlightDi§bËCodeBlock
) {

89 
	`ü—‹CŞÜBackgroundS·n
(
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
.
CODE
.
·‰”n
, 
MD_COLOR_CODEBLOCK
);

92 
_´of”
.
	`’d
();

93 
_´of”
.
	`´štProfšgGroup
();

94 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

98  
¥ªÇbË
;

99 
	}
}

101 
´iv©e
 
	$ü—‹H—d”S·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
M¬kdownHighligh‹rP©‹º
 
·‰”n
, 
h—d”CŞÜ
) {

102 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
.·‰”n, 
Ãw
 
	`WrM¬kdownH—d”S·nC»©Ü
(
this
, s·ÂabË, 
h—d”CŞÜ
, 
_highlightBigg”H—dšgs
));

103 
	}
}

105 @
Ov”ride


106 
public
 
IÅutF‹r
 
	$g‘AutoFÜm©‹r
() {

107  
Ãw
 
	`M¬kdownAutoFÜm©
();

108 
	}
}

110 @
Ov”ride


111 
public
 
	$g‘HighlightšgD–ay
(
CÚ‹xt
 
cÚ‹xt
) {

112  
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
).
	`g‘M¬kdownHighlightšgD–ay
();

113 
	}
}

	@app/src/main/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPattern.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

14 
public
 
	eM¬kdownHighligh‹rP©‹º
 {

16 
BOLD
(
P©‹º
.
compe
("(?<=(\\n|^|\\s|\\[|\\{|\\())(([*_]){2,3})(?=\\S)(.*?)\\S\\2(?=(\\n|$|\\s|\\.|,|:|;|-|\\]|\\}|\\)))")),

17 
ITALICS
(
P©‹º
.
compe
("(?<=(\\n|^|\\s|\\[|\\{|\\())([*_])(?=((?!\\2)|\\2{2,}))(?=\\S)(.*?)\\S\\2(?=(\\n|$|\\s|\\.|,|:|;|-|\\]|\\}|\\)))")),

18 
HEADING
(
P©‹º
.
compe
("(?m)((^#{1,6}[^\\S\\n][^\\n]+)|((\\n|^)[^\\s]+.*?\\n(-{2,}|={2,})[^\\S\\n]*$))")),

19 
HEADING_SIMPLE
(
P©‹º
.
compe
("(?m)^(#{1,6}\\s.*$)")),

20 
LINK
(
P©‹º
.
compe
("\\[([^\\[]+)\\]\\(([^\\)]+)\\)")),

21 
LIST_UNORDERED
(
P©‹º
.
compe
("(\\n|^)\\s{0,16}([*+-])( \\[[ xX]\\])?(?= )")),

22 
LIST_ORDERED
(
P©‹º
.
compe
("(?m)^\\s{0,16}(\\d+)(:?\\.|\\))\\s")),

23 
QUOTATION
(
P©‹º
.
compe
("(\\n|^)>")),

24 
STRIKETHROUGH
(
P©‹º
.
compe
("~{2}(.*?)\\S~{2}")),

25 
CODE
(
P©‹º
.
compe
("(?m)(`(?!`)(.*?)`)|(^[^\\S\\n]{4}(?![0-9\\-*+]).*$)")),

26 
DOUBLESPACE_LINE_ENDING
(
P©‹º
.
compe
("(?m)(?<=\\S)([^\\S\\n]{2,})\\n")),

27 
ACTION_LINK_PATTERN
(
P©‹º
.
compe
("(?m)\\[(.*?)\\]\\((.*?)\\)")),

28 
ACTION_IMAGE_PATTERN
(
P©‹º
.
compe
("(?m)!\\[(.*?)\\]\\((.*?)\\)"));

30 
public
 
fš®
 
P©‹º
 
	m·‰”n
;

32 
M¬kdownHighligh‹rP©‹º
(
P©‹º
 
·‰”n
) {

33 
	mthis
.
	m·‰”n
 = 
·‰”n
;

	@app/src/main/java/net/gsantner/markor/format/markdown/MarkdownReplacePatternGenerator.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gR•ÏûP©‹ºG’”©ÜH–³r
;

13 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

16 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

17 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

18 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

20 
public
 cÏs 
	cM¬kdownR•ÏûP©‹ºG’”©Ü
 {

24 
public
 
fš®
 
P©‹º
 
	mPREFIX_ORDERED_LIST
 = P©‹º.
compe
("^(\\s*)((\\d+)(\\.|\\))(\\s))");

25 
public
 
fš®
 
P©‹º
 
	mPREFIX_ATX_HEADING
 = P©‹º.
compe
("^(\\s{0,3})(#{1,6}\\s)");

26 
public
 
fš®
 
P©‹º
 
	mPREFIX_QUOTE
 = P©‹º.
compe
("^(>\\s)");

27 
public
 
fš®
 
P©‹º
 
	mPREFIX_CHECKED_LIST
 = P©‹º.
compe
("^(\\s*)((-|\\*|\\+)\\s\\[(x|X)]\\s)");

28 
public
 
fš®
 
P©‹º
 
	mPREFIX_UNCHECKED_LIST
 = P©‹º.
compe
("^(\\s*)((-|\\*|\\+)\\s\\[\\s]\\s)");

29 
public
 
fš®
 
P©‹º
 
	mPREFIX_UNORDERED_LIST
 = P©‹º.
compe
("^(\\s*)((-|\\*|\\+)\\s)");

30 
public
 
fš®
 
P©‹º
 
	mPREFIX_LEADING_SPACE
 = P©‹º.
compe
("^(\\s*)");

32 
fš®
 
	mP©‹º
[] 
	mPREFIX_PATTERNS
 = {

33 
PREFIX_ORDERED_LIST
,

34 
PREFIX_ATX_HEADING
,

35 
PREFIX_QUOTE
,

36 
PREFIX_CHECKED_LIST
,

37 
PREFIX_UNCHECKED_LIST
,

39 
PREFIX_UNORDERED_LIST
,

40 
PREFIX_LEADING_SPACE
,

43 
´iv©e
 
fš®
 
SŒšg
 
	gORDERED_LIST_REPLACEMENT
 = "$11. ";

56 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$£tOrUn£tH—dšgW™hLev–
(
Ëv–
) {

58 
Li¡
<
TextAùiÚs
.
R•ÏûP©‹º
> 
·‰”ns
 = 
Ãw
 
A¼ayLi¡
<>();

60 
SŒšg
 
h—dšg
 = 
SŒšgUts
.
	`»³©Ch¬s
('#', 
Ëv–
);

63 
·‰”ns
.
	`add
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
("^(\\s{0,3})" + 
h—dšg
 + " ", "$1"));

66 
·‰”ns
.
	`add
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
PREFIX_ATX_HEADING
, "$1" + 
h—dšg
 + " "));

69 
fš®
 
P©‹º
 
µ
 : 
M¬kdownR•ÏûP©‹ºG’”©Ü
.
PREFIX_PATTERNS
) {

70 
·‰”ns
.
	`add
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
µ
, 
h—dšg
 + "$1 "));

73  
·‰”ns
;

74 
	}
}

76 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$»¶aûW™hUnÜd”edLi¡P»fixOrRemoveP»fix
(
SŒšg
 
li¡Ch¬
) {

77 
fš®
 
SŒšg
 
unÜd”edLi¡R•Ïûm’t
 = "$1" + 
li¡Ch¬
 + " ";

78  
R•ÏûP©‹ºG’”©ÜH–³r
.
	`»¶aûW™hT¬g‘P»fixOrRemove
(
PREFIX_PATTERNS
, 
PREFIX_UNORDERED_LIST
, 
unÜd”edLi¡R•Ïûm’t
);

79 
	}
}

81 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$toggËToCheckedOrUncheckedLi¡P»fix
(
SŒšg
 
li¡Ch¬
) {

82 
fš®
 
SŒšg
 
unchecked
 = "$1" + 
li¡Ch¬
 + " [ ] ";

83 
fš®
 
SŒšg
 
checked
 = "$1" + 
li¡Ch¬
 + " [x] ";

84  
R•ÏûP©‹ºG’”©ÜH–³r
.
	`»¶aûW™hT¬g‘P©‹ºOrAÉ”Çtive
(
PREFIX_PATTERNS
, 
PREFIX_UNCHECKED_LIST
, 
unchecked
, 
checked
);

85 
	}
}

87 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$»¶aûW™hOrd”edLi¡P»fixOrRemoveP»fix
() {

88  
R•ÏûP©‹ºG’”©ÜH–³r
.
	`»¶aûW™hT¬g‘P»fixOrRemove
(
PREFIX_PATTERNS
, 
PREFIX_ORDERED_LIST
, 
ORDERED_LIST_REPLACEMENT
);

89 
	}
}

91 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$toggËQuÙe
() {

92  
R•ÏûP©‹ºG’”©ÜH–³r
.
	`»¶aûW™hT¬g‘P©‹ºOrAÉ”Çtive
(
PREFIX_PATTERNS
, 
PREFIX_QUOTE
, ">$1 ", "");

93 
	}
}

	@app/src/main/java/net/gsantner/markor/format/markdown/MarkdownTextActions.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

14 
impÜt
 
	gªdroid
.
	gv›w
.
	gH­ticF“dbackCÚ¡ªts
;

15 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

16 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

17 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gAutoFÜm©‹r
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gCommÚTextAùiÚs
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gA‰achImageOrLškDŸlog
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

30 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

31 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

33 
public
 cÏs 
	cM¬kdownTextAùiÚs
 
ex‹nds
 
	mTextAùiÚs
 {

35 
public
 
	$M¬kdownTextAùiÚs
(
Aùiv™y
 
aùiv™y
, 
Docum’t
 
docum’t
) {

36 
	`su³r
(
aùiv™y
, 
docum’t
);

39 @
Ov”ride


40 
public
 
boŞ—n
 
	$runAùiÚ
(
SŒšg
 
aùiÚ
, 
boŞ—n
 
modLÚgClick
, SŒšg 
ªÙh”Arg
) {

41 
»s
 = 
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
).
	`g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
STRING
, 
aùiÚ
);

42  
Ãw
 
	`M¬kdownTextAùiÚsIm¶
(
»s
).
	`ÚClickIm¶
(
nuÎ
);

43 
	}
}

45 @
Ov”ride


46 
´Ùeùed
 
AùiÚC®lback
 
g‘AùiÚC®lback
(@
SŒšgRes
 
keyId
) {

47  
Ãw
 
M¬kdownTextAùiÚsIm¶
(
keyId
);

50 @
Ov”ride


51 
	g´Ùeùed
 @
SŒšgRes


52 
	$g‘FÜm©AùiÚsKey
() {

53  
R
.
¡ršg
.
´ef_key__m¬kdown__aùiÚ_keys
;

54 
	}
}

56 @
Ov”ride


57 
public
 
	gLi¡
<
	gAùiÚI‹m
> 
	$g‘AùiveAùiÚLi¡
() {

59 
fš®
 
AùiÚI‹m
[] 
TMA_ACTIONS
 = {

60 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_checkbox_li¡
, R.
d¿wabË
.
ic_check_box_bÏck_24dp
, R.¡ršg.
check_li¡
),

61 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_unÜd”ed_li¡_ch¬
, R.
d¿wabË
.
ic_li¡_bÏck_24dp
, R.¡ršg.
unÜd”ed_li¡
),

62 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_bŞd
, R.
d¿wabË
.
ic_fÜm©_bŞd_bÏck_24dp
, R.¡ršg.
bŞd
),

63 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_™®ic
, R.
d¿wabË
.
ic_fÜm©_™®ic_bÏck_24dp
, R.¡ršg.
™®ic
),

64 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_d–‘e_lšes
, 
CommÚTextAùiÚs
.
ACTION_DELETE_LINES_ICON
, R.¡ršg.
d–‘e_lšes
),

65 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_İ’_lšk_brow£r
, 
CommÚTextAùiÚs
.
ACTION_OPEN_LINK_BROWSER__ICON
, R.¡ršg.
İ’_lšk
),

66 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_©ch_som‘hšg
, R.
d¿wabË
.
ic_©ch_fe_bÏck_24dp
, R.¡ršg.
©ch
),

67 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_¥ecŸl_key
, 
CommÚTextAùiÚs
.
ACTION_SPECIAL_KEY__ICON
, R.¡ršg.
¥ecŸl_key
),

68 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_time
, R.
d¿wabË
.
ic_acûss_time_bÏck_24dp
, R.¡ršg.
d©e_ªd_time
),

69 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_code_šlše
, R.
d¿wabË
.
ic_code_bÏck_24dp
, R.¡ršg.
šlše_code
),

70 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_Üd”ed_li¡_numb”
, R.
d¿wabË
.
ic_fÜm©_li¡_numb”ed_bÏck_24dp
, R.¡ršg.
Üd”ed_li¡
),

71 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_bË_š£¹_cŞumns
, R.
d¿wabË
.
ic_v›w_moduË_bÏck_24dp
, R.¡ršg.
bË
),

72 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_quÙe
, R.
d¿wabË
.
ic_fÜm©_quÙe_bÏck_24dp
, R.¡ršg.
quÙe
),

73 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_h1
, R.
d¿wabË
.
fÜm©_h—d”_1
, R.¡ršg.
h—dšg_1
),

74 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_h2
, R.
d¿wabË
.
fÜm©_h—d”_2
, R.¡ršg.
h—dšg_2
),

75 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_h3
, R.
d¿wabË
.
fÜm©_h—d”_3
, R.¡ršg.
h—dšg_3
),

76 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_hÜizÚl_lše
, R.
d¿wabË
.
ic_mÜe_hÜiz_bÏck_24dp
, R.¡ršg.
hÜizÚl_lše
),

77 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_m¬kdown_¡rikeout
, R.
d¿wabË
.
ic_fÜm©_¡rik‘hrough_bÏck_24dp
, R.¡ršg.
¡rikeout
),

78 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_accÜdiÚ
, R.
d¿wabË
.
ic_¬row_drİ_down_bÏck_24dp
, R.¡ršg.
accÜdiÚ
),

79 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_šd’t
, R.
d¿wabË
.
ic_fÜm©_šd’t_šü—£_bÏck_24dp
, R.¡ršg.
šd’t
),

80 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_dešd’t
, R.
d¿wabË
.
ic_fÜm©_šd’t_deü—£_bÏck_24dp
, R.¡ršg.
dešd’t
),

81 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_Ãw_lše_b–ow
, R.
d¿wabË
.
ic_ba£lše_keybßrd_»tuº_24
, R.¡ršg.
¡¬t_Ãw_lše_b–ow
),

82 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_up
, R.
d¿wabË
.
ic_ba£lše_¬row_upw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_up
),

83 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_down
, R.
d¿wabË
.
ic_ba£lše_¬row_downw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_down
),

86  
A¼ays
.
	`asLi¡
(
TMA_ACTIONS
);

87 
	}
}

89 
´iv©e
 cÏs 
	cM¬kdownTextAùiÚsIm¶
 
ex‹nds
 
	gAùiÚC®lback
 {

90 
´iv©e
 
	g_aùiÚ
;

92 
M¬kdownTextAùiÚsIm¶
(
aùiÚ
) {

93 
	g_aùiÚ
 = 
aùiÚ
;

96 @
Ov”ride


97 
public
 
ÚClick
(
fš®
 
V›w
 
v›w
) {

98 
ÚClickIm¶
(
v›w
);

101 
´iv©e
 
boŞ—n
 
ÚClickIm¶
(
fš®
 
V›w
 
v›w
) {

102 ià(
	gv›w
 !ğ
nuÎ
) {

103 
v›w
.
³rfÜmH­ticF“dback
(
H­ticF“dbackCÚ¡ªts
.
KEYBOARD_TAP
);

105 
	g_aùiÚ
) {

106 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_quÙe
: {

107 
runRegexR•ÏûAùiÚ
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
toggËQuÙe
());

108  
	gŒue
;

110 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_h1
: {

111 
runRegexR•ÏûAùiÚ
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
£tOrUn£tH—dšgW™hLev–
(1));

112  
	gŒue
;

114 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_h2
: {

115 
runRegexR•ÏûAùiÚ
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
£tOrUn£tH—dšgW™hLev–
(2));

116  
	gŒue
;

118 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_h3
: {

119 
runRegexR•ÏûAùiÚ
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
£tOrUn£tH—dšgW™hLev–
(3));

120  
	gŒue
;

122 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_unÜd”ed_li¡_ch¬
: {

123 
fš®
 
SŒšg
 
li¡Ch¬
 = 
_­pS‘tšgs
.
g‘UnÜd”edLi¡Ch¬aù”
();

124 
runRegexR•ÏûAùiÚ
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hUnÜd”edLi¡P»fixOrRemoveP»fix
(
li¡Ch¬
));

125  
	gŒue
;

127 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_checkbox_li¡
: {

128 
fš®
 
SŒšg
 
li¡Ch¬
 = 
_­pS‘tšgs
.
g‘UnÜd”edLi¡Ch¬aù”
();

129 
runRegexR•ÏûAùiÚ
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
toggËToCheckedOrUncheckedLi¡P»fix
(
li¡Ch¬
));

130  
	gŒue
;

132 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_Üd”ed_li¡_numb”
: {

133 
runRegexR•ÏûAùiÚ
(
M¬kdownR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hOrd”edLi¡P»fixOrRemoveP»fix
());

134 
runR’umb”Ord”edLi¡IfRequœed
();

135  
	gŒue
;

137 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_bŞd
: {

138 
runIÆšeAùiÚ
("**");

139  
	gŒue
;

141 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_™®ic
: {

142 
runIÆšeAùiÚ
("_");

143  
	gŒue
;

145 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_¡rikeout
: {

146 
runIÆšeAùiÚ
("~~");

147  
	gŒue
;

149 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_code_šlše
: {

150 
runIÆšeAùiÚ
("`");

151  
	gŒue
;

153 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_hÜizÚl_lše
: {

154 
runIÆšeAùiÚ
("----\n");

155  
	gŒue
;

157 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_bË_š£¹_cŞumns
: {

158 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showIn£¹TabËRowDŸlog
(
_aùiv™y
, 
çl£
, 
ÿÎbackIn£¹TabËRow
);

159  
	gŒue
;

161 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_š£¹_lšk
:

162 
R
.
¡ršg
.
tmaid_m¬kdown_š£¹_image
: {

163 
A‰achImageOrLškDŸlog
.
showIn£¹ImageOrLškDŸlog
(
_aùiÚ
 =ğ
R
.
¡ršg
.
tmaid_m¬kdown_š£¹_image
 ? 2 : 3, 
_docum’t
.
g‘FÜm©
(), 
_aùiv™y
, 
_hlEd™Ü
, _docum’t.
g‘Fe
());

164  
	gŒue
;

166 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_toŞb¬_t™Ë_şicked_ed™_aùiÚ
: {

167 
fš®
 
SŒšg
 
ÜigText
 = 
_hlEd™Ü
.
g‘Text
().
toSŒšg
();

168 
	gS—rchOrCu¡omTextDŸlogC»©Ü
.
showM¬kdownH—dlšeDŸlog
(
_aùiv™y
, 
ÜigText
, (
lšeNr
) -> {

169 
_hlEd™Ü
.
£tS–eùiÚ
(
SŒšgUts
.
g‘IndexFromLšeOff£t
(
ÜigText
, 
lšeNr
, 0));

171  
	gŒue
;

173 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_move_‹xt_Úe_lše_up
:

174 
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_down
: {

175 
runCommÚTextAùiÚ
(
_cÚ‹xt
.
g‘SŒšg
(
_aùiÚ
));

176 
runR’umb”Ord”edLi¡IfRequœed
();

177  
	gŒue
;

179 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_šd’t
: {

180 
runInd’tLšes
(
çl£
);

181 
runR’umb”Ord”edLi¡IfRequœed
();

182  
	gŒue
;

184 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_dešd’t
: {

185 
runInd’tLšes
(
Œue
);

186 
runR’umb”Ord”edLi¡IfRequœed
();

187  
	gŒue
;

190  
runCommÚTextAùiÚ
(
_cÚ‹xt
.
g‘SŒšg
(
_aùiÚ
));

195 @
Ov”ride


196 
public
 
boŞ—n
 
ÚLÚgClick
(
V›w
 
v›w
) {

197 
	g_aùiÚ
) {

198 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_İ’_lšk_brow£r
: {

199 
Ãw
 
CommÚTextAùiÚs
(
_aùiv™y
, 
_hlEd™Ü
).
runAùiÚ
(CommÚTextAùiÚs.
ACTION_SEARCH
);

200  
	gŒue
;

202 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_¥ecŸl_key
: {

203 
Ãw
 
CommÚTextAùiÚs
(
_aùiv™y
, 
_hlEd™Ü
).
runAùiÚ
(CommÚTextAùiÚs.
ACTION_JUMP_BOTTOM_TOP
);

204  
	gŒue
;

206 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_š£¹_image
: {

207 
pos
 = 
_hlEd™Ü
.
g‘S–eùiÚS¹
();

208 
	g_hlEd™Ü
.
g‘Text
().
š£¹
(
pos
, "<img style=\"width:auto;max-height: 256px;\" src=\"\" />");

209 
	g_hlEd™Ü
.
£tS–eùiÚ
(
pos
 + 48);

210  
	gŒue
;

212 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_time
: {

213 
runCommÚTextAùiÚ
("tmaid_common_time_insert_timestamp");

214  
	gŒue
;

216 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_bË_š£¹_cŞumns
: {

217 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showIn£¹TabËRowDŸlog
(
_aùiv™y
, 
Œue
, 
ÿÎbackIn£¹TabËRow
);

218  
	gŒue
;

220 
	gR
.
	g¡ršg
.
	gtmaid_m¬kdown_code_šlše
: {

221 
_hlEd™Ü
.
di§bËHighligh‹rAutoFÜm©
();

222 
fš®
 
	gc
 = 
_hlEd™Ü
.
£tS–eùiÚEx·ndWhŞeLšes
();

223 
	g_hlEd™Ü
.
g‘Text
().
š£¹
(
_hlEd™Ü
.
g‘S–eùiÚS¹
(), "\n```\n");

224 
	g_hlEd™Ü
.
g‘Text
().
š£¹
(
_hlEd™Ü
.
g‘S–eùiÚEnd
(), "\n```\n");

225 
	g_hlEd™Ü
.
£tS–eùiÚ
(
c
 + "\n```\n".
Ëngth
());

226 
	g_hlEd™Ü
.
’abËHighligh‹rAutoFÜm©
();

227 
	gTß¡
.
makeText
(
_aùiv™y
, 
R
.
¡ršg
.
code_block
, 
Tß¡
.
LENGTH_SHORT
).
show
();

228  
	gŒue
;

230 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_Üd”ed_li¡_numb”
: {

231 
AutoFÜm©‹r
.
»numb”Ord”edLi¡
(
_hlEd™Ü
.
g‘Text
(), 
SŒšgUts
.
g‘S–eùiÚ
(_hlEd™Ü)[0], 
M¬kdownAutoFÜm©
.
g‘P»fixP©‹ºs
());

232  
	gŒue
;

234 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_dešd’t
:

235 
R
.
¡ršg
.
tmaid_commÚ_šd’t
: {

236 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showInd’tSizeDŸlog
(
_aùiv™y
, 
_šd’t
, (
size
) -> {

237 
_šd’t
 = 
IÁeg”
.
·r£IÁ
(
size
);

238 
_­pS‘tšgs
.
£tDocum’tInd’tSize
(
g‘P©h
(), 
_šd’t
);

240  
	gŒue
;

243  
	gçl£
;

246 
´iv©e
 
fš®
 
	gC®lback
.
	ga2
<
	gIÁeg”
, 
	gBoŞ—n
> 
	gÿÎbackIn£¹TabËRow
 = (
cŞs
, 
	gisH—d”EÇbËd
) -> {

247 
SŒšgBud”
 
	gsb
 = 
Ãw
 StringBuilder();

248 
	g_hlEd™Ü
.
»que¡Focus
();

249 ià(!
	g_hlEd™Ü
.
isCu¼’tLšeEm±y
()) {

250 
	gsb
.
­³nd
("\n");

252 
	gi
 = 0; i < 
	gcŞs
 - 1; i++) {

253 
	gsb
.
­³nd
(" | ");

255 ià(
	gisH—d”EÇbËd
) {

256 
	gsb
.
­³nd
("\n");

257 
	gi
 = 0; i < 
	gcŞs
; i++) {

258 
	gsb
.
­³nd
("---");

259 ià(
	gi
 < 
	gcŞs
 - 1) {

260 
	gsb
.
­³nd
("|");

264 
	g_hlEd™Ü
.
moveCursÜToEndOfLše
(0);

265 
	g_hlEd™Ü
.
š£¹OrR•ÏûTextOnCursÜ
(
sb
.
toSŒšg
());

266 
	g_hlEd™Ü
.
moveCursÜToBegšOfLše
(0);

267 ià(
	gisH—d”EÇbËd
) {

268 
	g_hlEd™Ü
.
simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_DPAD_UP
);

273 
´iv©e
 
	$runR’umb”Ord”edLi¡IfRequœed
() {

274 ià(
_­pS‘tšgs
.
	`isM¬kdownAutoUpd©eLi¡
()) {

275 
AutoFÜm©‹r
.
	`»numb”Ord”edLi¡
(
_hlEd™Ü
, 
SŒšgUts
.
	`g‘S–eùiÚ
(_hlEd™Ü)[0], 
M¬kdownAutoFÜm©
.
	`g‘P»fixP©‹ºs
());

277 
	}
}

	@app/src/main/java/net/gsantner/markor/format/markdown/MarkdownTextConverter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

16 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gªchÜlšk
.
	gAnchÜLškEx‹nsiÚ
;

17 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gautŞšk
.
	gAutŞškEx‹nsiÚ
;

18 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gemoji
.
	gEmojiEx‹nsiÚ
;

19 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gemoji
.
	gEmojiImageTy³
;

20 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gfoÙnÙes
.
	gFoÙnÙeEx‹nsiÚ
;

21 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	ggfm
.
	g¡rik‘hrough
.
	gSŒik‘hroughEx‹nsiÚ
;

22 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	ggfm
.
	gskli¡
.
	gTaskLi¡Ex‹nsiÚ
;

23 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gg™Ïb
.
	gG™LabEx‹nsiÚ
;

24 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gšs
.
	gInsEx‹nsiÚ
;

25 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gjekyÎ
.
	gäÚt
.
	gm©‹r
.
	gJekyÎFrÚtM©‹rEx‹nsiÚ
;

26 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gjekyÎ
.
	gg
.
	gJekyÎTagEx‹nsiÚ
;

27 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gbËs
.
	gTabËsEx‹nsiÚ
;

28 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gtoc
.
	gSimTocEx‹nsiÚ
;

29 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gtoc
.
	gTocEx‹nsiÚ
;

30 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gtoc
.
	gš‹º®
.
	gTocO±iÚs
;

31 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gtypog¿phic
.
	gTypog¿phicEx‹nsiÚ
;

32 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gwikšk
.
	gWikiLškEx‹nsiÚ
;

33 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gext
.
	gyaml
.
	gäÚt
.
	gm©‹r
.
	gYamlFrÚtM©‹rEx‹nsiÚ
;

34 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	ghtml
.
	gHtmlR’d””
;

35 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	g·r£r
.
	gP¬£r
;

36 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gsu³rsüt
.
	gSu³rsütEx‹nsiÚ
;

37 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gut
.
	gbud”
.
	gEx‹nsiÚ
;

38 
impÜt
 
	gcom
.
	gvÏdsch
.
	gæexm¬k
.
	gut
.
	gİtiÚs
.
	gMubËD©aS‘
;

40 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

41 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextCÚv”‹r
;

42 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

44 
impÜt
 
	gjava
.
	gio
.
	gFe
;

45 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

46 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

47 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

49 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

51 @
Suµ»ssW¬nšgs
("WeakerAccess")

52 
public
 cÏs 
	cM¬kdownTextCÚv”‹r
 
ex‹nds
 
	mTextCÚv”‹r
 {

56 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__TXT
 = ".txt";

57 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__MD_TXT
 = ".md.txt";

58 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__MD
 = ".md";

59 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__MARKDOWN
 = ".markdown";

60 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__MKD
 = ".mkd";

61 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__MDOWN
 = ".mdown";

62 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__MKDN
 = ".mkdn";

63 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__MDWN
 = ".mdwn";

64 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__TEXT
 = ".text";

65 
public
 
fš®
 
SŒšg
 
	mEXT_MARKDOWN__RMD
 = ".rmd";

67 
public
 
fš®
 
SŒšg
 
	mMD_EXTENSIONS_PATTERN_LIST
 = "((md)|(markdown)|(mkd)|(mdown)|(mkdn)|(txt)|(mdwn)|(text)|(rmd))";

68 
public
 
fš®
 
P©‹º
 
	mPATTERN_HAS_FILE_EXTENSION_FOR_THIS_FORMAT
 = P©‹º.
compe
("((?i).*\\." + 
MD_EXTENSIONS_PATTERN_LIST
 + "$)");

69 
public
 
fš®
 
P©‹º
 
	mMD_EXTENSION_PATTERN
 = P©‹º.
compe
("((?i)\\." + 
MD_EXTENSIONS_PATTERN_LIST
 + "$)");

70 
public
 
fš®
 
	mSŒšg
[] 
	mMD_EXTENSIONS
 = 
Ãw
 
SŒšg
[]{

71 
EXT_MARKDOWN__MD
, 
EXT_MARKDOWN__MARKDOWN
, 
EXT_MARKDOWN__MKD
, 
EXT_MARKDOWN__MDOWN
,

72 
EXT_MARKDOWN__MKDN
, 
EXT_MARKDOWN__TXT
, 
EXT_MARKDOWN__MDWN
, 
EXT_MARKDOWN__TEXT
,

73 
EXT_MARKDOWN__RMD
, 
EXT_MARKDOWN__MD_TXT


79 
public
 
fš®
 
SŒšg
 
	gCSS_HEADER_UNDERLINE
 = 
CSS_S
 + " .h—d”_no_und”lš{ext-decÜ©iÚ:‚Úe; cŞÜ: " + 
TOKEN_BW_INVERSE_OF_THEME
 + "; } h1 <‡.h—d”_no_und”lš{ bÜd”-bÙtom: 2px sŞid #—eûf; } " + 
CSS_E
;

80 
public
 
fš®
 
SŒšg
 
	gCSS_H1_H2_UNDERLINE
 = 
CSS_S
 + " h1,h2 { bÜd”-bÙtom: 2px sŞid " + 
TOKEN_BW_INVERSE_OF_THEME_HEADER_UNDERLINE
 + "; } " + 
CSS_E
;

81 
public
 
fš®
 
SŒšg
 
	gCSS_BLOCKQUOTE_VERTICAL_LINE
 = 
CSS_S
 + "blockquÙe{·ddšg:0px 14px;bÜd”-" + 
TOKEN_TEXT_DIRECTION
 + ":3.5px sŞid #dddddd;m¬gš:4px 0}" + 
CSS_E
;

82 
public
 
fš®
 
SŒšg
 
	gCSS_LIST_TASK_NO_BULLET
 = 
CSS_S
 + ".sk-li¡-™em {†i¡-¡yË-ty³:nÚe;ext-šd’t: -1.4em; }" + 
CSS_E
;

83 
public
 
fš®
 
SŒšg
 
	gCSS_GITLAB_VIDEO_CAPTION
 = 
CSS_S
 + ".video-cÚš” >… { m¬gš: 0; }" + 
CSS_E
;

85 
public
 
fš®
 
SŒšg
 
	gCSS_TOC_STYLE
 = 
CSS_S
 + ".m¬kÜ-bË-of-cÚ‹Á { bÜd”: 1px sŞid " + 
TOKEN_BW_INVERSE_OF_THEME
 + "; bÜd”-¿dius: 2px; } .m¬kÜ-bË-of-cÚ‹Á > h1 {…addšg-Ëá: 14px; m¬gš-bÙtom: -8px; bÜd”-bÙtom: 1px sŞid " + TOKEN_BW_INVERSE_OF_THEME + "; } .m¬kÜ-bË-of-cÚ‹Ás-li¡†˜{ m¬gš-Ëá: -12px; } .m¬kÜ-bË-of-cÚ‹Ás-li¡‡ {ext-decÜ©iÚ:‚Úe; }" + 
CSS_E
;

86 
public
 
fš®
 
SŒšg
 
	gCSS_PRESENTATION_BEAMER
 = "<!-- " + 
TOKEN_TEXT_CONVERTER_MAX_ZOOM_OUT_BY_DEFAULT
 + " -->" + 
CSS_S
 + "img { max-width: 100%; }‡:vis™ed,‡:lšk,‡:hov”,‡:focus,‡:aùiv{ cŞÜ:šh”™; }abË { bÜd”-cŞÏp£: cŞÏp£; width: 100%; }abË,h,d {…addšg: 5px; } body { fÚt-çmy: H–v‘iÿ, ArŸl, F»e§ns, cËª, sªs-£rif;…addšg:0 0 0 0; m¬gš:auto; max-width:42em; } h1, h2, h3, h4, h5, h6 { fÚt-weight: bŞd; } h1 { fÚt-size: 28px; bÜd”-bÙtom: 2px sŞid; bÜd”-bÙtom-cŞÜ: inh”™; } h2 { fÚt-size: 24px; bÜd”-bÙtom: 2px sŞid; bÜd”-bÙtom-cŞÜ: inh”™; } h3 { fÚt-size: 18px; } h4 { fÚt-size: 16px; } h5 { fÚt-size: 14px; } h6 { fÚt-size: 14px; }…, blockquÙe, ul, ol, dl,†i,abË,…» { m¬gš: 15px 0; } cod{ m¬gš: 0 2px;…addšg: 0 5px; }…» {†še-height: 1.25em; ov”æow:‡uto;…addšg: 6px 10px; }…» > cod{ bÜd”: 0; m¬gš: 0;…addšg: 0; } cod{ fÚt-çmy: mÚo¥aû; } img { max-width: 100%; } .¦id{ di¥Ïy: fËx; width: 297mm; height: 166mm; m¬gš: 0‡utØ20px‡uto;…addšg: 0;‡lign-™ems: c’‹r; bÜd”: 1px sŞid " + 
TOKEN_BW_INVERSE_OF_THEME
 + "; } .¦ide_body { di¥Ïy: block; width: 260mm; height: 155mm; m¬gš:‡uto; ov”æow: hidd’; } .¦ide_body:em±y { di¥Ïy:‚Úe; } .¦ide:em±y{ di¥Ïy:‚Úe; } @medŸ…ršˆ{ body { m¬gš: 0;…addšg: 0; } .¦id{…age-b»ak-aá”:‡lways; m¬gš: 0;…addšg: 0; width: 297mm; mš-height: 200mm; height: 200mm; max-height: 200mm; bÜd”:‚Úe; ov”æow: hidd’; bÜd”: 0; } } *:nÙ(¥ª){ unicode-bidi:…Ïš‹xt; } .¦ide_t™Ë > *{ext-®ign: c’‹r; bÜd”-bÙtom: 0px; fÚt-size: 450%; } .¦ide_t™Ë > h1 { fÚt-size: 550%; } .¦ide_body:nÙ(.¦ide_t™Ëè> * { fÚt-size: 200%; } .¦ide_body:nÙ(.¦ide_t™Ëè> h1 { fÚt-size: 350%; } .¦ide_body:nÙ(.¦ide_t™Ëè> h2 { fÚt-size: 310%; } img[®t*='imghûÁ”'] { di¥Ïy:block; m¬gš-Ëá:‡uto; m¬gš-right:‡uto; } img[®t*='imgbig'] { objeù-f™: cov”; mš-height: 100%; mš-width: 70%; } .¦ide_body:nÙ(.¦ide_t™Ëè> h3 { fÚt-size: 280%; }" + 
CSS_E
;

87 
public
 
fš®
 
SŒšg
 
	gHTML_PRESENTATION_BEAMER_SLIDE_START_DIV
 = "<!-- Presentation slide NO --> <div class='slide_pNO slide'><div class='slide_body'>";

88 
public
 
fš®
 
SŒšg
 
	gTOKEN_SITE_DATE_JEKYLL
 = "{{ site.time | date: '%x' }}";

90 
public
 
fš®
 
SŒšg
 
	gHTML_KATEX_INCLUDE
 = "<link„el='stylesheet'ype='text/css' href='file:///android_asset/katex/katex.min.css'>" +

93 
public
 
fš®
 
SŒšg
 
	gJS_KATEX
 = "" +

103 
´iv©e
 
fš®
 
	gLi¡
<
	gEx‹nsiÚ
> 
	gæexm¬kEx‹nsiÚs
 = 
A¼ays
.
asLi¡
(

104 
SŒik‘hroughEx‹nsiÚ
.
ü—‹
(),

105 
AutŞškEx‹nsiÚ
.
ü—‹
(),

106 
InsEx‹nsiÚ
.
ü—‹
(),

107 
JekyÎTagEx‹nsiÚ
.
ü—‹
(),

108 
JekyÎFrÚtM©‹rEx‹nsiÚ
.
ü—‹
(),

109 
Su³rsütEx‹nsiÚ
.
ü—‹
(),

110 
TabËsEx‹nsiÚ
.
ü—‹
(),

111 
TaskLi¡Ex‹nsiÚ
.
ü—‹
(),

112 
EmojiEx‹nsiÚ
.
ü—‹
(),

113 
AnchÜLškEx‹nsiÚ
.
ü—‹
(),

114 
TocEx‹nsiÚ
.
ü—‹
(),

115 
SimTocEx‹nsiÚ
.
ü—‹
(),

116 
WikiLškEx‹nsiÚ
.
ü—‹
(),

117 
YamlFrÚtM©‹rEx‹nsiÚ
.
ü—‹
(),

118 
Typog¿phicEx‹nsiÚ
.
ü—‹
(),

119 
G™LabEx‹nsiÚ
.
ü—‹
(),

120 
FoÙnÙeEx‹nsiÚ
.
ü—‹
()

122 
´iv©e
 
fš®
 
P¬£r
 
	gæexm¬kP¬£r
 = P¬£r.
bud”
().
ex‹nsiÚs
(
æexm¬kEx‹nsiÚs
).
bud
();

123 
´iv©e
 
fš®
 
HtmlR’d””
 
	gæexm¬kR’d””
 = HtmlR’d””.
bud”
().
ex‹nsiÚs
(
æexm¬kEx‹nsiÚs
).
bud
();

129 @
Ov”ride


130 
public
 
SŒšg
 
	$cÚv”tM¬kup
(
SŒšg
 
m¬kup
, 
CÚ‹xt
 
cÚ‹xt
, 
boŞ—n
 
isExpÜtInLightMode
, 
Fe
 
fe
) {

131 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
);

132 
SŒšg
 
cÚv”‹d
 = "", 
ÚLßdJs
 = "", 
h—d
 = "";

134 
MubËD©aS‘
 
İtiÚs
 = 
Ãw
 
	`MubËD©aS‘
();

135 
İtiÚs
.
	`£t
(
P¬£r
.
EXTENSIONS
, 
æexm¬kEx‹nsiÚs
);

136 
İtiÚs
.
	`£t
(
P¬£r
.
SPACE_IN_LINK_URLS
, 
Œue
);

138 
İtiÚs
.
	`£t
(
EmojiEx‹nsiÚ
.
USE_IMAGE_TYPE
, 
EmojiImageTy³
.
UNICODE_ONLY
);

141 
İtiÚs
.
	`£t
(
G™LabEx‹nsiÚ
.
RENDER_BLOCK_MATH
, 
çl£
);

144 
İtiÚs
.
	`£t
(
TabËsEx‹nsiÚ
.
WITH_CAPTION
, 
çl£
)

145 .
	`£t
(
TabËsEx‹nsiÚ
.
COLUMN_SPANS
, 
Œue
)

146 .
	`£t
(
TabËsEx‹nsiÚ
.
MIN_HEADER_ROWS
, 0)

147 .
	`£t
(
TabËsEx‹nsiÚ
.
MAX_HEADER_ROWS
, 1)

148 .
	`£t
(
TabËsEx‹nsiÚ
.
APPEND_MISSING_COLUMNS
, 
çl£
)

149 .
	`£t
(
TabËsEx‹nsiÚ
.
DISCARD_EXTRA_COLUMNS
, 
Œue
)

150 .
	`£t
(
WikiLškEx‹nsiÚ
.
LINK_ESCAPE_CHARS
, "")

151 .
	`£t
(
TabËsEx‹nsiÚ
.
HEADER_SEPARATOR_COLUMN_MATCH
, 
Œue
);

154 
İtiÚs
.
	`£t
(
HtmlR’d””
.
GENERATE_HEADER_ID
, 
Œue
)

155 .
	`£t
(
AnchÜLškEx‹nsiÚ
.
ANCHORLINKS_WRAP_TEXT
, 
Œue
)

156 .
	`£t
(
AnchÜLškEx‹nsiÚ
.
ANCHORLINKS_ANCHOR_CLASS
, "header_no_underline");

159 
h—d
 +ğ
CSS_HEADER_UNDERLINE
 + 
CSS_H1_H2_UNDERLINE
 + 
CSS_BLOCKQUOTE_VERTICAL_LINE
 + 
CSS_GITLAB_VIDEO_CAPTION
 + 
CSS_LIST_TASK_NO_BULLET
;

162 
fš®
 
boŞ—n
 
’abËP»£Á©iÚB—m”
 = 
m¬kup
.
	`cÚšs
("\nclass:beamer") || markup.contains("\nclass: beamer");

163 ià(
’abËP»£Á©iÚB—m”
) {

164 
h—d
 +ğ
CSS_PRESENTATION_BEAMER
;

168 
fš®
 
SŒšg
 
·»ÁFŞd”Name
 = 
fe
 !ğ
nuÎ
 && fe.
	`g‘P¬’tFe
(è!ğnuÎ && !
TextUts
.
	`isEm±y
(fe.g‘P¬’tFe().
	`g‘Name
()) ? file.getParentFile().getName() : "";

169 
fš®
 
boŞ—n
 
isInBlogFŞd”
 = 
·»ÁFŞd”Name
.
	`equ®s
("_posts") ||…arentFolderName.equals("blog") ||…arentFolderName.equals("post");

170 ià(!
’abËP»£Á©iÚB—m”
) {

171 ià(!
m¬kup
.
	`cÚšs
("[TOC]: #"è&& (
isInBlogFŞd”
 || 
­pS‘tšgs
.
	`isM¬kdownTabËOfCÚ‹ÁsEÇbËd
()) && (markup.contains("#") || markup.contains("<h"))) {

172 
fš®
 
SŒšg
 
tocTok’
 = "[TOC]: # ''\n \n";

173 ià(
m¬kup
.
	`¡¬tsW™h
("---"è&& !m¬kup.
	`cÚšs
("[TOC]")) {

174 
m¬kup
 = m¬kup.
	`»¶aûFœ¡
("[\n][-]{3,}[\n]{2}", "\n---\n" + 
tocTok’
 + "\n");

177 ià(!
m¬kup
.
	`cÚšs
("[TOC]")) {

178 
m¬kup
 = 
tocTok’
 + markup;

182 
h—d
 +ğ
CSS_TOC_STYLE
;

183 
İtiÚs
.
	`£t
(
TocEx‹nsiÚ
.
LEVELS
, 
TocO±iÚs
.
	`g‘Lev–s
(1, 2, 3))

184 .
	`£t
(
TocEx‹nsiÚ
.
TITLE
, 
cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
bË_of_cÚ‹Ás
))

185 .
	`£t
(
TocEx‹nsiÚ
.
DIV_CLASS
, "markor-table-of-contents")

186 .
	`£t
(
TocEx‹nsiÚ
.
LIST_CLASS
, "markor-table-of-contents-list")

187 .
	`£t
(
TocEx‹nsiÚ
.
BLANK_LINE_SPACER
, 
çl£
);

191 ià(
­pS‘tšgs
.
	`isM¬kdownM©hEÇbËd
(è&& 
m¬kup
.
	`cÚšs
("$")) {

192 
h—d
 +ğ
HTML_KATEX_INCLUDE
;

193 
ÚLßdJs
 +ğ
JS_KATEX
;

194 
m¬kup
 = m¬kup.
	`»¶aûAÎ
("(?ms)^([$]{2}.*?[$]{2})$", "<div>\n$1\n</div>");

198 
fš®
 
SŒšg
 
xt
 = 
	`g‘V›wHlPrismInşudes
(
cÚ‹xt
, (
­pS‘tšgs
.
	`isD¬kThemeEÇbËd
() ? "-tomorrow" : ""));

199 
h—d
 +ğ
xt
;

203 
m¬kup
 = m¬kup.
	`»¶aû
("{{ s™e.ba£u¾ }}", "..").»¶aû(
TOKEN_SITE_DATE_JEKYLL
, 
TOKEN_POST_TODAY_DATE
);

206 
m¬kup
 = m¬kup.
	`»¶aû
("](@attachment/", "](../attachements/");

208 ià(
­pS‘tšgs
.
	`isM¬kdownNewlšeNew·¿g¿phEÇbËd
()) {

209 
m¬kup
 = m¬kup.
	`»¶aû
("\n", " \n");

214 
cÚv”‹d
 = 
æexm¬kR’d””
.
	`w™hO±iÚs
(
İtiÚs
).
	`»nd”
(
æexm¬kP¬£r
.
	`·r£
(
m¬kup
));

217 ià(
cÚv”‹d
.
	`cÚšs
("footnote-")) {

218 
cÚv”‹d
 = cÚv”‹d.
	`»¶aû
("</p>\n<a href=\"#fnref-", "<a href=\"#fnref-").replace("class=\"footnote-backref\">&#8617;</a>", "class=\"footnote-backref\"> &#8617;</a></p>");

222 ià(
’abËP»£Á©iÚB—m”
) {

223 
c
 = 1;

224 
ihtml
 = 0; (ihtmÈğ
cÚv”‹d
.
	`šdexOf
("<h¸/>", ihtml)è>ğ0 && ihtmÈ< cÚv”‹d.
	`Ëngth
(è+ 5; 
c
++) {

225 
SŒšg
 
šs
 = 
HTML_PRESENTATION_BEAMER_SLIDE_START_DIV
.
	`»¶aû
("NO", 
IÁeg”
.
	`toSŒšg
(
c
));

226 
cÚv”‹d
 = cÚv”‹d.
	`sub¡ršg
(0, 
ihtml
è+ (
c
 > 1 ? "</div></div>" : ""è+ 
šs
 + cÚv”‹d.sub¡ršg(ihtmÈ+ "<h¸/>".
	`Ëngth
());

227 ià(
cÚv”‹d
.
	`cÚšs
(
šs
 + "\n<h1 ")) {

228 
cÚv”‹d
 = cÚv”‹d.
	`»¶aû
(
šs
, ins.replace("slide_body", "slide_body slide_title").replace("slide'", "slide_type_title slide'"));

232 ià(
c
 > 1) {

233 
cÚv”‹d
 = cÚv”‹d.
	`»¶aû
(
HTML_PRESENTATION_BEAMER_SLIDE_START_DIV
.»¶aû("NO", 
IÁeg”
.
	`toSŒšg
(
c
 - 1)), "</div></div> <!-- Final…resentation slide -->");

238  
	`putCÚ‹ÁIÁoTem¶©e
(
cÚ‹xt
, 
cÚv”‹d
, 
isExpÜtInLightMode
, 
fe
, 
ÚLßdJs
, 
h—d
);

239 
	}
}

241 @
Suµ»ssW¬nšgs
({"ConstantConditions", "StringConcatenationInsideStringBufferAppend"})

242 
´iv©e
 
SŒšg
 
g‘V›wHlPrismInşudes
(@
NÚNuÎ
 
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® SŒšg 
themeName
) {

243 
fš®
 
SŒšgBud”
 
	gsb
 = 
Ãw
 StringBuilder(1500);

244 
fš®
 
SŒšg
 
	gjs_´efix
 = "<scriptype='text/javascript' src='file:///android_asset/prism/";

245 
	gsb
.
­³nd
("\n\n");

246 
	gsb
.
­³nd
("<lšk„–='¡yËsh“t' h»f='fe:///ªdroid_as£t/´ism/´ism" + 
themeName
 + ".min.css' /> ");

247 
	gsb
.
­³nd
(
js_´efix
 + "prism.min.js'></script> ");

248 
	gsb
.
­³nd
(
js_´efix
 + "prism-markup-templating.min.js'></script> ");

249 
	gŒy
 {

250 
SŒšg
 
	gÏng
 : 
cÚ‹xt
.
g‘As£ts
().
li¡
("prism")) {

251 ià(!
Ïng
.
’dsW™h
(".js"è||†ªg.
cÚšs
("prism.min.js") ||†ang.contains("prism-markup-templating.min.js")) {

254 
	gsb
.
­³nd
(
js_´efix
);

255 
	gsb
.
­³nd
(
Ïng
);

256 
	gsb
.
­³nd
("'></script> ");

258 } 
ÿtch
 (
Exû±iÚ
 
e
) {

259 
	ge
.
´štSckT¿û
();

261 
	gsb
.
­³nd
("\n\n");

262  
	gsb
.
toSŒšg
();

265 @
Ov”ride


266 
public
 
boŞ—n
 
	$isFeOutOfThisFÜm©
(
SŒšg
 
f•©h
) {

267 
f•©h
 = f•©h.
	`»¶aû
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
, "");

268  (
M¬kdownTextCÚv”‹r
.
PATTERN_HAS_FILE_EXTENSION_FOR_THIS_FORMAT
.
	`m©ch”
(
f•©h
).
	`m©ches
(è&& !f•©h.
	`toLow”Ca£
().
	`’dsW™h
(".txt")) || filepath.toLowerCase().endsWith(".md.txt");

269 
	}
}

	@app/src/main/java/net/gsantner/markor/format/plaintext/PlaintextConverter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g‹xt
.
	gTextUtsCom·t
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextCÚv”‹r
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

18 
impÜt
 
	gjava
.
	gio
.
	gFe
;

19 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

20 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

22 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

24 @
Suµ»ssW¬nšgs
("WeakerAccess")

25 
public
 cÏs 
	cPÏš‹xtCÚv”‹r
 
ex‹nds
 
	mTextCÚv”‹r
 {

26 
´iv©e
 
fš®
 
SŒšg
 
	mHTML100_BODY_PRE_BEGIN
 = "<´¡yË='wh™e-¥aû:…»-w¿p;fÚt-çmy: " + 
TOKEN_FONT
 + "' >";

27 
´iv©e
 
fš®
 
SŒšg
 
	mHTML101_BODY_PRE_END
 = "</pre>";

28 
´iv©e
 
fš®
 
	mLi¡
<
	mSŒšg
> 
	mEXT
 = 
A¼ays
.
asLi¡
(".txt", ".taskpaper", ".html", ".adoc", ".org", ".ldg", ".ledger", ".diff", ".patch");

35 @
Ov”ride


36 
public
 
SŒšg
 
	$cÚv”tM¬kup
(
SŒšg
 
m¬kup
, 
CÚ‹xt
 
cÚ‹xt
, 
boŞ—n
 
isExpÜtInLightMode
, 
Fe
 
fe
) {

37 
SŒšg
 
cÚv”‹d
 = "", 
ÚLßdJs
 = "", 
h—d
 = "";

38 ià(
fe
 !ğ
nuÎ
 && fe.
	`g‘Name
().
	`toLow”Ca£
().
	`’dsW™h
(".html")) {

39 
cÚv”‹d
 +ğ
m¬kup
;

41 
cÚv”‹d
 = 
HTML100_BODY_PRE_BEGIN


42 + 
TextUtsCom·t
.
	`htmlEncode
(
m¬kup
)

43 + 
HTML101_BODY_PRE_END
;

45  
	`putCÚ‹ÁIÁoTem¶©e
(
cÚ‹xt
, 
cÚv”‹d
, 
isExpÜtInLightMode
, 
fe
, 
ÚLßdJs
, 
h—d
);

48 @
Ov”ride


49 
´Ùeùed
 
SŒšg
 
	$g‘CÚ‹ÁTy³
() {

50  
CONTENT_TYPE_HTML
;

51 
	}
}

53 @
Ov”ride


54 
public
 
boŞ—n
 
	$isFeOutOfThisFÜm©
(
SŒšg
 
f•©h
) {

55 
AµS‘tšgs
 
­pS‘tšgs
 = AµS‘tšgs.
	`g‘
();

56 
f•©h
 = f•©h.
	`»¶aû
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
, "");

57 ià(!
f•©h
.
	`cÚšs
(".")) {

58  
­pS‘tšgs
.
	`isExtO³nW™hThisAµ
("");

60 
SŒšg
 
ext
 = 
f•©h
.
	`sub¡ršg
(f•©h.
	`Ï¡IndexOf
("."));

61 ià(
­pS‘tšgs
.
	`isExtO³nW™hThisAµ
(
ext
)) {

62  
Œue
;

64  
EXT
.
	`cÚšs
(
ext
);

65 
	}
}

	@app/src/main/java/net/gsantner/markor/format/plaintext/PlaintextHighlighter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighligh‹r
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

20 
public
 cÏs 
	cPÏš‹xtHighligh‹r
 
ex‹nds
 
	mHighligh‹r
 {

21 
public
 
	$PÏš‹xtHighligh‹r
(
HighlightšgEd™Ü
 
hlEd™Ü
, 
Docum’t
 
docum’t
) {

22 
	`su³r
(
hlEd™Ü
, 
docum’t
);

25 @
Ov”ride


26 
´Ùeùed
 
S·ÂabË
 
	$run
(
fš®
 
S·ÂabË
 
¥ªÇbË
) {

27 
Œy
 {

28 
	`ş—rS·ns
(
¥ªÇbË
);

30 ià(
¥ªÇbË
.
	`Ëngth
() == 0) {

31  
¥ªÇbË
;

34 
_´of”
.
	`¡¬t
(
Œue
, "Plaintext Highlighting");

35 
	`g’”®HighlightRun
(
¥ªÇbË
);

36 
_´of”
.
	`’d
();

37 
_´of”
.
	`´štProfšgGroup
();

38 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

42  
¥ªÇbË
;

43 
	}
}

45 @
Ov”ride


46 
public
 
IÅutF‹r
 
	$g‘AutoFÜm©‹r
() {

47  
AUTOFORMATTER_NONE
;

48 
	}
}

50 @
Ov”ride


51 
public
 
	$g‘HighlightšgD–ay
(
CÚ‹xt
 
cÚ‹xt
) {

52  
LONG_HIGHLIGHTING_DELAY
;

53 
	}
}

	@app/src/main/java/net/gsantner/markor/format/plaintext/PlaintextTextActions.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

14 
impÜt
 
	gªdroid
.
	gv›w
.
	gH­ticF“dbackCÚ¡ªts
;

15 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gCommÚTextAùiÚs
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

23 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

24 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

26 
public
 cÏs 
	cPÏš‹xtTextAùiÚs
 
ex‹nds
 
	mTextAùiÚs
 {

28 
public
 
	$PÏš‹xtTextAùiÚs
(
Aùiv™y
 
aùiv™y
, 
Docum’t
 
docum’t
) {

29 
	`su³r
(
aùiv™y
, 
docum’t
);

32 @
Ov”ride


33 
public
 
boŞ—n
 
	$runAùiÚ
(
SŒšg
 
aùiÚ
, 
boŞ—n
 
modLÚgClick
, SŒšg 
ªÙh”Arg
) {

34  
	`runCommÚTextAùiÚ
(
aùiÚ
);

35 
	}
}

37 @
Ov”ride


38 
´Ùeùed
 
AùiÚC®lback
 
g‘AùiÚC®lback
(@
SŒšgRes
 
keyId
) {

39  
Ãw
 
PÏš‹xtTextAùiÚIm¶
(
keyId
);

42 @
Ov”ride


43 
public
 
	gLi¡
<
	gAùiÚI‹m
> 
	$g‘AùiveAùiÚLi¡
() {

45 
fš®
 
AùiÚI‹m
[] 
TMA_ACTIONS
 = {

46 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_checkbox_li¡
, R.
d¿wabË
.
ic_check_box_bÏck_24dp
, R.¡ršg.
check_li¡
),

47 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_unÜd”ed_li¡_ch¬
, R.
d¿wabË
.
ic_li¡_bÏck_24dp
, R.¡ršg.
unÜd”ed_li¡
),

48 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_Üd”ed_li¡_numb”
, R.
d¿wabË
.
ic_fÜm©_li¡_numb”ed_bÏck_24dp
, R.¡ršg.
Üd”ed_li¡
),

49 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_jump_to_bÙtom
, 
CommÚTextAùiÚs
.
ACTION_JUMP_BOTTOM_TOP_ICON
, R.¡ršg.
jump_to_bÙtom
),

50 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_d–‘e_lšes
, 
CommÚTextAùiÚs
.
ACTION_DELETE_LINES_ICON
, R.¡ršg.
d–‘e_lšes
),

51 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_İ’_lšk_brow£r
, 
CommÚTextAùiÚs
.
ACTION_OPEN_LINK_BROWSER__ICON
, R.¡ršg.
İ’_lšk
),

52 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_©ch_som‘hšg
, R.
d¿wabË
.
ic_©ch_fe_bÏck_24dp
, R.¡ršg.
©ch
),

53 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_¥ecŸl_key
, 
CommÚTextAùiÚs
.
ACTION_SPECIAL_KEY__ICON
, R.¡ršg.
¥ecŸl_key
),

54 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_time
, R.
d¿wabË
.
ic_acûss_time_bÏck_24dp
, R.¡ršg.
d©e_ªd_time
),

55 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_šd’t
, R.
d¿wabË
.
ic_fÜm©_šd’t_šü—£_bÏck_24dp
, R.¡ršg.
šd’t
),

56 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_dešd’t
, R.
d¿wabË
.
ic_fÜm©_šd’t_deü—£_bÏck_24dp
, R.¡ršg.
dešd’t
),

57 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_Ãw_lše_b–ow
, R.
d¿wabË
.
ic_ba£lše_keybßrd_»tuº_24
, R.¡ršg.
¡¬t_Ãw_lše_b–ow
),

58 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_up
, R.
d¿wabË
.
ic_ba£lše_¬row_upw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_up
),

59 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_down
, R.
d¿wabË
.
ic_ba£lše_¬row_downw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_down
),

62  
A¼ays
.
	`asLi¡
(
TMA_ACTIONS
);

63 
	}
}

65 @
Ov”ride


66 
	g´Ùeùed
 @
SŒšgRes


67 
	$g‘FÜm©AùiÚsKey
() {

68  
R
.
¡ršg
.
´ef_key__¶aš‹xt__aùiÚ_keys
;

69 
	}
}

71 
´iv©e
 cÏs 
	cPÏš‹xtTextAùiÚIm¶
 
ex‹nds
 
	gAùiÚC®lback
 {

72 
´iv©e
 
	g_aùiÚ
;

74 
PÏš‹xtTextAùiÚIm¶
(
aùiÚ
) {

75 
	g_aùiÚ
 = 
aùiÚ
;

78 @
Ov”ride


79 
public
 
ÚClick
(
V›w
 
v›w
) {

80 
	gv›w
.
³rfÜmH­ticF“dback
(
H­ticF“dbackCÚ¡ªts
.
KEYBOARD_TAP
);

81 
	g_aùiÚ
) {

82 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_šd’t
: {

83 
runInd’tLšes
(
çl£
);

86 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_dešd’t
: {

87 
runInd’tLšes
(
Œue
);

91 
runCommÚTextAùiÚ
(
_cÚ‹xt
.
g‘SŒšg
(
_aùiÚ
));

96 @
Ov”ride


97 
public
 
boŞ—n
 
ÚLÚgClick
(
V›w
 
v
) {

98 
	g_aùiÚ
) {

99 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_dešd’t
:

100 
R
.
¡ršg
.
tmaid_commÚ_šd’t
: {

101 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showInd’tSizeDŸlog
(
_aùiv™y
, 
_šd’t
, (
size
) -> {

102 
_šd’t
 = 
IÁeg”
.
·r£IÁ
(
size
);

103 
_­pS‘tšgs
.
£tDocum’tInd’tSize
(
g‘P©h
(), 
_šd’t
);

105  
	gŒue
;

108 
SŒšg
 
aùiÚ
 = 
_cÚ‹xt
.
g‘SŒšg
(
_aùiÚ
);

109 
	gaùiÚ
) {

110 
	gCommÚTextAùiÚs
.
	gACTION_OPEN_LINK_BROWSER
: {

111 
aùiÚ
 = 
CommÚTextAùiÚs
.
ACTION_SEARCH
;

114 
	gCommÚTextAùiÚs
.
	gACTION_SPECIAL_KEY
: {

115 
aùiÚ
 = 
CommÚTextAùiÚs
.
ACTION_JUMP_BOTTOM_TOP
;

119 
aùiÚ
 = "tmaid_common_time_insert_timestamp";

123  
runAùiÚ
(
aùiÚ
, 
Œue
, 
nuÎ
);

	@app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtAutoFormat.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏšTextStuff
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

19 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

21 
public
 cÏs 
	cTodoTxtAutoFÜm©
 
im¶em’ts
 
	mIÅutF‹r
 {

23 @
Ov”ride


24 
public
 
Ch¬Sequ’û
 
	$f‹r
(
Ch¬Sequ’û
 
sourû
, 
¡¬t
, 
’d
, 
S·Âed
 
de¡
, 
d¡¬t
, 
d’d
) {

25 
Œy
 {

26 ià(
¡¬t
 < 
sourû
.
	`Ëngth
(è&& 
d¡¬t
 <ğ
de¡
.Ëngth(è&& 
SŒšgUts
.
	`isNewLše
(sourû, s¹, 
’d
)) {

27  
	`autoInd’t
(
sourû
);

29 } 
	`ÿtch
 (
IndexOutOfBoundsExû±iÚ
 | 
NuÎPoš‹rExû±iÚ
 
e
) {

30 
e
.
	`´štSckT¿û
();

32  
sourû
;

35 
´iv©e
 
Ch¬Sequ’û
 
	$autoInd’t
(
Ch¬Sequ’û
 
sourû
) {

36 
SŒšg
 
t
 = "";

37 
fš®
 
AµS‘tšgs
 
£‰šgs
 = AµS‘tšgs.
	`g‘
();

38 ià(
£‰šgs
.
	`isTodoS¹TasksW™hTodaysD©eEÇbËd
()) {

39 
t
 +ğ
TodoTxtTask
.
DATEF_YYYY_MM_DD
.
	`fÜm©
(
Ãw
 
	`D©e
()) + " ";

41 ià(
£‰šgs
.
	`isTodoNewTaskW™hHuuidEÇbËd
()) {

42 
t
 +ğ"huuid:" + 
PÏšTextStuff
.
	`ÃwHuuid
(
AµS‘tšgs
.
	`g‘
().
	`g‘HuuidDeviûId
()) + " ";

44  
sourû
 + 
t
;

45 
	}
}

	@app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtHighlighter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

16 
impÜt
 
	gªdroid
.
	gut
.
	gP©‹ºs
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gBudCÚfig
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gMašAùiv™y
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gFœ¡LšeTİPaddedP¬ag¿phS·n
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gHÜizÚlLšeBackgroundP¬ag¿phS·n
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighligh‹r
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gNªoProf”
;

28 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

30 
public
 cÏs 
	cTodoTxtHighligh‹r
 
ex‹nds
 
	mHighligh‹r
 {

31 
´iv©e
 
fš®
 
TodoTxtHighligh‹rCŞÜs
 
	mcŞÜs
;

33 
´iv©e
 
fš®
 
P©‹º
 
	mLINK
 = 
P©‹ºs
.
WEB_URL
;

34 
´iv©e
 
fš®
 
P©‹º
 
	mNEWLINE_CHARACTER
 = P©‹º.
compe
("(\\n|^)");

35 
´iv©e
 
fš®
 
P©‹º
 
	mLINESTART
 = P©‹º.
compe
("(?m)^.");

36 
´iv©e
 
fš®
 
P©‹º
 
	mLINE_OF_TEXT
 = P©‹º.
compe
("(?m)(.*)?");

38 
public
 
	$TodoTxtHighligh‹r
(
HighlightšgEd™Ü
 
hlEd™Ü
, 
Docum’t
 
docum’t
) {

39 
	`su³r
(
hlEd™Ü
, 
docum’t
);

40 
cŞÜs
 = 
Ãw
 
	`TodoTxtHighligh‹rCŞÜs
();

43 @
Ov”ride


44 
´Ùeùed
 
S·ÂabË
 
	$run
(
fš®
 
S·ÂabË
 
¥ªÇbË
) {

45 
Œy
 {

46 
	`ş—rS·ns
(
¥ªÇbË
);

48 ià(
¥ªÇbË
.
	`Ëngth
() == 0) {

49  
¥ªÇbË
;

52 
_´of”
.
	`¡¬t
(
Œue
, "Todo.Txt Highlighting");

53 
	`g’”®HighlightRun
(
¥ªÇbË
);

54 
_´of”
.
	`»¡¬t
("Paragraphop…adding");

55 
	`ü—‹P¬ag¿phStyËS·nFÜM©ches
(
¥ªÇbË
, 
LINE_OF_TEXT
,

56 (
m©ch”
, 
iM
è-> 
Ãw
 
	`Fœ¡LšeTİPaddedP¬ag¿phS·n
(2f));

58 
	`basicTodoTxtHighlights
(
¥ªÇbË
, 
çl£
, 
cŞÜs
, 
_­pS‘tšgs
.
	`isD¬kThemeEÇbËd
(), 
_´of”
);

61 
_´of”
.
	`»¡¬t
("Paragraph divider");

62 
	`ü—‹P¬ag¿phStyËS·nFÜM©ches
(
¥ªÇbË
, 
LINE_OF_TEXT
,

63 (
m©ch”
, 
iM
è-> 
Ãw
 
	`HÜizÚlLšeBackgroundP¬ag¿phS·n
(
_hlEd™Ü
.
	`g‘Cu¼’tTextCŞÜ
(), 0.8f, _hlEd™Ü.
	`g‘TextSize
() / 2f));

71 
_´of”
.
	`»¡¬t
("Single†ine fix 1");

72 
	`ü—‹R–©iveSizeS·nFÜM©ches
(
¥ªÇbË
, 
LINESTART
, 1.00001f);

73 
_´of”
.
	`’d
();

74 
_´of”
.
	`´štProfšgGroup
();

75 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

79  
¥ªÇbË
;

80 
	}
}

82 
public
 
S·ÂabË
 
	$basicTodoTxtHighlights
(

83 
fš®
 
S·ÂabË
 
¥ªÇbË
,

84 
fš®
 
boŞ—n
 
ş—r
,

85 
fš®
 
TodoTxtHighligh‹rCŞÜs
 
cŞÜs
,

86 
fš®
 
boŞ—n
 
isD¬kBg
,

87 
NªoProf”
 
´of”


89 
Œy
 {

90 ià(
ş—r
) {

91 
	`ş—rS·ns
(
¥ªÇbË
);

94 ià(
¥ªÇbË
.
	`Ëngth
() == 0) {

95  
¥ªÇbË
;

98 ià(
´of”
 =ğ
nuÎ
) {

99 
´of”
 = 
Ãw
 
	`NªoProf”
().
	`£tEÇbËd
(
BudCÚfig
.
IS_TEST_BUILD
 || 
MašAùiv™y
.
IS_DEBUG_ENABLED
);

102 
´of”
.
	`»¡¬t
("Context");

103 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_CONTEXTS
, 
cŞÜs
.
	`g‘CÚ‹xtCŞÜ
());

104 
´of”
.
	`»¡¬t
("Category");

105 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PROJECTS
, 
cŞÜs
.
	`g‘C©egÜyCŞÜ
());

106 
´of”
.
	`»¡¬t
("KeyValue");

107 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_KEY_VALUE_PAIRS
, 
Ty³çû
.
ITALIC
);

110 
´of”
.
	`»¡¬t
("Priority Bold");

111 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PRIORITY_ANY
, 
Ty³çû
.
BOLD
);

112 
´of”
.
	`»¡¬t
("Priority A");

113 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PRIORITY_A
, 
cŞÜs
.
	`g‘PriÜ™yCŞÜ
(1));

114 
´of”
.
	`»¡¬t
("Priority B");

115 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PRIORITY_B
, 
cŞÜs
.
	`g‘PriÜ™yCŞÜ
(2));

116 
´of”
.
	`»¡¬t
("Priority C");

117 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PRIORITY_C
, 
cŞÜs
.
	`g‘PriÜ™yCŞÜ
(3));

118 
´of”
.
	`»¡¬t
("Priority D");

119 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PRIORITY_D
, 
cŞÜs
.
	`g‘PriÜ™yCŞÜ
(4));

120 
´of”
.
	`»¡¬t
("Priority E");

121 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PRIORITY_E
, 
cŞÜs
.
	`g‘PriÜ™yCŞÜ
(5));

122 
´of”
.
	`»¡¬t
("Priority F");

123 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_PRIORITY_F
, 
cŞÜs
.
	`g‘PriÜ™yCŞÜ
(6));

126 
´of”
.
	`»¡¬t
("Date Color");

127 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_DATE
, 
cŞÜs
.
	`g‘D©eCŞÜ
(
isD¬kBg
));

128 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_DUE_DATE
, 
cŞÜs
.
	`g‘PriÜ™yCŞÜ
(1), 2, 3);

131 
´of”
.
	`»¡¬t
("Done BgColor");

132 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_DONE
, 
cŞÜs
.
	`g‘DÚeCŞÜ
(
isD¬kBg
));

133 
´of”
.
	`»¡¬t
("done Strike");

134 
	`ü—‹S·nW™hSŒikeThroughFÜM©ches
(
¥ªÇbË
, 
TodoTxtTask
.
PATTERN_DONE
);

136 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

140  
¥ªÇbË
;

141 
	}
}

143 @
Ov”ride


144 
public
 
IÅutF‹r
 
	$g‘AutoFÜm©‹r
() {

145  
Ãw
 
	`TodoTxtAutoFÜm©
();

146 
	}
}

148 @
Ov”ride


149 
public
 
	$g‘HighlightšgD–ay
(
CÚ‹xt
 
cÚ‹xt
) {

150  
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
).
	`g‘HighlightšgD–ayTodoTxt
();

151 
	}
}

	@app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtHighlighterColors.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
;

13 @
Suµ»ssW¬nšgs
({"FieldCanBeLocal", "WeakerAccess"})

14 
public
 cÏs 
	cTodoTxtHighligh‹rCŞÜs
 {

16 
´iv©e
 
fš®
 
	mCOLOR_CATEGORY
 = 0xffef6C00;

17 
´iv©e
 
fš®
 
	mCOLOR_CONTEXT
 = 0xff88b04b;

18 
´iv©e
 
fš®
 
	mCOLOR_LINK
 = 0xff1ea3fd;

20 
public
 
	$g‘CÚ‹xtCŞÜ
() {

21  
COLOR_CONTEXT
;

24 
public
 
	$g‘LškCŞÜ
() {

25  
COLOR_LINK
;

26 
	}
}

28 
public
 
	$g‘PriÜ™yCŞÜ
(
´iÜ™y
) {

29 
´iÜ™y
) {

44 
	}
}

46 
public
 
	$g‘DÚeCŞÜ
(
boŞ—n
 
isD¬kBg
) {

47  
isD¬kBg
 ? 0x999d9d9d : 0x993d3d3d;

48 
	}
}

50 
public
 
	$g‘D©eCŞÜ
(
boŞ—n
 
isD¬kBg
) {

51  
isD¬kBg
 ? 
	`g‘DÚeCŞÜ
(isDarkBg) : 0xcc6d6d6d;

52 
	}
}

54 
public
 
	$g‘C©egÜyCŞÜ
() {

55  
COLOR_CATEGORY
;

56 
	}
}

	@app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtTask.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

14 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

18 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

19 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

20 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

21 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

22 
impÜt
 
	gjava
.
	gut
.
	gCom·¿tÜ
;

23 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

24 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

25 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

26 
impÜt
 
	gjava
.
	gut
.
	gT»eS‘
;

27 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

28 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

30 
public
 cÏs 
	cTodoTxtTask
 {

36 
public
 
fš®
 
P©‹º
 
	mTODOTXT_FILE_PATTERN
 = P©‹º.
compe
("(?i)(^todo[-.]?.*)|(.*[-.]todo\\.((txt)|(text))$)");

37 
public
 
fš®
 
Sim¶eD©eFÜm©
 
	mDATEF_YYYY_MM_DD
 = 
Ãw
 Sim¶eD©eFÜm©("yyyy-MM-dd", 
LoÿË
.
ROOT
);

38 
public
 
fš®
 
	mDATEF_YYYY_MM_DD_LEN
 = "yyyy-MM-dd".
Ëngth
();

39 
public
 
fš®
 
SŒšg
 
	mPT_DATE
 = "\\d{4}-\\d{2}-\\d{2}";

40 
public
 
fš®
 
P©‹º
 
	mPATTERN_PROJECTS
 = P©‹º.
compe
("\\B(?:\\++)(\\S+)");

41 
public
 
fš®
 
P©‹º
 
	mPATTERN_CONTEXTS
 = P©‹º.
compe
("\\B(?:\\@+)(\\S+)");

42 
public
 
fš®
 
P©‹º
 
	mPATTERN_DONE
 = P©‹º.
compe
("(?m)(^[Xx]) (.*)$");

43 
public
 
fš®
 
P©‹º
 
	mPATTERN_DATE
 = P©‹º.
compe
("(?:^|\\s|:)(" + 
PT_DATE
 + ")(?:$|\\s)");

44 
public
 
fš®
 
P©‹º
 
	mPATTERN_KEY_VALUE_PAIRS__TAG_ONLY
 = P©‹º.
compe
("(?i)([a-z]+):([a-z0-9_-]+)");

45 
public
 
fš®
 
P©‹º
 
	mPATTERN_KEY_VALUE_PAIRS
 = P©‹º.
compe
("(?i)((?:[a-z]+):(?:[a-z0-9_-]+))");

46 
public
 
fš®
 
P©‹º
 
	mPATTERN_DUE_DATE
 = P©‹º.
compe
("(^|\\s)(due:)(" + 
PT_DATE
 + ")(\\s|$)");

47 
public
 
fš®
 
P©‹º
 
	mPATTERN_PRIORITY_ANY
 = P©‹º.
compe
("(?:^|\\n)\\(([A-Za-z])\\)\\s");

48 
public
 
fš®
 
P©‹º
 
	mPATTERN_PRIORITY_A
 = P©‹º.
compe
("(?:^|\\n)\\(([Aa])\\)\\s");

49 
public
 
fš®
 
P©‹º
 
	mPATTERN_PRIORITY_B
 = P©‹º.
compe
("(?:^|\\n)\\(([Bb])\\)\\s");

50 
public
 
fš®
 
P©‹º
 
	mPATTERN_PRIORITY_C
 = P©‹º.
compe
("(?:^|\\n)\\(([Cc])\\)\\s");

51 
public
 
fš®
 
P©‹º
 
	mPATTERN_PRIORITY_D
 = P©‹º.
compe
("(?:^|\\n)\\(([Dd])\\)\\s");

52 
public
 
fš®
 
P©‹º
 
	mPATTERN_PRIORITY_E
 = P©‹º.
compe
("(?:^|\\n)\\(([Ee])\\)\\s");

53 
public
 
fš®
 
P©‹º
 
	mPATTERN_PRIORITY_F
 = P©‹º.
compe
("(?:^|\\n)\\(([Ff])\\)\\s");

54 
public
 
fš®
 
P©‹º
 
	mPATTERN_COMPLETION_DATE
 = P©‹º.
compe
("(?:^|\\n)(?:[Xx] )(" + 
PT_DATE
 + ")?");

55 
public
 
fš®
 
P©‹º
 
	mPATTERN_CREATION_DATE
 = P©‹º.
compe
("(?:^|\\n)(?:\\([A-Za-z]\\)\\s)?(?:[Xx] " + 
PT_DATE
 + " )?(" + PT_DATE + ")");

57 
public
 
SŒšg
 
	$g‘Today
() {

58  
DATEF_YYYY_MM_DD
.
	`fÜm©
(
Ãw
 
	`D©e
());

61 
public
 
boŞ—n
 
	$isTodoFe
(
SŒšg
 
f•©h
) {

62  
f•©h
 !ğ
nuÎ
 && 
TODOTXT_FILE_PATTERN
.
	`m©ch”
(f•©h).
	`m©ches
(è&& (f•©h.
	`’dsW™h
(".txt") || filepath.endsWith(".text"));

63 
	}
}

65 
public
 
	gTodoTxtTask
[] 
	$g‘Tasks
(
fš®
 
Ch¬Sequ’û
 
‹xt
, fš® 
£lS¹
, fš® 
£lEnd
) {

66 
fš®
 
SŒšg
[] 
lšes
 = 
‹xt
.
	`subSequ’û
(

67 
SŒšgUts
.
	`g‘LšeS¹
(
‹xt
, 
£lS¹
),

68 
SŒšgUts
.
	`g‘LšeEnd
(
‹xt
, 
£lEnd
)

69 ).
	`toSŒšg
().
	`¥l™
("\n");

71 
fš®
 
TodoTxtTask
[] 
sks
 = 
Ãw
 TodoTxtTask[
lšes
.
Ëngth
];

72 
i
 = 0; i < 
lšes
.
Ëngth
; i++) {

73 
sks
[
i
] = 
Ãw
 
	`TodoTxtTask
(
lšes
[i]);

75  
sks
;

76 
	}
}

78 
public
 
	gTodoTxtTask
[] 
	$g‘S–eùedTasks
(
fš®
 
TextV›w
 
v›w
) {

79 
fš®
 [] 
£l
 = 
SŒšgUts
.
	`g‘S–eùiÚ
(
v›w
);

80  
	`g‘Tasks
(
v›w
.
	`g‘Text
(), 
£l
[0], sel[1]);

81 
	}
}

83 
public
 
	gTodoTxtTask
[] 
	$g‘AÎTasks
(
fš®
 
Ch¬Sequ’û
 
‹xt
) {

84  
	`g‘Tasks
(
‹xt
, 0,ext.
	`Ëngth
());

85 
	}
}

87 
public
 
	gSŒšg
[] 
	$g‘Projeùs
(
fš®
 
TodoTxtTask
[] 
sks
) {

88 
fš®
 
T»eS‘
<
SŒšg
> 
£t
 = 
Ãw
 TreeSet<>();

89 
fš®
 
TodoTxtTask
 
sk
 : 
sks
) {

90 
fš®
 
SŒšg
[] 
´ojeùs
 = 
sk
.
	`g‘Projeùs
();

91 
CŞËùiÚs
.
	`addAÎ
(
£t
, 
´ojeùs
);

93  
£t
.
	`toA¼ay
(
Ãw
 
SŒšg
[0]);

94 
	}
}

96 
public
 
	gSŒšg
[] 
	$g‘CÚ‹xts
(
fš®
 
TodoTxtTask
[] 
sks
) {

97 
fš®
 
T»eS‘
<
SŒšg
> 
£t
 = 
Ãw
 TreeSet<>();

98 
fš®
 
TodoTxtTask
 
sk
 : 
sks
) {

99 
fš®
 
SŒšg
[] 
´ojeùs
 = 
sk
.
	`g‘CÚ‹xts
();

100 
CŞËùiÚs
.
	`addAÎ
(
£t
, 
´ojeùs
);

102  
£t
.
	`toA¼ay
(
Ãw
 
SŒšg
[0]);

103 
	}
}

105 
public
 
SŒšg
 
	$sksToSŒšg
(
fš®
 
TodoTxtTask
[] 
sks
) {

106  
	`sksToSŒšg
(
A¼ays
.
	`asLi¡
(
sks
));

107 
	}
}

109 
public
 
SŒšg
 
sksToSŒšg
(
fš®
 
Li¡
<
TodoTxtTask
> 
sks
) {

110 
SŒšgBud”
 
	gbud”
 = 
Ãw
 StringBuilder();

111 
TodoTxtTask
 
	gsk
 : 
sks
) {

112 
bud”
.
­³nd
(
sk
.
g‘Lše
());

113 
	gbud”
.
­³nd
('\n');

115 ià(
	gbud”
.
Ëngth
() > 0) {

116 
	gbud”
.
d–‘eCh¬At
(
bud”
.
Ëngth
() - 1);

118  
	gbud”
.
toSŒšg
();

125 
´iv©e
 
fš®
 
SŒšg
 
	glše
;

126 
´iv©e
 
	gSŒšg
[] 
	gcÚ‹xts
 = 
nuÎ
;

127 
´iv©e
 
	gSŒšg
[] 
	g´ojeùs
 = 
nuÎ
;

128 
´iv©e
 
Ch¬aù”
 
	g´iÜ™y
 = 
nuÎ
;

129 
´iv©e
 
BoŞ—n
 
	gdÚe
 = 
nuÎ
;

130 
´iv©e
 
SŒšg
 
	gü—tiÚD©e
 = 
nuÎ
;

131 
´iv©e
 
SŒšg
 
	gcom¶‘iÚD©e
 = 
nuÎ
;

132 
´iv©e
 
SŒšg
 
	gdueD©e
 = 
nuÎ
;

133 
´iv©e
 
SŒšg
 
	gdesütiÚ
 = 
nuÎ
;

135 
public
 
	$TodoTxtTask
(
fš®
 
SŒšg
 
lše
) {

136 
this
.
lše
 =†ine;

137 
	}
}

139 
public
 
SŒšg
 
	$g‘Lše
() {

140  
lše
;

141 
	}
}

143 
public
 
boŞ—n
 
	$isDÚe
() {

144 ià(
dÚe
 =ğ
nuÎ
) {

145 
dÚe
 = 
	`isP©‹ºFšdabË
(
lše
, 
PATTERN_DONE
);

147  
dÚe
;

148 
	}
}

150 
public
 
SŒšg
 
	$g‘DesütiÚ
() {

151 ià(
desütiÚ
 =ğ
nuÎ
) {

153 
desütiÚ
 = 
	`g‘Lše
()

154 .
	`»¶aûAÎ
(
PATTERN_COMPLETION_DATE
.
	`·‰”n
(), "")

155 .
	`»¶aûAÎ
(
PATTERN_PRIORITY_ANY
.
	`·‰”n
(), "")

156 .
	`»¶aûAÎ
(
PATTERN_CREATION_DATE
.
	`·‰”n
(), "")

157 .
	`»¶aûAÎ
(
PATTERN_CONTEXTS
.
	`·‰”n
(), "")

158 .
	`»¶aûAÎ
(
PATTERN_PROJECTS
.
	`·‰”n
(), "")

159 .
	`»¶aûAÎ
(
PATTERN_KEY_VALUE_PAIRS
.
	`·‰”n
(), "");

161  
desütiÚ
;

162 
	}
}

164 
public
 
	$g‘PriÜ™y
() {

165 ià(
´iÜ™y
 =ğ
nuÎ
) {

166 
fš®
 
SŒšg
 
»t
 = 
	`·r£OÃV®ueOrDeçuÉ
(
lše
, 
PATTERN_PRIORITY_ANY
, "");

167 ià(
»t
.
	`Ëngth
() == 1) {

168 
´iÜ™y
 = 
»t
.
	`ch¬At
(0);

170 
´iÜ™y
 = '~';

173  
´iÜ™y
;

174 
	}
}

176 
public
 
	gSŒšg
[] 
	$g‘CÚ‹xts
() {

177 ià(
cÚ‹xts
 =ğ
nuÎ
) {

178 
cÚ‹xts
 = 
	`·r£AÎM©ches
(
lše
, 
PATTERN_CONTEXTS
);

180  
cÚ‹xts
;

181 
	}
}

183 
public
 
	gSŒšg
[] 
	$g‘Projeùs
() {

184 ià(
´ojeùs
 =ğ
nuÎ
) {

185 
´ojeùs
 = 
	`·r£AÎM©ches
(
lše
, 
PATTERN_PROJECTS
);

187  
´ojeùs
;

188 
	}
}

190 
public
 
SŒšg
 
	$g‘C»©iÚD©e
() {

191  
	`g‘C»©iÚaD©e
("");

192 
	}
}

194 
public
 
SŒšg
 
	$g‘C»©iÚaD©e
(
fš®
 
SŒšg
 
deçuÉV®ue
) {

195 ià(
ü—tiÚD©e
 =ğ
nuÎ
) {

196 
ü—tiÚD©e
 = 
	`·r£OÃV®ueOrDeçuÉ
(
lše
, 
PATTERN_CREATION_DATE
, 
deçuÉV®ue
);

198  
ü—tiÚD©e
;

199 
	}
}

201 
public
 
SŒšg
 
	$g‘DueD©e
() {

202  
	`g‘DueD©e
("");

203 
	}
}

205 
public
 
SŒšg
 
	$g‘DueD©e
(
fš®
 
SŒšg
 
deçuÉV®ue
) {

206 ià(
dueD©e
 =ğ
nuÎ
) {

207 
dueD©e
 = 
	`·r£OÃV®ueOrDeçuÉ
(
lše
, 
PATTERN_DUE_DATE
, 3, 
deçuÉV®ue
);

209  
dueD©e
;

210 
	}
}

212 
public
 
SŒšg
 
	$g‘Com¶‘iÚD©e
() {

213  
	`g‘Com¶‘iÚD©e
("");

214 
	}
}

216 
public
 
SŒšg
 
	$g‘Com¶‘iÚD©e
(
fš®
 
SŒšg
 
deçuÉV®ue
) {

217 ià(
com¶‘iÚD©e
 =ğ
nuÎ
) {

218 
com¶‘iÚD©e
 = 
	`·r£OÃV®ueOrDeçuÉ
(
lše
, 
PATTERN_COMPLETION_DATE
, 
deçuÉV®ue
);

220  
com¶‘iÚD©e
;

221 
	}
}

224 
´iv©e
 
	gSŒšg
[] 
	$·r£AÎM©ches
(
fš®
 
SŒšg
 
‹xt
, fš® 
P©‹º
 
·‰”n
) {

225 
Li¡
<
SŒšg
> 
»t
 = 
Ãw
 
A¼ayLi¡
<>();

226 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
(
‹xt
); m.
	`fšd
(); ) {

227 ià(
m
.
	`groupCouÁ
() > 0) {

228 
»t
.
	`add
(
m
.
	`group
(1));

231  
»t
.
	`toA¼ay
(
Ãw
 
SŒšg
[0]);

232 
	}
}

234 
´iv©e
 
SŒšg
 
	$·r£OÃV®ueOrDeçuÉ
(
fš®
 
SŒšg
 
‹xt
, fš® 
P©‹º
 
·‰”n
, fš® SŒšg 
deçuÉV®ue
) {

235  
	`·r£OÃV®ueOrDeçuÉ
(
‹xt
, 
·‰”n
, 1, 
deçuÉV®ue
);

236 
	}
}

238 
´iv©e
 
SŒšg
 
	$·r£OÃV®ueOrDeçuÉ
(
fš®
 
SŒšg
 
‹xt
, fš® 
P©‹º
 
·‰”n
, fš® 
group
, fš® SŒšg 
deçuÉV®ue
) {

239 
fš®
 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
(
‹xt
); m.
	`fšd
(); ) {

240 ià(
m
.
	`groupCouÁ
(è>ğ
group
) {

241  
m
.
	`group
(
group
);

244  
deçuÉV®ue
;

245 
	}
}

247 
´iv©e
 
boŞ—n
 
	$isP©‹ºFšdabË
(
fš®
 
SŒšg
 
‹xt
, fš® 
P©‹º
 
·‰”n
) {

248  
·‰”n
.
	`m©ch”
(
‹xt
).
	`fšd
();

249 
	}
}

252 
public
 
	gLi¡
<
	gTodoTxtTask
> 
sÜtTasks
(
Li¡
<
TodoTxtTask
> 
sks
, 
fš®
 
SŒšg
 
Üd”By
, fš® 
boŞ—n
 
desûndšg
) {

253 
	gCŞËùiÚs
.
sÜt
(
sks
, 
Ãw
 
S‰TaskSim¶eCom·¿tÜ
(
Üd”By
, 
desûndšg
));

254  
	gsks
;

257 
public
 
şass
 
S‰TaskSim¶eCom·¿tÜ
 
im¶em’ts
 
	gCom·¿tÜ
<
	gTodoTxtTask
> {

258 
´iv©e
 
fš®
 
SŒšg
 
	g_Üd”By
;

259 
´iv©e
 
fš®
 
boŞ—n
 
	g_desûndšg
;

261 
public
 
fš®
 
SŒšg
 
	gBY_PRIORITY
 = "priority";

262 
public
 
fš®
 
SŒšg
 
	gBY_CONTEXT
 = "context";

263 
public
 
fš®
 
SŒšg
 
	gBY_PROJECT
 = "project";

264 
public
 
fš®
 
SŒšg
 
	gBY_CREATION_DATE
 = "creation_date";

265 
public
 
fš®
 
SŒšg
 
	gBY_DUE_DATE
 = "due_date";

266 
public
 
fš®
 
SŒšg
 
	gBY_DESCRIPTION
 = "description";

267 
public
 
fš®
 
SŒšg
 
	gBY_LINE
 = "line_natural";

269 
public
 
S‰TaskSim¶eCom·¿tÜ
(
fš®
 
SŒšg
 
Üd”By
, fš® 
BoŞ—n
 
desûndšg
) {

270 
	g_Üd”By
 = 
Üd”By
;

271 
	g_desûndšg
 = 
desûndšg
;

274 @
Ov”ride


275 
public
 
com·»
(
fš®
 
TodoTxtTask
 
x
, fš® TodoTxtTask 
y
) {

278 
fš®
 
	gdÚeCom·»
 = 
IÁeg”
.
com·»
(
x
.
isDÚe
(è? 1 : 0, 
y
.isDone() ? 1 : 0);

279 ià(
	gdÚeCom·»
 !ğ0è 
dÚeCom·»
;

281 
	gdifã»nû
;

282 
	g_Üd”By
) {

283 
	gBY_PRIORITY
: {

284 
difã»nû
 = 
com·»
(
x
.
g‘PriÜ™y
(), 
y
.getPriority());

287 
	gBY_CONTEXT
: {

288 
difã»nû
 = 
com·»
(
x
.
g‘CÚ‹xts
(), 
y
.getContexts());

291 
	gBY_PROJECT
: {

292 
difã»nû
 = 
com·»
(
x
.
g‘Projeùs
(), 
y
.getProjects());

295 
	gBY_CREATION_DATE
: {

296 
difã»nû
 = 
com·»
(
x
.
g‘C»©iÚD©e
(), 
y
.getCreationDate());

299 
	gBY_DUE_DATE
: {

300 
difã»nû
 = 
com·»
(
x
.
g‘DueD©e
(), 
y
.getDueDate());

303 
	gBY_DESCRIPTION
: {

304 
difã»nû
 = 
com·»
(
x
.
g‘DesütiÚ
(), 
y
.getDescription());

307 
	gBY_LINE
: {

308 
difã»nû
 = 
com·»
(
x
.
g‘Lše
(), 
y
.getLine());

312 
difã»nû
 = 0;

317 ià(
	gdifã»nû
 == 0) {

318 
difã»nû
 = 
com·»
(
x
.
g‘DueD©e
(), 
y
.getDueDate());

320 ià(
	gdifã»nû
 == 0) {

321 
difã»nû
 = 
com·»
(
x
.
g‘PriÜ™y
(), 
y
.getPriority());

324 ià(
	g_desûndšg
) {

325 
	gdifã»nû
 = -1 * 
difã»nû
;

327  
	gdifã»nû
;

330 
´iv©e
 
com·»NuÎ
(
fš®
 
SŒšg
 
x
, fš® SŒšg 
y
) {

331 
fš®
 
	gxi
 = 
TextUts
.
isEm±y
(
x
) ? 1 : 0;

332 
fš®
 
	gyi
 = 
TextUts
.
isEm±y
(
y
) ? 1 : 0;

333  
	gIÁeg”
.
com·»
(
xi
, 
yi
);

336 
´iv©e
 
com·»DÚe
(
fš®
 
TodoTxtTask
 
a
, TodoTxtTask 
b
) {

337  
	gIÁeg”
.
com·»
(
a
.
isDÚe
(è? 1 : 0, 
b
.isDone() ? 1 : 0);

340 
´iv©e
 
com·»
(
fš®
 
x
, fš® 
y
) {

341  
com·»
(
Ch¬aù”
.
toSŒšg
(
x
), Ch¬aù”.toSŒšg(
y
));

344 
´iv©e
 
com·»
(
fš®
 
SŒšg
[] 
x
, fš® SŒšg[] 
y
) {

345  
com·»
(
A¼ays
.
asLi¡
(
x
), A¼ays.asLi¡(
y
));

348 
´iv©e
 
com·»
(
fš®
 
Li¡
<
SŒšg
> 
x
, fš® Li¡<SŒšg> 
y
) {

349 
	gCŞËùiÚs
.
sÜt
(
x
);

350 
	gCŞËùiÚs
.
sÜt
(
y
);

351  
com·»
(
TextUts
.
još
("", 
x
), TextUts.još("", 
y
));

354 
´iv©e
 
com·»
(
fš®
 
SŒšg
 
x
, fš® SŒšg 
y
) {

355 
fš®
 
	gn
 = 
com·»NuÎ
(
x
, 
y
);

356 ià(
	gn
 != 0) {

357  
n
;

359  
	gx
.
Œim
().
toLow”Ca£
().
com·»To
(
y
.trim().toLowerCase());

	@app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtTextActions.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
;

12 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gD©ePick”DŸlog
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

16 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gDŸlogF¿gm’t
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tAùiv™y
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

21 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gH­ticF“dbackCÚ¡ªts
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gCommÚTextAùiÚs
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

36 
impÜt
 
	gjava
.
	gio
.
	gFe
;

37 
impÜt
 
	gjava
.
	g‹xt
.
	gP¬£Exû±iÚ
;

38 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

39 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

40 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

41 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

42 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

45 
public
 cÏs 
	cTodoTxtTextAùiÚs
 
ex‹nds
 
	mTextAùiÚs
 {

47 
´iv©e
 
fš®
 
SŒšg
 
	mLAST_SORT_ORDER_KEY
 = 
TodoTxtTextAùiÚs
.
şass
.
g‘CªÚiÿlName
() + "_last_sort_order_key";

49 
public
 
	$TodoTxtTextAùiÚs
(
Aùiv™y
 
aùiv™y
, 
Docum’t
 
docum’t
) {

50 
	`su³r
(
aùiv™y
, 
docum’t
);

53 @
Ov”ride


54 
public
 
boŞ—n
 
	$runAùiÚ
(
SŒšg
 
aùiÚ
, 
boŞ—n
 
modLÚgClick
, SŒšg 
ªÙh”Arg
) {

55 ià(
aùiÚ
.
	`equ®s
(
CommÚTextAùiÚs
.
ACTION_SEARCH
)) {

56 
fš®
 
Ed™abË
 
ed™
 = 
_hlEd™Ü
.
	`g‘Text
();

57 
S—rchOrCu¡omTextDŸlogC»©Ü
.
	`showTodoS—rchDŸlog
(
_aùiv™y
, 
ed™
, 
SŒšgUts
.
	`g‘S–eùiÚ
(
_hlEd™Ü
), 
this
::
doBasicHighlights
,his::
£ËùLšes
);

58  
Œue
;

60  
	`runCommÚTextAùiÚ
(
aùiÚ
);

61 
	}
}

63 @
Ov”ride


64 
´Ùeùed
 
AùiÚC®lback
 
g‘AùiÚC®lback
(@
SŒšgRes
 
keyId
) {

65  
Ãw
 
TodoTxtTextAùiÚsIm¶
(
keyId
);

68 @
Ov”ride


69 
public
 
	gLi¡
<
	gAùiÚI‹m
> 
	$g‘AùiveAùiÚLi¡
() {

71 
fš®
 
´ojeùIcÚ
 = 
R
.
d¿wabË
.
ic_Ãw_Ïb–_bÏck_24dp
;

73 
fš®
 
AùiÚI‹m
[] 
TMA_ACTIONS
 = {

74 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_todÙxt_toggË_dÚe
, R.
d¿wabË
.
ic_check_box_bÏck_24dp
, R.¡ršg.
toggË_dÚe
),

75 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_todÙxt_add_cÚ‹xt
, R.
d¿wabË
.
gs_ema_sign_bÏck_24dp
, R.¡ršg.
add_cÚ‹xt
),

76 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_todÙxt_add_´ojeù
, 
´ojeùIcÚ
, R.¡ršg.
add_´ojeù
),

77 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_todÙxt_´iÜ™y
, R.
d¿wabË
.
ic_¡¬_bÜd”_bÏck_24dp
, R.¡ršg.
´iÜ™y
),

78 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_d–‘e_lšes
, 
CommÚTextAùiÚs
.
ACTION_DELETE_LINES_ICON
, R.¡ršg.
d–‘e_lšes
),

79 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_İ’_lšk_brow£r
, 
CommÚTextAùiÚs
.
ACTION_OPEN_LINK_BROWSER__ICON
, R.¡ršg.
İ’_lšk
),

80 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_©ch_som‘hšg
, R.
d¿wabË
.
ic_©ch_fe_bÏck_24dp
, R.¡ršg.
©ch
),

81 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_¥ecŸl_key
, 
CommÚTextAùiÚs
.
ACTION_SPECIAL_KEY__ICON
, R.¡ršg.
¥ecŸl_key
),

82 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_todÙxt_¬chive_dÚe_sks
, R.
d¿wabË
.
ic_¬chive_bÏck_24dp
, R.¡ršg.
¬chive_com¶‘ed_sks
),

83 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_todÙxt_sÜt_todo
, R.
d¿wabË
.
ic_sÜt_by_®pha_bÏck_24dp
, R.¡ršg.
sÜt_®phab‘iÿÎy
),

84 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_todÙxt_cu¼’t_d©e
, R.
d¿wabË
.
ic_d©e_¿nge_bÏck_24dp
, R.¡ršg.
cu¼’t_d©e
),

85 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_Ãw_lše_b–ow
, R.
d¿wabË
.
ic_ba£lše_keybßrd_»tuº_24
, R.¡ršg.
¡¬t_Ãw_lše_b–ow
),

86 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_up
, R.
d¿wabË
.
ic_ba£lše_¬row_upw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_up
),

87 
Ãw
 
	`AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_down
, R.
d¿wabË
.
ic_ba£lše_¬row_downw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_down
),

90  
A¼ays
.
	`asLi¡
(
TMA_ACTIONS
);

91 
	}
}

93 @
Ov”ride


94 
	g´Ùeùed
 @
SŒšgRes


95 
	$g‘FÜm©AùiÚsKey
() {

96  
R
.
¡ršg
.
´ef_key__todÙxt__aùiÚ_keys
;

97 
	}
}

99 
´iv©e
 cÏs 
	cTodoTxtTextAùiÚsIm¶
 
ex‹nds
 
	gAùiÚC®lback
 {

100 
´iv©e
 
fš®
 
	g_aùiÚ
;

102 
TodoTxtTextAùiÚsIm¶
(
aùiÚ
) {

103 
	g_aùiÚ
 = 
aùiÚ
;

106 @
Suµ»ssLšt
("NonConstantResourceId")

107 @
Ov”ride


108 
public
 
ÚClick
(
V›w
 
v›w
) {

109 
	gv›w
.
³rfÜmH­ticF“dback
(
H­ticF“dbackCÚ¡ªts
.
KEYBOARD_TAP
);

110 
fš®
 
CommÚTextAùiÚs
 
	gcommÚTextAùiÚs
 = 
Ãw
 CommÚTextAùiÚs(
_aùiv™y
, 
_hlEd™Ü
);

111 
fš®
 
	gTodoTxtTask
[] 
	g£lTasks
 = 
TodoTxtTask
.
g‘S–eùedTasks
(
_hlEd™Ü
);

113 
	g_aùiÚ
) {

114 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_toggË_dÚe
: {

115 
fš®
 
SŒšg
 
dÚeM¬k
 = "x" + (
_­pS‘tšgs
.
isTodoAddCom¶‘iÚD©eEÇbËd
(è? (" " + 
TodoTxtTask
.
g‘Today
()) : "") + " ";

116 
fš®
 
SŒšg
 
	gbodyW™hPri
 = "(.*)(\\spri:([A-Z])(?=\\s|$))(.*)";

117 
fš®
 
SŒšg
 
	gdÚeW™hD©e
 = "^([Xx]\\s(?:" + 
TodoTxtTask
.
PT_DATE
 + "\\s)?)";

118 
fš®
 
SŒšg
 
	g¡¬tšgPriÜ™y
 = "^\\(([A-Z])\\)\\s";

119 
runRegexR•ÏûAùiÚ
(

121 
Ãw
 
R•ÏûP©‹º
Ğ
¡¬tšgPriÜ™y
 + 
bodyW™hPri
, 
dÚeM¬k
 + "$2…ri:$1$5"),

123 
Ãw
 
R•ÏûP©‹º
(
¡¬tšgPriÜ™y
 + "(.*)(\\s*)", 
dÚeM¬k
 + "$2…ri:$1"),

125 
Ãw
 
R•ÏûP©‹º
(
dÚeW™hD©e
 + 
bodyW™hPri
, "($4) $2$5"),

127 
Ãw
 
R•ÏûP©‹º
(
dÚeW™hD©e
, ""),

129 
Ãw
 
R•ÏûP©‹º
("^", 
dÚeM¬k
)

133 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_add_cÚ‹xt
: {

134 
fš®
 
Li¡
<
SŒšg
> 
cÚ‹xts
 = 
Ãw
 
A¼ayLi¡
<>();

135 
	gcÚ‹xts
.
addAÎ
(
A¼ays
.
asLi¡
(
TodoTxtTask
.
g‘CÚ‹xts
(TodoTxtTask.
g‘AÎTasks
(
_hlEd™Ü
.
g‘Text
()))));

136 
	gcÚ‹xts
.
addAÎ
(
A¼ays
.
asLi¡
(
Ãw
 
TodoTxtTask
(
_­pS‘tšgs
.
g‘TodÙxtAdd™iÚ®CÚ‹xtsAndProjeùs
()).
g‘CÚ‹xts
()));

137 
	gS—rchOrCu¡omTextDŸlogC»©Ü
.
showS‰CÚ‹xtDŸlog
(
_aùiv™y
, 
cÚ‹xts
, (
cÚ‹xt
) -> {

138 
š£¹UniqueI‹m
((
cÚ‹xt
.
ch¬At
(0) == '@') ? context : "@" + context);

142 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_add_´ojeù
: {

143 
fš®
 
Li¡
<
SŒšg
> 
´ojeùs
 = 
Ãw
 
A¼ayLi¡
<>();

144 
	g´ojeùs
.
addAÎ
(
A¼ays
.
asLi¡
(
TodoTxtTask
.
g‘Projeùs
(TodoTxtTask.
g‘AÎTasks
(
_hlEd™Ü
.
g‘Text
()))));

145 
	g´ojeùs
.
addAÎ
(
A¼ays
.
asLi¡
(
Ãw
 
TodoTxtTask
(
_­pS‘tšgs
.
g‘TodÙxtAdd™iÚ®CÚ‹xtsAndProjeùs
()).
g‘Projeùs
()));

146 
	gS—rchOrCu¡omTextDŸlogC»©Ü
.
showS‰ProjeùDŸlog
(
_aùiv™y
, 
´ojeùs
, (
´ojeù
) -> {

147 
š£¹UniqueI‹m
((
´ojeù
.
ch¬At
(0) == '+') ?…roject : "+" +…roject);

151 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_´iÜ™y
: {

152 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showPriÜ™yDŸlog
(
_aùiv™y
, 
£lTasks
[0].
g‘PriÜ™y
(), (
´iÜ™y
) -> {

153 
A¼ayLi¡
<
R•ÏûP©‹º
> 
·‰”ns
 = 
Ãw
 ArrayList<>();

154 ià(
´iÜ™y
.
Ëngth
() > 1) {

155 
·‰”ns
.
add
(
Ãw
 
R•ÏûP©‹º
(
TodoTxtTask
.
PATTERN_PRIORITY_ANY
, ""));

156 } ià(
´iÜ™y
.
Ëngth
() == 1) {

157 
fš®
 
SŒšg
 
_´iÜ™y
 = SŒšg.
fÜm©
("(%cè", 
´iÜ™y
.
ch¬At
(0));

158 
·‰”ns
.
add
(
Ãw
 
R•ÏûP©‹º
(
TodoTxtTask
.
PATTERN_PRIORITY_ANY
, 
_´iÜ™y
));

159 
·‰”ns
.
add
(
Ãw
 
R•ÏûP©‹º
("^\\s*", 
_´iÜ™y
));

161 
runRegexR•ÏûAùiÚ
(
·‰”ns
);

162 
ŒimL—dšgWh™eS·û
();

166 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_cu¼’t_d©e
: {

167 
£tD©e
();

170 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_¬chive_dÚe_sks
: {

171 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showS‰ArchiveDŸlog
(
_aùiv™y
, (
ÿÎbackPaylßd
) -> {

173 
fš®
 
A¼ayLi¡
<
TodoTxtTask
> 
k“p
 = 
Ãw
 ArrayList<>();

174 
fš®
 
A¼ayLi¡
<
TodoTxtTask
> 
move
 = 
Ãw
 ArrayList<>();

175 
fš®
 
TodoTxtTask
[] 
®lTasks
 = TodoTxtTask.
g‘AÎTasks
(
_hlEd™Ü
.
g‘Text
());

177 
fš®
 [] 
£l
 = 
SŒšgUts
.
g‘S–eùiÚ
(
_hlEd™Ü
);

178 
fš®
 
Ch¬Sequ’û
 
‹xt
 = 
_hlEd™Ü
.
g‘Text
();

179 
fš®
 [] 
£lS¹
 = 
SŒšgUts
.
g‘LšeOff£tFromIndex
(
‹xt
, 
£l
[0]);

180 
fš®
 [] 
£lEnd
 = 
SŒšgUts
.
g‘LšeOff£tFromIndex
(
‹xt
, 
£l
[1]);

182 
i
 = 0; i < 
®lTasks
.
Ëngth
; i++) {

183 
fš®
 
TodoTxtTask
 
sk
 = 
®lTasks
[
i
];

184 ià(
sk
.
isDÚe
()) {

185 
move
.
add
(
sk
);

186 ià(
i
 <ğ
£lS¹
[0]) selStart[0]--;

187 ià(
i
 <ğ
£lEnd
[0]) selEnd[0]--;

189 
k“p
.
add
(
sk
);

192 ià(!
move
.
isEm±y
()) {

193 
Fe
 
todoFe
 = 
_docum’t
.
g‘Fe
();

194 ià(
todoFe
 !ğ
nuÎ
 && (todoFe.
g‘P¬’tFe
().
exi¡s
(è||odoFe.g‘P¬’tFe().
mkdœs
())) {

195 
Fe
 
dÚeFe
 = 
Ãw
 Fe(
todoFe
.
g‘P¬’tFe
(), 
ÿÎbackPaylßd
);

196 
SŒšg
 
dÚeFeCÚ‹Ás
 = "";

197 ià(
dÚeFe
.
exi¡s
(è&& dÚeFe.
ÿnR—d
()) {

198 
dÚeFeCÚ‹Ás
 = 
FeUts
.
»adTextFeFa¡
(
dÚeFe
).
Œim
() + "\n";

200 
dÚeFeCÚ‹Ás
 +ğ
TodoTxtTask
.
sksToSŒšg
(
move
) + "\n";

203 ià(
Docum’tIO
.
§veDocum’t
(
Ãw
 
Docum’t
(
dÚeFe
), 
dÚeFeCÚ‹Ás
,‚ew 
Sh¬eUt
(
_aùiv™y
), 
g‘CÚ‹xt
())) {

204 
fš®
 
SŒšg
 
sksSŒšg
 = 
TodoTxtTask
.
sksToSŒšg
(
k“p
);

205 
_hlEd™Ü
.
£tText
(
sksSŒšg
);

206 
_hlEd™Ü
.
£tS–eùiÚ
(

207 
SŒšgUts
.
g‘IndexFromLšeOff£t
(
sksSŒšg
, 
£lS¹
),

208 
SŒšgUts
.
g‘IndexFromLšeOff£t
(
sksSŒšg
, 
£lEnd
)

213 
Ãw
 
AµS‘tšgs
(
_aùiv™y
).
£tLa¡TodoU£dArchiveF’ame
(
ÿÎbackPaylßd
);

217 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_sÜt_todo
: {

218 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showS‰SÜtDŸlogue
(
_aùiv™y
, (
Üd”By
, 
desûndšg
è-> 
Ãw
 
Th»ad
() {

219 @
Ov”ride


220 
public
 
run
() {

221 
fš®
 
Li¡
<
TodoTxtTask
> 
sks
 = 
A¼ays
.
asLi¡
(TodoTxtTask.
g‘AÎTasks
(
_hlEd™Ü
.
g‘Text
()));

222 
TodoTxtTask
.
sÜtTasks
(
sks
, 
Üd”By
, 
desûndšg
);

223 
£tEd™ÜTextAsync
(
TodoTxtTask
.
sksToSŒšg
(
sks
));

224 
Ãw
 
AµS‘tšgs
(
g‘CÚ‹xt
()).
£tSŒšgLi¡
(
LAST_SORT_ORDER_KEY
, 
A¼ays
.
asLi¡
(
Üd”By
, 
BoŞ—n
.
toSŒšg
(
desûndšg
)));

226 }.
¡¬t
());

229 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_İ’_lšk_brow£r
: {

230 
commÚTextAùiÚs
.
runAùiÚ
(
CommÚTextAùiÚs
.
ACTION_OPEN_LINK_BROWSER
);

233 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_¥ecŸl_key
: {

234 
commÚTextAùiÚs
.
runAùiÚ
(
CommÚTextAùiÚs
.
ACTION_SPECIAL_KEY
);

238 
runAùiÚ
(
_cÚ‹xt
.
g‘SŒšg
(
_aùiÚ
));

242 @
Ov”ride


243 
public
 
boŞ—n
 
ÚLÚgClick
(
V›w
 
v
) {

244 
SŒšg
 
	gÜigText
 = 
_hlEd™Ü
.
g‘Text
().
toSŒšg
();

245 
fš®
 
CommÚTextAùiÚs
 
	gcommÚTextAùiÚs
 = 
Ãw
 CommÚTextAùiÚs(
_aùiv™y
, 
_hlEd™Ü
);

246 
fš®
 
TodoTxtTextAùiÚs
 
	gt_this
 = TodoTxtTextAùiÚs.
this
;

248 
	g_aùiÚ
) {

249 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_add_cÚ‹xt
: {

250 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showS‰KeyS—rchDŸlog
(
_aùiv™y
, 
ÜigText
, 
t_this
::
doBasicHighlights
, 
çl£
,_this::
£ËùLšes
);

251  
	gŒue
;

253 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_add_´ojeù
: {

254 
S—rchOrCu¡omTextDŸlogC»©Ü
.
showS‰KeyS—rchDŸlog
(
_aùiv™y
, 
ÜigText
, 
t_this
::
doBasicHighlights
, 
Œue
,_this::
£ËùLšes
);

255  
	gŒue
;

257 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_¥ecŸl_key
: {

258 
commÚTextAùiÚs
.
runAùiÚ
(
CommÚTextAùiÚs
.
ACTION_JUMP_BOTTOM_TOP
);

259  
	gŒue
;

262 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_İ’_lšk_brow£r
: {

263 
commÚTextAùiÚs
.
runAùiÚ
(
CommÚTextAùiÚs
.
ACTION_SEARCH
);

264  
	gŒue
;

266 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_sÜt_todo
: {

267 
fš®
 
Li¡
<
SŒšg
> 
Ï¡
 = 
Ãw
 
AµS‘tšgs
(
g‘CÚ‹xt
()).
g‘SŒšgLi¡
(
LAST_SORT_ORDER_KEY
);

268 ià(
	gÏ¡
 !ğ
nuÎ
 && 
Ï¡
.
size
() == 2) {

269 
fš®
 
Li¡
<
TodoTxtTask
> 
sks
 = 
A¼ays
.
asLi¡
(TodoTxtTask.
g‘AÎTasks
(
_hlEd™Ü
.
g‘Text
()));

270 
	gTodoTxtTask
.
sÜtTasks
(
sks
, 
Ï¡
.
g‘
(0), 
BoŞ—n
.
·r£BoŞ—n
(last.get(1)));

271 
£tEd™ÜTextAsync
(
TodoTxtTask
.
sksToSŒšg
(
sks
));

273  
	gŒue
;

275 
	gR
.
	g¡ršg
.
	gtmaid_todÙxt_cu¼’t_d©e
: {

276 
£tDueD©e
(
_­pS‘tšgs
.
g‘DueD©eOff£t
());

277  
	gŒue
;

280  
	gçl£
;

284 
´iv©e
 
	$š£¹UniqueI‹m
(
SŒšg
 
™em
) {

285 
™em
 = i‹m.
	`Œim
().
	`»¶aû
(" ", "_");

288 
fš®
 
P©‹º
 
·‰”n
 = P©‹º.
	`compe
(
SŒšg
.
	`fÜm©
("\\s\\Q%s\\E(:?\\s|$)", 
™em
));

289 
fš®
 
SŒšg
 
lšes
 = 
SŒšgUts
.
	`g‘S–eùedLšes
(
_hlEd™Ü
);

291 ià(
lšes
.
	`cÚšs
("\n"è|| 
_­pS‘tšgs
.
	`isTodoAµ’dProCÚOnEndEÇbËd
()) {

292 
	`runRegexR•ÏûAùiÚ
(

294 
Ãw
 
	`R•ÏûP©‹º
(
·‰”n
, "$0"),

296 
Ãw
 
	`R•ÏûP©‹º
("\\s*$", " " + 
™em
)

298 } ià(!
·‰”n
.
	`m©ch”
(
lšes
).
	`fšd
()) {

299 
	`š£¹IÆše
(
™em
);

301 
	}
}

303 
´iv©e
 
	$ŒimL—dšgWh™eS·û
() {

304 
	`runRegexR•ÏûAùiÚ
("^\\s*", "");

305 
	}
}

307 
´iv©e
 
	$š£¹IÆše
(
SŒšg
 
thšg
) {

308 
fš®
 [] 
£l
 = 
SŒšgUts
.
	`g‘S–eùiÚ
(
_hlEd™Ü
);

309 
fš®
 
Ch¬Sequ’û
 
‹xt
 = 
_hlEd™Ü
.
	`g‘Text
();

310 ià(
£l
[0] > 0) {

311 
fš®
 
befÜe
 = 
‹xt
.
	`ch¬At
(
£l
[0] - 1);

312 ià(
befÜe
 != ' ' && before != '\n') {

313 
thšg
 = " " +hing;

316 ià(
£l
[1] < 
‹xt
.
	`Ëngth
()) {

317 
fš®
 
aá”
 = 
‹xt
.
	`ch¬At
(
£l
[1]);

318 ià(
aá”
 != ' ' &&‡fter != '\n') {

319 
thšg
 =hing + " ";

322 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
(
thšg
);

323 
	}
}

325 
´iv©e
 
C®’d¬
 
	$·r£D©eSŒšg
(
fš®
 
SŒšg
 
d©eSŒšg
, fš® 
C®’d¬
 
çÎback
) {

326 ià(
d©eSŒšg
 =ğ
nuÎ
 || d©eSŒšg.
	`Ëngth
(è!ğ
TodoTxtTask
.
DATEF_YYYY_MM_DD_LEN
) {

327  
çÎback
;

330 
Œy
 {

331 
C®’d¬
 
ÿËnd¬
 = C®’d¬.
	`g‘In¡ªû
();

332 
ÿËnd¬
.
	`£tTime
(
TodoTxtTask
.
DATEF_YYYY_MM_DD
.
	`·r£
(
d©eSŒšg
));

333  
ÿËnd¬
;

334 } 
	`ÿtch
 (
P¬£Exû±iÚ
 
e
) {

335  
çÎback
;

337 
	}
}

339 
´iv©e
 
	$£tD©e
() {

340 
fš®
 [] 
£l
 = 
SŒšgUts
.
	`g‘S–eùiÚ
(
_hlEd™Ü
);

341 
fš®
 
Ed™abË
 
‹xt
 = 
_hlEd™Ü
.
	`g‘Text
();

342 
fš®
 
SŒšg
 
£lSŒ
 = 
‹xt
.
	`subSequ’û
(
£l
[0], s–[1]).
	`toSŒšg
();

343 
C®’d¬
 
š™D©e
 = 
	`·r£D©eSŒšg
(
£lSŒ
, C®’d¬.
	`g‘In¡ªû
());

345 
D©ePick”DŸlog
.
OnD©eS‘Li¡’”
 
li¡’”
 = (
_v›w
, 
y—r
, 
mÚth
, 
day
) -> {

346 
C®’d¬
 
fmtC®
 = C®’d¬.
	`g‘In¡ªû
();

347 
fmtC®
.
	`£t
(
y—r
, 
mÚth
, 
day
);

348 
fš®
 
SŒšg
 
ÃwD©e
 = 
TodoTxtTask
.
DATEF_YYYY_MM_DD
.
	`fÜm©
(
fmtC®
.
	`g‘Time
());

349 
‹xt
.
	`»¶aû
(
£l
[0], s–[1], 
ÃwD©e
);

352 
Ãw
 
	`D©eF¿gm’t
()

353 .
	`£tAùiv™y
(
_aùiv™y
)

354 .
	`£tLi¡’”
(
li¡’”
)

355 .
	`£tC®’d¬
(
š™D©e
)

356 .
	`show
(((
F¿gm’tAùiv™y
è
_aùiv™y
).
	`g‘SuµÜtF¿gm’tMªag”
(), "date");

357 
	}
}

360 
´iv©e
 
	$£tDueD©e
(
fš®
 
off£t
) {

361 
fš®
 
SŒšg
 
dueSŒšg
 = 
TodoTxtTask
.
	`g‘S–eùedTasks
(
_hlEd™Ü
)[0].
	`g‘DueD©e
();

362 
C®’d¬
 
š™D©e
 = 
	`·r£D©eSŒšg
(
dueSŒšg
, C®’d¬.
	`g‘In¡ªû
());

363 
š™D©e
.
	`add
(
C®’d¬
.
DAY_OF_MONTH
, (
dueSŒšg
 =ğ
nuÎ
 || dueSŒšg.
	`isEm±y
()è? 
off£t
 : 0);

365 
fš®
 
D©ePick”DŸlog
.
OnD©eS‘Li¡’”
 
li¡’”
 = (
_v›w
, 
y—r
, 
mÚth
, 
day
) -> {

366 
C®’d¬
 
fmtC®
 = C®’d¬.
	`g‘In¡ªû
();

367 
fmtC®
.
	`£t
(
y—r
, 
mÚth
, 
day
);

368 
fš®
 
SŒšg
 
ÃwDue
 = "due:" + 
TodoTxtTask
.
DATEF_YYYY_MM_DD
.
	`fÜm©
(
fmtC®
.
	`g‘Time
());

369 
	`runRegexR•ÏûAùiÚ
(

371 
Ãw
 
	`R•ÏûP©‹º
(
TodoTxtTask
.
PATTERN_DUE_DATE
, "$1" + 
ÃwDue
 + "$4"),

373 
Ãw
 
	`R•ÏûP©‹º
("\\s*$", " " + 
ÃwDue
)

377 
fš®
 
D©ePick”DŸlog
.
OnClickLi¡’”
 
ş—r
 = (
dŸlog
, 
which
) -> {

378 
	`runRegexR•ÏûAùiÚ
(
Ãw
 
	`R•ÏûP©‹º
(
TodoTxtTask
.
PATTERN_DUE_DATE
, "$4"));

381 
Ãw
 
	`D©eF¿gm’t
()

382 .
	`£tAùiv™y
(
_aùiv™y
)

383 .
	`£tLi¡’”
(
li¡’”
)

384 .
	`£tC®’d¬
(
š™D©e
)

385 .
	`£tMes§ge
(
_cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
due_d©e
))

386 .
	`£tExŒaLab–
(
_cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
ş—r
))

387 .
	`£tExŒaLi¡’”
(
ş—r
)

388 .
	`show
(((
F¿gm’tAùiv™y
è
_aùiv™y
).
	`g‘SuµÜtF¿gm’tMªag”
(), "date");

389 
	}
}

395 
public
 şas 
	cD©eF¿gm’t
 
ex‹nds
 
	gDŸlogF¿gm’t
 {

397 
´iv©e
 
	gD©ePick”DŸlog
.
OnD©eS‘Li¡’”
 
	g_li¡’”
;

398 
´iv©e
 
	gD©ePick”DŸlog
.
OnClickLi¡’”
 
	g_exŒaLi¡’”
;

399 
´iv©e
 
SŒšg
 
	g_exŒaLab–
;

401 
´iv©e
 
Aùiv™y
 
	g_aùiv™y
;

402 
´iv©e
 
	g_y—r
;

403 
´iv©e
 
	g_mÚth
;

404 
´iv©e
 
	g_day
;

405 
´iv©e
 
SŒšg
 
	g_mes§ge
;

407 
public
 
D©eF¿gm’t
() {

408 
su³r
();

409 
£tC®’d¬
(
C®’d¬
.
g‘In¡ªû
());

412 
public
 
D©eF¿gm’t
 
£tLi¡’”
(
D©ePick”DŸlog
.
OnD©eS‘Li¡’”
 
li¡’”
) {

413 
	g_li¡’”
 = 
li¡’”
;

414  
	gthis
;

417 
public
 
D©eF¿gm’t
 
£tExŒaLi¡’”
(
D©ePick”DŸlog
.
OnClickLi¡’”
 
li¡’”
) {

418 
	g_exŒaLi¡’”
 = 
li¡’”
;

419  
	gthis
;

422 
public
 
D©eF¿gm’t
 
£tExŒaLab–
(
SŒšg
 
Ïb–
) {

423 
	g_exŒaLab–
 = 
Ïb–
;

424  
	gthis
;

427 
public
 
D©eF¿gm’t
 
£tAùiv™y
(
Aùiv™y
 
aùiv™y
) {

428 
	g_aùiv™y
 = 
aùiv™y
;

429  
	gthis
;

432 
public
 
D©eF¿gm’t
 
£tY—r
(
y—r
) {

433 
	g_y—r
 = 
y—r
;

434  
	gthis
;

437 
public
 
D©eF¿gm’t
 
£tMÚth
(
mÚth
) {

438 
	g_mÚth
 = 
mÚth
;

439  
	gthis
;

442 
public
 
D©eF¿gm’t
 
£tDay
(
day
) {

443 
	g_day
 = 
day
;

444  
	gthis
;

447 
public
 
D©eF¿gm’t
 
£tMes§ge
(
SŒšg
 
mes§ge
) {

448 
	g_mes§ge
 = 
mes§ge
;

449  
	gthis
;

452 
public
 
D©eF¿gm’t
 
£tC®’d¬
(
C®’d¬
 
ÿËnd¬
) {

453 
£tY—r
(
ÿËnd¬
.
g‘
(
C®’d¬
.
YEAR
));

454 
£tMÚth
(
ÿËnd¬
.
g‘
(
C®’d¬
.
MONTH
));

455 
£tDay
(
ÿËnd¬
.
g‘
(
C®’d¬
.
DAY_OF_MONTH
));

456  
	gthis
;

459 @
Ov”ride


460 
public
 
D©ePick”DŸlog
 
ÚC»©eDŸlog
(
BundË
 
§vedIn¡ªûS‹
) {

461 
	gsu³r
.
ÚC»©eDŸlog
(
§vedIn¡ªûS‹
);

463 
D©ePick”DŸlog
 
	gdŸlog
 = 
Ãw
 D©ePick”DŸlog(
_aùiv™y
, 
_li¡’”
, 
_y—r
, 
_mÚth
, 
_day
);

465 ià(
	g_mes§ge
 !ğ
nuÎ
 && !
_mes§ge
.
isEm±y
()) {

466 
dŸlog
.
£tMes§ge
(
_mes§ge
);

469 ià(
	g_exŒaLi¡’”
 !ğ
nuÎ
 && 
_exŒaLab–
 !ğnuÎ && !_exŒaLab–.
isEm±y
()) {

470 
dŸlog
.
£tBu‰Ú
(
DŸlogIÁ”çû
.
BUTTON_NEUTRAL
, 
_exŒaLab–
, 
_exŒaLi¡’”
);

473  
	gdŸlog
;

477 
´iv©e
 
	$doBasicHighlights
(
fš®
 
S·ÂabË
 
¥ªÇbË
) {

478 
TodoTxtHighligh‹r
.
	`basicTodoTxtHighlights
(
¥ªÇbË
, 
Œue
, 
Ãw
 
	`TodoTxtHighligh‹rCŞÜs
(), 
_­pS‘tšgs
.
	`isD¬kThemeEÇbËd
(), 
nuÎ
);

479 
	}
}

	@app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtTextConverter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g‹xt
.
	gTextUtsCom·t
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextCÚv”‹r
;

17 
impÜt
 
	gjava
.
	gio
.
	gFe
;

19 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

21 @
Suµ»ssW¬nšgs
("WeakerAccess")

22 
public
 cÏs 
	cTodoTxtTextCÚv”‹r
 
ex‹nds
 
	mTextCÚv”‹r
 {

24 
´iv©e
 
fš®
 
SŒšg
 
	mHTML100_BODY_PRE_BEGIN
 = "<´¡yË='wh™e-¥aû:…»-w¿p;fÚt-çmy: " + 
TOKEN_FONT
 + "' >";

25 
´iv©e
 
fš®
 
SŒšg
 
	mHTML101_BODY_PRE_END
 = "</pre>";

32 @
Ov”ride


33 
public
 
SŒšg
 
	$cÚv”tM¬kup
(
SŒšg
 
m¬kup
, 
CÚ‹xt
 
cÚ‹xt
, 
boŞ—n
 
isExpÜtInLightMode
, 
Fe
 
fe
) {

34 
SŒšg
 
cÚv”‹d
 = "", 
ÚLßdJs
 = "", 
h—d
 = "";

35 
cÚv”‹d
 = 
HTML100_BODY_PRE_BEGIN


36 + 
	`·r£
(
TextUtsCom·t
.
	`htmlEncode
(
m¬kup
))

37 + 
HTML101_BODY_PRE_END
;

38  
	`putCÚ‹ÁIÁoTem¶©e
(
cÚ‹xt
, 
cÚv”‹d
, 
isExpÜtInLightMode
, 
fe
, 
ÚLßdJs
, 
h—d
);

41 
´iv©e
 
SŒšg
 
	$·r£
(
SŒšg
 
¡r
) {

42 
¡r
 = sŒ.
	`»¶aû
("\n", "</br><span style='margin-bottom=20px;'/><hr/><span style='margin-bottom=20px;'/>");

43  
¡r
;

44 
	}
}

46 @
Ov”ride


47 
´Ùeùed
 
SŒšg
 
	$g‘CÚ‹ÁTy³
() {

48  
CONTENT_TYPE_HTML
;

49 
	}
}

51 @
Ov”ride


52 
public
 
boŞ—n
 
	$isFeOutOfThisFÜm©
(
SŒšg
 
f•©h
) {

53  
TodoTxtTask
.
	`isTodoFe
(
f•©h
.
	`»¶aû
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
, ""));

54 
	}
}

	@app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiAutoFormat.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gAutoFÜm©‹r
;

17 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

19 
public
 cÏs 
	cZimWikiAutoFÜm©
 
im¶em’ts
 
	mIÅutF‹r
 {

20 
´iv©e
 
fš®
 
P©‹º
 
	mPREFIX_CHECKBOX_LIST
 = P©‹º.
compe
("^(\\s*)((\\[)[\\sx*>](]\\s))");

22 
´iv©e
 
fš®
 
AutoFÜm©‹r
 
	m_autoFÜm©‹r
;

24 
public
 
	$ZimWikiAutoFÜm©
() {

25 
_autoFÜm©‹r
 = 
Ãw
 
	`AutoFÜm©‹r
(
	`g‘P»fixP©‹ºs
(), '\t');

29 @
Ov”ride


30 
public
 
Ch¬Sequ’û
 
	$f‹r
(
Ch¬Sequ’û
 
sourû
, 
¡¬t
, 
’d
, 
S·Âed
 
de¡
, 
d¡¬t
, 
d’d
) {

31  
_autoFÜm©‹r
.
	`f‹r
(
sourû
, 
¡¬t
, 
’d
, 
de¡
, 
d¡¬t
, 
d’d
);

32 
	}
}

34 
public
 
	gAutoFÜm©‹r
.
P»fixP©‹ºs
 
	$g‘P»fixP©‹ºs
() {

35  
Ãw
 
AutoFÜm©‹r
.
	`P»fixP©‹ºs
(

36 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
PREFIX_UNORDERED_LIST
,

37 
PREFIX_CHECKBOX_LIST
,

38 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
PREFIX_ORDERED_LIST


40 
	}
}

	@app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiHighlighter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gLi¡HªdËr
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighligh‹r
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

22 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

24 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gfÜm©
.
	gzimwiki
.
	gWrZimWikiH—d”S·nC»©Ü
;

26 
public
 cÏs 
	cZimWikiHighligh‹r
 
ex‹nds
 
	mHighligh‹r
 {

30 
public
 
	eP©‹ºs
 {

31 
BOLD
(
P©‹º
.
compe
("(?<=(\\n|^|\\s|\\*))(\\*{2})[^*\\s](?=\\S)(.*?)[^*\\s]?\\2(?=(\\n|$|\\s|\\*))")),

32 
ITALICS
(
P©‹º
.
compe
("(?<=(\\n|^|\\s|/))(/{2})[^/\\s](.*?)[^/\\s]?\\2(?=(\\n|$|\\s|/))")),

33 
HIGHLIGHTED
(
P©‹º
.
compe
("(?<=(\\n|^|\\s|_))(_{2})[^_\\s](.*?)[^_\\s]?\\2(?=(\\n|$|\\s|_))")),

34 
STRIKETHROUGH
(
P©‹º
.
compe
("(?<=(\\n|^|\\s|~))(~{2})[^~\\s](.*?)[^~\\s]?\\2(?=(\\n|$|\\s|~))")),

35 
HEADING
(
P©‹º
.
compe
("(?<=(\\n|^|\\s))(==+)[ \\t]+(.*?)[ \\t]\\2(?=(\\n|$|\\s))")),

36 
PREFORMATTED_INLINE
(
P©‹º
.
compe
("''(?!')(.+?)''")),

37 
PREFORMATTED_MULTILINE
(
P©‹º
.
compe
("(?s)(?<=[\\n^])'''[\\n$](.*?)[\\n^]'''(?=[\\n$])")),

38 
LIST_UNORDERED
(
P©‹º
.
compe
("(?<=((\\n|^)\\s{0,10}))\\*(?= )")),

39 
LIST_ORDERED
(
P©‹º
.
compe
("(?<=((\\n|^)(\\s{0,10})))(\\d+|[a-zA-Z])(\\.)(?= )")),

40 
LINK
(
P©‹º
.
compe
("(\\[\\[(?!\\[)(.+?\\]*)]\\])")),

41 
IMAGE
(
P©‹º
.
compe
("(\\{\\{(?!\\{)(.*?)\\}\\})")),

42 
CHECKLIST
(
P©‹º
.
compe
("(?<=(\\n|^))\t*(\\[)([ x*>])(])(?= )")),

43 
CHECKLIST_UNCHECKED
(
P©‹º
.
compe
("(?<=(\\n|^))\t*(\\[)( )(])(?= )")),

44 
CHECKLIST_CHECKED
(
P©‹º
.
compe
("(?<=(\\n|^))\t*(\\[)(\\*)(])(?= )")),

45 
CHECKLIST_CROSSED
(
P©‹º
.
compe
("(?<=(\\n|^))\t*(\\[)(x)(])(?= )")),

46 
CHECKLIST_ARROW
(
P©‹º
.
compe
("(?<=(\\n|^))\t*(\\[)(>)(])(?= )")),

47 
SUBSCRIPT
(
P©‹º
.
compe
("(_\\{(?!~)(.+?)\\})")),

48 
SUPERSCRIPT
(
P©‹º
.
compe
("(\\^\\{(?!~)(.+?)\\})")),

49 
ZIMHEADER_CONTENT_TYPE_ONLY
(
P©‹º
.
compe
("^\\s*Content-Type:\\s*text/x-zim-wiki")),

50 
ZIMHEADER
(
P©‹º
.
compe
("^Content-Type:ext/x-zim-wiki(\r\n|\r|\n)" +

55 
public
 
fš®
 
	mCHECKBOX_LEFT_BRACKET_GROUP
 = 2;

56 
public
 
fš®
 
	mCHECKBOX_SYMBOL_GROUP
 = 3;

57 
public
 
fš®
 
	mCHECKBOX_RIGHT_BRACKET_GROUP
 = 4;

59 
public
 
fš®
 
P©‹º
 
	m·‰”n
;

61 
P©‹ºs
(
P©‹º
 
·‰”n
) {

62 
	mthis
.
	m·‰”n
 = 
·‰”n
;

66 
public
 şas 
	cCŞÜs
 {

67 
´iv©e
 
fš®
 
	gCOLOR_HEADING
 = 0xff4e9a06;

68 
´iv©e
 
fš®
 
	gHIGHLIGHT_BACKGROUND_COLOR
 = 0xffFFA062;

69 
´iv©e
 
fš®
 
	gUNORDERED_LIST_BULLET_COLOR
 = 0xffdaa521;

70 
´iv©e
 
fš®
 
	gCHECKLIST_BASE_COLOR
 = 
UNORDERED_LIST_BULLET_COLOR
;

71 
´iv©e
 
fš®
 
	gCHECKLIST_ARROW_COLOR
 = 
CHECKLIST_BASE_COLOR
;

72 
´iv©e
 
fš®
 
	gORDERED_LIST_NUMBER_COLOR
 = 0xffdaa521;

73 
´iv©e
 
fš®
 
	gLINK_COLOR
 = 0xff1ea3fd;

74 
´iv©e
 
fš®
 
	gCHECKLIST_CHECKED_COLOR
 = 0xff54a309;

75 
´iv©e
 
fš®
 
	gCHECKLIST_CROSSED_COLOR
 = 0xffa90000;

76 
´iv©e
 
fš®
 
	gZIMHEADER_COLOR
 = 0xff808080;

84 
public
 
	$ZimWikiHighligh‹r
(
HighlightšgEd™Ü
 
ed™Ü
, 
Docum’t
 
docum’t
) {

85 
	`su³r
(
ed™Ü
, 
docum’t
);

86 
_highlightLšks
 = 
çl£
;

87 
	`£tTextModif›r
(
Ãw
 
	`Li¡HªdËr
(
Œue
, 
ZimWikiAutoFÜm©
.
	`g‘P»fixP©‹ºs
()));

88 
	}
}

90 @
Ov”ride


91 
´Ùeùed
 
S·ÂabË
 
	$run
(
fš®
 
S·ÂabË
 
¥ªÇbË
) {

92 
	`ş—rS·ns
(
¥ªÇbË
);

93 ià(
¥ªÇbË
.
	`Ëngth
() == 0) {

94  
¥ªÇbË
;

100 
_´of”
.
	`¡¬t
(
Œue
, "ZimWiki Highlighting");

101 
	`g’”®HighlightRun
(
¥ªÇbË
);

103 
_´of”
.
	`»¡¬t
("Heading");

104 ià(
_­pS‘tšgs
.
	`isZimWikiBigg”H—dšgs
()) {

105 
	`ü—‹H—d”S·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
HEADING
, 
CŞÜs
.
COLOR_HEADING
);

107 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
HEADING
.
·‰”n
, 
CŞÜs
.
COLOR_HEADING
);

110 
_´of”
.
	`»¡¬t
("Bold");

111 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
BOLD
.
·‰”n
, 
Ty³çû
.BOLD);

113 
_´of”
.
	`»¡¬t
("Italics");

114 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
ITALICS
.
·‰”n
, 
Ty³çû
.
ITALIC
);

116 
_´of”
.
	`»¡¬t
("Marked (highlighted)");

117 
	`ü—‹CŞÜBackgroundS·n
(
¥ªÇbË
, 
P©‹ºs
.
HIGHLIGHTED
.
·‰”n
, 
CŞÜs
.
HIGHLIGHT_BACKGROUND_COLOR
);

119 
_´of”
.
	`»¡¬t
("Strikethrough");

120 
	`ü—‹S·nW™hSŒikeThroughFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
STRIKETHROUGH
.
·‰”n
);

122 
_´of”
.
	`»¡¬t
("Preformatted (monospaced) inline");

123 
	`ü—‹MÚo¥aûS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
PREFORMATTED_INLINE
.
·‰”n
);

125 
_´of”
.
	`»¡¬t
("Preformatted (monospaced) multiline");

126 
	`ü—‹MÚo¥aûS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
PREFORMATTED_MULTILINE
.
·‰”n
);

128 
_´of”
.
	`»¡¬t
("Unordered†ist");

129 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
LIST_UNORDERED
.
·‰”n
, 
CŞÜs
.
UNORDERED_LIST_BULLET_COLOR
);

131 
_´of”
.
	`»¡¬t
("Ordered†ist");

132 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
LIST_ORDERED
.
·‰”n
, 
CŞÜs
.
ORDERED_LIST_NUMBER_COLOR
);

134 
_´of”
.
	`»¡¬t
("Link");

135 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
LINK
.
·‰”n
, 
CŞÜs
.
LINK_COLOR
);

137 
_´of”
.
	`»¡¬t
("Superscript");

138 
	`ü—‹Su³rsütStyËS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
SUPERSCRIPT
.
·‰”n
);

140 
_´of”
.
	`»¡¬t
("Subscript");

141 
	`ü—‹SubsütStyËS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
SUBSCRIPT
.
·‰”n
);

143 
_´of”
.
	`»¡¬t
("Checklist");

144 
	`ü—‹CheckboxS·nsFÜAÎCheckS‹s
(
¥ªÇbË
);

146 
_´of”
.
	`»¡¬t
("Zim Header");

147 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
ZIMHEADER
.
·‰”n
, 
CŞÜs
.
ZIMHEADER_COLOR
);

149 
_´of”
.
	`’d
();

150 
_´of”
.
	`´štProfšgGroup
();

152  
¥ªÇbË
;

153 
	}
}

155 
´iv©e
 
	$ü—‹H—d”S·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
P©‹ºs
 
·‰”n
, 
h—d”CŞÜ
) {

156 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
.·‰”n, 
Ãw
 
	`WrZimWikiH—d”S·nC»©Ü
(
this
, s·ÂabË, 
h—d”CŞÜ
, 
_­pS‘tšgs
.
	`isZimWikiBigg”H—dšgs
(), _­pS‘tšgs.
	`g‘FÚtFamy
(), _­pS‘tšgs.
	`g‘FÚtSize
()));

157 
	}
}

159 
´iv©e
 
	$ü—‹CheckboxS·nsFÜAÎCheckS‹s
(
S·ÂabË
 
¥ªÇbË
) {

160 
	`ü—‹CheckboxS·nW™hDifã»ÁCŞÜs
(
¥ªÇbË
, 
P©‹ºs
.
CHECKLIST_UNCHECKED
.
·‰”n
, 0xffffffff);

161 
	`ü—‹CheckboxS·nW™hDifã»ÁCŞÜs
(
¥ªÇbË
, 
P©‹ºs
.
CHECKLIST_CHECKED
.
·‰”n
, 
CŞÜs
.
CHECKLIST_CHECKED_COLOR
);

162 
	`ü—‹CheckboxS·nW™hDifã»ÁCŞÜs
(
¥ªÇbË
, 
P©‹ºs
.
CHECKLIST_CROSSED
.
·‰”n
, 
CŞÜs
.
CHECKLIST_CROSSED_COLOR
);

163 
	`ü—‹CheckboxS·nW™hDifã»ÁCŞÜs
(
¥ªÇbË
, 
P©‹ºs
.
CHECKLIST_ARROW
.
·‰”n
, 
CŞÜs
.
CHECKLIST_ARROW_COLOR
);

164 
	}
}

166 
´iv©e
 
	$ü—‹CheckboxS·nW™hDifã»ÁCŞÜs
(
S·ÂabË
 
¥ªÇbË
, 
P©‹º
 
checkboxP©‹º
, 
symbŞCŞÜ
) {

167 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
checkboxP©‹º
, 
CŞÜs
.
CHECKLIST_BASE_COLOR
, 
P©‹ºs
.
CHECKBOX_LEFT_BRACKET_GROUP
);

168 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
checkboxP©‹º
, 
symbŞCŞÜ
, 
P©‹ºs
.
CHECKBOX_SYMBOL_GROUP
);

169 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
checkboxP©‹º
, 
CŞÜs
.
CHECKLIST_BASE_COLOR
, 
P©‹ºs
.
CHECKBOX_RIGHT_BRACKET_GROUP
);

170 
	}
}

172 @
Ov”ride


173 
public
 
IÅutF‹r
 
	$g‘AutoFÜm©‹r
() {

174  
Ãw
 
	`ZimWikiAutoFÜm©
();

175 
	}
}

177 @
Ov”ride


178 
public
 
	$g‘HighlightšgD–ay
(
CÚ‹xt
 
cÚ‹xt
) {

179  
_­pS‘tšgs
.
	`g‘M¬kdownHighlightšgD–ay
();

180 
	}
}

	@app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiReplacePatternGenerator.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gR•ÏûP©‹ºG’”©ÜH–³r
;

13 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

16 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

17 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

18 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

19 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

20 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

22 
public
 cÏs 
	cZimWikiR•ÏûP©‹ºG’”©Ü
 {

23 
public
 
fš®
 
P©‹º
 
	mPREFIX_UNORDERED_LIST
 = P©‹º.
compe
("^(\\s*)((\\*)\\s)");

24 
public
 
fš®
 
P©‹º
 
	mPREFIX_ORDERED_LIST
 = P©‹º.
compe
("^(\\s*)((\\d+|[a-zA-z])(\\.)(\\s+))");

25 
public
 
fš®
 
P©‹º
 
	mPREFIX_UNCHECKED_LIST
 = P©‹º.
compe
("^(\\s*)(\\[\\s]\\s)");

26 
public
 
fš®
 
P©‹º
 
	mPREFIX_CHECKED_LIST
 = P©‹º.
compe
("^(\\s*)(\\[(\\*)]\\s)");

27 
public
 
fš®
 
P©‹º
 
	mPREFIX_CROSSED_LIST
 = P©‹º.
compe
("^(\\s*)(\\[(x)]\\s)");

28 
public
 
fš®
 
P©‹º
 
	mPREFIX_ARROW_LIST
 = P©‹º.
compe
("^(\\s*)(\\[(>)]\\s)");

29 
public
 
fš®
 
P©‹º
 
	mPREFIX_LEADING_SPACE
 = P©‹º.
compe
("^(\\s*)");

31 
public
 
fš®
 
	mP©‹º
[] 
	mPREFIX_PATTERNS
 = {

32 
PREFIX_ORDERED_LIST
,

33 
PREFIX_CHECKED_LIST
,

34 
PREFIX_UNCHECKED_LIST
,

35 
PREFIX_CROSSED_LIST
,

36 
PREFIX_ARROW_LIST
,

37 
PREFIX_UNORDERED_LIST
,

38 
PREFIX_LEADING_SPACE
,

41 
´iv©e
 
fš®
 
SŒšg
 
	guncheckedR•Ïûm’t
 = "$1[ ] ";

42 
´iv©e
 
fš®
 
SŒšg
 
	gcheckedR•Ïûm’t
 = "$1[*] ";

43 
´iv©e
 
fš®
 
SŒšg
 
	güos£dR•Ïûm’t
 = "$1[x] ";

44 
´iv©e
 
fš®
 
SŒšg
 
	g¬rowR•Ïûm’t
 = "$1[>] ";

45 
´iv©e
 
fš®
 
SŒšg
 
	gunÜd”edLi¡R•Ïûm’t
 = "$1* ";

46 
´iv©e
 
fš®
 
SŒšg
 
	gÜd”edLi¡R•Ïûm’t
 = "$11. ";

59 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$£tOrUn£tH—dšgW™hLev–
(
Ëv–
) {

60 
Li¡
<
TextAùiÚs
.
R•ÏûP©‹º
> 
·‰”ns
 = 
Ãw
 
A¼ayLi¡
<>();

62 
fš®
 
numb”OfEqu®Signs
 = 7 - 
Ëv–
;

64 
boŞ—n
 
isV®idZimWikiH—dšg
 = 
numb”OfEqu®Signs
 >= 2 &&‚umberOfEqualSigns <= 6;

65 ià(!
isV®idZimWikiH—dšg
) {

66  
·‰”ns
;

69 
SŒšg
 
h—dšgCh¬s
 = 
SŒšgUts
.
	`»³©Ch¬s
('=', 
numb”OfEqu®Signs
);

71 
·‰”ns
.
	`add
(
	`»moveH—dšgCh¬sFÜExaùH—dšgLev–
(
h—dšgCh¬s
));

72 
·‰”ns
.
	`add
(
	`»¶aûDifã»ÁH—dšgLev–W™hThisLev–
(
h—dšgCh¬s
));

73 
·‰”ns
.
	`add
(
	`ü—‹H—dšgIfNÚeTh”e
(
h—dšgCh¬s
));

75  
·‰”ns
;

76 
	}
}

78 
´iv©e
 
	gTextAùiÚs
.
R•ÏûP©‹º
 
	$»moveH—dšgCh¬sFÜExaùH—dšgLev–
(
SŒšg
 
h—dšgCh¬s
) {

79  
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(

80 "^\\s{0,3}" + 
h—dšgCh¬s
 + "[ \\t](.*)[ \\t]" + headingChars + "\\w*",

82 
	}
}

84 
´iv©e
 
	gTextAùiÚs
.
R•ÏûP©‹º
 
	$»¶aûDifã»ÁH—dšgLev–W™hThisLev–
(
SŒšg
 
h—dšgCh¬s
) {

85  
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
("^\\s{0,3}={2,6}([ \\t].*[ \\t])={2,6}",

86 
h—dšgCh¬s
 + "$1" + headingChars);

87 
	}
}

89 
´iv©e
 
	gTextAùiÚs
.
R•ÏûP©‹º
 
	$ü—‹H—dšgIfNÚeTh”e
(
SŒšg
 
h—dšgCh¬s
) {

90  
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
("^\\s*?(\\S?.*)\\s*",

91 
h—dšgCh¬s
 + " $1 " + headingChars);

92 
	}
}

94 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$»¶aûW™hNextS‹Checkbox
() {

95 
Li¡
<
TextAùiÚs
.
R•ÏûP©‹º
> 
»¶aûP©‹ºs
 = 
Ãw
 
A¼ayLi¡
<>();

98 
»¶aûP©‹ºs
.
	`addAÎ
(
	`toggËCheckboxToNextS‹
());

99 
»¶aûP©‹ºs
.
	`addAÎ
(
	`»¶aûOth”P»fixesW™hUncheckedBox
());

100  
»¶aûP©‹ºs
;

101 
	}
}

103 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$»moveCheckbox
() {

104 
P©‹º
 
ªyCheckboxI‹m
 = P©‹º.
	`compe
("^(\\s*)(\\[([ x*>])]\\s)");

105  
CŞËùiÚs
.
	`sšgËtÚLi¡
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
ªyCheckboxI‹m
, "$1"));

106 
	}
}

108 
´iv©e
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$toggËCheckboxToNextS‹
() {

109  
A¼ays
.
	`asLi¡
(

110 
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
PREFIX_UNCHECKED_LIST
, 
checkedR•Ïûm’t
),

111 
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
PREFIX_CHECKED_LIST
, 
üos£dR•Ïûm’t
),

112 
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
PREFIX_CROSSED_LIST
, 
¬rowR•Ïûm’t
),

113 
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
PREFIX_ARROW_LIST
, 
uncheckedR•Ïûm’t
));

114 
	}
}

116 
´iv©e
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$»¶aûOth”P»fixesW™hUncheckedBox
() {

117 
Li¡
<
TextAùiÚs
.
R•ÏûP©‹º
> 
»¶aûP©‹ºs
 = 
Ãw
 
A¼ayLi¡
<>();

118 
fš®
 
P©‹º
 
Ùh”P©‹º
 : 
PREFIX_PATTERNS
) {

119 
»¶aûP©‹ºs
.
	`add
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
Ùh”P©‹º
, 
uncheckedR•Ïûm’t
));

121  
»¶aûP©‹ºs
;

122 
	}
}

124 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$»¶aûW™hUnÜd”edLi¡P»fixOrRemoveP»fix
() {

125  
R•ÏûP©‹ºG’”©ÜH–³r
.
	`»¶aûW™hT¬g‘P»fixOrRemove
(
PREFIX_PATTERNS
, 
PREFIX_UNORDERED_LIST
, 
unÜd”edLi¡R•Ïûm’t
);

126 
	}
}

128 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$»¶aûW™hOrd”edLi¡P»fixOrRemoveP»fix
() {

129  
R•ÏûP©‹ºG’”©ÜH–³r
.
	`»¶aûW™hT¬g‘P»fixOrRemove
(
PREFIX_PATTERNS
, 
PREFIX_ORDERED_LIST
, 
Üd”edLi¡R•Ïûm’t
);

130 
	}
}

132 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$dešd’tOÃTab
() {

133  
CŞËùiÚs
.
	`sšgËtÚLi¡
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
("^\t", ""));

134 
	}
}

136 
public
 
	gLi¡
<
	gTextAùiÚs
.
	gR•ÏûP©‹º
> 
	$šd’tOÃTab
() {

137  
CŞËùiÚs
.
	`sšgËtÚLi¡
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
("^", "\t"));

138 
	}
}

	@app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiTextActions.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

14 
impÜt
 
	gªdroid
.
	gv›w
.
	gH­ticF“dbackCÚ¡ªts
;

15 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

16 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gAutoFÜm©‹r
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gCommÚTextAùiÚs
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gA‰achImageOrLškDŸlog
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

27 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

28 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

29 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

30 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

31 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

32 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

34 
public
 
şass
 
ZimWikiTextAùiÚs
 
ex‹nds
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
 {

36 
public
 
ZimWikiTextAùiÚs
(
Aùiv™y
 
aùiv™y
, 
Docum’t
 
docum’t
) {

37 
su³r
(
aùiv™y
, 
docum’t
);

40 @
Ov”ride


41 
public
 
boŞ—n
 
runAùiÚ
(
SŒšg
 
aùiÚ
, boŞ—À
modLÚgClick
, SŒšg 
ªÙh”Arg
) {

42 
	g»s
 = 
Ãw
 
CÚ‹xtUts
(
_cÚ‹xt
).
g‘ResId
(CÚ‹xtUts.
ResTy³
.
STRING
, 
aùiÚ
);

43  
Ãw
 
ZimWikiTextAùiÚsIm¶
(
»s
).
ÚClickIm¶
(
nuÎ
);

46 @
Ov”ride


47 
´Ùeùed
 
AùiÚC®lback
 
g‘AùiÚC®lback
(@
SŒšgRes
 
keyId
) {

48  
Ãw
 
ZimWikiTextAùiÚsIm¶
(
keyId
);

51 @
Ov”ride


52 
	g´Ùeùed
 @
SŒšgRes


53 
g‘FÜm©AùiÚsKey
() {

54  
	gR
.
	g¡ršg
.
	g´ef_key__zimwiki__aùiÚ_keys
;

57 @
Ov”ride


58 
public
 
	gLi¡
<
	gAùiÚI‹m
> 
g‘AùiveAùiÚLi¡
() {

60 
fš®
 
	gAùiÚI‹m
[] 
	gZIMWIKI_ACTIONS
 = {

61 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_checkbox_li¡
, R.
d¿wabË
.
ic_check_box_bÏck_24dp
, R.¡ršg.
check_li¡
),

62 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_unÜd”ed_li¡_ch¬
, R.
d¿wabË
.
ic_li¡_bÏck_24dp
, R.¡ršg.
unÜd”ed_li¡
),

63 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_bŞd
, R.
d¿wabË
.
ic_fÜm©_bŞd_bÏck_24dp
, R.¡ršg.
bŞd
),

64 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_¡rikeout
, R.
d¿wabË
.
ic_fÜm©_¡rik‘hrough_bÏck_24dp
, R.¡ršg.
¡rikeout
),

65 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_™®ic
, R.
d¿wabË
.
ic_fÜm©_™®ic_bÏck_24dp
, R.¡ršg.
™®ic
),

66 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_highlight
, R.
d¿wabË
.
ic_fÜm©_und”lšed_bÏck_24dp
, R.¡ršg.
highligh‹d
),

67 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_code_šlše
, R.
d¿wabË
.
ic_code_bÏck_24dp
, R.¡ršg.
šlše_code
),

68 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_h1
, R.
d¿wabË
.
fÜm©_h—d”_1
, R.¡ršg.
h—dšg_1
),

69 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_h2
, R.
d¿wabË
.
fÜm©_h—d”_2
, R.¡ršg.
h—dšg_2
),

70 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_h3
, R.
d¿wabË
.
fÜm©_h—d”_3
, R.¡ršg.
h—dšg_3
),

71 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_d–‘e_lšes
, 
CommÚTextAùiÚs
.
ACTION_DELETE_LINES_ICON
, R.¡ršg.
d–‘e_lšes
),

72 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_İ’_lšk_brow£r
, 
CommÚTextAùiÚs
.
ACTION_OPEN_LINK_BROWSER__ICON
, R.¡ršg.
İ’_lšk
),

73 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_¥ecŸl_key
, 
CommÚTextAùiÚs
.
ACTION_SPECIAL_KEY__ICON
, R.¡ršg.
¥ecŸl_key
),

74 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_time
, R.
d¿wabË
.
ic_acûss_time_bÏck_24dp
, R.¡ršg.
d©e_ªd_time
),

75 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_Üd”ed_li¡_numb”
, R.
d¿wabË
.
ic_fÜm©_li¡_numb”ed_bÏck_24dp
, R.¡ršg.
Üd”ed_li¡
),

76 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_accÜdiÚ
, R.
d¿wabË
.
ic_¬row_drİ_down_bÏck_24dp
, R.¡ršg.
accÜdiÚ
),

77 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_šd’t
, R.
d¿wabË
.
ic_fÜm©_šd’t_šü—£_bÏck_24dp
, R.¡ršg.
šd’t
),

78 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_dešd’t
, R.
d¿wabË
.
ic_fÜm©_šd’t_deü—£_bÏck_24dp
, R.¡ršg.
dešd’t
),

79 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_h4
, R.
d¿wabË
.
fÜm©_h—d”_4
, R.¡ršg.
h—dšg_4
),

80 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_h5
, R.
d¿wabË
.
fÜm©_h—d”_5
, R.¡ršg.
h—dšg_5
),

81 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_š£¹_image
, R.
d¿wabË
.
ic_image_bÏck_24dp
, R.¡ršg.
š£¹_image
),

82 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_zimwiki_š£¹_lšk
, R.
d¿wabË
.
ic_lšk_bÏck_24dp
, R.¡ršg.
š£¹_lšk
),

83 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_Ãw_lše_b–ow
, R.
d¿wabË
.
ic_ba£lše_keybßrd_»tuº_24
, R.¡ršg.
¡¬t_Ãw_lše_b–ow
),

84 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_up
, R.
d¿wabË
.
ic_ba£lše_¬row_upw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_up
),

85 
Ãw
 
AùiÚI‹m
(
R
.
¡ršg
.
tmaid_commÚ_move_‹xt_Úe_lše_down
, R.
d¿wabË
.
ic_ba£lše_¬row_downw¬d_24
, R.¡ršg.
move_‹xt_Úe_lše_down
),

88  
	gA¼ays
.
asLi¡
(
ZIMWIKI_ACTIONS
);

91 
´iv©e
 cÏs 
	cZimWikiTextAùiÚsIm¶
 
ex‹nds
 
	gAùiÚC®lback
 {

92 
´iv©e
 
	g_aùiÚ
;

94 
ZimWikiTextAùiÚsIm¶
(
aùiÚ
) {

95 
	g_aùiÚ
 = 
aùiÚ
;

98 @
Ov”ride


99 
public
 
ÚClick
(
fš®
 
V›w
 
v›w
) {

100 
ÚClickIm¶
(
v›w
);

103 
´iv©e
 
boŞ—n
 
ÚClickIm¶
(
fš®
 
V›w
 
v›w
) {

104 ià(
	gv›w
 !ğ
nuÎ
) {

105 
v›w
.
³rfÜmH­ticF“dback
(
H­ticF“dbackCÚ¡ªts
.
KEYBOARD_TAP
);

107 
	g_aùiÚ
) {

108 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_h1
: {

109 
toggËH—dšg
(1);

110  
	gŒue
;

112 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_h2
: {

113 
toggËH—dšg
(2);

114  
	gŒue
;

116 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_h3
: {

117 
toggËH—dšg
(3);

118  
	gŒue
;

120 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_h4
: {

121 
toggËH—dšg
(4);

122  
	gŒue
;

124 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_h5
: {

125 
toggËH—dšg
(5);

126  
	gŒue
;

128 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_unÜd”ed_li¡_ch¬
: {

129 
runRegexR•ÏûAùiÚ
(
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hUnÜd”edLi¡P»fixOrRemoveP»fix
());

130  
	gŒue
;

132 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_checkbox_li¡
: {

133 
runRegexR•ÏûAùiÚ
(
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hNextS‹Checkbox
());

134  
	gŒue
;

136 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_Üd”ed_li¡_numb”
: {

137 
runRegexR•ÏûAùiÚ
(
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hOrd”edLi¡P»fixOrRemoveP»fix
());

139 
runR’umb”Ord”edLi¡IfRequœed
();

140  
	gŒue
;

142 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_bŞd
: {

143 
runIÆšeAùiÚ
("**");

144  
	gŒue
;

146 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_™®ic
: {

147 
runIÆšeAùiÚ
("//");

148  
	gŒue
;

150 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_highlight
: {

151 
runIÆšeAùiÚ
("__");

152  
	gŒue
;

154 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_¡rikeout
: {

155 
runIÆšeAùiÚ
("~~");

156  
	gŒue
;

158 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_code_šlše
: {

159 
runIÆšeAùiÚ
("''");

160  
	gŒue
;

166 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_š£¹_lšk
:

167 
A‰achImageOrLškDŸlog
.
showIn£¹ImageOrLškDŸlog
(A‰achImageOrLškDŸlog.
FILE_OR_LINK_ACTION
, 
_docum’t
.
g‘FÜm©
(), 
_aùiv™y
, 
_hlEd™Ü
, _docum’t.
g‘Fe
());

168  
	gŒue
;

169 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_š£¹_image
: {

170 
A‰achImageOrLškDŸlog
.
showIn£¹ImageOrLškDŸlog
(A‰achImageOrLškDŸlog.
IMAGE_ACTION
, 
_docum’t
.
g‘FÜm©
(), 
_aùiv™y
, 
_hlEd™Ü
, _docum’t.
g‘Fe
());

171  
	gŒue
;

173 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_toŞb¬_t™Ë_şicked_ed™_aùiÚ
: {

174 
fš®
 
SŒšg
 
ÜigText
 = 
_hlEd™Ü
.
g‘Text
().
toSŒšg
();

175 
	gS—rchOrCu¡omTextDŸlogC»©Ü
.
showZimWikiH—dlšeDŸlog
(
_aùiv™y
, 
ÜigText
, (
lšeNr
) -> {

176 
_hlEd™Ü
.
£tS–eùiÚ
(
SŒšgUts
.
g‘IndexFromLšeOff£t
(
ÜigText
, 
lšeNr
, 0));

178  
	gŒue
;

180 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_šd’t
:

181 
runRegexR•ÏûAùiÚ
(
ZimWikiR•ÏûP©‹ºG’”©Ü
.
šd’tOÃTab
());

182  
	gŒue
;

183 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_dešd’t
: {

184 
runRegexR•ÏûAùiÚ
(
ZimWikiR•ÏûP©‹ºG’”©Ü
.
dešd’tOÃTab
());

185 
runR’umb”Ord”edLi¡IfRequœed
();

186  
	gŒue
;

189  
runCommÚTextAùiÚ
(
_cÚ‹xt
.
g‘SŒšg
(
_aùiÚ
));

194 
´iv©e
 
toggËH—dšg
(
h—dšgLev–
) {

195 
fš®
 
Ch¬Sequ’û
 
	g‹xt
 = 
_hlEd™Ü
.
g‘Text
();

196 
runRegexR•ÏûAùiÚ
(
ZimWikiR•ÏûP©‹ºG’”©Ü
.
£tOrUn£tH—dšgW™hLev–
(
h—dšgLev–
));

198 
fš®
 [] 
	glšeS–eùiÚ
 = 
SŒšgUts
.
g‘LšeS–eùiÚ
(
_hlEd™Ü
);

199 
M©ch”
 
	gm
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
HEADING
.
·‰”n
.
m©ch”
(
‹xt
.
subSequ’û
(
lšeS–eùiÚ
[0],†ineSelection[1]));

200 ià(
	gm
.
fšd
()) {

201 
fš®
 
	gaá”H—dšgTextOff£t
 = 
m
.
’d
(3);

202 
fš®
 
	glšeS¹
 = 
SŒšgUts
.
g‘LšeS¹
(
‹xt
, SŒšgUts.
g‘S–eùiÚ
(
_hlEd™Ü
)[0]);

203 
	g_hlEd™Ü
.
£tS–eùiÚ
(
lšeS¹
 + 
aá”H—dšgTextOff£t
);

207 @
Ov”ride


208 
public
 
boŞ—n
 
ÚLÚgClick
(
V›w
 
v›w
) {

209 
	g_aùiÚ
) {

210 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_checkbox_li¡
: {

211 
runRegexR•ÏûAùiÚ
(
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»moveCheckbox
());

212  
	gŒue
;

214 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_İ’_lšk_brow£r
: {

215 
Ãw
 
CommÚTextAùiÚs
(
_aùiv™y
, 
_hlEd™Ü
).
runAùiÚ
(CommÚTextAùiÚs.
ACTION_SEARCH
);

216  
	gŒue
;

218 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_¥ecŸl_key
: {

219 
Ãw
 
CommÚTextAùiÚs
(
_aùiv™y
, 
_hlEd™Ü
).
runAùiÚ
(CommÚTextAùiÚs.
ACTION_JUMP_BOTTOM_TOP
);

220  
	gŒue
;

222 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_š£¹_lšk
: {

223 
pos
 = 
_hlEd™Ü
.
g‘S–eùiÚS¹
();

224 
	g_hlEd™Ü
.
g‘Text
().
š£¹
(
pos
, "[[]]");

225 
	g_hlEd™Ü
.
£tS–eùiÚ
(
pos
 + 2);

226  
	gŒue
;

228 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_š£¹_image
: {

229 
pos
 = 
_hlEd™Ü
.
g‘S–eùiÚS¹
();

230 
	g_hlEd™Ü
.
g‘Text
().
š£¹
(
pos
, "{{}}");

231 
	g_hlEd™Ü
.
£tS–eùiÚ
(
pos
 + 2);

232  
	gŒue
;

234 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_time
: {

235 
runCommÚTextAùiÚ
("tmaid_common_time_insert_timestamp");

236  
	gŒue
;

238 
	gR
.
	g¡ršg
.
	gtmaid_zimwiki_code_šlše
: {

239 
_hlEd™Ü
.
di§bËHighligh‹rAutoFÜm©
();

240 
fš®
 
	gc
 = 
_hlEd™Ü
.
£tS–eùiÚEx·ndWhŞeLšes
();

241 
	g_hlEd™Ü
.
g‘Text
().
š£¹
(
_hlEd™Ü
.
g‘S–eùiÚS¹
(), "\n'''\n");

242 
	g_hlEd™Ü
.
g‘Text
().
š£¹
(
_hlEd™Ü
.
g‘S–eùiÚEnd
(), "\n'''\n");

243 
	g_hlEd™Ü
.
£tS–eùiÚ
(
c
 + "\n'''\n".
Ëngth
());

244 
	g_hlEd™Ü
.
’abËHighligh‹rAutoFÜm©
();

245 
	gTß¡
.
makeText
(
_aùiv™y
, 
R
.
¡ršg
.
code_block
, 
Tß¡
.
LENGTH_SHORT
).
show
();

246  
	gŒue
;

248 
	gR
.
	g¡ršg
.
	gtmaid_commÚ_Üd”ed_li¡_numb”
: {

250 
AutoFÜm©‹r
.
»numb”Ord”edLi¡
(
_hlEd™Ü
.
g‘Text
(), 
SŒšgUts
.
g‘S–eùiÚ
(_hlEd™Ü)[0], 
ZimWikiAutoFÜm©
.
g‘P»fixP©‹ºs
());

251  
	gŒue
;

254  
	gçl£
;

258 
´iv©e
 
	$runR’umb”Ord”edLi¡IfRequœed
() {

259 ià(
_­pS‘tšgs
.
	`isM¬kdownAutoUpd©eLi¡
()) {

260 
AutoFÜm©‹r
.
	`»numb”Ord”edLi¡
(
_hlEd™Ü
, 
SŒšgUts
.
	`g‘S–eùiÚ
(_hlEd™Ü)[0], 
ZimWikiAutoFÜm©
.
	`g‘P»fixP©‹ºs
());

262 
	}
}

264 
public
 
SŒšg
 
	$ü—‹ZimWikiH—d”AndT™ËCÚ‹Ás
(
SŒšg
 
feNameW™houtEx‹nsiÚ
, 
D©e
 
ü—tiÚD©e
, SŒšg 
ü—tiÚD©eLšeP»fix
) {

265 
SŒšg
 
ü—tiÚD©eFÜm©‹d
;

266 
Œy
 {

267 
ü—tiÚD©eFÜm©‹d
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("yyyy-MM-dd'T'HH:mm:ssXXX", 
LoÿË
.
ROOT
).
	`fÜm©
(
ü—tiÚD©e
);

268 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

269 
ü—tiÚD©eFÜm©‹d
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("yyyy-MM-dd'T'HH:mm:ssZZ", 
LoÿË
.
ROOT
).
	`fÜm©
(
ü—tiÚD©e
);

270 
ü—tiÚD©eFÜm©‹d
 = (!ü—tiÚD©eFÜm©‹d.
	`cÚšs
("+")è? c»©iÚD©eFÜm©‹d : (ü—tiÚD©eFÜm©‹d.
	`sub¡ršg
(0, 22) + ":" + creationDateFormatted.substring(22));

273 
SŒšg
 
h—d”CÚ‹ÁTy³Lše
 = "Content-Type:ext/x-zim-wiki";

274 
SŒšg
 
h—d”WikiFÜm©Lše
 = "Wiki-Format: zim 0.6";

275 
SŒšg
 
h—d”C»©iÚD©eLše
 = "C»©iÚ-D©e: " + 
ü—tiÚD©eFÜm©‹d
;

276 
SŒšg
 
t™Ë
 = 
feNameW™houtEx‹nsiÚ
.
	`Œim
().
	`»¶aûAÎ
("_", " ");

277 
SŒšg
 
t™ËLše
 = "=====ğ" + 
t™Ë
 + " ======";

278 
Sim¶eD©eFÜm©
 
ü—tiÚD©eLšeFÜm©
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("'" + 
ü—tiÚD©eLšeP»fix
 + "'" + " EEEE dd MMMM yyyy", 
LoÿË
.
	`g‘DeçuÉ
());

279 
SŒšg
 
ü—tiÚD©eLše
 = 
ü—tiÚD©eLšeFÜm©
.
	`fÜm©
(
ü—tiÚD©e
);

281 
SŒšg
 
cÚ‹Ás
 = 
h—d”CÚ‹ÁTy³Lše
 + "\n"

282 + 
h—d”WikiFÜm©Lše
 + "\n"

283 + 
h—d”C»©iÚD©eLše
 + "\n\n"

284 + 
t™ËLše
 + "\n"

285 + 
ü—tiÚD©eLše
 + "\n";

286  
cÚ‹Ás
;

287 
	}
}

	@app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiTextConverter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gªdroid
.
	g¬ch
.
	gcÜe
.
	gut
.
	gFunùiÚ
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextCÚv”‹r
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

19 
impÜt
 
	gÜg
.
	g­ache
.
	gcommÚs
.
	gio
.
	gF’ameUts
;

21 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

22 
impÜt
 
	gjava
.
	gio
.
	gFe
;

23 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

24 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

25 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

26 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

31 @
Suµ»ssW¬nšgs
("WeakerAccess")

32 
public
 cÏs 
	cZimWikiTextCÚv”‹r
 
ex‹nds
 
	mTextCÚv”‹r
 {

33 
´iv©e
 
fš®
 
P©‹º
 
	mLIST_ORDERED_LETTERS
 = P©‹º.
compe
("^\t*([\\d]+\\.|[a-zA-Z]+\\.) ");

44 @
Ov”ride


45 
public
 
SŒšg
 
	$cÚv”tM¬kup
(
SŒšg
 
m¬kup
, 
CÚ‹xt
 
cÚ‹xt
, 
boŞ—n
 
isExpÜtInLightMode
, 
Fe
 
fe
) {

46 
SŒšg
 
cÚ‹ÁW™houtH—d”
 = 
m¬kup
.
	`»¶aûFœ¡
(
ZimWikiHighligh‹r
.
P©‹ºs
.
ZIMHEADER
.
·‰”n
.
	`toSŒšg
(), "");

47 
SŒšgBud”
 
m¬kdownCÚ‹Á
 = 
Ãw
 
	`SŒšgBud”
();

49 
SŒšg
 
lše
 : 
cÚ‹ÁW™houtH—d”
.
	`¥l™
("\\r\\n|\\r|\\n")) {

50 
SŒšg
 
m¬kdownEquiv®’tLše
 = 
	`g‘M¬kdownEquiv®’tLše
(
cÚ‹xt
, 
fe
, 
lše
, 
isExpÜtInLightMode
);

51 
m¬kdownCÚ‹Á
.
	`­³nd
(
m¬kdownEquiv®’tLše
);

52 
m¬kdownCÚ‹Á
.
	`­³nd
(" ");

53 
m¬kdownCÚ‹Á
.
	`­³nd
(
SŒšg
.
	`fÜm©
("%n"));

56  
TextFÜm©
.
CONVERTER_MARKDOWN
.
	`cÚv”tM¬kup
(
m¬kdownCÚ‹Á
.
	`toSŒšg
(), 
cÚ‹xt
, 
isExpÜtInLightMode
, 
fe
);

59 
´iv©e
 
SŒšg
 
	$g‘M¬kdownEquiv®’tLše
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
Fe
 
fe
, 
SŒšg
 
zimWikiLše
, fš® 
boŞ—n
 
isExpÜtInLightMode
) {

60 
fš®
 
AtomicReã»nû
<
SŒšg
> 
cu¼’tLše
 = 
Ãw
 AtomicReã»nû<>(
zimWikiLše
);

63 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
HEADING
.
·‰”n
, 
this
::
cÚv”tH—dšg
);

66 
	`»¶aûAÎM©chesInLšeP¬tŸÎy
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
ITALICS
.
·‰”n
, "^/+|/+$", "*");

67 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
HIGHLIGHTED
.
·‰”n
, 
m©ch
 -> 
	`cÚv”tHighligh‹d
(m©ch, 
isExpÜtInLightMode
));

70 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
PREFORMATTED_INLINE
.
·‰”n
, 
fuÎM©ch
 -> "`$1`");

71 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
P©‹º
.
	`compe
("^'''$"), 
fuÎM©ch
 -> "```");

74 
	`»¶aûAÎM©chesInLšeP¬tŸÎy
(
cu¼’tLše
, 
LIST_ORDERED_LETTERS
, "[0-9a-zA-Z]+\\.", "1.");

75 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST
.
·‰”n
, 
this
::
cÚv”tCheckli¡
);

77 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
SUPERSCRIPT
.
·‰”n
, 
fuÎM©ch
 -> 
SŒšg
.
	`fÜm©
("<sup>%s</sup>",

78 
fuÎM©ch
.
	`»¶aûAÎ
("^\\^\\{|\\}$", "")));

79 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
SUBSCRIPT
.
·‰”n
, 
fuÎM©ch
 -> 
SŒšg
.
	`fÜm©
("<sub>%s</sub>",

80 
fuÎM©ch
.
	`»¶aûAÎ
("^_\\{|\\}$", "")));

81 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
LINK
.
·‰”n
, 
fuÎM©ch
 -> 
	`cÚv”tLšk
(fuÎM©ch, 
cÚ‹xt
, 
fe
));

82 
	`»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
ZimWikiHighligh‹r
.
P©‹ºs
.
IMAGE
.
·‰”n
, 
fuÎM©ch
 -> 
	`cÚv”tImage
(
fe
, fullMatch));

84  
cu¼’tLše
.
	`g‘AndS‘
("");

85 
	}
}

87 
´iv©e
 
»¶aûAÎM©chesInLšeP¬tŸÎy
(
fš®
 
AtomicReã»nû
<
SŒšg
> 
cu¼’tLše
, 
P©‹º
 
zimP©‹º
, SŒšg 
m©chP¬tToBeR•Ïûd
, SŒšg 
»¶aûm’tFÜM©chP¬t
) {

88 
»¶aûAÎM©chesInLše
(
cu¼’tLše
, 
zimP©‹º
, 
fuÎM©ch
 -> fuÎM©ch.
»¶aûAÎ
(
m©chP¬tToBeR•Ïûd
, 
»¶aûm’tFÜM©chP¬t
));

91 
´iv©e
 
»¶aûAÎM©chesInLše
(
fš®
 
AtomicReã»nû
<
SŒšg
> 
cu¼’tLše
, 
P©‹º
 
zimP©‹º
, 
FunùiÚ
<SŒšg, SŒšg> 
»¶aûM©chW™hM¬kdown
) {

92 
M©ch”
 
	gm©ch”
 = 
zimP©‹º
.
m©ch”
(
cu¼’tLše
.
g‘
());

93 
SŒšgBufãr
 
	g»¶aûdLše
 = 
Ãw
 StringBuffer();

94 
	gm©ch”
.
fšd
()) {

95 
SŒšg
 
	gfuÎM©ch
 = 
m©ch”
.
group
();

96 
SŒšg
 
	g»¶aûm’tFÜM©ch
 = 
»¶aûM©chW™hM¬kdown
.
­¶y
(
fuÎM©ch
);

97 
	gm©ch”
.
­³ndR•Ïûm’t
(
»¶aûdLše
, 
»¶aûm’tFÜM©ch
);

99 
	gm©ch”
.
­³ndTa
(
»¶aûdLše
);

100 
	gcu¼’tLše
.
£t
(
»¶aûdLše
.
toSŒšg
());

103 
´iv©e
 
SŒšg
 
	$cÚv”tH—dšg
(
SŒšg
 
group
) {

105 
equ®SignsCouÁ
 = 0;

106 
group
.
	`ch¬At
(
equ®SignsCouÁ
) == '=')

107 
equ®SignsCouÁ
++;

110 
m¬kdownLev–
 = 7 - 
M©h
.
	`mš
(6, 
equ®SignsCouÁ
);

112  
SŒšg
.
	`fÜm©
("%s %s",

113 
SŒšgUts
.
	`»³©Ch¬s
('#', 
m¬kdownLev–
),

114 
group
.
	`»¶aûAÎ
("^=+\\s*|\\s*=+$", ""));

115 
	}
}

117 
´iv©e
 
SŒšg
 
	$cÚv”tHighligh‹d
(
SŒšg
 
fuÎM©ch
, 
fš®
 
boŞ—n
 
isExpÜtInLightMode
) {

118 
SŒšg
 
cÚ‹Á
 = 
fuÎM©ch
.
	`sub¡ršg
(2, fuÎM©ch.
	`Ëngth
() - 2);

119  "<¥ª styË=\"background-cŞÜ: " + (
isExpÜtInLightMode
 ? "#ffff00" : "#FFA062"è+ "\">" + 
cÚ‹Á
 + "</span>";

120 
	}
}

122 
´iv©e
 
SŒšg
 
	$cÚv”tCheckli¡
(
SŒšg
 
fuÎM©ch
) {

124 
M©ch”
 
m©ch”
 = 
P©‹º
.
	`compe
("\\[([ *x>])]").
	`m©ch”
(
fuÎM©ch
);

125 
m©ch”
.
	`fšd
();

126 
SŒšg
 
checkboxCÚ‹Á
 = 
m©ch”
.
	`group
(1);

127 ià("*".
	`equ®s
(
checkboxCÚ‹Á
)) {

128  
m©ch”
.
	`»¶aûFœ¡
("- [x]");

130  
m©ch”
.
	`»¶aûFœ¡
("- [ ]");

131 
	}
}

133 
´iv©e
 
SŒšg
 
	$cÚv”tLšk
(
SŒšg
 
group
, 
CÚ‹xt
 
cÚ‹xt
, 
Fe
 
fe
) {

134 
SŒšg
[] 
·œ
 = 
group


135 .
	`»¶aûAÎ
("^\\[+", "")

136 .
	`»¶aûAÎ
("]+$", "")

137 .
	`¥l™
("\\|");

139 
SŒšgBud”
 
fuÎP©h
 = 
Ãw
 
	`SŒšgBud”
();

140 ià(
·œ
[0].
	`ch¬At
(0) == '+') {

141 
fuÎP©h
.
	`­³nd
("file://");

142 
fuÎP©h
.
	`­³nd
(
cÚ‹xt
.
	`g‘FesDœ
().
	`g‘AbsŞu‹P©h
());

143 
fuÎP©h
.
	`­³nd
(
Fe
.
£·¿tÜ
);

144 
fuÎP©h
.
	`­³nd
(
·œ
[0].
	`sub¡ršg
(1));

145 
fuÎP©h
.
	`­³nd
(".txt");

146 } ià(
·œ
[0].
	`m©ches
("^[a-z]+://.+$")) {

147 
fuÎP©h
.
	`­³nd
(
·œ
[0]);

149 
fuÎP©h
.
	`­³nd
("file://");

150 ià(
·œ
[0].
	`ch¬At
(0) == ':')

151 
fuÎP©h
.
	`­³nd
(
cÚ‹xt
.
	`g‘FesDœ
().
	`g‘AbsŞu‹P©h
());

153 
fuÎP©h
.
	`­³nd
(
fe
.
	`g‘P¬’tFe
().
	`g‘AbsŞu‹P©h
());

154 
SŒšg
 
tok’
 : 
·œ
[0].
	`¥l™
(":")) {

155 
fuÎP©h
.
	`­³nd
(
Fe
.
£·¿tÜ
);

156 
fuÎP©h
.
	`­³nd
(
tok’
);

158 
fuÎP©h
.
	`­³nd
(".txt");

161  
SŒšg
.
	`fÜm©
("[%s](%s)", 
·œ
[·œ.
Ëngth
 - 1], 
fuÎP©h
.
	`toSŒšg
().
	`»¶aûAÎ
(" ", "%20"));

162 
	}
}

164 
´iv©e
 
SŒšg
 
	$cÚv”tImage
(
Fe
 
fe
, 
SŒšg
 
fuÎM©ch
) {

165 
SŒšg
 
imageP©hFromPageFŞd”
 = 
fuÎM©ch
.
	`sub¡ršg
(2, fuÎM©ch.
	`Ëngth
() - 2);

166 
SŒšg
 
cu¼’tPageFeName
 = 
fe
.
	`g‘Name
();

167 
SŒšg
 
cu¼’tPageFŞd”Name
 = 
cu¼’tPageFeName
.
	`»¶aûFœ¡
(".txt$", "");

168 
SŒšg
 
m¬kdownP©hToImage
 = 
F’ameUts
.
	`cÚÿt
(
cu¼’tPageFŞd”Name
, 
imageP©hFromPageFŞd”
);

169  "![" + 
fe
.
	`g‘Name
(è+ "](" + 
m¬kdownP©hToImage
 + ")";

170 
	}
}

178 @
Ov”ride


179 
public
 
boŞ—n
 
	$isFeOutOfThisFÜm©
(
SŒšg
 
f•©h
) {

180 ià(
f•©h
.
	`m©ches
("(?i)^.+\\.txt$")) {

181 
Bufã»dR—d”
 
»ad”
 = 
nuÎ
;

182 
Œy
 {

183 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`FeR—d”
Òew 
	`Fe
(
f•©h
)));

184  
ZimWikiHighligh‹r
.
P©‹ºs
.
ZIMHEADER_CONTENT_TYPE_ONLY
.
·‰”n
.
	`m©ch”
(
»ad”
.
	`»adLše
()).
	`fšd
();

185 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

186 } 
fš®ly
 {

187 
Œy
 {

188 ià(
»ad”
 !ğ
nuÎ
) {

189 
»ad”
.
	`şo£
();

191 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

195  
çl£
;

196 
	}
}

	@app/src/main/java/net/gsantner/markor/model/Document.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

14 
impÜt
 
	gjava
.
	gio
.
	gFe
;

15 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

16 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

18 @
Suµ»ssW¬nšgs
({"WeakerAccess", "UnusedReturnValue", "unused"})

19 
public
 cÏs 
	cDocum’t
 
im¶em’ts
 
	mS”ŸlizabË
 {

20 
´iv©e
 
fš®
 
	mMIN_HISTORY_DELAY
 = 1500;

21 
´iv©e
 
fš®
 
	mMAX_HISTORY_SIZE
 = 5;

23 
´iv©e
 
	m_fÜm©
 = 
TextFÜm©
.
FORMAT_UNKNOWN
;

24 
´iv©e
 
	mA¼ayLi¡
<
	mDocum’t
> 
	m_hi¡Üy
 = 
Ãw
 
A¼ayLi¡
<>();

25 
´iv©e
 
Fe
 
	m_fe
 = 
nuÎ
;

26 
´iv©e
 
SŒšg
 
	m_t™Ë
 = "";

27 
´iv©e
 
SŒšg
 
	m_feEx‹nsiÚ
 = "";

28 
´iv©e
 
SŒšg
 
	m_cÚ‹Á
 = "";

29 
´iv©e
 
boŞ—n
 
	m_doHi¡Üy
 = 
Œue
;

30 
´iv©e
 
	m_hi¡ÜyPos™iÚ
 = 0;

31 
´iv©e
 
	m_Ï¡Chªged
 = 0;

32 
´iv©e
 
	m_modTime
 = 0;

33 
´iv©e
 
boŞ—n
 
	m_fÜûNoHi¡Üy
 = 
çl£
;

34 
´iv©e
 
	m_š™ŸlLšeNumb”
 = -1;

36 
public
 
	$Docum’t
() {

39 
public
 
	$Docum’t
(
Fe
 
fe
) {

40 
_fe
 = 
fe
;

41 
	}
}

43 
public
 
SŒšg
 
	$g‘P©h
(
fš®
 
Docum’t
 
docum’t
) {

44 ià(
docum’t
 !ğ
nuÎ
) {

45 
fš®
 
Fe
 
fe
 = 
docum’t
.
	`g‘Fe
();

46 ià(
fe
 !ğ
nuÎ
) {

47  
fe
.
	`g‘P©h
();

50  
nuÎ
;

51 
	}
}

53 
public
 
synchrÚized
 
Docum’t
 
	$şÚeDocum’t
() {

54  
	`äomDocum’tToDocum’t
(
this
, 
Ãw
 
	`Docum’t
());

55 
	}
}

57 
public
 
synchrÚized
 
Docum’t
 
	$lßdFromDocum’t
(
Docum’t
 
sourû
) {

58  
	`äomDocum’tToDocum’t
(
sourû
, 
this
);

59 
	}
}

61 
public
 
synchrÚized
 
Docum’t
 
	$äomDocum’tToDocum’t
(
Docum’t
 
sourû
, Docum’ˆ
rg‘
) {

62 
rg‘
.
	`£tDoHi¡Üy
(
çl£
);

63 
rg‘
.
	`£tFe
(
sourû
.
	`g‘Fe
());

64 
rg‘
.
	`£tT™Ë
(
sourû
.
	`g‘T™Ë
());

65 
rg‘
.
	`£tCÚ‹Á
(
sourû
.
	`g‘CÚ‹Á
());

66 
rg‘
.
	`£tFÜm©
(
sourû
.
	`g‘FÜm©
());

67 
rg‘
.
	`£tModTime
(
sourû
.
	`g‘ModTime
());

68 
rg‘
.
	`£tDoHi¡Üy
(
Œue
);

69  
rg‘
;

70 
	}
}

72 
public
 
synchrÚized
 
boŞ—n
 
	$ÿnGoToE¬l›rV”siÚ
() {

77  
_hi¡ÜyPos™iÚ
 > 0 && 
_hi¡Üy
.
	`size
() > 0;

78 
	}
}

80 
public
 
synchrÚized
 
boŞ—n
 
	$ÿnGoToNew”V”siÚ
() {

85  
_hi¡ÜyPos™iÚ
 < 
_hi¡Üy
.
	`size
() - 1;

86 
	}
}

88 
public
 
synchrÚized
 
	$goToE¬l›rV”siÚ
() {

89 ià(
	`ÿnGoToE¬l›rV”siÚ
()) {

91 ià(
	`hasChªgesNÙInHi¡Üy
()) {

92 
	`fÜûAddNextChªgeToHi¡Üy
();

93 
	`addToHi¡Üy
();

94 
_hi¡ÜyPos™iÚ
--;

97 
_hi¡ÜyPos™iÚ
--;

98 ià(
_hi¡ÜyPos™iÚ
 >ğ0 && _hi¡ÜyPos™iÚ < 
_hi¡Üy
.
	`size
()) {

99 
	`lßdFromDocum’t
(
_hi¡Üy
.
	`g‘
(
_hi¡ÜyPos™iÚ
));

102 
	}
}

104 
public
 
boŞ—n
 
	$hasChªgesNÙInHi¡Üy
() {

105  
_hi¡ÜyPos™iÚ
 =ğ
_hi¡Üy
.
	`size
(è&& (_hi¡Üy.size(è=ğ0 || !_hi¡Üy.
	`g‘
(_hi¡Üy.size(è- 1).
	`equ®s
(
this
));

106 
	}
}

108 
public
 
synchrÚized
 
	$goToNew”V”siÚ
() {

109 ià(
	`ÿnGoToNew”V”siÚ
()) {

110 
_hi¡ÜyPos™iÚ
++;

111 
	`lßdFromDocum’t
(
_hi¡Üy
.
	`g‘
(
_hi¡ÜyPos™iÚ
));

113 
	}
}

115 
public
 
synchrÚized
 
	$addToHi¡Üy
() {

116 ià(
	`isDoHi¡Üy
(è&& (((
_Ï¡Chªged
 + 
MIN_HISTORY_DELAY
è< 
Sy¡em
.
	`cu¼’tTimeMlis
()))) {

117 
_hi¡ÜyPos™iÚ
 !ğ
_hi¡Üy
.
	`size
() && _history.size() != 0) {

118 
_hi¡Üy
.
	`»move
(_hi¡Üy.
	`size
() - 1);

120 ià(
_hi¡Üy
.
	`size
(è>ğ
MAX_HISTORY_SIZE
) {

121 
_hi¡Üy
.
	`»move
(2);

122 
_hi¡ÜyPos™iÚ
--;

124 ià(
_hi¡Üy
.
	`isEm±y
(è|| (!_hi¡Üy.isEm±y(è&& !_hi¡Üy.
	`g‘
(_hi¡Üy.
	`size
(è- 1).
	`equ®s
(
this
))) {

125 
_hi¡Üy
.
	`add
(
	`şÚeDocum’t
());

126 
_hi¡ÜyPos™iÚ
++;

127 
_Ï¡Chªged
 = 
Sy¡em
.
	`cu¼’tTimeMlis
();

130 
	}
}

132 
public
 
synchrÚized
 
Fe
 
	$g‘Fe
() {

133  
_fe
;

134 
	}
}

136 
public
 
synchrÚized
 
	$£tFe
(
Fe
 
fe
) {

137 ià(!
	`equ®sc
(
	`g‘Fe
(), 
fe
)) {

138 
	`addToHi¡Üy
();

139 
_fe
 = 
fe
;

141 
	}
}

143 
public
 
synchrÚized
 
SŒšg
 
	$g‘T™Ë
() {

144  
_t™Ë
;

145 
	}
}

147 
public
 
synchrÚized
 
	$£tT™Ë
(
SŒšg
 
t™Ë
) {

148 ià(!
	`equ®sc
(
	`g‘T™Ë
(), 
t™Ë
)) {

149 
	`addToHi¡Üy
();

150 
_t™Ë
 = 
t™Ë
;

152 
	}
}

154 
public
 
synchrÚized
 
SŒšg
 
	$g‘CÚ‹Á
() {

155  
_cÚ‹Á
;

156 
	}
}

158 
public
 
synchrÚized
 
	$£tCÚ‹Á
(
SŒšg
 
cÚ‹Á
) {

159 ià(!
	`equ®sc
(
	`g‘CÚ‹Á
(), 
cÚ‹Á
)) {

160 
	`addToHi¡Üy
();

161 
_cÚ‹Á
 = 
cÚ‹Á
;

163 
	}
}

165 
public
 
synchrÚized
 
Docum’t
 
	$g‘In™ŸlV”siÚ
() {

166 ià(
	`hasChªgesNÙInHi¡Üy
()) {

167 
boŞ—n
 
hi¡Üy
 = 
	`isDoHi¡Üy
();

168 
	`£tDoHi¡Üy
(
Œue
);

169 
	`addToHi¡Üy
();

170 
	`£tDoHi¡Üy
(
hi¡Üy
);

172  
_hi¡Üy
.
	`size
(è=ğ0 ? 
this
 : _hi¡Üy.
	`g‘
(0);

173 
	}
}

175 @
Ov”ride


176 
public
 
boŞ—n
 
	$equ®s
(
Objeù
 
obj
) {

177 ià(
obj
 
š¡ªûof
 
Docum’t
) {

178 
Docum’t
 
Ùh”
 = ((Docum’tè
obj
);

179  
	`equ®sc
(
	`g‘Fe
(), 
Ùh”
.getFile())

180 && 
	`equ®sc
(
	`g‘T™Ë
(), 
Ùh”
.getTitle())

181 && 
	`equ®sc
(
	`g‘CÚ‹Á
(), 
Ùh”
.getContent());

183  
su³r
.
	`equ®s
(
obj
);

184 
	}
}

186 
´iv©e
 
boŞ—n
 
	$equ®sc
(
Objeù
 
o1
, Objeù 
o2
) {

187  (
o1
 =ğ
nuÎ
 && 
o2
 =ğnuÎè|| o1 !ğnuÎ && o1.
	`equ®s
(o2);

188 
	}
}

194 
public
 
boŞ—n
 
	$isDoHi¡Üy
() {

195  
_doHi¡Üy
 && !
_fÜûNoHi¡Üy
;

196 
	}
}

198 
public
 
	$£tDoHi¡Üy
(
boŞ—n
 
doHi¡Üy
) {

199 
_doHi¡Üy
 = 
doHi¡Üy
;

200 
	}
}

202 
public
 
	gA¼ayLi¡
<
	gDocum’t
> 
	$g‘Hi¡Üy
() {

203  
_hi¡Üy
;

204 
	}
}

206 
public
 
£tHi¡Üy
(
A¼ayLi¡
<
Docum’t
> 
hi¡Üy
) {

207 
	g_hi¡Üy
 = 
hi¡Üy
;

210 
public
 
	$g‘Hi¡ÜyPos™iÚ
() {

211  
_hi¡ÜyPos™iÚ
;

212 
	}
}

214 
public
 
	$£tHi¡ÜyPos™iÚ
(
hi¡ÜyPos™iÚ
) {

215 
_hi¡ÜyPos™iÚ
 = 
hi¡ÜyPos™iÚ
;

216 
	}
}

218 
public
 
	$fÜûAddNextChªgeToHi¡Üy
() {

219 
_Ï¡Chªged
 = 0;

220 
	}
}

222 
public
 
SŒšg
 
	$g‘FeEx‹nsiÚ
() {

223 ià(
_feEx‹nsiÚ
 =ğ
nuÎ
 && 
_fe
 !=‚ull) {

224 
_feEx‹nsiÚ
 = (
_fe
.
	`g‘Name
().
	`cÚšs
("."è? _fe.g‘Name().
	`sub¡ršg
(_fe.g‘Name().
	`Ï¡IndexOf
(".")è: "").
	`toLow”Ca£
();

226  
_feEx‹nsiÚ
;

227 
	}
}

229 
public
 
	$g‘La¡Chªged
() {

230  
_Ï¡Chªged
;

231 
	}
}

233 
public
 
	$g‘FÜm©
() {

234  
_fÜm©
;

235 
	}
}

237 
public
 
	$£tFÜm©
(
fÜm©
) {

238 
_fÜm©
 = 
fÜm©
;

239 
	}
}

241 
public
 
	$g‘ModTime
() {

242  
_modTime
;

243 
	}
}

245 
public
 
	$£tModTime
(
modTime
) {

246 
_modTime
 = 
modTime
;

247 
	}
}

249 
public
 
	$£tIn™ŸlLšeNumb”
(
fš®
 
lšeNumb”
) {

250 
_š™ŸlLšeNumb”
 = 
lšeNumb”
;

251 
	}
}

253 
public
 
	$g‘In™ŸlLšeNumb”
() {

254  
_š™ŸlLšeNumb”
;

255 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/AttachImageOrLinkDialog.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

3 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

4 
impÜt
 
	gªdroid
.
	g­p
.
	gAË¹DŸlog
;

5 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

6 
impÜt
 
	gªdroid
.
	g¬ch
.
	gcÜe
.
	gut
.
	gFunùiÚ
;

7 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gBrßdÿ¡Reûiv”
;

8 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gLoÿlBrßdÿ¡Mªag”
;

9 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAµCom·tAùiv™y
;

10 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

11 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

12 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

13 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBu‰Ú
;

14 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownHighligh‹rP©‹º
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighlightšgEd™Ü
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gAudioRecÜdOmDŸlog
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gGashM­
;

28 
impÜt
 
	gjava
.
	gio
.
	gFe
;

29 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

31 @
Suµ»ssW¬nšgs
({"UnusedReturnValue", "WeakerAccess"})

32 
public
 cÏs 
	cA‰achImageOrLškDŸlog
 {

33 
public
 
fš®
 
	mIMAGE_ACTION
 = 2, 
	mFILE_OR_LINK_ACTION
 = 3, 
	mAUDIO_ACTION
 = 4;

35 @
Suµ»ssW¬nšgs
("RedundantCast")

36 
public
 
DŸlog
 
	$showIn£¹ImageOrLškDŸlog
(
fš®
 
aùiÚ
, fš® 
‹xtFÜm©Id
, fš® 
Aùiv™y
 
aùiv™y
, fš® 
HighlightšgEd™Ü
 
_hlEd™Ü
, fš® 
Fe
 
cu¼’tWÜkšgFe
) {

37 
fš®
 
AµS‘tšgs
 
_­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
aùiv™y
.
	`g‘AµliÿtiÚCÚ‹xt
());

38 
fš®
 
ªdroid
.
suµÜt
.
v7
.
­p
.
AË¹DŸlog
.
Bud”
 
bud”
 = 
Ãw
‡ndroid.suµÜt.v7.­p.AË¹DŸlog.
	`Bud”
(
aùiv™y
);

39 
fš®
 
V›w
 
v›w
 = 
aùiv™y
.
	`g‘LayoutInæ©”
().
	`šæ©e
(
R
.
Ïyout
.
£Ëù_·th_dŸlog
, (
V›wGroup
è
nuÎ
);

40 
fš®
 
Ed™Text
 
šputP©hName
 = 
v›w
.
	`fšdV›wById
(
R
.
id
.
ui__£Ëù_·th_dŸlog__Çme
);

41 
fš®
 
Ed™Text
 
šputP©hU¾
 = 
v›w
.
	`fšdV›wById
(
R
.
id
.
ui__£Ëù_·th_dŸlog__u¾
);

42 
fš®
 
Bu‰Ú
 
bu‰ÚBrow£Fesy¡em
 = 
v›w
.
	`fšdV›wById
(
R
.
id
.
ui__£Ëù_·th_dŸlog__brow£_fesy¡em
);

43 
fš®
 
Bu‰Ú
 
bu‰ÚPiùu»G®Ëry
 = 
v›w
.
	`fšdV›wById
(
R
.
id
.
ui__£Ëù_·th_dŸlog__g®Ëry_piùu»
);

44 
fš®
 
Bu‰Ú
 
bu‰ÚPiùu»Cam”a
 = 
v›w
.
	`fšdV›wById
(
R
.
id
.
ui__£Ëù_·th_dŸlog__ÿm”a_piùu»
);

45 
fš®
 
Bu‰Ú
 
bu‰ÚPiùu»Ed™
 = 
v›w
.
	`fšdV›wById
(
R
.
id
.
ui__£Ëù_·th_dŸlog__ed™_piùu»
);

46 
fš®
 
Bu‰Ú
 
bu‰ÚAudioRecÜd
 = 
v›w
.
	`fšdV›wById
(
R
.
id
.
ui__£Ëù_·th_dŸlog__»cÜd_audio
);

48 
fš®
 
¡¬tCursÜPos
 = 
_hlEd™Ü
.
	`g‘S–eùiÚS¹
();

49 
bu‰ÚAudioRecÜd
.
	`£tVisib™y
(
aùiÚ
 =ğ
AUDIO_ACTION
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

50 
bu‰ÚPiùu»Cam”a
.
	`£tVisib™y
(
aùiÚ
 =ğ
IMAGE_ACTION
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

51 
bu‰ÚPiùu»G®Ëry
.
	`£tVisib™y
(
aùiÚ
 =ğ
IMAGE_ACTION
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

52 
bu‰ÚPiùu»Ed™
.
	`£tVisib™y
(
aùiÚ
 =ğ
IMAGE_ACTION
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

53 
fš®
 
aùiÚT™Ë
;

54 
fš®
 
SŒšg
 
fÜm©Tem¶©e
;

55 
aùiÚ
) {

57 
FILE_OR_LINK_ACTION
: {

58 
aùiÚT™Ë
 = 
R
.
¡ršg
.
š£¹_lšk
;

59 
fÜm©Tem¶©e
 = 
Ãw
 
GashM­
<
IÁeg”
, 
SŒšg
>().
	`lßd
(

60 
TextFÜm©
.
FORMAT_MARKDOWN
, "[{{emplate.title }}]({{emplate.link }})",

61 
TextFÜm©
.
FORMAT_ZIMWIKI
, "[[{{emplate.link }}|{{emplate.title }}]]"

62 ).
	`g‘OrDeçuÉ
(
‹xtFÜm©Id
, "<a href='{{emplate.link }}'>{{emplate.title }}</a>");

65 
IMAGE_ACTION
: {

66 
aùiÚT™Ë
 = 
R
.
¡ršg
.
š£¹_image
;

67 
fÜm©Tem¶©e
 = 
Ãw
 
GashM­
<
IÁeg”
, 
SŒšg
>().
	`lßd
(

68 
TextFÜm©
.
FORMAT_MARKDOWN
, "![{{emplate.title }}]({{emplate.link }})",

69 
TextFÜm©
.
FORMAT_ZIMWIKI
, "{{{{emplate.link }}}}"

70 ).
	`g‘OrDeçuÉ
(
‹xtFÜm©Id
, "<img style='width:auto;max-height: 256px;'‡lt='{{emplate.title }}' src='{{emplate.link }}' />");

73 
AUDIO_ACTION
: {

74 
fÜm©Tem¶©e
 = "<audio src='{{emplate.link }}' controls><a href='{{emplate.link }}'>{{emplate.title }}</a></audio>";

75 
aùiÚT™Ë
 = 
R
.
¡ršg
.
audio
;

82 ià(
‹xtFÜm©Id
 =ğ
TextFÜm©
.
FORMAT_MARKDOWN
) {

83 ià(
_hlEd™Ü
.
	`hasS–eùiÚ
()) {

84 
SŒšg
 
£Ëùed_‹xt
 = "";

85 
Œy
 {

86 
£Ëùed_‹xt
 = 
_hlEd™Ü
.
	`g‘Text
().
	`subSequ’û
(_hlEd™Ü.
	`g‘S–eùiÚS¹
(), _hlEd™Ü.
	`g‘S–eùiÚEnd
()).
	`toSŒšg
();

87 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

89 
šputP©hName
.
	`£tText
(
£Ëùed_‹xt
);

90 } ià(
_hlEd™Ü
.
	`g‘Text
().
	`toSŒšg
().
	`isEm±y
()) {

91 
šputP©hName
.
	`£tText
("");

93 
fš®
 
Ed™abË
 
cÚ‹ÁText
 = 
_hlEd™Ü
.
	`g‘Text
();

94 
lšeS¹idx
 = 
M©h
.
	`max
(
¡¬tCursÜPos
, 0);

95 
lšeEndidx
 = 
M©h
.
	`mš
(
¡¬tCursÜPos
, 
cÚ‹ÁText
.
	`Ëngth
() - 1);

96 
lšeS¹idx
 = 
M©h
.
	`mš
(
lšeEndidx
,†ineStartidx);

97 ; 
lšeS¹idx
 > 0;†ineStartidx--) {

98 ià(
cÚ‹ÁText
.
	`ch¬At
(
lšeS¹idx
) == '\n') {

102 ; 
lšeEndidx
 < 
cÚ‹ÁText
.
	`Ëngth
();†ineEndidx++) {

103 ià(
cÚ‹ÁText
.
	`ch¬At
(
lšeEndidx
) == '\n') {

108 
fš®
 
SŒšg
 
lše
 = 
cÚ‹ÁText
.
	`subSequ’û
(
lšeS¹idx
, 
lšeEndidx
).
	`toSŒšg
();

109 
M©ch”
 
m
 = (
aùiÚ
 =ğ
FILE_OR_LINK_ACTION
 ? 
M¬kdownHighligh‹rP©‹º
.
ACTION_LINK_PATTERN
 : M¬kdownHighligh‹rP©‹º.
ACTION_IMAGE_PATTERN
).
·‰”n
.
	`m©ch”
(
lše
);

110 ià(
m
.
	`fšd
(è&& 
¡¬tCursÜPos
 > 
lšeS¹idx
 + m.
	`¡¬t
(è&& s¹CursÜPo < m.
	`’d
() +†ineStartidx) {

111 
¡©
 = 
lšeS¹idx
 + 
m
.
	`¡¬t
();

112 
’
 = 
lšeS¹idx
 + 
m
.
	`’d
();

113 
_hlEd™Ü
.
	`£tS–eùiÚ
(
¡©
, 
’
);

114 
šputP©hName
.
	`£tText
(
m
.
	`group
(1));

115 
šputP©hU¾
.
	`£tText
((
m
.
	`group
(2)));

122 
fš®
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”
 
fsLi¡’”
 = 
Ãw
 Fesy¡emV›w”D©a.
	`S–eùiÚLi¡’”Ad­‹r
() {

123 @
Ov”ride


124 
public
 
	`ÚFsV›w”S–eùed
(
fš®
 
SŒšg
 
»que¡
, fš® 
Fe
 
fe
, fš® 
IÁeg”
 
lšeNumb”
) {

125 
fš®
 
SŒšg
 
§veDœ
 = 
_­pS‘tšgs
.
	`g‘NÙebookDœeùÜyAsSŒ
();

126 
SŒšg
 
‹xt
 = 
nuÎ
;

127 
boŞ—n
 
isInSaveDœ
 = 
fe
.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(
§veDœ
è&& 
cu¼’tWÜkšgFe
.getAbsolutePath().startsWith(saveDir);

128 
boŞ—n
 
isInCu¼’tDœ
 = 
cu¼’tWÜkšgFe
.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(
fe
.
	`g‘P¬’tFe
().getAbsolutePath());

129 ià(
isInCu¼’tDœ
 || 
isInSaveDœ
) {

130 
‹xt
 = 
FeUts
.
	`»ÏtiveP©h
(
cu¼’tWÜkšgFe
, 
fe
);

131 } ià("abs_if_nÙ_»Ïtive".
	`equ®s
(
»que¡
)) {

132 
‹xt
 = 
fe
.
	`g‘AbsŞu‹P©h
();

134 
SŒšg
 
f’ame
 = 
fe
.
	`g‘Name
();

135 ià("audio_»cÜd_om_dŸlog".
	`equ®s
(
»que¡
)) {

136 
f’ame
 = 
AudioRecÜdOmDŸlog
.
	`g’”©eF’ame
(
fe
).
	`g‘Name
();

138 
Fe
 
rg‘Cİy
 = 
Ãw
 
	`Fe
(
cu¼’tWÜkšgFe
.
	`g‘P¬’tFe
(), 
f’ame
);

139 
	`showCİyFeToDœDŸlog
(
aùiv™y
, 
fe
, 
rg‘Cİy
, 
çl£
, (
cbR‘V®Sucûss
, 
cbRe¡V®T¬g‘Fe
è-> 
	`ÚFsV›w”S–eùed
("abs_if_nÙ_»Ïtive", cbRe¡V®T¬g‘Fe, 
nuÎ
));

141 ià(
‹xt
 =ğ
nuÎ
) {

142 
‹xt
 = 
fe
.
	`g‘AbsŞu‹P©h
();

145 
šputP©hU¾
.
	`£tText
(
‹xt
);

147 ià(
šputP©hName
.
	`g‘Text
().
	`toSŒšg
().
	`isEm±y
()) {

148 
‹xt
 = 
fe
.
	`g‘Name
();

149 
‹xt
 =ext.
	`cÚšs
("."è?ext.
	`sub¡ršg
(0,ext.
	`Ï¡IndexOf
('.')) :ext;

150 
šputP©hName
.
	`£tText
(
‹xt
);

152 
‹xt
 = 
šputP©hU¾
.
	`g‘Text
().
	`toSŒšg
();

153 
Œy
 {

154 ià(
‹xt
.
	`¡¬tsW™h
("../as£ts/"è&& 
cu¼’tWÜkšgFe
.
	`g‘P¬’tFe
().
	`g‘Name
().
	`equ®s
("_posts")) {

155 
‹xt
 = "{{ s™e.ba£u¾ }}" +ext.
	`sub¡ršg
(2);

156 
šputP©hU¾
.
	`£tText
(
‹xt
);

158 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

162 @
Ov”ride


163 
public
 
	`ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

164 ià(
cu¼’tWÜkšgFe
 !ğ
nuÎ
) {

165 
dİt
.
roÙFŞd”
 = 
cu¼’tWÜkšgFe
.
	`g‘P¬’tFe
();

171 
fš®
 
Sh¬eUt
 
shu
 = 
Ãw
 
	`Sh¬eUt
(
aùiv™y
);

172 
fš®
 
Brßdÿ¡Reûiv”
 
lbr
 = 
shu
.
	`»ûiveResuÉFromLoÿlBrßdÿ¡
((
š‹Á
, 
lbr_»f
) -> {

173 
fsLi¡’”
.
	`ÚFsV›w”S–eùed
("pic", 
Ãw
 
	`Fe
(
š‹Á
.
	`g‘SŒšgExŒa
(
Sh¬eUt
.
EXTRA_FILEPATH
)), 
nuÎ
);

175 
çl£
, 
Sh¬eUt
.
REQUEST_CAMERA_PICTURE
 + "", Sh¬eUt.
REQUEST_PICK_PICTURE
 + "");

176 
fš®
 
Fe
 
rg‘FŞd”
 = 
cu¼’tWÜkšgFe
 !ğ
nuÎ
 ? cu¼’tWÜkšgFe.
	`g‘P¬’tFe
(è: 
_­pS‘tšgs
.
	`g‘NÙebookDœeùÜy
();

177 
bu‰ÚPiùu»Cam”a
.
	`£tOnClickLi¡’”
(
bu‰Ú
 -> 
shu
.
	`»que¡Cam”aPiùu»
(
rg‘FŞd”
));

178 
bu‰ÚPiùu»G®Ëry
.
	`£tOnClickLi¡’”
(
bu‰Ú
 -> 
shu
.
	`»que¡G®ËryPiùu»
());

180 
bu‰ÚBrow£Fesy¡em
.
	`£tOnClickLi¡’”
(
bu‰Ú
 -> {

181 ià(
aùiv™y
 
š¡ªûof
 
AµCom·tAùiv™y
) {

182 
AµCom·tAùiv™y
 
a
 = (AµCom·tAùiv™yè
aùiv™y
;

183 
FunùiÚ
<
Fe
, 
BoŞ—n
> 
f
 = 
aùiÚ
 =ğ
AUDIO_ACTION
 ? 
Fesy¡emV›w”C»©Ü
.
IsMimeAudio
 : (aùiÚ =ğ
FILE_OR_LINK_ACTION
 ? 
nuÎ
 : Fesy¡emV›w”C»©Ü.
IsMimeImage
);

184 
Fesy¡emV›w”C»©Ü
.
	`showFeDŸlog
(
fsLi¡’”
, 
a
.
	`g‘SuµÜtF¿gm’tMªag”
(), 
aùiv™y
, 
f
);

189 
bu‰ÚAudioRecÜd
.
	`£tOnClickLi¡’”
(
v
 -> 
AudioRecÜdOmDŸlog
.
	`showAudioRecÜdDŸlog
(
aùiv™y
, 
R
.
¡ršg
.
»cÜd_audio
, 
cbV®AudioRecÜdF•©h
 -> 
fsLi¡’”
.
	`ÚFsV›w”S–eùed
("audio_»cÜd_om_dŸlog", cbV®AudioRecÜdF•©h, 
nuÎ
)));

191 
bu‰ÚPiùu»Ed™
.
	`£tOnClickLi¡’”
(
v
 -> {

192 
SŒšg
 
f•©h
 = 
šputP©hU¾
.
	`g‘Text
().
	`toSŒšg
().
	`»¶aû
("%20", " ");

193 ià(!
f•©h
.
	`¡¬tsW™h
("/")) {

194 
f•©h
 = 
Ãw
 
	`Fe
(
cu¼’tWÜkšgFe
.
	`g‘P¬’t
(), f•©h).
	`g‘AbsŞu‹P©h
();

196 
Fe
 
fe
 = 
Ãw
 
	`Fe
(
f•©h
);

197 ià(
fe
.
	`exi¡s
(è&& fe.
	`isFe
()) {

198 
shu
.
	`»que¡Piùu»Ed™
(
fe
);

202 
bud”
.
	`£tV›w
(
v›w
)

203 .
	`£tT™Ë
(
aùiÚT™Ë
)

204 .
	`£tOnDismissLi¡’”
(
dŸlog
 -> 
LoÿlBrßdÿ¡Mªag”
.
	`g‘In¡ªû
(
aùiv™y
).
	`uÄegi¡”Reûiv”
(
lbr
))

205 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
, (
dŸlogIÁ”çû
, 
i
) -> {

206 ià(
_hlEd™Ü
.
	`hasS–eùiÚ
()) {

207 
_hlEd™Ü
.
	`£tS–eùiÚ
(
¡¬tCursÜPos
);

210 .
	`£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, (
dŸlog
, 
id
) -> {

211 
Œy
 {

212 
SŒšg
 
t™Ë
 = 
šputP©hName
.
	`g‘Text
().
	`toSŒšg
().
	`»¶aû
(")", "\\)");

213 
SŒšg
 
u¾
 = 
šputP©hU¾
.
	`g‘Text
().
	`toSŒšg
().
	`Œim
().
	`»¶aû
(")", "\\)").replace(" ", "%20");

214 
u¾
 = u¾.
	`»¶aû
("{{%20site.baseurl%20}}", "{{ site.baseurl }}");

215 
SŒšg
 
ÃwText
 = 
fÜm©Tem¶©e
.
	`»¶aû
("{{em¶©e.t™Ë }}", 
t™Ë
).»¶aû("{{em¶©e.lšk }}", 
u¾
);

216 ià(
‹xtFÜm©Id
 =ğ
TextFÜm©
.
FORMAT_ZIMWIKI
 && 
ÃwText
.
	`’dsW™h
("|]]")) {

217 
ÃwText
 =‚ewText.
	`»¶aûFœ¡
("\\|]]$", "]]");

219 ià(
_hlEd™Ü
.
	`hasS–eùiÚ
()) {

220 
_hlEd™Ü
.
	`g‘Text
().
	`»¶aû
(_hlEd™Ü.
	`g‘S–eùiÚS¹
(), _hlEd™Ü.
	`g‘S–eùiÚEnd
(), 
ÃwText
);

221 
_hlEd™Ü
.
	`£tS–eùiÚ
(_hlEd™Ü.
	`g‘S–eùiÚS¹
());

223 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(_hlEd™Ü.
	`g‘S–eùiÚS¹
(), 
ÃwText
);

225 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

228  
bud”
.
	`show
();

231 
public
 
DŸlog
 
	`showCİyFeToDœDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
Fe
 
¤cFe
, fš® F
rFe
, 
boŞ—n
 
di§bËCªûl
, fš® 
C®lback
.
a2
<
BoŞ—n
, Fe> 
cİyFeFšishedC®lback
) {

232 
fš®
 
C®lback
.
a1
<
Fe
> 
cİyToDœInvoÿtiÚ
 = 
cbV®T¬g‘Fe
 -> 
Ãw
 
	`Sh¬eUt
(
aùiv™y
).
	`wr™eFe
(cbV®T¬g‘Fe, 
çl£
, (
wfCbV®O³Ãd
, 
wfCbV®SŒ—m
) -> {

233 ià(
wfCbV®O³Ãd
 && 
FeUts
.
	`cİyFe
(
¤cFe
, 
wfCbV®SŒ—m
)) {

234 
cİyFeFšishedC®lback
.
	`ÿÎback
(
Œue
, 
cbV®T¬g‘Fe
);

238 
fš®
 
Fe
 
rFeInAs£tsDœ
 = 
Ãw
 
	`Fe
Òew 
	`AµS‘tšgs
(
aùiv™y
).
	`g‘NÙebookDœeùÜy
(), 
rFe
.
	`g‘Name
());

241 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
aùiv™y
)

242 .
	`£tT™Ë
(
R
.
¡ršg
.
cİy_fe
)

243 .
	`£tMes§ge
(
R
.
¡ršg
.
fe_nÙ_š_cu¼’t_fŞd”_do_cİy__­p¥ecific
)

244 .
	`£tPos™iveBu‰Ú
(
R
.
¡ršg
.
cu¼’t
, (
dŸlogIÁ”çû
, 
which
è-> 
cİyToDœInvoÿtiÚ
.
	`ÿÎback
(
rFe
))

245 .
	`£tNeuŒ®Bu‰Ú
(
R
.
¡ršg
.
nÙebook
, (
dŸlogIÁ”çû
, 
which
è-> 
cİyToDœInvoÿtiÚ
.
	`ÿÎback
(
rFeInAs£tsDœ
));

246 ià(
di§bËCªûl
) {

247 
dŸlogBud”
.
	`£tCªûÏbË
(
çl£
);

249 
dŸlogBud”
.
	`£tNeg©iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
no
, 
nuÎ
);

251  
dŸlogBud”
.
	`show
();

252 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/DraggableScrollbarScrollView.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

3 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

5 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

6 
impÜt
 
	gªdroid
.
	gut
.
	gDi¥ÏyM‘rics
;

7 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

8 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

9 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSüŞlV›w
;

11 @
Suµ»ssLšt
("ClickableViewAccessibility")

12 
public
 cÏs 
	cD¿ggabËSüŞlb¬SüŞlV›w
 
ex‹nds
 
	mSüŞlV›w
 {

14 
´iv©e
 
boŞ—n
 
	m_isFa¡SüŞlšg
 = 
çl£
;

15 
´iv©e
 
boŞ—n
 
	m_ç¡SüŞlEÇbËd
 = 
Œue
;

16 
´iv©e
 
boŞ—n
 
	m_Ér
 = 
Œue
;

17 
´iv©e
 
	m_thumbHeight
;

18 
´iv©e
 
	m_g¿bWidth
;

20 
public
 
	$D¿ggabËSüŞlb¬SüŞlV›w
(
CÚ‹xt
 
cÚ‹xt
) {

21 
	`su³r
(
cÚ‹xt
);

24 
public
 
	$D¿ggabËSüŞlb¬SüŞlV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

25 
	`su³r
(
cÚ‹xt
, 
©Œs
);

26 
	}
}

28 
public
 
	$D¿ggabËSüŞlb¬SüŞlV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

29 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

30 
	}
}

32 @
Ov”ride


33 
public
 
boŞ—n
 
	$ÚIÁ”û±TouchEv’t
(
MÙiÚEv’t
 
ev
) {

34 ià(!
_ç¡SüŞlEÇbËd
) {

35  
su³r
.
	`ÚIÁ”û±TouchEv’t
(
ev
);

37 ià(
_isFa¡SüŞlšg
) {

38  
Œue
;

40 ià(
ev
.
	`g‘AùiÚMasked
(è=ğ
MÙiÚEv’t
.
ACTION_DOWN
 &&

41 ((
_Ér
 && 
	`g‘Width
(è- 
_g¿bWidth
 < 
ev
.
	`g‘X
())

42 || (!
_Ér
 && 
_g¿bWidth
 > 
ev
.
	`g‘X
()))) {

43 
	`compu‹ThumbHeight
();

44 
	`awak’SüŞlB¬s
();

45 
süŞlb¬S¹Pos
 = (è
	`compu‹V”tiÿlSüŞlOff£t
(è/ 
	`compu‹V”tiÿlSüŞlRªge
(è* (
	`g‘Height
());

46 ià(
M©h
.
	`abs
(
ev
.
	`g‘Y
(è- 
süŞlb¬S¹Pos
è< 
_thumbHeight
) {

47 
_isFa¡SüŞlšg
 = 
Œue
;

49  
Œue
;

51  
su³r
.
	`ÚIÁ”û±TouchEv’t
(
ev
);

52 
	}
}

54 @
Ov”ride


55 
public
 
boŞ—n
 
	$ÚTouchEv’t
(
MÙiÚEv’t
 
ev
) {

56 
aùiÚ
 = 
ev
.
	`g‘AùiÚMasked
();

57 ià(
aùiÚ
 =ğ
MÙiÚEv’t
.
ACTION_CANCEL
 ||‡ùiÚ =ğMÙiÚEv’t.
ACTION_UP
) {

58 
_isFa¡SüŞlšg
 = 
çl£
;

60 ià(
_isFa¡SüŞlšg
 && 
aùiÚ
 =ğ
MÙiÚEv’t
.
ACTION_MOVE
) {

61 
	`smoÙhSüŞlTo
(0, (è(((
ev
.
	`g‘Y
(è- 
_thumbHeight
 / 2è/ (
	`g‘Height
(è- _thumbHeight)è* (
	`compu‹V”tiÿlSüŞlRªge
(è- 
	`compu‹V”tiÿlSüŞlEx‹Á
())));

62  
Œue
;

64  
su³r
.
	`ÚTouchEv’t
(
ev
);

65 
	}
}

68 
´iv©e
 
	$compu‹ThumbHeight
() {

69 
height
 = (è((è
	`compu‹V”tiÿlSüŞlEx‹Á
(è* 
	`g‘Height
(è/ 
	`compu‹V”tiÿlSüŞlRªge
());

70 
mšHeight
 = 
	`g‘Height
() / 8;

71 ià(
height
 < 
mšHeight
) {

72 
height
 = 
mšHeight
;

74 
_thumbHeight
 = 
height
;

75 
	}
}

77 @
Ov”ride


78 
´Ùeùed
 
	$ÚA‰achedToWšdow
() {

79 
su³r
.
	`ÚA‰achedToWšdow
();

80 
	`£tSmoÙhSüŞlšgEÇbËd
(
Œue
);

81 ià(
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 >ğªdroid.os.Bud.
VERSION_CODES
.
JELLY_BEAN_MR1
) {

82 
_Ér
 = 
	`g‘LayoutDœeùiÚ
(è=ğ
V›w
.
LAYOUT_DIRECTION_LTR
;

84 
fš®
 
Di¥ÏyM‘rics
 
di¥ÏyM‘rics
 = 
	`g‘CÚ‹xt
().
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
();

85 
_g¿bWidth
 = (è(1.5 * (è
	`g‘V”tiÿlSüŞlb¬Width
(è* 
di¥ÏyM‘rics
.
d’s™y
);

86 
	}
}

88 
public
 
	$£tFa¡SüŞlEÇbËd
(
boŞ—n
 
ç¡SüŞlEÇbËd
) {

89 
_ç¡SüŞlEÇbËd
 = 
ç¡SüŞlEÇbËd
;

90 
	}
}

92 
public
 
boŞ—n
 
	$isFa¡SüŞlEÇbËd
() {

93  
_ç¡SüŞlEÇbËd
;

94 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/DraggableScrollbarWebView.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

3 
impÜt
 
	gªdroid
.
	gªim©iÚ
.
	gObjeùAnim©Ü
;

4 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

6 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

7 
impÜt
 
	gªdroid
.
	gut
.
	gDi¥ÏyM‘rics
;

8 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

9 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

10 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

12 @
Suµ»ssLšt
("ClickableViewAccessibility")

13 
public
 cÏs 
	cD¿ggabËSüŞlb¬WebV›w
 
ex‹nds
 
	mWebV›w
 {

15 
´iv©e
 
boŞ—n
 
	m_isFa¡SüŞlšg
 = 
çl£
;

16 
´iv©e
 
boŞ—n
 
	m_ç¡SüŞlEÇbËd
 = 
Œue
;

17 
´iv©e
 
boŞ—n
 
	m_Ér
 = 
Œue
;

18 
´iv©e
 
	m_thumbHeight
;

19 
´iv©e
 
	m_g¿bWidth
;

21 
public
 
	$D¿ggabËSüŞlb¬WebV›w
(
CÚ‹xt
 
cÚ‹xt
) {

22 
	`su³r
(
cÚ‹xt
);

25 
public
 
	$D¿ggabËSüŞlb¬WebV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

26 
	`su³r
(
cÚ‹xt
, 
©Œs
);

27 
	}
}

29 
public
 
	$D¿ggabËSüŞlb¬WebV›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

30 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

31 
	}
}

33 @
Ov”ride


34 
public
 
boŞ—n
 
	$ÚIÁ”û±TouchEv’t
(
MÙiÚEv’t
 
ev
) {

35 ià(!
_ç¡SüŞlEÇbËd
) {

36  
su³r
.
	`ÚIÁ”û±TouchEv’t
(
ev
);

38 ià(
_isFa¡SüŞlšg
) {

39  
Œue
;

41 ià(
ev
.
	`g‘AùiÚMasked
(è=ğ
MÙiÚEv’t
.
ACTION_DOWN
 &&

42 ((
_Ér
 && 
	`g‘Width
(è- 
_g¿bWidth
 < 
ev
.
	`g‘X
())

43 || (!
_Ér
 && 
_g¿bWidth
 > 
ev
.
	`g‘X
()))) {

44 
	`compu‹ThumbHeight
();

45 
	`awak’SüŞlB¬s
();

46 
süŞlb¬S¹Pos
 = (è
	`compu‹V”tiÿlSüŞlOff£t
(è/ 
	`compu‹V”tiÿlSüŞlRªge
(è* (
	`g‘Height
());

47 ià(
M©h
.
	`abs
(
ev
.
	`g‘Y
(è- 
süŞlb¬S¹Pos
è< 
_thumbHeight
) {

48 
_isFa¡SüŞlšg
 = 
Œue
;

50  
Œue
;

52  
su³r
.
	`ÚIÁ”û±TouchEv’t
(
ev
);

53 
	}
}

55 @
Ov”ride


56 
public
 
boŞ—n
 
	$ÚTouchEv’t
(
MÙiÚEv’t
 
ev
) {

57 
aùiÚ
 = 
ev
.
	`g‘AùiÚMasked
();

58 ià(
aùiÚ
 =ğ
MÙiÚEv’t
.
ACTION_CANCEL
 ||‡ùiÚ =ğMÙiÚEv’t.
ACTION_UP
) {

59 
_isFa¡SüŞlšg
 = 
çl£
;

61 ià(
_isFa¡SüŞlšg
 && 
aùiÚ
 =ğ
MÙiÚEv’t
.
ACTION_MOVE
) {

62 
	`süŞlTo
(0, (è(((
ev
.
	`g‘Y
(è- 
_thumbHeight
 / 2è/ (
	`g‘Height
(è- _thumbHeight)è* (
	`compu‹V”tiÿlSüŞlRªge
(è- 
	`compu‹V”tiÿlSüŞlEx‹Á
())));

63  
Œue
;

65  
su³r
.
	`ÚTouchEv’t
(
ev
);

66 
	}
}

69 
´iv©e
 
	$compu‹ThumbHeight
() {

70 
height
 = (è((è
	`compu‹V”tiÿlSüŞlEx‹Á
(è* 
	`g‘Height
(è/ 
	`compu‹V”tiÿlSüŞlRªge
());

71 
mšHeight
 = 
	`g‘Height
() / 8;

72 ià(
height
 < 
mšHeight
) {

73 
height
 = 
mšHeight
;

75 
_thumbHeight
 = 
height
;

76 
	}
}

78 @
Ov”ride


79 
´Ùeùed
 
	$ÚA‰achedToWšdow
() {

80 
su³r
.
	`ÚA‰achedToWšdow
();

81 ià(
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 >ğªdroid.os.Bud.
VERSION_CODES
.
JELLY_BEAN_MR1
) {

82 
_Ér
 = 
	`g‘LayoutDœeùiÚ
(è=ğ
V›w
.
LAYOUT_DIRECTION_LTR
;

84 
fš®
 
Di¥ÏyM‘rics
 
di¥ÏyM‘rics
 = 
	`g‘CÚ‹xt
().
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
();

85 
_g¿bWidth
 = (è(1.5 * (è
	`g‘V”tiÿlSüŞlb¬Width
(è* 
di¥ÏyM‘rics
.
d’s™y
);

86 
	}
}

88 
public
 
	$£tFa¡SüŞlEÇbËd
(
boŞ—n
 
ç¡SüŞlEÇbËd
) {

89 
_ç¡SüŞlEÇbËd
 = 
ç¡SüŞlEÇbËd
;

90 
	}
}

92 
public
 
boŞ—n
 
	$isFa¡SüŞlEÇbËd
() {

93  
_ç¡SüŞlEÇbËd
;

94 
	}
}

98 
public
 
	$süŞlAnim©edToXY
(
fš®
 
süŞlX
, fš® 
süŞlY
, ... 
¬g0D–ay__¬g1Du¿tiÚ
) {

99 
fš®
 
d–ay
 = 
M©h
.
	`max
(1, 
¬g0D–ay__¬g1Du¿tiÚ
 !ğ
nuÎ
 &&‡rg0D–ay__¬g1Du¿tiÚ.
Ëngth
 > 0 ?‡rg0Delay__arg1Duration[0] : 500);

100 
fš®
 
du¿tiÚ
 = 
M©h
.
	`max
(1, 
¬g0D–ay__¬g1Du¿tiÚ
 !ğ
nuÎ
 &&‡rg0D–ay__¬g1Du¿tiÚ.
Ëngth
 > 1 ?‡rg0Delay__arg1Duration[1] : 400);

102 
	`po¡D–ayed
(() -> {

103 
fš®
 
ObjeùAnim©Ü
 
ªim
 : 
Ãw
 ObjeùAnim©Ü[]{ObjeùAnim©Ü.
	`ofIÁ
(
D¿ggabËSüŞlb¬WebV›w
.
this
, "süŞlY", 0, 
süŞlY
), ObjeùAnim©Ü.ofIÁ(D¿ggabËSüŞlb¬WebV›w.this, "süŞlX", 0, 
süŞlX
)}) {

104 
ªim
.
	`£tDu¿tiÚ
(
du¿tiÚ
);

105 
ªim
.
	`¡¬t
();

107 }, 
d–ay
);

108 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/FileInfoDialog.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

12 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gIdRes
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gDŸlogF¿gm’t
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tMªag”
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gfÜm©
.
	gD©eUts
;

21 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

25 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckBox
;

26 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

27 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSh¬eUt
;

34 
impÜt
 
	gjava
.
	gio
.
	gFe
;

35 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

36 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicIÁeg”
;

38 
public
 cÏs 
	cFeInfoDŸlog
 
ex‹nds
 
	mDŸlogF¿gm’t
 {

39 
public
 
fš®
 
SŒšg
 
	mEXTRA_FILEPATH
 = "EXTRA_FILEPATH";

40 
public
 
fš®
 
SŒšg
 
	mFRAGMENT_TAG
 = "fileInfoDialog";

42 
public
 
FeInfoDŸlog
 
	$ÃwIn¡ªû
(
Fe
 
sourûFe
) {

43 
FeInfoDŸlog
 
dŸlog
 = 
Ãw
 
	`FeInfoDŸlog
();

44 
BundË
 
¬gs
 = 
Ãw
 
	`BundË
();

45 
¬gs
.
	`putS”ŸlizabË
(
EXTRA_FILEPATH
, 
sourûFe
);

46 
dŸlog
.
	`£tArgum’ts
(
¬gs
);

47  
dŸlog
;

50 
public
 
FeInfoDŸlog
 
	$show
(
Fe
 
sourûFe
, 
F¿gm’tMªag”
 
äagm’tMªag”
) {

51 
FeInfoDŸlog
 
dŸlog
 = FeInfoDŸlog.
	`ÃwIn¡ªû
(
sourûFe
);

52 
dŸlog
.
	`show
(
äagm’tMªag”
, 
FeInfoDŸlog
.
FRAGMENT_TAG
);

53  
dŸlog
;

54 
	}
}

56 @
	gNÚNuÎ


57 @
Ov”ride


58 
public
 
DŸlog
 
	$ÚC»©eDŸlog
(
BundË
 
§vedIn¡ªûS‹
) {

59 
fš®
 
Fe
 
fe
 = (Feè
	`g‘Argum’ts
().
	`g‘S”ŸlizabË
(
EXTRA_FILEPATH
);

61 
LayoutInæ©”
 
šæ©”
 = LayoutInæ©”.
	`äom
(
	`g‘Aùiv™y
());

62 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
 = 
	`£tUpDŸlog
(
fe
, 
šæ©”
);

63 
AË¹DŸlog
 
dŸlog
 = 
dŸlogBud”
.
	`show
();

65 
Wšdow
 
w
;

66 ià((
w
 = 
dŸlog
.
	`g‘Wšdow
()è!ğ
nuÎ
) {

67 
w
.
	`£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
, WšdowMªag”.LayoutP¬ams.
WRAP_CONTENT
);

68 
w
.
	`£tSoáIÅutMode
(
WšdowMªag”
.
LayoutP¬ams
.
SOFT_INPUT_STATE_ALWAYS_VISIBLE
);

71  
dŸlog
;

72 
	}
}

74 @
Suµ»ssLšt
("SetTextI18n")

75 
´iv©e
 
	gAË¹DŸlog
.
Bud”
 
	$£tUpDŸlog
(
fš®
 
Fe
 
fe
, 
LayoutInæ©”
 
šæ©”
) {

76 
V›w
 
roÙ
;

77 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
;

78 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
šæ©”
.
	`g‘CÚ‹xt
());

79 
dŸlogBud”
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
šæ©”
.
	`g‘CÚ‹xt
(), 
­pS‘tšgs
.
	`isD¬kThemeEÇbËd
() ?

80 
R
.
¡yË
.
Theme_AµCom·t_DŸlog
 : R.¡yË.
Theme_AµCom·t_Light_DŸlog
);

81 
roÙ
 = 
šæ©”
.
	`šæ©e
(
R
.
Ïyout
.
fe_šfo_dŸlog
, 
nuÎ
);

83 
dŸlogBud”
.
	`£tV›w
(
roÙ
);

85 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__Çme
).
	`£tText
(
fe
.
	`g‘Name
());

86 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__loÿtiÚ
).
	`£tText
(
fe
.
	`g‘P¬’tFe
().
	`g‘AbsŞu‹P©h
());

87 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__Ï¡_modif›d
).
	`£tText
(
D©eUts
.
	`fÜm©D©eTime
ÔoÙ.
	`g‘CÚ‹xt
(), 
fe
.
	`Ï¡Modif›d
(), (D©eUts.
FORMAT_SHOW_TIME
 | D©eUts.
FORMAT_SHOW_DATE
 | D©eUts.
FORMAT_SHOW_YEAR
 | D©eUts.
FORMAT_NUMERIC_DATE
)));

88 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__Ï¡_modif›d_ÿ±iÚ
).
	`£tText
(
	`g‘SŒšg
(R.
¡ršg
.
Ï¡_modif›d_w™h¬g
, "").
	`»¶aû
(":", "").
	`Œim
());

89 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__size_desütiÚ
).
	`£tText
(
FeUts
.
	`g‘R—dabËFeSize
(
fe
.
	`Ëngth
(), 
çl£
));

90 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__loÿtiÚ
).
	`£tOnLÚgClickLi¡’”
(
v
 -> {

91 
Ãw
 
	`Sh¬eUt
(
v
.
	`g‘CÚ‹xt
()).
	`£tClbßrd
(
fe
.
	`g‘AbsŞu‹P©h
());

92 
Tß¡
.
	`makeText
(
v
.
	`g‘CÚ‹xt
(), 
R
.
¡ršg
.
şbßrd
, Tß¡.
LENGTH_SHORT
).
	`show
();

93  
Œue
;

98 
roÙ
.
	`fšdV›wById
(
R
.
id
.
ui__fešfodŸlog__‹xtšfo
).
	`£tVisib™y
(
V›w
.
GONE
);

99 
roÙ
.
	`fšdV›wById
(
R
.
id
.
ui__fešfodŸlog__fešfo
).
	`£tVisib™y
(
fe
.
	`isFe
(è? 
V›w
.
VISIBLE
 : V›w.
GONE
);

100 
roÙ
.
	`fšdV›wById
(
R
.
id
.
ui__fešfodŸlog__fe£‰šgs
).
	`£tVisib™y
(
fe
.
	`isFe
(è? 
V›w
.
VISIBLE
 : V›w.
GONE
);

101 ià(
FeUts
.
	`isTextFe
(
fe
)) {

102 
roÙ
.
	`fšdV›wById
(
R
.
id
.
ui__fešfodŸlog__‹xtšfo
).
	`£tVisib™y
(
V›w
.
VISIBLE
);

103 
AtomicIÁeg”
 
v®Lšes
 = 
Ãw
 
	`AtomicIÁeg”
(0);

104 
AtomicIÁeg”
 
v®Ch¬s
 = 
Ãw
 
	`AtomicIÁeg”
(0);

105 
AtomicIÁeg”
 
v®WÜds
 = 
Ãw
 
	`AtomicIÁeg”
(0);

106 
FeUts
.
	`»Œ›veTextFeSumm¬y
(
fe
, 
v®Ch¬s
, 
v®Lšes
, 
v®WÜds
);

108 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__‹xtšfo_ÿ±iÚ
).
	`£tText
(
	`g‘SŒšg
(R.
¡ršg
.
‹xt_lšes
è+ 
SŒšg
.
	`fÜm©
(" / % / %s", g‘SŒšg(R.¡ršg.
‹xt_wÜds
), g‘SŒšg(R.¡ršg.
‹xt_ch¬aù”s
)).
	`»¶aû
("Text ", ""));

109 
	`tv
(
roÙ
, 
R
.
id
.
ui__fešfodŸlog__‹xtšfo_desütiÚ
).
	`£tText
(
SŒšg
.
	`fÜm©
(
LoÿË
.
ENGLISH
, "%d / %d / %d", 
v®Lšes
.
	`štV®ue
(), 
v®WÜds
.štV®ue(), 
v®Ch¬s
.intValue()));

112 
dŸlogBud”
.
	`£tPos™iveBu‰Ú
(
	`g‘SŒšg
(
ªdroid
.
R
.
¡ršg
.
ok
), (
dŸlogIÁ”çû
, 
i
) -> {

113 
dŸlogIÁ”çû
.
	`dismiss
();

117 
CheckBox
 
checkHideInReûÁs
 = 
roÙ
.
	`fšdV›wById
(
R
.
id
.
ui__fešfodŸlog__»ûÁs
);

118 
checkHideInReûÁs
.
	`£tChecked
(
­pS‘tšgs
.
	`li¡FeInReûÁs
(
fe
));

119 
checkHideInReûÁs
.
	`£tOnCheckedChªgeLi¡’”
((
bu‰ÚV›w
, 
isChecked
è-> 
­pS‘tšgs
.
	`£tLi¡FeInReûÁs
(
fe
, isChecked));

121  
dŸlogBud”
;

122 
	}
}

124 
´iv©e
 
TextV›w
 
tv
(
V›w
 
roÙ
, @
IdRes
 
»sId
) {

125  
	groÙ
.
fšdV›wById
(
»sId
);

	@app/src/main/java/net/gsantner/markor/ui/FilesystemViewerCreator.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

12 
impÜt
 
	gªdroid
.
	g¬ch
.
	gcÜe
.
	gut
.
	gFunùiÚ
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tMªag”
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”DŸlog
;

23 
impÜt
 
	gjava
.
	gio
.
	gFe
;

24 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

26 
public
 cÏs 
	cFesy¡emV›w”C»©Ü
 {

27 
public
 
	mFunùiÚ
<
	mFe
, 
	mBoŞ—n
> 
	mIsMimeText
 = 
fe
 -> f!ğ
nuÎ
 && 
CÚ‹xtUts
.
g‘
().
g‘MimeTy³
(fe).
¡¬tsW™h
("text/");

28 
public
 
	mFunùiÚ
<
	mFe
, 
	mBoŞ—n
> 
	mIsMimeImage
 = 
fe
 -> f!ğ
nuÎ
 && 
CÚ‹xtUts
.
g‘
().
g‘MimeTy³
(fe).
¡¬tsW™h
("image/");

29 
public
 
	mFunùiÚ
<
	mFe
, 
	mBoŞ—n
> 
	mIsMimeAudio
 = 
fe
 -> f!ğ
nuÎ
 && 
CÚ‹xtUts
.
g‘
().
g‘MimeTy³
(fe).
¡¬tsW™h
("audio/");

30 
public
 
	mFunùiÚ
<
	mFe
, 
	mBoŞ—n
> 
	mIsMimeVideo
 = 
fe
 -> f!ğ
nuÎ
 && 
CÚ‹xtUts
.
g‘
().
g‘MimeTy³
(fe).
¡¬tsW™h
("video/");

32 
public
 
	mFesy¡emV›w”D©a
.
O±iÚs
 
	$´•¬eFsV›w”O±s
(
CÚ‹xt
 
cÚ‹xt
, 
boŞ—n
 
doS–eùFŞd”
, 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”
 
li¡’”
) {

33 
Fesy¡emV›w”D©a
.
O±iÚs
 
İts
 = 
Ãw
 Fesy¡emV›w”D©a.
	`O±iÚs
();

34 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
cÚ‹xt
);

35 
Sh¬eUt
 
sh¬eUt
 = 
Ãw
 
	`Sh¬eUt
(
cÚ‹xt
);

36 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
);

37 
boŞ—n
 
t™ËLight
 = 
cu
.
	`shouldCŞÜOnTİBeLight
(cu.
	`rcŞÜ
(
R
.
cŞÜ
.
´im¬y
));

38 
boŞ—n
 
d¬kTheme
 = 
­pS‘tšgs
.
	`isD¬kThemeEÇbËd
();

40 ià(
li¡’”
 !ğ
nuÎ
) {

41 
İts
.
li¡’”
 =†istener;

43 
İts
.
doS–eùFŞd”
 = doSelectFolder;

44 
İts
.
doS–eùFe
 = !
doS–eùFŞd”
;

46 
İts
.
£¬chHšt
 = 
R
.
¡ršg
.
£¬ch_docum’ts
;

47 
İts
.
£¬chBu‰ÚImage
 = 
R
.
d¿wabË
.
ic_£¬ch_bÏck_24dp
;

48 
İts
.
homeBu‰ÚImage
 = 
R
.
d¿wabË
.
ic_home_bÏck_24dp
;

49 
İts
.
£ËùedI‹mImage
 = 
R
.
d¿wabË
.
ic_check_bÏck_24dp
;

50 
İts
.
upBu‰ÚEÇbË
 = 
Œue
;

51 
İts
.
homeBu‰ÚEÇbË
 = 
Œue
;

52 
İts
.
mu¡S¹W™hRoÙFŞd”
 = 
çl£
;

53 
İts
.
cÚ‹ÁDesütiÚFŞd”
 = 
R
.
¡ršg
.
fŞd”
;

54 
İts
.
cÚ‹ÁDesütiÚS–eùed
 = 
R
.
¡ršg
.
£Ëùed
;

55 
İts
.
cÚ‹ÁDesütiÚFe
 = 
R
.
¡ršg
.
fe
;

57 
İts
.
feCom·¿bË
 = (
o1
, 
o2
) -> {

58 
SŒšg
 
m1
 = 
CÚ‹xtUts
.
	`g‘
().
	`g‘MimeTy³
(
o1
);

59 
SŒšg
 
m2
 = 
CÚ‹xtUts
.
	`g‘
().
	`g‘MimeTy³
(
o2
);

60 ià(
m1
.
	`¡¬tsW™h
("‹xt/"è|| 
m2
.startsWith("text")) {

61 ià(
m1
.
	`¡¬tsW™h
("‹xt/"è&& !
m2
.startsWith("text/")) {

63 } ià(
m2
.
	`¡¬tsW™h
("‹xt/"è&& !
m1
.startsWith("text/")) {

70 
İts
.
acûÁCŞÜ
 = 
R
.
cŞÜ
.
acûÁ
;

71 
İts
.
´im¬yCŞÜ
 = 
R
.
cŞÜ
.
´im¬y
;

72 
İts
.
´im¬yTextCŞÜ
 = 
d¬kTheme
 ? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
;

73 
İts
.
£cÚd¬yTextCŞÜ
 = 
d¬kTheme
 ? 
R
.
cŞÜ
.
d¬k__£cÚd¬y_‹xt
 : R.cŞÜ.
light__£cÚd¬y_‹xt
;

74 
İts
.
backgroundCŞÜ
 = 
d¬kTheme
 ? 
R
.
cŞÜ
.
d¬k__background
 : R.cŞÜ.
light__background
;

75 
İts
.
t™ËTextCŞÜ
 = 
t™ËLight
 ? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
;

76 
İts
.
feImage
 = 
R
.
d¿wabË
.
ic_fe_wh™e_24dp
;

77 
İts
.
fŞd”Image
 = 
R
.
d¿wabË
.
ic_fŞd”_wh™e_24dp
;

79 
İts
.
»ûÁFes
 = 
­pS‘tšgs
.
	`g‘AsFeLi¡
×µS‘tšgs.
	`g‘ReûÁDocum’ts
());

80 
İts
.
pİuÏrFes
 = 
­pS‘tšgs
.
	`g‘AsFeLi¡
×µS‘tšgs.
	`g‘PİuÏrDocum’ts
());

81 
İts
.
çvour™eFes
 = 
­pS‘tšgs
.
	`g‘Favour™eFes
();

83 
İts
.
t™ËText
 = 
R
.
¡ršg
.
£Ëù
;

85 
İts
.
mouÁedStÜageFŞd”
 = 
sh¬eUt
.
	`g‘StÜageAcûssFŞd”
();

87 
sh¬eUt
.
	`ä“CÚ‹xtRef
();

88 
cu
.
	`ä“CÚ‹xtRef
();

89  
İts
;

92 
public
 
Fe
[] 
	`¡¾i¡ToA¼ay
(
Li¡
<
SŒšg
> 
¡¾i¡
) {

93 
Fe
[] 
fes
 = 
Ãw
 Fe[
¡¾i¡
.
	`size
()];

94 
i
 = 0; i < 
fes
.
Ëngth
; i++) {

95 
fes
[
i
] = 
Ãw
 
	`Fe
(
¡¾i¡
.
	`g‘
(i));

97  
fes
;

98 
	}
}

100 
´iv©e
 
	$showDŸlog
(
F¿gm’tMªag”
 
fm
, 
Fesy¡emV›w”D©a
.
O±iÚs
 
İts
) {

101 
Fesy¡emV›w”DŸlog
 
fesy¡emV›w”DŸlog
 = Fesy¡emV›w”DŸlog.
	`ÃwIn¡ªû
(
İts
);

102 
fesy¡emV›w”DŸlog
.
	`show
(
fm
, 
Fesy¡emV›w”DŸlog
.
FRAGMENT_TAG
);

103 
	}
}

105 
public
 
showFeDŸlog
(
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”
 
li¡’”
, 
F¿gm’tMªag”
 
fm
, 
CÚ‹xt
 
cÚ‹xt
, 
FunùiÚ
<
Fe
, 
BoŞ—n
> 
feOv”®lF‹r
) {

106 
fš®
 
	gFesy¡emV›w”D©a
.
O±iÚs
 
	gİts
 = 
´•¬eFsV›w”O±s
(
cÚ‹xt
, 
çl£
, 
li¡’”
);

107 
	gİts
.
	gfeOv”®lF‹r
 = 
feOv”®lF‹r
;

108 
showDŸlog
(
fm
, 
İts
);

111 
public
 
	$showFŞd”DŸlog
(
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”
 
li¡’”
, 
F¿gm’tMªag”
 
fm
, 
CÚ‹xt
 
cÚ‹xt
) {

112 
fš®
 
Fesy¡emV›w”D©a
.
O±iÚs
 
İts
 = 
	`´•¬eFsV›w”O±s
(
cÚ‹xt
, 
Œue
, 
li¡’”
);

113 
İts
.
okBu‰ÚText
 = 
R
.
¡ršg
.
£Ëù_this_fŞd”
;

114 
	`showDŸlog
(
fm
, 
İts
);

115 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/NewFileDialog.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

12 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

16 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gDŸlogF¿gm’t
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g´ovid”
.
	gDocum’tFe
;

20 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

21 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

22 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

25 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

26 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

27 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckBox
;

28 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

29 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSpšÃr
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
.
	gZimWikiTextAùiÚs
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gAndroidSpšÃrOnI‹mS–eùedAd­‹r
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

40 
impÜt
 
	gjava
.
	gio
.
	gFe
;

41 
impÜt
 
	gjava
.
	g£cur™y
.
	gSecu»Rªdom
;

42 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

43 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

44 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

45 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicBoŞ—n
;

47 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

49 
public
 cÏs 
	cNewFeDŸlog
 
ex‹nds
 
	mDŸlogF¿gm’t
 {

50 
public
 
fš®
 
SŒšg
 
	mFRAGMENT_TAG
 = "net.gsantner.markor.ui.NewFileDialog";

51 
public
 
fš®
 
SŒšg
 
	mEXTRA_DIR
 = "EXTRA_DIR";

52 
public
 
fš®
 
SŒšg
 
	mEXTRA_ALLOW_CREATE_DIR
 = "EXTRA_ALLOW_CREATE_DIR";

53 
´iv©e
 
	mC®lback
.
	ma2
<
	mBoŞ—n
, 
	mFe
> 
	mÿÎback
;

55 
public
 
NewFeDŸlog
 
ÃwIn¡ªû
(
fš®
 
Fe
 
sourûFe
, fš® 
boŞ—n
 
®lowC»©eDœ
, fš® 
C®lback
.
a2
<
BoŞ—n
, Fe> 
ÿÎback
) {

56 
NewFeDŸlog
 
	mdŸlog
 = 
Ãw
 NewFileDialog();

57 
BundË
 
	m¬gs
 = 
Ãw
 Bundle();

58 
	m¬gs
.
putS”ŸlizabË
(
EXTRA_DIR
, 
sourûFe
);

59 
	m¬gs
.
putS”ŸlizabË
(
EXTRA_ALLOW_CREATE_DIR
, 
®lowC»©eDœ
);

60 
	mdŸlog
.
£tArgum’ts
(
¬gs
);

61 
	mdŸlog
.
	mÿÎback
 = 
ÿÎback
;

62  
	mdŸlog
;

65 @
	gNÚNuÎ


66 @
Ov”ride


67 
public
 
DŸlog
 
	$ÚC»©eDŸlog
(
BundË
 
§vedIn¡ªûS‹
) {

68 
fš®
 
Fe
 
fe
 = (Feè
	`g‘Argum’ts
().
	`g‘S”ŸlizabË
(
EXTRA_DIR
);

69 
fš®
 
boŞ—n
 
®lowC»©eDœ
 = 
	`g‘Argum’ts
().
	`g‘BoŞ—n
(
EXTRA_ALLOW_CREATE_DIR
);

71 
LayoutInæ©”
 
šæ©”
 = LayoutInæ©”.
	`äom
(
	`g‘Aùiv™y
());

72 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
 = 
	`makeDŸlog
(
fe
, 
®lowC»©eDœ
, 
šæ©”
);

73 
AË¹DŸlog
 
dŸlog
 = 
dŸlogBud”
.
	`show
();

74 
Wšdow
 
w
;

75 ià((
w
 = 
dŸlog
.
	`g‘Wšdow
()è!ğ
nuÎ
) {

76 
w
.
	`£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
, WšdowMªag”.LayoutP¬ams.
WRAP_CONTENT
);

78  
dŸlog
;

79 
	}
}

81 @
Suµ»ssLšt
("SetTextI18n")

82 
´iv©e
 
	gAË¹DŸlog
.
Bud”
 
	$makeDŸlog
(
fš®
 
Fe
 
ba£dœ
, fš® 
boŞ—n
 
®lowC»©eDœ
, 
LayoutInæ©”
 
šæ©”
) {

83 
V›w
 
roÙ
;

84 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
;

85 
fš®
 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
šæ©”
.
	`g‘CÚ‹xt
());

86 
dŸlogBud”
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
šæ©”
.
	`g‘CÚ‹xt
(), 
­pS‘tšgs
.
	`isD¬kThemeEÇbËd
(è? 
R
.
¡yË
.
Theme_AµCom·t_DŸlog
 : R.¡yË.
Theme_AµCom·t_Light_DŸlog
);

87 
roÙ
 = 
šæ©”
.
	`šæ©e
(
R
.
Ïyout
.
Ãw_fe_dŸlog
, 
nuÎ
);

89 
fš®
 
Ed™Text
 
feNameEd™
 = 
roÙ
.
	`fšdV›wById
(
R
.
id
.
Ãw_fe_dŸlog__Çme
);

90 
fš®
 
Ed™Text
 
feExtEd™
 = 
roÙ
.
	`fšdV›wById
(
R
.
id
.
Ãw_fe_dŸlog__ext
);

91 
fš®
 
CheckBox
 
’üy±Checkbox
 = 
roÙ
.
	`fšdV›wById
(
R
.
id
.
Ãw_fe_dŸlog__’üy±
);

92 
fš®
 
SpšÃr
 
ty³SpšÃr
 = 
roÙ
.
	`fšdV›wById
(
R
.
id
.
Ãw_fe_dŸlog__ty³
);

93 
fš®
 
SpšÃr
 
‹m¶©eSpšÃr
 = 
roÙ
.
	`fšdV›wById
(
R
.
id
.
Ãw_fe_dŸlog__‹m¶©e
);

94 
fš®
 
SŒšg
[] 
ty³SpšÃrToEx‹nsiÚ
 = 
	`g‘Resourûs
().
	`g‘SŒšgA¼ay
(
R
.
¬¿y
.
Ãw_fe_ty³s__fe_ex‹nsiÚ
);

96 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
M
 && 
­pS‘tšgs
.
	`isDeçuÉPasswÜdS‘
()) {

97 
’üy±Checkbox
.
	`£tChecked
(
­pS‘tšgs
.
	`g‘NewFeDŸlogLa¡U£dEnüy±iÚ
());

99 
’üy±Checkbox
.
	`£tVisib™y
(
V›w
.
GONE
);

101 
feExtEd™
.
	`£tText
(
­pS‘tšgs
.
	`g‘NewFeDŸlogLa¡U£dEx‹nsiÚ
());

102 
feNameEd™
.
	`»que¡Focus
();

103 
Ãw
 
	`HªdËr
().
	`po¡D–ayed
Òew 
CÚ‹xtUts
.
	`DoTouchV›w
(
feNameEd™
), 200);

105 
feNameEd™
.
	`£tF‹rs
(
Ãw
 
IÅutF‹r
[]{
CÚ‹xtUts
.
INPUTFILTER_FILENAME
});

106 
feExtEd™
.
	`£tF‹rs
(
feNameEd™
.
	`g‘F‹rs
());

108 
fš®
 
AtomicBoŞ—n
 
ty³SpšÃrNoTrigg”OnFœ¡
 = 
Ãw
 
	`AtomicBoŞ—n
(
Œue
);

109 
ty³SpšÃr
.
	`£tOnI‹mS–eùedLi¡’”
(
Ãw
 
	`AndroidSpšÃrOnI‹mS–eùedAd­‹r
(
pos
 -> {

110 ià(
pos
 == 3) {

111 
‹m¶©eSpšÃr
.
	`£tS–eùiÚ
(7);

113 ià(
ty³SpšÃrNoTrigg”OnFœ¡
.
	`g‘AndS‘
(
çl£
)) {

116 
SŒšg
 
ext
 = 
pos
 < 
ty³SpšÃrToEx‹nsiÚ
.
Ëngth
 ?ypeSpinnerToExtension[pos] : "";

118 ià(
ext
 !ğ
nuÎ
) {

119 ià(
’üy±Checkbox
.
	`isChecked
()) {

120 
feExtEd™
.
	`£tText
(
ext
 + 
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
);

122 
feExtEd™
.
	`£tText
(
ext
);

125 
feNameEd™
.
	`£tS–eùiÚ
(feNameEd™.
	`Ëngth
());

126 
­pS‘tšgs
.
	`£tNewFeDŸlogLa¡U£dTy³
(
ty³SpšÃr
.
	`g‘S–eùedI‹mPos™iÚ
());

128 
ty³SpšÃr
.
	`£tS–eùiÚ
(
­pS‘tšgs
.
	`g‘NewFeDŸlogLa¡U£dTy³
());

130 
‹m¶©eSpšÃr
.
	`£tOnI‹mS–eùedLi¡’”
(
Ãw
 
	`AndroidSpšÃrOnI‹mS–eùedAd­‹r
(
pos
 -> {

131 
SŒšg
 
´efix
 = 
nuÎ
;

133 ià(
pos
 == 3) {

134 
´efix
 = 
TodoTxtTask
.
DATEF_YYYY_MM_DD
.
	`fÜm©
(
Ãw
 
	`D©e
()) + "-";

135 } ià(
pos
 == 9) {

136 
´efix
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("yyyyMMddHHmm", 
LoÿË
.
ROOT
).
	`fÜm©
Òew 
	`D©e
()) + "-";

138 ià(!
TextUts
.
	`isEm±y
(
´efix
è&& !
feNameEd™
.
	`g‘Text
().
	`toSŒšg
().
	`¡¬tsW™h
(prefix)) {

139 
feNameEd™
.
	`£tText
(
´efix
 + feNameEd™.
	`g‘Text
().
	`toSŒšg
());

141 
feNameEd™
.
	`£tS–eùiÚ
(feNameEd™.
	`Ëngth
());

144 
’üy±Checkbox
.
	`£tOnCheckedChªgeLi¡’”
((
bu‰ÚV›w
, 
isChecked
) -> {

145 
fš®
 
SŒšg
 
cu¼’tEx‹ÁiÚ
 = 
feExtEd™
.
	`g‘Text
().
	`toSŒšg
();

146 ià(
isChecked
) {

147 ià(!
cu¼’tEx‹ÁiÚ
.
	`’dsW™h
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
)) {

148 
feExtEd™
.
	`£tText
(
cu¼’tEx‹ÁiÚ
 + 
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
);

150 } ià(
cu¼’tEx‹ÁiÚ
.
	`’dsW™h
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
)) {

151 
feExtEd™
.
	`£tText
(
cu¼’tEx‹ÁiÚ
.
	`»¶aû
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
, ""));

153 
­pS‘tšgs
.
	`£tNewFeDŸlogLa¡U£dEnüy±iÚ
(
isChecked
);

156 
dŸlogBud”
.
	`£tV›w
(
roÙ
);

157 
feNameEd™
.
	`»que¡Focus
();

159 
fš®
 
Sh¬eUt
 
sh¬eUt
 = 
Ãw
 
	`Sh¬eUt
(
	`g‘CÚ‹xt
());

160 
dŸlogBud”


161 .
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
, (
dŸlogIÁ”çû
, 
i
è-> dŸlogIÁ”çû.
	`dismiss
())

162 .
	`£tPos™iveBu‰Ú
(
	`g‘SŒšg
(
ªdroid
.
R
.
¡ršg
.
ok
), (
dŸlogIÁ”çû
, 
i
) -> {

163 ià(
	`ez
(
feNameEd™
)) {

167 
­pS‘tšgs
.
	`£tNewFeDŸlogLa¡U£dEx‹nsiÚ
(
feExtEd™
.
	`g‘Text
().
	`toSŒšg
().
	`Œim
());

168 
fš®
 
SŒšg
 
u£dF’ame
 = 
	`g‘FeNameW™houtEx‹nsiÚ
(
feNameEd™
.
	`g‘Text
().
	`toSŒšg
(), 
‹m¶©eSpšÃr
.
	`g‘S–eùedI‹mPos™iÚ
());

169 
fš®
 
Fe
 
f
 = 
Ãw
 
	`Fe
(
ba£dœ
, 
u£dF’ame
.
	`Œim
(è+ 
feExtEd™
.
	`g‘Text
().
	`toSŒšg
().trim());

170 
fš®
 
by‹
[] 
‹m¶©eCÚ‹Ás
 = 
	`g‘Tem¶©eCÚ‹Á
(
‹m¶©eSpšÃr
, 
ba£dœ
, 
f
.
	`g‘Name
(), 
’üy±Checkbox
.
	`isChecked
());

171 
sh¬eUt
.
	`wr™eFe
(
f
, 
çl£
, (
¬g_ok
, 
¬g_fos
) -> {

172 
Œy
 {

173 ià(
f
.
	`exi¡s
(è&& f.
	`Ëngth
(è< 
Sh¬eUt
.
MIN_OVERWRITE_LENGTH
 && 
‹m¶©eCÚ‹Ás
 !ğ
nuÎ
) {

174 
¬g_fos
.
	`wr™e
(
‹m¶©eCÚ‹Ás
);

176 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

178 
	`ÿÎback
(
¬g_ok
 || 
f
.
	`exi¡s
(), f);

179 
dŸlogIÁ”çû
.
	`dismiss
();

182 .
	`£tNeuŒ®Bu‰Ú
(
R
.
¡ršg
.
fŞd”
, (
dŸlogIÁ”çû
, 
i
) -> {

183 ià(
	`ez
(
feNameEd™
)) {

186 
fš®
 
SŒšg
 
u£dFŞd”Çme
 = 
	`g‘FeNameW™houtEx‹nsiÚ
(
feNameEd™
.
	`g‘Text
().
	`toSŒšg
(), 
‹m¶©eSpšÃr
.
	`g‘S–eùedI‹mPos™iÚ
());

187 
Fe
 
f
 = 
Ãw
 
	`Fe
(
ba£dœ
, 
u£dFŞd”Çme
);

188 ià(
sh¬eUt
.
	`isUnd”StÜageAcûssFŞd”
(
f
)) {

189 
Docum’tFe
 
dof
 = 
sh¬eUt
.
	`g‘Docum’tFe
(
f
, 
Œue
);

190 
	`ÿÎback
(
dof
 !ğ
nuÎ
 && dof.
	`exi¡s
(), 
f
);

192 
	`ÿÎback
(
f
.
	`mkdœs
(è|| f.
	`exi¡s
(), f);

194 
dŸlogIÁ”çû
.
	`dismiss
();

197 ià(!
®lowC»©eDœ
) {

198 
dŸlogBud”
.
	`£tNeuŒ®Bu‰Ú
("", 
nuÎ
);

201  
dŸlogBud”
;

202 
	}
}

204 
´iv©e
 
boŞ—n
 
	$ez
(
Ed™Text
 
‘
) {

205  
‘
.
	`g‘Text
().
	`toSŒšg
().
	`isEm±y
();

206 
	}
}

208 
´iv©e
 
SŒšg
 
	$g‘FeNameW™houtEx‹nsiÚ
(
SŒšg
 
ty³dF’ame
, 
£ËùedTem¶©ePos
) {

209 ià(
£ËùedTem¶©ePos
 == 7) {

211  
ty³dF’ame
.
	`Œim
().
	`»¶aû
(' ', '_');

213  
ty³dF’ame
;

214 
	}
}

216 
´iv©e
 
	$ÿÎback
(
boŞ—n
 
ok
, 
Fe
 
fe
) {

217 
Œy
 {

218 
ÿÎback
.
	`ÿÎback
(
ok
, 
fe
);

219 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

221 
	}
}

229 @
Suµ»ssLšt
("TrulyRandom")

230 
´iv©e
 
	gby‹
[] 
	$g‘Tem¶©eCÚ‹Á
(
fš®
 
SpšÃr
 
‹m¶©eSpšÃr
, fš® 
Fe
 
ba£dœ
, fš® 
SŒšg
 
f’ame
, fš® 
boŞ—n
 
’üy±
) {

231 
SŒšg
 
t
 = 
nuÎ
;

232 
by‹
[] 
by‹s
 = 
nuÎ
;

233 
‹m¶©eSpšÃr
.
	`g‘S–eùedI‹mPos™iÚ
()) {

235 
t
 = "# Markdown Reference\nAutomatically generate _table of contents_ by checkinghe option here: `Settings > Format > Markdown`.\n\n## H2 Header\n### H3 header\n#### H4 Header\n##### H5 Header\n###### H6 Header\n\n<!-- --------------- -->\n\n## Format Text\n\n*Italicƒmphasis* , _Alternative italicƒmphasis_\n\n**Boldƒmphasis** , __Alternative boldƒmphasis__\n\n~~Strikethrough~~\n\nBreak†ine (two spaces‡tƒnd of†ine) \n\n> Block quote\n\n`Inline code`\n\n```\nCode blocks\nare\nawesome\n```\n\n<!-- --------------- -->\n \n## Lists\n### Ordered & unordered\n\n* Unordered†ist\n* ...with‡sterisk/star\n* Test\n\n- Another unordered†ist\n- ...with hyphen/minus\n- Test\n\n1. Ordered†ist\n2. Test\n3. Test\n4. Test\n\n- Nested†ists\n * Unordered‚ested†ist\n * Test\n * Test\n * Test\n- Ordered‚ested†ist\n 1. Test\n 2. Test\n 3. Test\n 4. Test\n- Double-nested unordered†ist\n - Test\n - Unordered\n - Test‡\n - Test b\n - Ordered\n 1. Test 1\n 2. Test 2\n\n### Checklist\n* [ ] Salad\n* [x] Potatoes\n\n1. [x] Clean\n2. [ ] Cook\n\n<!-- --------------- -->\n\n## Links\n[Link](https://duckduckgo.com/)\n\n[File in same folder‡she document.](markor-markdown-reference.md) Use %20 for spaces!\n\n<!-- --------------- -->\n\n## Tables\n\n| Left‡ligned | Middle‡ligned | Right‡ligned |\n| :--------------- | :------------------: | -----------------: |\n| Test | Test | Test |\n| Test | Test | Test |\n\nÃ·Ã·Ã·Ã·\n\nShorter | Table | Syntax\n:---: | ---: | :---\nTest | Test | Test\nTest | Test | Test\n\n<!-- Comment: Not visibile in view. Can‡lso span‡cross multiple†ines. End with:-->\n\n<!-- --------------- -->\n\n## Math (KaTeX)\nSee [reference](https://katex.org/docs/supported.html) & [examples](https://github.com/waylonflinn/markdown-it-katex/blob/master/README.md). Enable by checking Math‡t `Settings > Markdown`.\n\n### Math inline\n\n$ I = \\frac V R $\n\n### Math block\n\n<div>\n$$\\begin{array}{c} \\nabla \\times \\vec{\\mathbf{B}} -\\, \\frac1c\\, \\frac{\\partial\\vec{\\mathbf{E}}}{\\partial} & = \\frac{4\\pi}{c}\\vec{\\mathbf{j}} \\nabla \\cdot \\vec{\\mathbf{E}} & = 4 \\pi \\rho \\\\ \\nabla \\times \\vec{\\mathbf{E}}\\, +\\, \\frac1c\\, \\frac{\\partial\\vec{\\mathbf{B}}}{\\partial} & = \\vec{\\mathbf{0}} \\\\ \\nabla \\cdot \\vec{\\mathbf{B}} & = 0 \\end{array}$$\n</div>\n\n\n$$\\frac{k_t}{k_e} = \\sqrt{2}$$\n\n<!-- --------------- -->\n\n## Format Text (continued)\n\n### Text color\n\n<span style='background-color:#ffcb2e;'>Text with background color / highlight</span>\n\n<span style='color:#3333ff;'>Text foreground color</span>\n\n<span style='text-shadow: 0px 0px 2px #FF0000;'>Text with colored outline</span> / <span style='text-shadow: 0px 0px 2px #0000FF; color: white'>Text with colored outline</span>\n\n\n### Text sub & superscript\n\n<u>Underline</u>\n\nThe <sub>Subway</sub> sandwich was <sup>super</sup>\n\nSuper special characters: â° Â¹ Â² Â³ â´ âµ â¶ â· â¸ â¹ âº â» â¼ â½ â¾ â¿ â„¢ Â® â„ \n\n### Text…ositioning\n<div markdown='1'‡lign='right'>\n\ntext onhe **right**\n\n</div>\n\n<div markdown='1'‡lign='center'>\n\ntext inhe **center** \n(oneƒmpy†ine‡bove‡nd below \nrequired for Markdown support OR markdown='1')\n\n</div>\n\n### Block Text\n\n<div markdown='1' style='text-align: justify;ext-justify: inter-word;'>\nlorem ipsum dolor sit‡met, consetetur sadipscingƒlitr, sed diam‚onumyƒirmodempor invidunt ut†aboreƒt dolore magna‡liquyamƒrat, sed diam voluptua. At veroƒosƒt‡ccusamƒt justo duo doloresƒtƒa„ebum. \n</div>\n\n### Dropdown\n\n<details markdown='1'><summary>Clicko Expand/Collapse</summary>\n\nExpanded content. Shows up‡nd keeps visible when clickingƒxpand. Hide‡gain by clickinghe dropdown button‡gain.\n\n</details>\n\n\n<!-- --------------- -->\n\n## Multimedia\n\n### Images\n![Image](https://gsantner.net/assets/blog/img/markor/markor-v1-7-showcase-3.jpg)\n\n### Videos\n**Youtube** [Welcomeo Upper Austria](https://www.youtube.com/watch?v=RJREFH7Lmm8)\n<iframe width='360' height='200' src='https://www.youtube.com/embed/RJREFH7Lmm8'> </iframe>\n\n**Peertube** [Road inhe wood](https://open.tube/videos/watch/8116312a-dbbd-43a3-9260-9ea6367c72fc)\n<div><video controls><source src='https://peertube.mastodon.host/download/videos/8116312a-dbbd-43a3-9260-9ea6367c72fc-480.mp4' </source></video></div>\n\n<!-- **Local video** <div><video controls><source src='voice-parrot.mp4' </source></video></div> -->\n\n### Audio & Music\n**Web‡udio** [Guifrog - Xia Yu](https://www.freemusicarchive.org/music/Guifrog/Xia_Yu)\n<audio controls src='https://files.freemusicarchive.org/storage-freemusicarchive-org/music/ccCommunity/Guifrog/Xia_Yu/Guifrog_-_Xia_Yu.mp3'></audio>\n\n**Local‡udio** Yellowcard - Lights up inhe sky\n<audio controls src='../Music/mp3/Yellowcard/[2007]%20Paper%20Walls/Yellowcard%20-%2005%20-%20Light%20Up%20the%20Sky.mp3'></audio>\n\n------------------\n\nThis Markdown„eference file was created forhe [Markor](https://gsantner.net/project/markor?source=markdownref)…roject by [Gregor Santner](https://gsantner.net)‡nd is†icensed [Creative Commons Zero 1.0](https://creativecommons.org/publicdomain/zero/1.0/legalcode) (public domain). File„evision 2.\n\n------------------\n\n\n";

239 
t
 = "(A) Call Mom @mobile +family\n(A) Schedule‡nnual checkup +health\n(A) Urgently buy milk @shop\n(B) Outline chapter 5 +novel @computer\n(C) Add cover sheets @work +myproject\nPlan backyard herb garden @home\nBuy salad @shop\nWrite blog…ost @pc\nInstall Markor @mobile\n2019-06-24 scan…hotos @home +blog\n2019-06-25 draw diagram @work \nx This has been done @home +renovations";

243 
t
 = "---\nlayout:…ost\ntags: []\ncategories: []\n#date: 2019-06-25 13:14:15\n#excerpt: ''\n#image: 'BASEURL/assets/blog/img/.png'\n#description:\n#permalink:\ntitle: 'title'\n---\n\n\n";

247 
t
 = "# Title\n## Description\n\n![Text](picture.png)\n\n### Ingredients\n\n| Ingredient | Amount |\n|:--------------|:-------|\n| 1 | 1 |\n| 2 | 2 |\n| 3 | 3 |\n| 4 | 4 |\n\n\n### Preparation\n\n1. Text\n2. Text\n\n";

251 
t
 = "---\nclass: beamer\n---\n\n-----------------\n# Cool…resentation\n\n## Abed Nadir\n\n{{…ost.date_today }}\n\n<!-- Overall slide design -->\n<style>\n.slide {\nbackground:url()‚o-repeat center center fixed; background-size: cover;\n}\n.slide_type_title {\nbackground: slategrey;\n}\n</style>\n\n-----------------\n\n## Slideitle\n\n\n1. All Markdown features of Markor‡re **supported** for Slidesoo ~~strikeout~~ _italic_ `code`\n2. Start‚ew slides with 3 more hyphens (---) separated byƒmpty†ines\n3. End†ast slide with hyphensoo\n4. Slide backgrounds can be configured using CSS, for‡ll‡nd individual slides\n5. Print / PDFƒxport in†andscape mode\n6. Createitle only slides (like first slide) by startinghe slide (line‡fter `---`) withitle `#itle`\n\n\n-----------------\n## Slide with centered image\n* Images can be centered by‡dding 'imghcenter' in‡ltext & growno…age size with 'imgbig'\n* Example: `![text imghcenter imgbigext](a.jpg)`\n\n![imghcenter imgbig](file:///android_asset/img/flowerfield.jpg)\n\n\n\n\n-----------------\n## Page with gradient background\n*‡nd‡…icture\n* configure background color/image with CSS .slide_p4 { } (4 =he slide…age‚umber)\n\n![pic](file:///android_asset/img/flowerfield.jpg)\n\n\n<style> .slide_p4 { background:†inear-gradient(to bottom, #11998e, #38ef7d); } </style>\n\n-----------------\n## Page with image background\n* containingext‡nd‡able\n\n| Left‡ligned | Middle‡ligned | Right‡ligned |\n| :------------------- | :----------------------: | --------------------: |\n| Test | Test | Test |\n| Test | Test | Test |\n\n\n\n<style> \n.slide_p5 { background: url('file:///android_asset/img/schindelpattern.jpg')‚o-repeat center center fixed; background-size: cover; }\n.slide_p5 > .slide_body > * { color: black; }\n</style>\n\n-----------------\n";

255 
t
 = "Content-Type:ext/x-zim-wiki\nWiki-Format: zim 0.4\nCreation-Date: 2019-01-28T20:53:47+01:00\n\n====== Zim Wiki ======\nLet meryo gather‡†ist ofhe formatting options Zim…rovides.\n\n====== Head 1 ======\n\n===== Head 2 =====\n\n==== Head 3 ====\n\n=== Head 4 ===\n\n== Head 5 ==\n\n**Bold**\n//italics//\n__marked (yellow Background)__\n~~striked~~\n\n* Unordered List\n* second item\n * [[Sub-Item]]\n * Subsub-Item\n *‡nd one more sub\n* Backo first indent†evel\n\n1. ordered†ist\n2. second item\n‡. item 2a\n 1. Item 2a1\n 2. Item 2a2\n b. item 2b\n 1. 2b1\n‡. 2b1a\n3.‡n so on...\n\n[ ] Checklist\n[ ] unchecked item\n[*] checked item\n[x] crossed item\n[>] Item marked with‡ yellow†eft-to-right-arrow\n[ ]‡nother unchecked item\n\n\nThis ist ''preformattedext'' inline.\n\n'''\nThis is‡…reformattedext block.\nIt spans multiple†ines.\nAnd it's visually indented.\n'''\n\nWe‡lso have _{subscript}‡nd ^{superscript}.\n\nIt seemshere is‚o wayo combinehose styles.\n//**this is simply italic**//‡nd you can seehe‡sterisks.\n**//This is simply bold//**‡nd you can seehe slashes.\n__**This is simply marked yellow**__‡nd you can seehe‡sterisks.\n\nThis is‡ web†ink: [[https://github.com/gsantner/markor|Markor on Github]]\nLinks insidehe Zim Wiki…roject can be made by simply usinghe [[Page Name]] in double square brackets.\nThis my‡lso contain some hierarchy information,†ike [[Folder:Subfolder:Document Name]]\n\n\nThis zim wiki„eference file was created forhe [[https://gsantner.net/project/markor?source=markdownref|Markor]]…roject by [[https://gsantner.net|Gregor Santner]]‡nd is†icensed [[https://creativecommons.org/publicdomain/zero/1.0/legalcode|Creative Commons Zero 1.0]] (public domain). File„evision 1.";

259 
t
 = 
ZimWikiTextAùiÚs
.
	`ü—‹ZimWikiH—d”AndT™ËCÚ‹Ás
(
f’ame
.
	`»¶aûAÎ
("(\\.((zim)|Ñxt)))*$", "").
	`Œim
().
	`»¶aû
(' ', '_'), 
Ãw
 
	`D©e
(), 
	`g‘Resourûs
().
	`g‘SŒšg
(
R
.
¡ršg
.
ü—‹d
));

263 
t
 = "---\ntags: []\ncreated: '{{emplate.timestamp_date_yyyy_mm_dd }}'\ntitle: ''\n---\n\n";

264 ià(
ba£dœ
 !ğ
nuÎ
 && 
Ãw
 
	`Fe
(ba£dœ.
	`g‘P¬’tFe
(), ".nÙabËdœ").
	`exi¡s
()) {

265 
t
 =.
	`»¶aû
("created:", "modified:");

270 
t
 = "source:\ncategory:\ntag:\n------------\n";

275  
nuÎ
;

278 
t
 =.
	`»¶aû
("{{em¶©e.time¡amp_d©e_yyyy_mm_dd }}", 
TodoTxtTask
.
DATEF_YYYY_MM_DD
.
	`fÜm©
(
Ãw
 
	`D©e
()));

280 ià(
’üy±
 && 
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
M
) {

281 
fš®
 [] 
·ss
 = 
Ãw
 
	`AµS‘tšgs
(
	`g‘CÚ‹xt
()).
	`g‘DeçuÉPasswÜd
();

282 
by‹s
 = 
Ãw
 
	`JavaPasswÜdba£dCry±iÚ
(
Bud
.
VERSION
.
SDK_INT
,‚ew 
	`Secu»Rªdom
()).
	`’üy±
(
t
, 
·ss
);

284 
by‹s
 = 
t
.
	`g‘By‹s
();

286  
by‹s
;

287 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/SearchOrCustomTextDialogCreator.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

17 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

18 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutTy³
;

19 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabËSŒšgBud”
;

21 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

22 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

23 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gR–©iveSizeS·n
;

24 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gStyËS·n
;

25 
impÜt
 
	gªdroid
.
	gv›w
.
	gG¿v™y
;

26 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

27 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
.
	gZimWikiHighligh‹r
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gf£¬ch
.
	gFeS—rchDŸlog
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gf£¬ch
.
	gFeS—rchResuÉS–eùÜDŸlog
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gf£¬ch
.
	gS—rchEngše
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gS—rchOrCu¡omTextDŸlog
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

39 
impÜt
 
	gjava
.
	gio
.
	gFe
;

40 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

41 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

42 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

43 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

44 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

45 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

46 
impÜt
 
	gjava
.
	gut
.
	gT»eS‘
;

48 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
.
	gS‰TaskSim¶eCom·¿tÜ
.
	gBY_CONTEXT
;

49 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
.
	gS‰TaskSim¶eCom·¿tÜ
.
	gBY_CREATION_DATE
;

50 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
.
	gS‰TaskSim¶eCom·¿tÜ
.
	gBY_DESCRIPTION
;

51 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
.
	gS‰TaskSim¶eCom·¿tÜ
.
	gBY_DUE_DATE
;

52 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
.
	gS‰TaskSim¶eCom·¿tÜ
.
	gBY_LINE
;

53 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
.
	gS‰TaskSim¶eCom·¿tÜ
.
	gBY_PRIORITY
;

54 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
.
	gTodoTxtTask
.
	gS‰TaskSim¶eCom·¿tÜ
.
	gBY_PROJECT
;

56 
public
 cÏs 
	cS—rchOrCu¡omTextDŸlogC»©Ü
 {

57 
public
 
showS³cŸlKeyDŸlog
(
Aùiv™y
 
aùiv™y
, 
C®lback
.
a1
<
SŒšg
> 
ÿÎback
) {

58 
	mS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	mdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

59 
ba£CÚf
(
aùiv™y
, 
dİt
);

60 
	mdİt
.
	mÿÎback
 = 
ÿÎback
;

61 
	mSŒšg
[] 
	maùiÚs
 = 
aùiv™y
.
g‘Resourûs
().
g‘SŒšgA¼ay
(
R
.
¬¿y
.
‹xùiÚs_´ess_key__‹xt
);

62 
	mdİt
.
	md©a
 = 
Ãw
 
A¼ayLi¡
<>(
A¼ays
.
asLi¡
(
aùiÚs
));

64 
	mdİt
.
	mdŸlogHeightDp
 = 530;

65 
	mdİt
.
	mt™ËText
 = 
R
.
¡ršg
.
¥ecŸl_key
;

66 
	mdİt
.
	misS—rchEÇbËd
 = 
çl£
;

67 
	mS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

70 
public
 
showA‰achSom‘hšgDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
C®lback
.
a1
<
IÁeg”
> 
u£rC®lback
) {

71 
fš®
 
	gLi¡
<
	gSŒšg
> 
	gavaabËD©a
 = 
Ãw
 
A¼ayLi¡
<>();

72 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	gavaabËD©aToAùiÚM­
 = 
Ãw
 
A¼ayLi¡
<>();

73 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	gavaabËD©aToIcÚM­
 = 
Ãw
 
A¼ayLi¡
<>();

74 
fš®
 
	gC®lback
.
	ga3
<
	gIÁeg”
, IÁeg”, IÁeg”> 
	gaddToLi¡
 = (
¡rRes
, 
	gaùiÚRes
, 
	gicÚRes
) -> {

75 
	gavaabËD©a
.
add
(
aùiv™y
.
g‘SŒšg
(
¡rRes
));

76 
	gavaabËD©aToAùiÚM­
.
add
(
aùiÚRes
);

77 
	gavaabËD©aToIcÚM­
.
add
(
icÚRes
);

79 
	gaddToLi¡
.
ÿÎback
(
R
.
¡ršg
.
cŞÜ
, R.
id
.
aùiÚ_©ch_cŞÜ
, R.
d¿wabË
.
ic_fÜm©_cŞÜ_fl_bÏck_24dp
);

80 
	gaddToLi¡
.
ÿÎback
(
R
.
¡ršg
.
š£¹_lšk
, R.
id
.
aùiÚ_©ch_lšk
, R.
d¿wabË
.
ic_lšk_bÏck_24dp
);

81 
	gaddToLi¡
.
ÿÎback
(
R
.
¡ršg
.
fe
, R.
id
.
aùiÚ_©ch_fe
, R.
d¿wabË
.
ic_©ch_fe_bÏck_24dp
);

82 
	gaddToLi¡
.
ÿÎback
(
R
.
¡ršg
.
image
, R.
id
.
aùiÚ_©ch_image
, R.
d¿wabË
.
ic_image_bÏck_24dp
);

83 
	gaddToLi¡
.
ÿÎback
(
R
.
¡ršg
.
audio
, R.
id
.
aùiÚ_©ch_audio
, R.
d¿wabË
.
ic_keybßrd_voiû_bÏck_24dp
);

84 
	gaddToLi¡
.
ÿÎback
(
R
.
¡ršg
.
d©e
, R.
id
.
aùiÚ_©ch_d©e
, R.
d¿wabË
.
ic_acûss_time_bÏck_24dp
);

86 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

87 
ba£CÚf
(
aùiv™y
, 
dİt
);

88 
	gdİt
.
	gÿÎback
 = 
¡r
 -> 
u£rC®lback
.
ÿÎback
(
avaabËD©aToAùiÚM­
.
g‘
(
avaabËD©a
.
šdexOf
(str)));

89 
	gdİt
.
	gd©a
 = 
avaabËD©a
;

90 
	gdİt
.
	gicÚsFÜD©a
 = 
avaabËD©aToIcÚM­
;

91 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

92 
	gdİt
.
	gt™ËText
 = 0;

93 
	gdİt
.
	gdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

94 
	gdİt
.
	gg¿v™y
 = 
G¿v™y
.
BOTTOM
 | G¿v™y.
END
;

95 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

98 
public
 
showIn£¹TabËRowDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
boŞ—n
 
isH—d”
, 
C®lback
.
a2
<
IÁeg”
, 
BoŞ—n
> 
ÿÎback
) {

99 
fš®
 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

100 
fš®
 
AµS‘tšgs
 
	gas
 = 
Ãw
 AµS‘tšgs(
aùiv™y
.
g‘AµliÿtiÚCÚ‹xt
());

101 
fš®
 
SŒšg
 
	gPREF_LAST_USED_TABLE_SIZE
 = "pref_key_last_used_table_size";

102 
fš®
 
	gÏ¡U£dTabËSize
 = 
as
.
g‘IÁ
(
PREF_LAST_USED_TABLE_SIZE
, 3);

103 
fš®
 
	gLi¡
<
	gSŒšg
> 
	gavaabËD©a
 = 
Ãw
 
A¼ayLi¡
<>();

104 
	gi
 = 2; i <= 5; i++) {

105 
	gavaabËD©a
.
add
(
IÁeg”
.
toSŒšg
(
i
));

108 
ba£CÚf
(
aùiv™y
, 
dİt
);

109 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
bË
;

110 
	gdİt
.
	gmes§geText
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
how_much_cŞumns_´ess_bË_bu‰Ú_lÚg_to_¡¬t_bË
);

111 
	gdİt
.
	gmes§geText
 +ğ
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
exam¶e_of_a_m¬kdown_bË
) + ":\n\n";

112 
	gdİt
.
	gmes§geText
 += "| id |‚ame | info |\n|-----|-----------|--------|\n| 1 | John |ext |\n| 2 | Anna |ext |\n";

114 
	gdİt
.
	gÿÎback
 = 
cŞsSŒ
 -> {

115 
as
.
£tIÁ
(
PREF_LAST_USED_TABLE_SIZE
, 
IÁeg”
.
·r£IÁ
(
cŞsSŒ
));

116 
	gÿÎback
.
ÿÎback
(
IÁeg”
.
·r£IÁ
(
cŞsSŒ
), 
isH—d”
);

118 
	gdİt
.
	gd©a
 = 
avaabËD©a
;

119 
	gdİt
.
	g£¬chIÅutTy³
 = 
IÅutTy³
.
TYPE_CLASS_NUMBER
;

120 
	gdİt
.
	ghighlightD©a
 = 
CŞËùiÚs
.
sšgËtÚLi¡
(
IÁeg”
.
toSŒšg
(
Ï¡U£dTabËSize
));

121 
	gdİt
.
	g£¬chHštText
 = 
R
.
¡ršg
.
£¬ch_Ü_cu¡om
;

122 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

125 
public
 
showS—rchFesDŸlog
(
Aùiv™y
 
aùiv™y
, 
Fe
 
£¬chDœ
, 
C®lback
.
a2
<
SŒšg
, 
IÁeg”
> 
ÿÎback
) {

126 ià(!
	gS—rchEngše
.
	gisS—rchExecutšg
) {

127 
	gC®lback
.
	ga1
<
	gS—rchEngše
.
	gS—rchO±iÚs
> 
	gfeS—rchDŸlogC®lback
 = (
£¬chO±iÚs
) -> {

128 
£¬chO±iÚs
.
roÙS—rchDœ
 = 
£¬chDœ
;

129 
	gS—rchEngše
.
queueFeS—rch
(
aùiv™y
, 
£¬chO±iÚs
, 
£¬chResuÉs
 -> {

130 
FeS—rchResuÉS–eùÜDŸlog
.
showDŸlog
(
aùiv™y
, 
£¬chResuÉs
, 
ÿÎback
);

133 
	gFeS—rchDŸlog
.
showDŸlog
(
aùiv™y
, 
feS—rchDŸlogC®lback
);

137 
public
 
showReûÁDocum’tsDŸlog
(
Aùiv™y
 
aùiv™y
, 
C®lback
.
a1
<
SŒšg
> 
ÿÎback
) {

138 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

139 
ba£CÚf
(
aùiv™y
, 
dİt
);

140 
	gdİt
.
	gÿÎback
 = 
ÿÎback
;

142 
fš®
 
StyËS·n
 
	gbŞdS·n
 = 
Ãw
 StyËS·n(
ªdroid
.
g¿phics
.
Ty³çû
.
BOLD
);

143 
fš®
 
R–©iveSizeS·n
 
	gsizeS·n
 = 
Ãw
 RelativeSizeSpan(0.75f);

144 
	gA¼ayLi¡
<
	gS·ÂabË
> 
	g¥ªÇbËs
 = 
Ãw
 
A¼ayLi¡
<>();

146 
AµS‘tšgs
 
	g­pS‘tšgs
 = 
Ãw
 AµS‘tšgs(
aùiv™y
.
g‘AµliÿtiÚCÚ‹xt
());

147 
SŒšg
 
	gtmps
;

148 
SŒšg
 
	gdocum’t
 : 
­pS‘tšgs
.
g‘ReûÁDocum’ts
()) {

149 
fš®
 
S·ÂabËSŒšgBud”
 
sb
 = 
Ãw
 S·ÂabËSŒšgBud”(
docum’t
);

150 
	gŒy
 {

151 
	gsb
.
£tS·n
(
bŞdS·n
, 
docum’t
.
Ï¡IndexOf
("/"), docum’t.
Ëngth
(), 
S·ÂabË
.
SPAN_INCLUSIVE_INCLUSIVE
);

152 ià(
	gdocum’t
.
¡¬tsW™h
((
tmps
 = 
­pS‘tšgs
.
g‘NÙebookDœeùÜyAsSŒ
()))) {

153 
sb
.
£tS·n
(
sizeS·n
, 0, 
tmps
.
Ëngth
(è+ 1, 
S·Âed
.
SPAN_INCLUSIVE_INCLUSIVE
);

154 } ià(
	gdocum’t
.
¡¬tsW™h
((
tmps
 = 
EnvœÚm’t
.
g‘Ex‹º®StÜageDœeùÜy
().
toSŒšg
()))) {

155 
sb
.
£tS·n
(
sizeS·n
, 0, 
tmps
.
Ëngth
(è+ 1, 
S·Âed
.
SPAN_INCLUSIVE_INCLUSIVE
);

157 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

160 
	g¥ªÇbËs
.
add
(
sb
);

162 
	gdİt
.
	gd©a
 = 
¥ªÇbËs
;

164 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
»ûÁly_v›wed_docum’ts
;

165 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

166 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

169 
public
 
showS‰ArchiveDŸlog
(
Aùiv™y
 
aùiv™y
, 
C®lback
.
a1
<
SŒšg
> 
ÿÎback
) {

170 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

171 
ba£CÚf
(
aùiv™y
, 
dİt
);

172 
	gdİt
.
	gÿÎback
 = 
ÿÎback
;

173 
	gLi¡
<
	gSŒšg
> 
	ghighligh‹dD©a
 = 
Ãw
 
A¼ayLi¡
<>();

174 
	gLi¡
<
	gSŒšg
> 
	gavaabËD©a
 = 
Ãw
 
A¼ayLi¡
<>();

175 
	gavaabËD©a
.
add
("todo.archive.txt");

176 
	gavaabËD©a
.
add
("todo.done.txt");

177 
	gavaabËD©a
.
add
("archive.txt");

178 
	gavaabËD©a
.
add
("done.txt");

179 
SŒšg
 
	ghl
 = 
Ãw
 
AµS‘tšgs
(
aùiv™y
).
g‘La¡TodoU£dArchiveF’ame
();

180 ià(!
	gTextUts
.
isEm±y
(
hl
)) {

181 
	ghighligh‹dD©a
.
add
(
hl
);

182 ià(!
	gavaabËD©a
.
cÚšs
(
hl
)) {

183 
	gavaabËD©a
.
add
(
hl
);

185 
	gdİt
.
	gdeçuÉText
 = 
hl
;

188 
	gdİt
.
	gd©a
 = 
avaabËD©a
;

189 
	gdİt
.
	ghighlightD©a
 = 
highligh‹dD©a
;

190 
	gdİt
.
	g£¬chHštText
 = 
R
.
¡ršg
.
£¬ch_Ü_cu¡om
;

191 
	gdİt
.
	gmes§geText
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
¬chive_dÛs_move_dÚe_sks
);

192 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

195 
public
 
showS‰SÜtDŸlogue
(
Aùiv™y
 
aùiv™y
, 
fš®
 
C®lback
.
a2
<
SŒšg
, 
BoŞ—n
> 
ÿÎback
) {

196 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

197 
ba£CÚf
(
aùiv™y
, 
dİt
);

198 
fš®
 
	gLi¡
<
	gSŒšg
> 
	gavaabËD©a
 = 
Ãw
 
A¼ayLi¡
<>();

199 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	gavaabËD©aToIcÚM­
 = 
Ãw
 
A¼ayLi¡
<>();

201 
AµS‘tšgs
 
	g­pS‘tšgs
 = 
Ãw
 AµS‘tšgs(
aùiv™y
.
g‘AµliÿtiÚCÚ‹xt
());

202 
SŒšg
 
	go_cÚ‹xt
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
cÚ‹xt
);

203 
SŒšg
 
	go_´ojeù
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
´ojeù
);

204 
SŒšg
 
	go_´io
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
´iÜ™y
);

205 
SŒšg
 
	go_d©e
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
d©e
);

206 
SŒšg
 
	go_‹xše
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
‹xt_lšes
);

207 
SŒšg
 
	go_desütiÚ
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
desütiÚ
);

208 
SŒšg
 
	go_dued©e
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
due_d©e
);

209 
SŒšg
 
	gd_asc
 = " (" + 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
asûndšg
) + ")";

210 
SŒšg
 
	gd_desc
 = " (" + 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
desûndšg
) + ")";

211 
SŒšg
 
	gİtLa¡S–eùed
 = "showSttSortDialogue.last_selected";

213 
	gdİt
.
	gÿÎback
 = 
¬g1
 -> {

214 
­pS‘tšgs
.
£tSŒšg
(
İtLa¡S–eùed
, 
¬g1
);

215 
	gSŒšg
[] 
	gv®ues
 = 
¬g1


216 .
»¶aû
(
o_cÚ‹xt
, 
BY_CONTEXT
)

217 .
»¶aû
(
o_´ojeù
, 
BY_PROJECT
)

218 .
»¶aû
(
o_´io
, 
BY_PRIORITY
)

219 .
»¶aû
(
o_d©e
, 
BY_CREATION_DATE
)

220 .
»¶aû
(
o_‹xše
, 
BY_LINE
)

221 .
»¶aû
(
o_desütiÚ
, 
BY_DESCRIPTION
)

222 .
»¶aû
(
o_dued©e
, 
BY_DUE_DATE
)

223 .
¥l™
(" ");

224 
	gÿÎback
.
ÿÎback
(
v®ues
[0], v®ues[1].
cÚšs
(
d_desc
.
»¶aû
(" ", "")));

227 
fš®
 
	gC®lback
.
	ga2
<
	gSŒšg
, 
	gIÁeg”
> 
	gaddToLi¡
 = (
o_by
, 
	gicÚRes
) -> {

228 
	gavaabËD©a
.
add
(
o_by
 + 
d_asc
);

229 
	gavaabËD©a
.
add
(
o_by
 + 
d_desc
);

230 
	gavaabËD©aToIcÚM­
.
add
(
icÚRes
);

231 
	gavaabËD©aToIcÚM­
.
add
(
icÚRes
);

233 
	gaddToLi¡
.
ÿÎback
(
o_´io
, 
R
.
d¿wabË
.
ic_¡¬_bÜd”_bÏck_24dp
);

234 
	gaddToLi¡
.
ÿÎback
(
o_´ojeù
, 
R
.
d¿wabË
.
ic_Ãw_Ïb–_bÏck_24dp
);

235 
	gaddToLi¡
.
ÿÎback
(
o_cÚ‹xt
, 
R
.
d¿wabË
.
gs_ema_sign_bÏck_24dp
);

236 
	gaddToLi¡
.
ÿÎback
(
o_d©e
, 
R
.
d¿wabË
.
ic_d©e_¿nge_bÏck_24dp
);

237 
	gaddToLi¡
.
ÿÎback
(
o_dued©e
, 
R
.
d¿wabË
.
ic_d©e_¿nge_bÏck_24dp
);

238 
	gaddToLi¡
.
ÿÎback
(
o_desütiÚ
, 
R
.
d¿wabË
.
ic_‹xt_f›lds_bÏck_24dp
);

239 
	gaddToLi¡
.
ÿÎback
(
o_‹xše
, 
R
.
d¿wabË
.
ic_‹xt_f›lds_bÏck_24dp
);

241 
	gdİt
.
	gd©a
 = 
avaabËD©a
;

242 
	gdİt
.
	ghighlightD©a
 = 
CŞËùiÚs
.
sšgËtÚLi¡
(
­pS‘tšgs
.
g‘SŒšg
(
İtLa¡S–eùed
, 
o_cÚ‹xt
 + 
d_desc
));

243 
	gdİt
.
	gicÚsFÜD©a
 = 
avaabËD©aToIcÚM­
;

244 
	gdİt
.
	gdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

245 
	gdİt
.
	gdŸlogHeightDp
 = 530;

246 
	gdİt
.
	gg¿v™y
 = 
G¿v™y
.
BOTTOM
 | G¿v™y.
END
;

248 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
sÜt_sks_by_£Ëùed_Üd”
;

249 
	gdİt
.
	gmes§geText
 = "";

250 
	gdİt
.
	g£¬chHštText
 = 
R
.
¡ršg
.
£¬ch_Ü_cu¡om
;

251 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

252 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

255 
public
 
showS‰CÚ‹xtDŸlog
(
Aùiv™y
 
aùiv™y
, 
Li¡
<
SŒšg
> 
avaabËD©a
, 
C®lback
.
a1
<SŒšg> 
ÿÎback
) {

256 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

257 
ba£CÚf
(
aùiv™y
, 
dİt
);

258 
	gdİt
.
	gd©a
 = 
Ãw
 
A¼ayLi¡
<>Òew 
T»eS‘
<>(
avaabËD©a
));

259 
	gdİt
.
	gÿÎback
 = 
ÿÎback
;

260 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
š£¹_cÚ‹xt
;

261 
	gdİt
.
	gisMuÉiS–eùEÇbËd
 = 
Œue
;

262 
	gdİt
.
	gpos™iÚC®lback
 = (
»suÉ
) -> {

263 
fš®
 
IÁeg”
 
i
 : 
»suÉ
) {

264 
ÿÎback
.ÿÎback(
dİt
.
d©a
.
g‘
(
i
).
toSŒšg
());

267 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

270 
public
 
showS‰KeyS—rchDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
Ch¬Sequ’û
 
fuÎText
, fš® 
C®lback
.
a1
<
S·ÂabË
> 
highligh‹r
, fš® 
boŞ—n
 
isProjeùs
, fš® C®lback.a1<
Li¡
<
IÁeg”
>> 
u£rC®lback
) {

271 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

272 
ba£CÚf
(
aùiv™y
, 
dİt
);

273 
fš®
 
	gTodoTxtTask
[] 
	g®lTasks
 = 
TodoTxtTask
.
g‘AÎTasks
(
fuÎText
);

274 
	gdİt
.
	gd©a
 = 
A¼ays
.
asLi¡
(
isProjeùs
 ? 
TodoTxtTask
.
g‘Projeùs
(
®lTasks
è: TodoTxtTask.
g‘CÚ‹xts
(allTasks));

275 
	gdİt
.
	gt™ËText
 = 
isProjeùs
 ? 
R
.
¡ršg
.
£¬ch_´ojeù
 : R.¡ršg.
£¬ch_cÚ‹xt
;

276 
	gdİt
.
	g£¬chHštText
 = 
R
.
¡ršg
.
£¬ch_Ü_cu¡om
;

278 
	gdİt
.
	gisMuÉiS–eùEÇbËd
 = 
Œue
;

279 
	gdİt
.
	gpos™iÚC®lback
 = (
keyIndiûs
) -> {

280 
S—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
dİt2
 = 
Ãw
 SearchOrCustomTextDialog.DialogOptions();

281 
ba£CÚf
(
aùiv™y
, 
dİt2
);

284 
fš®
 
	gS‘
<
	gSŒšg
> 
	g£¬chKeys
 = 
Ãw
 
HashS‘
<>();

285 
fš®
 
	gi
 : 
keyIndiûs
) {

286 
£¬chKeys
.
add
(
dİt
.
d©a
.
g‘
(
i
).
toSŒšg
());

289 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	gf‹»dIndiûs
 = 
Ãw
 
A¼ayLi¡
<>();

290 
fš®
 
	gLi¡
<
	gSŒšg
> 
	gskLšes
 = 
Ãw
 
A¼ayLi¡
<>();

291 
	gi
 = 0; i < 
	g®lTasks
.
	gËngth
; i++) {

292 
fš®
 
TodoTxtTask
 
	gsk
 = 
®lTasks
[
i
];

293 
fš®
 
	gSŒšg
[] 
	glšeKeys
 = 
isProjeùs
 ? 
sk
.
g‘Projeùs
(è:ask.
g‘CÚ‹xts
();

294 
fš®
 
SŒšg
 
	gkey
 : 
lšeKeys
) {

295 ià(
£¬chKeys
.
cÚšs
(
key
)) {

296 
f‹»dIndiûs
.
add
(
i
);

297 
	gskLšes
.
add
(
sk
.
g‘Lše
());

303 
	gdİt2
.
	gd©a
 = 
skLšes
;

304 
	gdİt2
.
	gt™ËText
 = 
dİt
.
t™ËText
;

305 
	gdİt2
.
	g£¬chHštText
 = 
R
.
¡ršg
.
£¬ch
;

306 
	gdİt2
.
	ghighligh‹r
 = 
highligh‹r
;

307 
	gdİt2
.
	gisMuÉiS–eùEÇbËd
 = 
Œue
;

308 
	gdİt2
.
	gpos™iÚC®lback
 = (
po¢s
) -> {

309 
fš®
 
Li¡
<
IÁeg”
> 
lšeIndiûs
 = 
Ãw
 
A¼ayLi¡
<>();

310 
fš®
 
	gp
 : 
po¢s
) {

311 
lšeIndiûs
.
add
(
f‹»dIndiûs
.
g‘
(
p
));

313 
	gu£rC®lback
.
ÿÎback
(
lšeIndiûs
);

315 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt2
);

318 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

324 
public
 
showCŞÜS–eùiÚModeDŸlog
(
Aùiv™y
 
aùiv™y
, 
C®lback
.
a1
<
IÁeg”
> 
ÿÎback
) {

325 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

327 
fš®
 
SŒšg
 
	ghexcode
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
hexcode
);

328 
fš®
 
SŒšg
 
	gfg
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
fÜeground
);

329 
fš®
 
SŒšg
 
	gbg
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
background
);

331 
ba£CÚf
(
aùiv™y
, 
dİt
);

332 
	gdİt
.
	gÿÎback
 = 
¬g1
 -> {

333 
id
 = 
R
.
¡ršg
.
hexcode
;

334 ià(
	gfg
.
equ®s
(
¬g1
)) {

335 
	gid
 = 
R
.
¡ršg
.
fÜeground
;

336 } ià(
	gbg
.
equ®s
(
¬g1
)) {

337 
	gid
 = 
R
.
¡ršg
.
background
;

339 
	gÿÎback
.
ÿÎback
(
id
);

342 
	gdİt
.
	gd©a
 = 
Ãw
 
A¼ayLi¡
<>(
A¼ays
.
asLi¡
(
hexcode
, 
fg
, 
bg
));

343 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
cŞÜ
;

344 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

345 
	gdİt
.
	gmes§geText
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
£t_fÜeground_Ü_background_cŞÜ_hexcŞÜ_®so_possibË
);

346 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

349 
public
 
showS‰ProjeùDŸlog
(
Aùiv™y
 
aùiv™y
, 
Li¡
<
SŒšg
> 
avaabËD©a
, 
C®lback
.
a1
<SŒšg> 
ÿÎback
) {

350 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

351 
ba£CÚf
(
aùiv™y
, 
dİt
);

352 
	gdİt
.
	gd©a
 = 
Ãw
 
A¼ayLi¡
<>Òew 
T»eS‘
<>(
avaabËD©a
));

353 
	gdİt
.
	gÿÎback
 = 
ÿÎback
;

354 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
š£¹_´ojeù
;

355 
	gdİt
.
	g£¬chHštText
 = 
R
.
¡ršg
.
£¬ch_Ü_cu¡om
;

356 
	gdİt
.
	gisMuÉiS–eùEÇbËd
 = 
Œue
;

357 
	gdİt
.
	gpos™iÚC®lback
 = (
»suÉ
) -> {

358 
fš®
 
IÁeg”
 
pi
 : 
»suÉ
) {

359 
ÿÎback
.ÿÎback(
dİt
.
d©a
.
g‘
(
pi
).
toSŒšg
());

362 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

365 
´iv©e
 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	$basicS—rchDŸlogİts
(
Aùiv™y
 
aùiv™y
, 
Ed™abË
 
ed™
, [] 
£l
) {

366 
S—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
dİt2
 = 
Ãw
 S—rchOrCu¡omTextDŸlog.
	`DŸlogO±iÚs
();

367 
	`ba£CÚf
(
aùiv™y
, 
dİt2
);

368 
dİt2
.
d©a
 = 
A¼ays
.
	`asLi¡
(
ed™
.
	`toSŒšg
().
	`¥l™
("\n", -1));

369 
dİt2
.
exŒaF‹r
 = "[^\\s]+";

370 
dİt2
.
t™ËText
 = 
R
.
¡ršg
.
£¬ch_docum’ts
;

371 
dİt2
.
£¬chHštText
 = 
R
.
¡ršg
.
£¬ch
;

372 
dİt2
.
ÃuŒ®Bu‰ÚC®lback
 = (è-> 
S—rchR•ÏûDŸlog
.
	`showS—rchR•ÏûDŸlog
(
aùiv™y
, 
ed™
, 
£l
);

373 
dİt2
.
ÃuŒ®Bu‰ÚText
 = 
R
.
¡ršg
.
£¬ch_ªd_»¶aû
;

374  
dİt2
;

375 
	}
}

377 
public
 
showS—rchDŸlog
(
Aùiv™y
 
aùiv™y
, 
Ed™abË
 
ed™
, [] 
£l
, 
C®lback
.
a1
<
IÁeg”
> 
u£rC®lback
) {

378 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt2
 = 
basicS—rchDŸlogİts
(
aùiv™y
, 
ed™
, 
£l
);

379 
	gdİt2
.
	gpos™iÚC®lback
 = (
»suÉ
è-> 
u£rC®lback
.
ÿÎback
ÔesuÉ.
g‘
(0));

380 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt2
);

383 
public
 
showTodoS—rchDŸlog
(
Aùiv™y
 
aùiv™y
, 
Ed™abË
 
ed™
, [] 
£l
, 
C®lback
.
a1
<
S·ÂabË
> 
highligh‹r
, C®lback.a1<
Li¡
<
IÁeg”
>> 
u£rC®lback
) {

384 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt2
 = 
basicS—rchDŸlogİts
(
aùiv™y
, 
ed™
, 
£l
);

385 
	gdİt2
.
	gisMuÉiS–eùEÇbËd
 = 
Œue
;

386 
	gdİt2
.
	gpos™iÚC®lback
 = 
u£rC®lback
;

387 
	gdİt2
.
	ghighligh‹r
 = 
highligh‹r
;

388 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt2
);

391 
public
 
showM¬kdownH—dlšeDŸlog
(
Aùiv™y
 
aùiv™y
, 
SŒšg
 
fuÎText
, 
C®lback
.
a1
<
IÁeg”
> 
u£rC®lback
) {

392 
showH—dlšeDŸlog
("^\\s{0,2}#{1,6}", 
aùiv™y
, 
fuÎText
, 
u£rC®lback
);

395 
public
 
showZimWikiH—dlšeDŸlog
(
Aùiv™y
 
aùiv™y
, 
SŒšg
 
fuÎText
, 
C®lback
.
a1
<
IÁeg”
> 
u£rC®lback
) {

396 
showH—dlšeDŸlog
(
ZimWikiHighligh‹r
.
P©‹ºs
.
HEADING
.
·‰”n
.
toSŒšg
(), 
aùiv™y
, 
fuÎText
, 
u£rC®lback
);

399 
´iv©e
 
showH—dlšeDŸlog
(
SŒšg
 
h—dlšeF‹rP©‹º
, 
Aùiv™y
 
aùiv™y
, SŒšg 
fuÎText
, 
C®lback
.
a1
<
IÁeg”
> 
u£rC®lback
) {

400 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt2
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

401 
ba£CÚf
(
aùiv™y
, 
dİt2
);

402 
	gdİt2
.
	gpos™iÚC®lback
 = (
»suÉ
è-> 
u£rC®lback
.
ÿÎback
ÔesuÉ.
g‘
(0));

403 
	gdİt2
.
	gd©a
 = 
A¼ays
.
asLi¡
(
fuÎText
.
¥l™
("\n", -1));

404 
	gdİt2
.
	gt™ËText
 = 
R
.
¡ršg
.
bË_of_cÚ‹Ás
;

405 
	gdİt2
.
	g£¬chHštText
 = 
R
.
¡ršg
.
£¬ch
;

406 
	gdİt2
.
	gexŒaF‹r
 = 
h—dlšeF‹rP©‹º
;

407 
	gdİt2
.
	gisS—rchEÇbËd
 = 
Œue
;

408 
	gdİt2
.
	g£¬chIsRegex
 = 
çl£
;

409 
	gdİt2
.
	gg¿v™y
 = 
G¿v™y
.
TOP
;

410 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt2
);

413 
public
 
showInd’tSizeDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
šd’t
, fš® 
C®lback
.
a1
<
SŒšg
> 
ÿÎback
) {

414 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

415 
ba£CÚf
(
aùiv™y
, 
dİt
);

416 
	gdİt
.
	gÿÎback
 = 
ÿÎback
;

417 
	gdİt
.
	gd©a
 = 
A¼ays
.
asLi¡
("1", "2", "4", "8");

418 
	gdİt
.
	ghighlightD©a
 = 
CŞËùiÚs
.
sšgËtÚLi¡
(
IÁeg”
.
toSŒšg
(
šd’t
));

419 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

420 
	gdİt
.
	gdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

421 
	gdİt
.
	gdŸlogHeightDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

422 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
šd’t
;

423 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

426 
public
 
showFÚtSizeDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
cu¼’tSize
, fš® 
C®lback
.
a1
<
IÁeg”
> 
ÿÎback
) {

427 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

428 
ba£CÚf
(
aùiv™y
, 
dİt
);

429 
	gdİt
.
	gÿÎback
 = (
£ËùedDŸlogV®ueAsSŒšg
 -> 
ÿÎback
.ÿÎback(
IÁeg”
.
·r£IÁ
(selectedDialogValueAsString)));

430 
fš®
 
	gmšFÚtSize
 = 1;

431 
fš®
 
	gmaxFÚtSize
 = 36;

432 
fš®
 
	gLi¡
<
	gSŒšg
> 
	gsizes
 = 
Ãw
 
A¼ayLi¡
<>();

433 
	gi
 = 
mšFÚtSize
; i <ğ
maxFÚtSize
; i++) {

434 
	gsizes
.
add
(
IÁeg”
.
toSŒšg
(
i
));

436 
	gdİt
.
	gd©a
 = 
sizes
;

437 
	gdİt
.
	ghighlightD©a
 = 
CŞËùiÚs
.
sšgËtÚLi¡
(
IÁeg”
.
toSŒšg
(
cu¼’tSize
));

438 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

439 
	gdİt
.
	gdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

440 
	gdİt
.
	gdŸlogHeightDp
 = 400;

441 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
fÚt_size
;

442 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

445 
public
 
showPriÜ™yDŸlog
(
Aùiv™y
 
aùiv™y
, 
£ËùedPriÜ™y
, 
C®lback
.
a1
<
SŒšg
> 
ÿÎback
) {

446 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

447 
ba£CÚf
(
aùiv™y
, 
dİt
);

448 
	gdİt
.
	gÿÎback
 = 
ÿÎback
;

450 
	gLi¡
<
	gSŒšg
> 
	gavaabËD©a
 = 
Ãw
 
A¼ayLi¡
<>();

451 
	gLi¡
<
	gSŒšg
> 
	ghighligh‹dD©a
 = 
Ãw
 
A¼ayLi¡
<>();

452 
SŒšg
 
	gnÚe
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
nÚe
);

453 
	gavaabËD©a
.
add
(
nÚe
);

454 
	gi
 = 'A'; i <= (() 'Z'); i++) {

455 
	gavaabËD©a
.
add
(
Ch¬aù”
.
toSŒšg
((è
i
));

457 
	ghighligh‹dD©a
.
add
(
nÚe
);

458 ià(
	g£ËùedPriÜ™y
 != 0) {

459 
highligh‹dD©a
.
add
(
Ch¬aù”
.
toSŒšg
(
£ËùedPriÜ™y
));

462 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	gd©aIcÚs
 = 
Ãw
 
A¼ayLi¡
<>();

463 
	gd©aIcÚs
.
add
(
R
.
d¿wabË
.
ic_d–‘e_bÏck_24dp
);

464 
	gi
 = 0; i <= 5; i++) {

465 
	gd©aIcÚs
.
add
(
R
.
d¿wabË
.
ic_¡¬_bÜd”_bÏck_24dp
);

468 
	gdİt
.
	gicÚsFÜD©a
 = 
d©aIcÚs
;

469 
	gdİt
.
	gd©a
 = 
avaabËD©a
;

470 
	gdİt
.
	ghighlightD©a
 = 
highligh‹dD©a
;

471 
	gdİt
.
	gt™ËText
 = 
R
.
¡ršg
.
´iÜ™y
;

472 
	gdİt
.
	gmes§geText
 = "";

473 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

474 
	gdİt
.
	gdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

475 
	gdİt
.
	gdŸlogHeightDp
 = 475;

476 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

479 
public
 
showCİyMoveCÚæiùDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
SŒšg
 
feName
, fš® SŒšg 
de¡Name
, fš® 
boŞ—n
 
muÉË
, fš® 
C®lback
.
a1
<
IÁeg”
> 
ÿÎback
) {

480 
	gS—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
	gdİt
 = 
Ãw
 
S—rchOrCu¡omTextDŸlog
.DialogOptions();

481 
ba£CÚf
(
aùiv™y
, 
dİt
);

482 
	gdİt
.
	gpos™iÚC®lback
 = (
»suÉ
è-> 
ÿÎback
.ÿÎbackÔesuÉ.
g‘
(0));

483 
	gLi¡
<
	gSŒšg
> 
	gd©a
 = 
Ãw
 
A¼ayLi¡
<>();

484 
	gd©a
.
add
(
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
k“p_bÙh
));

485 
	gd©a
.
add
(
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
sk
));

486 
	gd©a
.
add
(
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
ov”wr™e
));

487 ià(
	gmuÉË
) {

488 
	gd©a
.
add
(
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
k“p_bÙh_®l
));

489 
	gd©a
.
add
(
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
ov”wr™e_®l
));

490 
	gd©a
.
add
(
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
sk_®l
));

492 
	gdİt
.
	gd©a
 = 
d©a
;

493 
	gdİt
.
	gisS—rchEÇbËd
 = 
çl£
;

494 
	gdİt
.
	gdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

495 
	gdİt
.
	gdŸlogHeightDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

496 
	gdİt
.
	gmes§geText
 = 
aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
cİy_move_cÚæiù_mes§ge
, 
feName
, 
de¡Name
);

497 
	gdİt
.
	gdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

498 
	gdİt
.
	gdŸlogHeightDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

499 
	gS—rchOrCu¡omTextDŸlog
.
showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

502 
public
 
	$showS‘PasswÜdDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
) {

503 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
M
) {

504 
fš®
 
AµS‘tšgs
 
as
 = 
Ãw
 
	`AµS‘tšgs
(
aùiv™y
.
	`g‘AµliÿtiÚCÚ‹xt
());

505 
fš®
 
S—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
dİt
 = 
Ãw
 S—rchOrCu¡omTextDŸlog.
	`DŸlogO±iÚs
();

506 
	`ba£CÚf
(
aùiv™y
, 
dİt
);

507 
dİt
.
isS—rchEÇbËd
 = 
Œue
;

508 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
fe_’üy±iÚ_·sswÜd
;

509 
fš®
 
boŞ—n
 
hasPasswÜd
 = 
as
.
	`isDeçuÉPasswÜdS‘
();

510 
dİt
.
mes§geText
 = 
hasPasswÜd
 ? 
aùiv™y
.
	`g‘SŒšg
(
R
.
¡ršg
.
·sswÜd_®»ady_£t_£‰šg_a_Ãw_·sswÜd_wl_ov”wr™e
) : "";

511 
dİt
.
£¬chHštText
 = 
hasPasswÜd
 ? 
R
.
¡ršg
.
hidd’_·sswÜd
 : R.¡ršg.
em±y_¡ršg
;

512 
dİt
.
ÿÎback
 = 
·sswÜd
 -> {

513 ià(!
TextUts
.
	`isEm±y
(
·sswÜd
)) {

514 
AµS‘tšgs
.
	`g‘
().
	`£tDeçuÉPasswÜd
(
·sswÜd
);

515 
Tß¡
.
	`makeText
(
aùiv™y
, "âœ”ï¸", Tß¡.
LENGTH_SHORT
).
	`show
();

518 
S—rchOrCu¡omTextDŸlog
.
	`showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
aùiv™y
, 
dİt
);

520 
	}
}

522 
public
 
	$ba£CÚf
(
Aùiv™y
 
aùiv™y
, 
S—rchOrCu¡omTextDŸlog
.
DŸlogO±iÚs
 
dİt
) {

523 
AµS‘tšgs
 
as
 = 
Ãw
 
	`AµS‘tšgs
(
aùiv™y
);

524 
dİt
.
isD¬kDŸlog
 = 
as
.
	`isD¬kThemeEÇbËd
();

525 
dİt
.
ş—rIÅutIcÚ
 = 
R
.
d¿wabË
.
ic_ba£lše_ş—r_24
;

526 
dİt
.
‹xtCŞÜ
 = 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
aùiv™y
, dİt.
isD¬kDŸlog
 ? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
);

527 
dİt
.
highlightCŞÜ
 = 
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
aùiv™y
, 
R
.
cŞÜ
.
acûÁ
);

528 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/SearchReplaceDialog.java

7 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
;

9 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

10 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

11 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

17 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

18 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

19 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

20 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

21 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gA¼ayAd­‹r
;

22 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBu‰Ú
;

23 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckBox
;

24 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

25 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLi¡PİupWšdow
;

26 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

32 
impÜt
 
	gÜg
.
	gjsÚ
.
	gJSONA¼ay
;

33 
impÜt
 
	gÜg
.
	gjsÚ
.
	gJSONExû±iÚ
;

34 
impÜt
 
	gÜg
.
	gjsÚ
.
	gJSONObjeù
;

36 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

37 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

38 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

39 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

40 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

41 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

42 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

44 
public
 cÏs 
	cS—rchR•ÏûDŸlog
 {

45 
´iv©e
 
fš®
 
SŒšg
 
	mRECENT_SEARCH_REPLACE_STRING
 = "search_replace_dialog__recent_search_replace_history";

46 
´iv©e
 
fš®
 
	mMAX_RECENT_SEARCH_REPLACE
 = 10;

48 
´iv©e
 
fš®
 
Ed™Text
 
	m£¬chText
;

49 
´iv©e
 
fš®
 
Ed™Text
 
	m»¶aûText
;

50 
´iv©e
 
fš®
 
CheckBox
 
	m»gexCheckBox
;

51 
´iv©e
 
fš®
 
CheckBox
 
	mmuÉšeCheckBox
;

52 
´iv©e
 
fš®
 
TextV›w
 
	mm©chS‹
;

53 
´iv©e
 
fš®
 
Bu‰Ú
 
	m»¶aûFœ¡
;

54 
´iv©e
 
fš®
 
Bu‰Ú
 
	m»¶aûAÎ
;

56 
´iv©e
 
fš®
 
Aùiv™y
 
	m_aùiv™y
;

57 
´iv©e
 
fš®
 
Ed™abË
 
	m_ed™
;

59 
´iv©e
 
fš®
 [] 
	m_£l
;

60 
´iv©e
 
fš®
 
	mcursÜPos™iÚ
;

61 
´iv©e
 
fš®
 
Ch¬Sequ’û
 
	m»giÚ
;

63 
´iv©e
 
fš®
 
	mR•ÏûGroup
[] 
	mDEFAULT_GROUPS
 = {

65 
Ãw
 
R•ÏûGroup
("[^\\S\\n\\r]+$", "", 
Œue
,rue),

67 
Ãw
 
R•ÏûGroup
("\\n\\s*\\n", "\\n", 
Œue
, 
çl£
),

69 
Ãw
 
R•ÏûGroup
("^(\\s*[-\\*]è\\[[xX]\\]", "$1 [ ]", 
Œue
,rue),

71 
Ãw
 
R•ÏûGroup
("^(\\s*[-\\*]è\\[\\s\\]", "$1 [x]", 
Œue
,rue),

74 
´iv©e
 
fš®
 
	gLi¡
<
	gR•ÏûGroup
> 
	g»ûÁR•Ïûs
;

76 
public
 
	$showS—rchR•ÏûDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
Ed™abË
 
ed™
, fš® [] 
£l
) {

77 
Ãw
 
	`S—rchR•ÏûDŸlog
(
aùiv™y
, 
ed™
, 
£l
);

78 
	}
}

80 
´iv©e
 
	$S—rchR•ÏûDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
Ed™abË
 
ed™
, fš® [] 
£l
) {

82 
_aùiv™y
 = 
aùiv™y
;

83 
_ed™
 = 
ed™
;

85 ià(
£l
 !ğ
nuÎ
 && s–.
Ëngth
 == 2) {

86 
fš®
 
¡¬t
 = 
M©h
.
	`mš
(M©h.
	`max
(0, M©h.mš(
£l
[0], s–[1])), 
_ed™
.
	`Ëngth
());

87 
fš®
 
’d
 = 
M©h
.
	`mš
(M©h.
	`max
(0, M©h.max(
£l
[0], s–[1])), 
_ed™
.
	`Ëngth
());

89 ià(
¡¬t
 =ğ
’d
) {

90 
_£l
 = 
Ãw
 []{0, 
ed™
.
	`Ëngth
()};

91 
cursÜPos™iÚ
 = 
¡¬t
;

93 
cursÜPos™iÚ
 = -1;

94 
_£l
 = 
Ãw
 []{
¡¬t
, 
’d
};

97 
_£l
 = 
Ãw
 []{0, 
ed™
.
	`Ëngth
()};

98 
cursÜPos™iÚ
 = -1;

101 ià(
_£l
[0] !ğ0 || _£l[1] !ğ
_ed™
.
	`Ëngth
()) {

102 
»giÚ
 = 
_ed™
.
	`subSequ’û
(
_£l
[0], _sel[1]);

104 
»giÚ
 = 
_ed™
;

107 
fš®
 
Resourûs
 
»s
 = 
aùiv™y
.
	`g‘Resourûs
();

108 
fš®
 
AË¹DŸlog
.
Bud”
 
bud”
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
aùiv™y
);

109 
fš®
 
V›w
 
v›wRoÙ
 = 
aùiv™y
.
	`g‘LayoutInæ©”
().
	`šæ©e
(
R
.
Ïyout
.
£¬ch_»¶aû_dŸlog
, 
nuÎ
);

110 
fš®
 
AtomicReã»nû
<
DŸlog
> 
dŸlog
 = 
Ãw
 AtomicReference<>();

112 
£¬chText
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
£¬ch_šput
);

113 
»¶aûText
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
»¶aû_šput
);

114 
»gexCheckBox
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
’abË_»gex
);

115 
muÉšeCheckBox
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
muÉše
);

116 
m©chS‹
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
m©ch_couÁ_Ü_”rÜ
);

117 
»¶aûFœ¡
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
»¶aû_Úû
);

118 
»¶aûAÎ
 = 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
»¶aû_®l
);

120 
»ûÁR•Ïûs
 = 
	`lßdReûÁR•Ïûs
();

122 
fš®
 
Li¡PİupWšdow
 
pİupWšdow
 = 
Ãw
 
	`Li¡PİupWšdow
(
aùiv™y
);

125 
pİupWšdow
.
	`£tAd­‹r
(
Ãw
 
A¼ayAd­‹r
<
R•ÏûGroup
>(
aùiv™y
, 
ªdroid
.
R
.
Ïyout
.
sim¶e_li¡_™em_1
, 
»ûÁR•Ïûs
) {

126 @
NÚNuÎ


127 @
Ov”ride


128 
public
 
V›w
 
	`g‘V›w
(
pos
, @
NuÎabË
 V›w 
v›w
, @
NÚNuÎ
 
V›wGroup
 
·»Á
) {

129 
fš®
 
TextV›w
 
‹xtV›w
 = (TextV›wè
su³r
.
	`g‘V›w
(
pos
, 
v›w
, 
·»Á
);

131 ià(
pos
 >ğ0 &&…o < 
»ûÁR•Ïûs
.
	`size
()) {

132 
fš®
 
R•ÏûGroup
 
rg
 = 
»ûÁR•Ïûs
.
	`g‘
(
pos
);

133 
fš®
 
SŒšg
 
desc
 = SŒšg.
	`fÜm©
("%s: %s\n%s: %s\n%s: %b, %s: %b\n",

134 
»s
.
	`g‘SŒšg
(
R
.
¡ršg
.
£¬ch_fÜ
), 
rg
.
_£¬ch
,

135 
»s
.
	`g‘SŒšg
(
R
.
¡ršg
.
»¶aû_w™h
), 
rg
.
_»¶aû
,

136 
»s
.
	`g‘SŒšg
(
R
.
¡ršg
.
»gex
), 
rg
.
_isRegex
,

137 
»s
.
	`g‘SŒšg
(
R
.
¡ršg
.
muÉše
), 
rg
.
_isMuÉše
);

138 
‹xtV›w
.
	`£tText
(
desc
);

141  
‹xtV›w
;

145 
pİupWšdow
.
	`£tOnI‹mClickLi¡’”
((
·»Á
, 
v›w
, 
pos™iÚ
, 
id
) -> {

146 
fš®
 
R•ÏûGroup
 
r
 = 
»ûÁR•Ïûs
.
	`g‘
(
pos™iÚ
);

147 
£¬chText
.
	`£tText
(
r
.
_£¬ch
);

148 
»¶aûText
.
	`£tText
(
r
.
_»¶aû
);

149 
»gexCheckBox
.
	`£tChecked
(
r
.
_isRegex
);

150 
muÉšeCheckBox
.
	`£tChecked
(
r
.
_isMuÉše
);

151 
	`upd©eUI
();

152 
pİupWšdow
.
	`dismiss
();

155 
pİupWšdow
.
	`£tAnchÜV›w
(
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
£¬ch_»¶aû_‹xt_group
));

156 
pİupWšdow
.
	`£tMod®
(
Œue
);

157 
v›wRoÙ
.
	`fšdV›wById
(
R
.
id
.
»ûÁ_show_¥šÃr
).
	`£tOnClickLi¡’”
(
v
 -> 
pİupWšdow
.
	`show
());

159 
fš®
 
TextW©ch”
 
‹xtW©ch”
 = 
Ãw
 
	`TextW©ch”
() {

160 @
Ov”ride


161 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
, 
aá”
) {

165 @
Ov”ride


166 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
, 
couÁ
) {

170 @
Ov”ride


171 
public
 
	`aá”TextChªged
(
Ed™abË
 
s
) {

172 
	`upd©eUI
();

176 
£¬chText
.
	`addTextChªgedLi¡’”
(
‹xtW©ch”
);

177 
»¶aûText
.
	`addTextChªgedLi¡’”
(
‹xtW©ch”
);

179 
»gexCheckBox
.
	`£tOnClickLi¡’”
(

180 
v
 -> 
	`upd©eUI
()

183 
muÉšeCheckBox
.
	`£tOnClickLi¡’”
(

184 
v
 -> 
	`upd©eUI
()

187 
»¶aûFœ¡
.
	`£tOnClickLi¡’”
(
bu‰Ú
 -> {

188 
	`³rfÜmR•Ïû
(
çl£
);

189 
	`§veReûÁR•Ïû
();

190 
dŸlog
.
	`g‘
().
	`dismiss
();

193 
»¶aûAÎ
.
	`£tOnClickLi¡’”
(
bu‰Ú
 -> {

194 
	`³rfÜmR•Ïû
(
Œue
);

195 
	`§veReûÁR•Ïû
();

196 
dŸlog
.
	`g‘
().
	`dismiss
();

199 
	`upd©eUI
();

201 
bud”
.
	`£tV›w
(
v›wRoÙ
).
	`£tNeg©iveBu‰Ú
(
R
.
¡ršg
.
ÿnûl
, 
nuÎ
);

202 
dŸlog
.
	`£t
(
bud”
.
	`show
());

203 
	}
}

205 
´iv©e
 
	$³rfÜmR•Ïû
(
fš®
 
boŞ—n
 
»¶aûAÎ
) {

206 
Œy
 {

207 
fš®
 
SŒšg
 
»¶aûm’t
 = 
	`g‘R•Ïûm’t
(
»¶aûAÎ
);

208 
_ed™
.
	`»¶aû
(
_£l
[0], _£l[1], 
»¶aûm’t
);

209 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 | 
IndexOutOfBoundsExû±iÚ
 
e
) {

212 
	}
}

214 
´iv©e
 
SŒšg
 
	$g‘R•Ïûm’t
(
fš®
 
boŞ—n
 
»¶aûAÎ
) {

215 
fš®
 
P©‹º
 
¥
 = 
	`makeP©‹º
();

217 ià(
»¶aûAÎ
) {

218  
¥
.
	`m©ch”
(
»giÚ
).
	`»¶aûAÎ
(
	`g‘R•ÏûP©‹º
());

220 
fš®
 
M©ch”
 
m©ch
 = 
¥
.
	`m©ch”
(
»giÚ
);

222 ià(
cursÜPos™iÚ
 > 0 && cursÜPos™iÚ < 
»giÚ
.
	`Ëngth
()) {

223 ià(
m©ch
.
	`fšd
(
cursÜPos™iÚ
)) {

224 
fš®
 
Ch¬Sequ’û
 
befÜe
 = 
»giÚ
.
	`subSequ’û
(0, 
cursÜPos™iÚ
);

225 
fš®
 
Ch¬Sequ’û
 
aá”
 = 
»giÚ
.
	`subSequ’û
(
cursÜPos™iÚ
,„egiÚ.
	`Ëngth
());

226  
befÜe
 + 
¥
.
	`m©ch”
(
aá”
).
	`»¶aûFœ¡
(
	`g‘R•ÏûP©‹º
());

229  
m©ch
.
	`»¶aûFœ¡
(
	`g‘R•ÏûP©‹º
());

231 
	}
}

233 
´iv©e
 
P©‹º
 
	$makeP©‹º
() {

234 ià(
»gexCheckBox
.
	`isChecked
()) {

235 ià(
muÉšeCheckBox
.
	`isChecked
()) {

236  
P©‹º
.
	`compe
(
£¬chText
.
	`g‘Text
().
	`toSŒšg
(), P©‹º.
MULTILINE
);

238  
P©‹º
.
	`compe
(
£¬chText
.
	`g‘Text
().
	`toSŒšg
());

241  
P©‹º
.
	`compe
(
£¬chText
.
	`g‘Text
().
	`toSŒšg
(), P©‹º.
LITERAL
);

243 
	}
}

245 
´iv©e
 
SŒšg
 
	$g‘R•ÏûP©‹º
() {

246  
SŒšgUts
.
	`uÃsÿ³SŒšg
(
»¶aûText
.
	`g‘Text
().
	`toSŒšg
());

247 
	}
}

249 
´iv©e
 
	$upd©eUI
() {

250 
boŞ—n
 
”rÜ
 = 
çl£
;

251 
couÁ
 = 0;

253 ià(
£¬chText
.
	`Ëngth
() > 0) {

254 
Œy
 {

256 
fš®
 
P©‹º
 
¥
 = 
	`makeP©‹º
();

259 
fš®
 
M©ch”
 
m©ch
 = 
¥
.
	`m©ch”
(
»giÚ
);

260 
m©ch
.
	`fšd
()è
couÁ
++;

263 ià(
couÁ
 > 0) {

264 
	`g‘R•Ïûm’t
(
çl£
);

267 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 | 
IndexOutOfBoundsExû±iÚ
 
e
) {

268 
”rÜ
 = 
Œue
;

272 
fš®
 
boŞ—n
 
’abËd
 = (
couÁ
 > 0è&& !
”rÜ
;

273 
»¶aûFœ¡
.
	`£tEÇbËd
(
’abËd
);

274 
»¶aûAÎ
.
	`£tEÇbËd
(
’abËd
);

276 
muÉšeCheckBox
.
	`£tEÇbËd
(
»gexCheckBox
.
	`isChecked
());

278 
fš®
 
Resourûs
 
»s
 = 
_aùiv™y
.
	`g‘Resourûs
();

280 ià(
”rÜ
) {

281 
m©chS‹
.
	`£tText
(
»s
.
	`g‘SŒšg
(
R
.
¡ršg
.
£¬ch_»¶aû_·‰”n_”rÜ_mes§ge
));

283 
m©chS‹
.
	`£tText
(
SŒšg
.
	`fÜm©
(
»s
.
	`g‘CÚfigu¿tiÚ
().
loÿË
, "%s: %d",„es.
	`g‘SŒšg
(
R
.
¡ršg
.
m©ches
), 
couÁ
));

285 
	}
}

287 
´iv©e
 
	gLi¡
<
	gR•ÏûGroup
> 
	$lßdReûÁR•Ïûs
() {

288 
fš®
 
Li¡
<
R•ÏûGroup
> 
»ûÁs
 = 
Ãw
 
A¼ayLi¡
<>();

290 
Œy
 {

291 
fš®
 
Sh¬edP»ã»nûs
 
£‰šgs
 = 
_aùiv™y
.
	`g‘Sh¬edP»ã»nûs
(
Sh¬edP»ã»nûsPrİ”tyBack’d
.
SHARED_PREF_APP
, 
CÚ‹xt
.
MODE_PRIVATE
);

292 
fš®
 
SŒšg
 
jsÚSŒšg
 = 
£‰šgs
.
	`g‘SŒšg
(
RECENT_SEARCH_REPLACE_STRING
, "");

293 ià(
jsÚSŒšg
.
	`Ëngth
() > 0) {

294 
fš®
 
JSONA¼ay
 
¬¿y
 = 
Ãw
 
	`JSONA¼ay
(
jsÚSŒšg
);

295 
i
 = 0; i < 
¬¿y
.
	`Ëngth
(); i++) {

296 
»ûÁs
.
	`add
(
R•ÏûGroup
.
	`äomJsÚ
(
¬¿y
.
	`g‘JSONObjeù
(
i
)));

299 } 
	`ÿtch
 (
JSONExû±iÚ
 
e
) {

304 
fš®
 
R•ÏûGroup
 
rg
 : 
DEFAULT_GROUPS
) {

305 ià(!
»ûÁs
.
	`cÚšs
(
rg
)) {

306 
»ûÁs
.
	`add
(
rg
);

309  
»ûÁs
;

310 
	}
}

312 
´iv©e
 
	$§veReûÁR•Ïû
() {

313 
fš®
 
A¼ayLi¡
<
R•ÏûGroup
> 
ÃwR•Ïûs
 = 
Ãw
 ArrayList<>();

314 
fš®
 
S‘
<
SŒšg
> 
dedupS‘
 = 
Ãw
 
HashS‘
<>();

316 
fš®
 
R•ÏûGroup
 
ÃwR•Ïû
 = 
Ãw
 
	`R•ÏûGroup
(

317 
£¬chText
.
	`g‘Text
(), 
»¶aûText
.g‘Text(), 
»gexCheckBox
.
	`isChecked
(), 
muÉšeCheckBox
.isChecked());

319 
ÃwR•Ïûs
.
	`add
(
ÃwR•Ïû
);

320 
dedupS‘
.
	`add
(
ÃwR•Ïû
.
	`key
());

323 
fš®
 
addCouÁ
 = 
M©h
.
	`mš
(
»ûÁR•Ïûs
.
	`size
(), 
MAX_RECENT_SEARCH_REPLACE
 - 1);

324 
i
 = 0; i < 
addCouÁ
; i++) {

325 
fš®
 
R•ÏûGroup
 
rg
 = 
»ûÁR•Ïûs
.
	`g‘
(
i
);

326 ià(!
dedupS‘
.
	`cÚšs
(
rg
.
	`key
())) {

327 
ÃwR•Ïûs
.
	`add
(
rg
);

328 
dedupS‘
.
	`add
(
rg
.
	`key
());

332 
fš®
 
JSONA¼ay
 
¬¿y
 = 
Ãw
 
	`JSONA¼ay
();

333 
fš®
 
R•ÏûGroup
 
rg
 : 
ÃwR•Ïûs
) {

334 
¬¿y
.
	`put
(
rg
.
	`toJsÚ
());

337 
fš®
 
Sh¬edP»ã»nûs
.
Ed™Ü
 
ed™
 = 
_aùiv™y
.
	`g‘Sh¬edP»ã»nûs
(
Sh¬edP»ã»nûsPrİ”tyBack’d
.
SHARED_PREF_APP
, 
CÚ‹xt
.
MODE_PRIVATE
).
	`ed™
();

338 
ed™
.
	`putSŒšg
(
RECENT_SEARCH_REPLACE_STRING
, 
¬¿y
.
	`toSŒšg
()).
	`­¶y
();

339 
	}
}

341 
´iv©e
 şas 
	cR•ÏûGroup
 {

342 
fš®
 
public
 
Ch¬Sequ’û
 
	g_£¬ch
;

343 
fš®
 
public
 
Ch¬Sequ’û
 
	g_»¶aû
;

344 
fš®
 
public
 
boŞ—n
 
	g_isRegex
;

345 
fš®
 
public
 
boŞ—n
 
	g_isMuÉše
;

347 
´iv©e
 
fš®
 
SŒšg
 
	gSEARCH_KEY
 = "search";

348 
´iv©e
 
fš®
 
SŒšg
 
	gREPLACE_KEY
 = "replace";

349 
´iv©e
 
fš®
 
SŒšg
 
	gREGEX_KEY
 = "regex";

350 
´iv©e
 
fš®
 
SŒšg
 
	gMULTILINE_KEY
 = "multiline";

352 
public
 
SŒšg
 
key
() {

353  
	gSŒšg
.
fÜm©
("%s%s%b%b", 
_£¬ch
, 
_»¶aû
, 
_isRegex
, 
_isMuÉše
);

356 @
Ov”ride


357 
public
 
boŞ—n
 
equ®s
(
Objeù
 
Ùh”
) {

358  (
Ùh”
 
š¡ªûof
 
	gR•ÏûGroup
 && 
	gthis
.
key
().
equ®s
(((
R•ÏûGroup
) other).key()));

361 
public
 
R•ÏûGroup
(

362 
fš®
 
Ch¬Sequ’û
 
£¬ch
,

363 
fš®
 
Ch¬Sequ’û
 
»¶aû
,

364 
fš®
 
boŞ—n
 
isRegex
,

365 
fš®
 
boŞ—n
 
isMuÉše


367 
	g_£¬ch
 = 
£¬ch
;

368 
	g_»¶aû
 = 
»¶aû
;

369 
	g_isRegex
 = 
isRegex
;

370 
	g_isMuÉše
 = 
isMuÉše
;

373 
public
 
R•ÏûGroup
 
äomJsÚ
(
JSONObjeù
 
obj
) {

374 
	gŒy
 {

375  
Ãw
 
R•ÏûGroup
(

376 
obj
.
g‘SŒšg
(
SEARCH_KEY
),

377 
obj
.
g‘SŒšg
(
REPLACE_KEY
),

378 
obj
.
g‘BoŞ—n
(
REGEX_KEY
),

379 
obj
.
g‘BoŞ—n
(
MULTILINE_KEY
));

380 } 
ÿtch
 (
JSONExû±iÚ
 
e
) {

381  
Ãw
 
R•ÏûGroup
("", "", 
çl£
, false);

385 
public
 
JSONObjeù
 
toJsÚ
() {

386 
fš®
 
JSONObjeù
 
	gobj
 = 
Ãw
 JSONObject();

387 
	gŒy
 {

388 
	gobj
.
put
(
SEARCH_KEY
, 
_£¬ch
);

389 
	gobj
.
put
(
REPLACE_KEY
, 
_»¶aû
);

390 
	gobj
.
put
(
REGEX_KEY
, 
_isRegex
);

391 
	gobj
.
put
(
MULTILINE_KEY
, 
_isMuÉše
);

392 } 
ÿtch
 (
JSONExû±iÚ
 
e
) {

395  
	gobj
;

	@app/src/main/java/net/gsantner/markor/ui/fsearch/FileSearchDialog.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gf£¬ch
;

3 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

4 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

6 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gAµCom·tEd™Text
;

7 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutTy³
;

8 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

9 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

10 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

11 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

12 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gAd­‹rV›w
;

13 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gA¼ayAd­‹r
;

14 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckBox
;

15 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

16 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSüŞlV›w
;

17 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSpšÃr
;

18 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

25 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

27 
public
 cÏs 
	cFeS—rchDŸlog
 {

28 
public
 
showDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
C®lback
.
a1
<
S—rchEngše
.
S—rchO±iÚs
> 
dŸlogC®lback
) {

29 
fš®
 
	mAtomicReã»nû
<
	mAË¹DŸlog
> 
	mdŸlogRef
 = 
Ãw
 
AtomicReã»nû
<>();

30 
	mdŸlogRef
.
£t
(
budDŸlog
(
aùiv™y
, 
dŸlogRef
, 
dŸlogC®lback
).
ü—‹
());

31 ià(
	mdŸlogRef
.
g‘
().
g‘Wšdow
(è!ğ
nuÎ
) {

32 
dŸlogRef
.
g‘
().
g‘Wšdow
().
£tSoáIÅutMode
(
WšdowMªag”
.
LayoutP¬ams
.
SOFT_INPUT_ADJUST_RESIZE
 | WšdowMªag”.LayoutP¬ams.
SOFT_INPUT_STATE_ALWAYS_VISIBLE
);

34 
	mdŸlogRef
.
g‘
().
show
();

35 ià(
	mdŸlogRef
.
g‘
().
g‘Wšdow
(è!ğ
nuÎ
) {

36 
dŸlogRef
.
g‘
().
g‘Wšdow
().
£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
, WšdowMªag”.LayoutP¬ams.
WRAP_CONTENT
);

40 
´iv©e
 
	gAË¹DŸlog
.
Bud”
 
budDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
AtomicReã»nû
<
AË¹DŸlog
> 
dŸlog
, fš® 
C®lback
.
a1
<
S—rchEngše
.
S—rchO±iÚs
> 
dŸlogC®lback
) {

41 
fš®
 
AµS‘tšgs
 
	g­pS‘tšgs
 = 
Ãw
 AµS‘tšgs(
aùiv™y
);

42 
fš®
 
	gAË¹DŸlog
.
Bud”
 
	gdŸlogBud”
 = 
Ãw
 
AË¹DŸlog
.Bud”(
aùiv™y
, 
­pS‘tšgs
.
isD¬kThemeEÇbËd
(è? 
R
.
¡yË
.
Theme_AµCom·t_DŸlog
 : R.¡yË.
Theme_AµCom·t_Light_DŸlog
);

44 
fš®
 
SüŞlV›w
 
	gsüŞlV›w
 = 
Ãw
 SüŞlV›w(
aùiv™y
);

45 
fš®
 
Lš—rLayout
 
	gdŸlogLayout
 = 
Ãw
 Lš—rLayout(
aùiv™y
);

46 
	gdŸlogLayout
.
£tOr›Á©iÚ
(
Lš—rLayout
.
VERTICAL
);

47 
fš®
 
	gdp4px
 = (è(
Ãw
 
CÚ‹xtUts
(
dŸlogLayout
.
g‘CÚ‹xt
()).
cÚv”tDpToPx
(4));

48 
fš®
 
	g‹xtCŞÜ
 = 
CÚ‹xtCom·t
.
g‘CŞÜ
(
aùiv™y
, 
­pS‘tšgs
.
isD¬kThemeEÇbËd
(è? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
);

50 
fš®
 
	gLš—rLayout
.
LayoutP¬ams
 
	gm¬gšs
 = 
Ãw
 
Lš—rLayout
.LayoutP¬ams(Lš—rLayout.LayoutP¬ams.
MATCH_PARENT
, Lš—rLayout.LayoutP¬ams.
WRAP_CONTENT
);

51 
	gm¬gšs
.
£tM¬gšs
(
dp4px
 * 5, dp4px, dp4px * 5, dp4px);

53 
fš®
 
	gLš—rLayout
.
LayoutP¬ams
 
	gsubCheckBoxM¬gšs
 = 
Ãw
 
Lš—rLayout
.LayoutP¬ams(Lš—rLayout.LayoutP¬ams.
MATCH_PARENT
, Lš—rLayout.LayoutP¬ams.
WRAP_CONTENT
);

54 
	gsubCheckBoxM¬gšs
.
£tM¬gšs
(
dp4px
 * 5 * 2, dp4px, dp4px * 5, dp4px);

56 
fš®
 
TextV›w
 
	gmes§geTextV›w
 = 
Ãw
 TextV›w(
aùiv™y
);

57 
fš®
 
AµCom·tEd™Text
 
	g£¬chEd™Text
 = 
Ãw
 AµCom·tEd™Text(
aùiv™y
);

58 
fš®
 
SpšÃr
 
	gqu”yHi¡ÜySpšÃr
 = 
Ãw
 SpšÃr(
aùiv™y
);

59 
fš®
 
CheckBox
 
	g»gexCheckBox
 = 
Ãw
 CheckBox(
aùiv™y
);

60 
fš®
 
CheckBox
 
	gÿ£S’s™iv™yCheckBox
 = 
Ãw
 CheckBox(
aùiv™y
);

61 
fš®
 
CheckBox
 
	g£¬chInCÚ‹ÁCheckBox
 = 
Ãw
 CheckBox(
aùiv™y
);

62 
fš®
 
CheckBox
 
	gÚlyFœ¡CÚ‹ÁM©chCheckBox
 = 
Ãw
 CheckBox(
aùiv™y
);

64 
fš®
 
	gC®lback
.
a0
 
	gsubm™
 = () -> {

65 
fš®
 
SŒšg
 
qu”y
 = 
£¬chEd™Text
.
g‘Text
().
toSŒšg
();

66 ià(
	gdŸlogC®lback
 !ğ
nuÎ
 && !
TextUts
.
isEm±y
(
qu”y
)) {

67 
S—rchEngše
.
S—rchO±iÚs
 
İt
 = 
Ãw
 SearchEngine.SearchOptions();

68 
	gİt
.
	gqu”y
 = 
qu”y
;

69 
	gİt
.
	gisRegexQu”y
 = 
»gexCheckBox
.
isChecked
();

70 
	gİt
.
	gisCa£S’s™iveQu”y
 = 
ÿ£S’s™iv™yCheckBox
.
isChecked
();

71 
	gİt
.
	gisS—rchInCÚ‹Á
 = 
£¬chInCÚ‹ÁCheckBox
.
isChecked
();

72 
	gİt
.
	gisOÆyFœ¡CÚ‹ÁM©ch
 = 
ÚlyFœ¡CÚ‹ÁM©chCheckBox
.
isChecked
();

73 
	gİt
.
	gignÜedDœeùÜ›s
 = 
­pS‘tšgs
.
g‘FeS—rchIgnÜ–i¡
();

74 
	gİt
.
	gmaxS—rchD•th
 = 
­pS‘tšgs
.
g‘S—rchMaxD•th
();

75 ià(
	gªdroid
.
	gos
.
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
ªdroid
.
os
.
Bud
.
VERSION_CODES
.
M
) {

76 
İt
.
·sswÜd
 = 
­pS‘tšgs
.
g‘DeçuÉPasswÜd
();

78 
	g­pS‘tšgs
.
£tS—rchQu”yRegexUsšg
(
İt
.
isRegexQu”y
);

79 
	g­pS‘tšgs
.
£tS—rchQu”yCa£S’s™iv™y
(
İt
.
isCa£S’s™iveQu”y
);

80 
	g­pS‘tšgs
.
£tS—rchInCÚ‹Á
(
İt
.
isS—rchInCÚ‹Á
);

81 
	g­pS‘tšgs
.
£tOÆyFœ¡CÚ‹ÁM©ch
(
İt
.
isOÆyFœ¡CÚ‹ÁM©ch
);

82 
	gdŸlogC®lback
.
ÿÎback
(
İt
);

87 
	gmes§geTextV›w
.
£tText
(
R
.
¡ršg
.
»cursive_£¬ch_š_cu¼’t_dœeùÜy
);

88 
	gdŸlogLayout
.
addV›w
(
mes§geTextV›w
, 
m¬gšs
);

91 
	g£¬chEd™Text
.
£tHšt
(
R
.
¡ršg
.
£¬ch
);

92 
	g£¬chEd™Text
.
£tSšgËLše
(
Œue
);

93 
	g£¬chEd™Text
.
£tMaxLšes
(1);

94 
	g£¬chEd™Text
.
£tTextCŞÜ
(
‹xtCŞÜ
);

95 
	g£¬chEd™Text
.
£tHštTextCŞÜ
((
‹xtCŞÜ
 & 0x00FFFFFF) | 0x99000000);

96 
	g£¬chEd™Text
.
£tIÅutTy³
(
IÅutTy³
.
TYPE_TEXT_FLAG_NO_SUGGESTIONS
);

97 
	g£¬chEd™Text
.
£tOnKeyLi¡’”
((
keyV›w
, 
keyCode
, 
keyEv’t
) -> {

98 ià((
keyEv’t
.
g‘AùiÚ
(è=ğ
KeyEv’t
.
ACTION_DOWN
è&& (
keyCode
 =ğKeyEv’t.
KEYCODE_ENTER
)) {

99 ià(
dŸlog
 !ğ
nuÎ
 && dŸlog.
g‘
() !=‚ull) {

100 
dŸlog
.
g‘
().
dismiss
();

102 
subm™
.
ÿÎback
();

103  
Œue
;

105  
çl£
;

107 
	gdŸlogLayout
.
addV›w
(
£¬chEd™Text
, 
m¬gšs
);

110 ià(
	gS—rchEngše
.
	gqu”yHi¡Üy
.
size
() > 0) {

111 
	gA¼ayAd­‹r
<
	gSŒšg
> 
	gad­‹r
 = 
Ãw
 
A¼ayAd­‹r
<>(
aùiv™y
, 
	gR
.
	gÏyout
.
	gli¡_group_hi¡Üy_™em
, 
	gS—rchEngše
.
	gqu”yHi¡Üy
);

112 
	gqu”yHi¡ÜySpšÃr
.
£tAd­‹r
(
ad­‹r
);

114 
	gqu”yHi¡ÜySpšÃr
.
£tOnI‹mS–eùedLi¡’”
(
Ãw
 
Ad­‹rV›w
.
OnI‹mS–eùedLi¡’”
() {

116 
public
 
ÚI‹mS–eùed
(
Ad­‹rV›w
<?> 
·»Á
, 
V›w
 
v›w
, 
pos™iÚ
, 
id
) {

117 
SŒšg
 
qu”y
 = (SŒšgè
·»Á
.
g‘I‹mAtPos™iÚ
(
pos™iÚ
);

118 
£¬chEd™Text
.
£tText
(
qu”y
);

119 
£¬chEd™Text
.
£ËùAÎ
();

120 
£¬chEd™Text
.
»que¡Focus
();

123 
public
 
ÚNÙhšgS–eùed
(
Ad­‹rV›w
<?> 
·»Á
) {

127 
	gdŸlogLayout
.
addV›w
(
qu”yHi¡ÜySpšÃr
);

131 
	g»gexCheckBox
.
£tText
(
R
.
¡ršg
.
»gex_£¬ch
);

132 
	g»gexCheckBox
.
£tChecked
(
­pS‘tšgs
.
isS—rchQu”yU£Regex
());

133 
	gdŸlogLayout
.
addV›w
(
»gexCheckBox
, 
m¬gšs
);

136 
	gÿ£S’s™iv™yCheckBox
.
£tText
(
R
.
¡ršg
.
ÿ£_£ns™ive
);

137 
	gÿ£S’s™iv™yCheckBox
.
£tChecked
(
­pS‘tšgs
.
isS—rchQu”yCa£S’s™ive
());

138 
	gdŸlogLayout
.
addV›w
(
ÿ£S’s™iv™yCheckBox
, 
m¬gšs
);

141 
	g£¬chInCÚ‹ÁCheckBox
.
£tText
(
R
.
¡ršg
.
£¬ch_š_cÚ‹Á
);

142 
	g£¬chInCÚ‹ÁCheckBox
.
£tChecked
(
­pS‘tšgs
.
isS—rchInCÚ‹Á
());

143 
	g£¬chInCÚ‹ÁCheckBox
.
£tOnCheckedChªgeLi¡’”
((
bu‰ÚV›w
, 
isChecked
) -> {

144 
ÚlyFœ¡CÚ‹ÁM©chCheckBox
.
£tVisib™y
(
isChecked
 ? 
V›w
.
VISIBLE
 : V›w.
INVISIBLE
);

146 
	gdŸlogLayout
.
addV›w
(
£¬chInCÚ‹ÁCheckBox
, 
m¬gšs
);

149 
	gÚlyFœ¡CÚ‹ÁM©chCheckBox
.
£tText
(
R
.
¡ršg
.
¡İ_£¬ch_aá”_fœ¡_m©ch
);

150 
	gÚlyFœ¡CÚ‹ÁM©chCheckBox
.
£tChecked
(
­pS‘tšgs
.
isOÆyFœ¡CÚ‹ÁM©ch
());

151 
	gÚlyFœ¡CÚ‹ÁM©chCheckBox
.
£tVisib™y
(
£¬chInCÚ‹ÁCheckBox
.
isChecked
(è? 
V›w
.
VISIBLE
 : V›w.
INVISIBLE
);

152 
	gdŸlogLayout
.
addV›w
(
ÚlyFœ¡CÚ‹ÁM©chCheckBox
, 
subCheckBoxM¬gšs
);

155 
	gsüŞlV›w
.
addV›w
(
dŸlogLayout
);

158 
	gdŸlogBud”
.
£tT™Ë
(
R
.
¡ršg
.
£¬ch
)

159 .
£tOnCªûlLi¡’”
(
nuÎ
)

160 .
£tNeg©iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ÿnûl
, (
dŸlogIÁ”çû
, 
i
è-> dŸlogIÁ”çû.
dismiss
())

161 .
£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, (
dŸlogIÁ”çû
, 
i
) -> {

162 
dŸlogIÁ”çû
.
dismiss
();

163 
subm™
.
ÿÎback
();

165 .
£tV›w
(
süŞlV›w
);

167  
	gdŸlogBud”
;

	@app/src/main/java/net/gsantner/markor/ui/fsearch/FileSearchResultSelectorDialog.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gf£¬ch
;

3 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

4 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

6 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gD©aS‘Ob£rv”
;

7 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

8 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gut
.
	gPaœ
;

9 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

10 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gAµCom·tEd™Text
;

11 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutTy³
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

14 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

15 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

16 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

17 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

18 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEx·ndabËLi¡Ad­‹r
;

19 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEx·ndabËLi¡V›w
;

20 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

21 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

28 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

29 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

30 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

31 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

33 
public
 cÏs 
	cFeS—rchResuÉS–eùÜDŸlog
 {

34 
public
 
showDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
Li¡
<
S—rchEngše
.
F™Fe
> 
£¬chResuÉs
, fš® 
C®lback
.
a2
<
SŒšg
, 
IÁeg”
> 
dŸlogC®lback
) {

35 
fš®
 
	mAtomicReã»nû
<
	mAË¹DŸlog
> 
	mdŸlog
 = 
Ãw
 
AtomicReã»nû
<>();

36 
	mdŸlog
.
£t
(
budDŸlog
(
aùiv™y
, 
dŸlog
, 
£¬chResuÉs
, 
dŸlogC®lback
).
ü—‹
());

37 ià(
	mdŸlog
.
g‘
().
g‘Wšdow
(è!ğ
nuÎ
) {

38 
dŸlog
.
g‘
().
g‘Wšdow
().
£tSoáIÅutMode
(
WšdowMªag”
.
LayoutP¬ams
.
SOFT_INPUT_ADJUST_RESIZE
 | WšdowMªag”.LayoutP¬ams.
SOFT_INPUT_STATE_ALWAYS_VISIBLE
);

40 
	mdŸlog
.
g‘
().
show
();

41 ià(
	mdŸlog
.
g‘
().
g‘Wšdow
(è!ğ
nuÎ
) {

42 
dŸlog
.
g‘
().
g‘Wšdow
().
£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
, WšdowMªag”.LayoutP¬ams.
WRAP_CONTENT
);

46 
´iv©e
 
	gAË¹DŸlog
.
Bud”
 
budDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
AtomicReã»nû
<
AË¹DŸlog
> 
dŸlog
, fš® 
Li¡
<
S—rchEngše
.
F™Fe
> 
£¬chResuÉs
, fš® 
C®lback
.
a2
<
SŒšg
, 
IÁeg”
> 
dŸlogC®lback
) {

47 
fš®
 
AµS‘tšgs
 
	g­pS‘tšgs
 = 
Ãw
 AµS‘tšgs(
aùiv™y
);

48 
fš®
 
	gAË¹DŸlog
.
Bud”
 
	gdŸlogBud”
 = 
Ãw
 
AË¹DŸlog
.Bud”(
aùiv™y
, 
­pS‘tšgs
.
isD¬kThemeEÇbËd
(è? 
R
.
¡yË
.
Theme_AµCom·t_DŸlog
 : R.¡yË.
Theme_AµCom·t_Light_DŸlog
);

50 
fš®
 
Lš—rLayout
 
	gdŸlogLayout
 = 
Ãw
 Lš—rLayout(
aùiv™y
);

51 
	gdŸlogLayout
.
£tOr›Á©iÚ
(
Lš—rLayout
.
VERTICAL
);

53 
fš®
 
Ex·ndabËLi¡V›w
 
	gex·ndabËLi¡V›w
 = 
Ãw
 Ex·ndabËLi¡V›w(
aùiv™y
);

54 
fš®
 
AµCom·tEd™Text
 
	g£¬chEd™Text
 = 
Ãw
 AµCom·tEd™Text(
aùiv™y
);

56 
fš®
 
	gdp4px
 = (è(
Ãw
 
CÚ‹xtUts
(
dŸlogLayout
.
g‘CÚ‹xt
()).
cÚv”tDpToPx
(4));

57 
fš®
 
	g‹xtCŞÜ
 = 
CÚ‹xtCom·t
.
g‘CŞÜ
(
aùiv™y
, 
­pS‘tšgs
.
isD¬kThemeEÇbËd
(è? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
);

58 
fš®
 
	gLš—rLayout
.
LayoutP¬ams
 
	gm¬gšs
 = 
Ãw
 
Lš—rLayout
.LayoutP¬ams(Lš—rLayout.LayoutP¬ams.
MATCH_PARENT
, Lš—rLayout.LayoutP¬ams.
WRAP_CONTENT
);

59 
	gm¬gšs
.
£tM¬gšs
(
dp4px
 * 5, dp4px, dp4px * 5, dp4px);

62 
	g£¬chEd™Text
.
£tHšt
(
R
.
¡ršg
.
£¬ch
);

63 
	g£¬chEd™Text
.
£tSšgËLše
(
Œue
);

64 
	g£¬chEd™Text
.
£tMaxLšes
(1);

65 
	g£¬chEd™Text
.
£tTextCŞÜ
(
‹xtCŞÜ
);

66 
	g£¬chEd™Text
.
£tHštTextCŞÜ
((
‹xtCŞÜ
 & 0x00FFFFFF) | 0x99000000);

67 
	g£¬chEd™Text
.
£tIÅutTy³
(
IÅutTy³
.
TYPE_TEXT_FLAG_NO_SUGGESTIONS
);

69 ià(!
	g£¬chResuÉs
.
isEm±y
()) {

70 
	gdŸlogLayout
.
addV›w
(
£¬chEd™Text
, 
m¬gšs
);

74 
fš®
 
	gA¼ayLi¡
<
	gGroupI‹msInfo
> 
	ggroupI‹msD©a
 = 
f‹r
(
£¬chResuÉs
, "");

75 
fš®
 
Ex·ndabËS—rchResuÉsLi¡Ad­‹r
 
	gad­‹r
 = 
Ãw
 Ex·ndabËS—rchResuÉsLi¡Ad­‹r(
aùiv™y
, 
groupI‹msD©a
);

76 
	g£¬chEd™Text
.
addTextChªgedLi¡’”
(
Ãw
 
TextW©ch”
() {

77 @
Ov”ride


78 
public
 
aá”TextChªged
(
fš®
 
Ed™abË
 
¬g0
) {

79 
SŒšg
 
f‹rText
 = 
£¬chEd™Text
.
g‘Text
(è=ğ
nuÎ
 ? "" : s—rchEd™Text.g‘Text().
toSŒšg
();

80 
A¼ayLi¡
<
GroupI‹msInfo
> 
f‹»dGroups
 = 
f‹r
(
£¬chResuÉs
, 
f‹rText
);

81 
Ex·ndabËS—rchResuÉsLi¡Ad­‹r
 
ad­‹r
 = 
Ãw
 Ex·ndabËS—rchResuÉsLi¡Ad­‹r(
aùiv™y
, 
f‹»dGroups
);

82 
ex·ndabËLi¡V›w
.
£tAd­‹r
(
ad­‹r
);

85 @
Ov”ride


86 
public
 
ÚTextChªged
(
fš®
 
Ch¬Sequ’û
 
¬g0
, fš® 
¬g1
, fš® 
¬g2
, fš® 
¬g3
) {

89 @
Ov”ride


90 
public
 
befÜeTextChªged
(
fš®
 
Ch¬Sequ’û
 
¬g0
, fš® 
¬g1
, fš® 
¬g2
, fš® 
¬g3
) {

94 
	gex·ndabËLi¡V›w
.
£tGroupIndiÿtÜ
(
nuÎ
);

95 
	gex·ndabËLi¡V›w
.
£tAd­‹r
(
ad­‹r
);

97 
	gex·ndabËLi¡V›w
.
£tOnGroupClickLi¡’”
((
·»Á
, 
v›w
, 
groupPos™iÚ
, 
id
) -> {

98 
GroupI‹msInfo
 
groupI‹m
 = (GroupI‹msInfoè
·»Á
.
g‘Ex·ndabËLi¡Ad­‹r
().
g‘Group
(
groupPos™iÚ
);

100 ià(
groupI‹m
.
chd»n
.
isEm±y
()) {

101 ià(
dŸlog
 !ğ
nuÎ
 && dŸlog.
g‘
() !=‚ull) {

102 
dŸlog
.
g‘
().
dismiss
();

104 
dŸlogC®lback
.
ÿÎback
(
groupI‹m
.
·th
, -1);

106  
çl£
;

109 
	gex·ndabËLi¡V›w
.
£tOnChdClickLi¡’”
((
·»Á
, 
v
, 
groupPos™iÚ
, 
chdPos™iÚ
, 
id
) -> {

110 
GroupI‹msInfo
 
groupI‹m
 = (GroupI‹msInfoè
·»Á
.
g‘Ex·ndabËLi¡Ad­‹r
().
g‘Group
(
groupPos™iÚ
);

111 
Paœ
<
SŒšg
, 
IÁeg”
> 
chdI‹m
 = (Paœ<SŒšg, IÁeg”>è
·»Á
.
g‘Ex·ndabËLi¡Ad­‹r
().
g‘Chd
(
groupPos™iÚ
, 
chdPos™iÚ
);

112 ià(
chdI‹m
.
£cÚd
 >= 0) {

113 ià(
dŸlog
 !ğ
nuÎ
 && dŸlog.
g‘
() !=‚ull) {

114 
dŸlog
.
g‘
().
dismiss
();

116 
dŸlogC®lback
.
ÿÎback
(
groupI‹m
.
·th
, 
chdI‹m
.
£cÚd
);

118  
çl£
;

121 
	gdŸlogLayout
.
addV›w
(
ex·ndabËLi¡V›w
);

124 
	gdŸlogBud”
.
£tV›w
(
dŸlogLayout
)

125 .
£tT™Ë
(
R
.
¡ršg
.
£Ëù
)

126 .
£tOnCªûlLi¡’”
(
nuÎ
)

127 .
£tMes§ge
(
£¬chResuÉs
.
isEm±y
(è? " Â¯\\_(ãƒ„)_/Â¯ " : 
nuÎ
)

128 .
£tNeg©iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ÿnûl
, (
dŸlogIÁ”çû
, 
i
è-> dŸlogIÁ”çû.
dismiss
());

129  
	gdŸlogBud”
;

132 @
Suµ»ssW¬nšgs
("ConstantConditions")

133 
´iv©e
 
	gA¼ayLi¡
<
	gGroupI‹msInfo
> 
f‹r
(
fš®
 
Li¡
<
S—rchEngše
.
F™Fe
> 
£¬chResuÉs
, 
SŒšg
 
qu”y
) {

134 
fš®
 
	gA¼ayLi¡
<
	gGroupI‹msInfo
> 
	ggroupI‹msD©a
 = 
Ãw
 
A¼ayLi¡
<>();

135 
	gqu”y
 = 
qu”y
.
toLow”Ca£
();

137 
fš®
 
	gS—rchEngše
.
F™Fe
 
	gf™Fe
 : 
£¬chResuÉs
) {

138 
fš®
 
boŞ—n
 
isP©hCÚšsQu”y
 = 
qu”y
.
isEm±y
(è|| 
f™Fe
.
·th
.
toLow”Ca£
().
cÚšs
(query);

139 
fš®
 
	gA¼ayLi¡
<
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
>> 
	ggroupChdI‹ms
 = 
Ãw
 
A¼ayLi¡
<>();

141 
fš®
 
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
> 
	gcÚ‹ÁM©ch
 : 
f™Fe
.
m©chesW™hLšeNumb”AndLšeText
) {

142 ià(
isP©hCÚšsQu”y
 || 
cÚ‹ÁM©ch
.
fœ¡
.
toLow”Ca£
().
cÚšs
(
qu”y
)) {

143 
groupChdI‹ms
.
add
(
cÚ‹ÁM©ch
);

146 ià(
	gisP©hCÚšsQu”y
 || !
	ggroupChdI‹ms
.
isEm±y
()) {

147 
	ggroupI‹msD©a
.
add
(
Ãw
 
GroupI‹msInfo
(
f™Fe
.
·th
, f™Fe.
isDœeùÜy
, 
groupChdI‹ms
));

150  
	ggroupI‹msD©a
;

153 
´iv©e
 şas 
	cEx·ndabËS—rchResuÉsLi¡Ad­‹r
 
im¶em’ts
 
	gEx·ndabËLi¡Ad­‹r
 {

154 
public
 
fš®
 
	gLi¡
<
	gGroupI‹msInfo
> 
	gd©a
;

155 
´iv©e
 
fš®
 
CÚ‹xt
 
	g_cÚ‹xt
;

157 
public
 
Ex·ndabËS—rchResuÉsLi¡Ad­‹r
(
CÚ‹xt
 
cÚ‹xt
, 
Li¡
<
GroupI‹msInfo
> 
groupI‹ms
) {

158 
	g_cÚ‹xt
 = 
cÚ‹xt
;

159 
	gd©a
 = 
CŞËùiÚs
.
unmodifŸbËLi¡
(
groupI‹ms
);

162 @
Ov”ride


163 
public
 
g‘GroupCouÁ
() {

164  
	gd©a
.
size
();

167 @
Ov”ride


168 
public
 
g‘Chd»nCouÁ
(
groupPos™iÚ
) {

169  
	gd©a
.
g‘
(
groupPos™iÚ
).
	gchd»n
.
size
();

172 @
Ov”ride


173 
public
 
Objeù
 
g‘Group
(
groupPos™iÚ
) {

174  
	gd©a
.
g‘
(
groupPos™iÚ
);

177 @
Ov”ride


178 
public
 
Objeù
 
g‘Chd
(
groupPos™iÚ
, 
chdPos™iÚ
) {

179  
	gd©a
.
g‘
(
groupPos™iÚ
).
	gchd»n
.g‘(
chdPos™iÚ
);

182 @
Ov”ride


183 
public
 
g‘GroupId
(
groupPos™iÚ
) {

184  
	ggroupPos™iÚ
;

187 @
Ov”ride


188 
public
 
g‘ChdId
(
groupPos™iÚ
, 
chdPos™iÚ
) {

189  
	gchdPos™iÚ
;

192 @
Ov”ride


193 
public
 
V›w
 
g‘GroupV›w
(
fš®
 
groupPos™iÚ
, fš® 
boŞ—n
 
isEx·nded
, fš® V›w 
cÚv”tV›w
, fš® 
V›wGroup
 
·»Á
) {

194 
GroupI‹msInfo
 
	ggroupInfo
 = (GroupI‹msInfoè
g‘Group
(
groupPos™iÚ
);

195 
TextV›w
 
	g‹xtV›w
 = (TextV›wè
cÚv”tV›w
;

196 ià(
	gcÚv”tV›w
 =ğ
nuÎ
) {

197 
fš®
 
LayoutInæ©”
 
šæ©”
 = (LayoutInæ©”è
_cÚ‹xt
.
g‘Sy¡emS”viû
(
CÚ‹xt
.
LAYOUT_INFLATER_SERVICE
);

198 
	g‹xtV›w
 = (
TextV›w
è
šæ©”
.
šæ©e
(
R
.
Ïyout
.
ex·ndabË_li¡_group_™em
, 
nuÎ
);

199 
	g‹xtV›w
.
£tClickabË
(
çl£
);

201 
	g‹xtV›w
.
£tText
(
groupInfo
.
toSŒšg
());

203 
fš®
 
	gicÚResId
 = 
groupInfo
.
isDœeùÜy
 || groupInfo.
chd»n
.
isEm±y
(è? 0 : 
isEx·nded


204 ? 
R
.
d¿wabË
.
ic_ba£lše_keybßrd_¬row_up_24


205 : 
R
.
d¿wabË
.
ic_ba£lše_keybßrd_¬row_down_24
;

206 
	g‹xtV›w
.
£tCompoundD¿wabËsW™hIÁršsicBounds
(
icÚResId
, 0, 0, 0);

208  
	g‹xtV›w
;

211 @
Suµ»ssW¬nšgs
("unchecked")

212 @
Suµ»ssLšt
("SetTextI18n")

213 @
Ov”ride


214 
public
 
V›w
 
g‘ChdV›w
(
fš®
 
groupPos™iÚ
, fš® 
chdPos™iÚ
, fš® 
boŞ—n
 
isLa¡Chd
, fš® V›w 
cÚv”tV›w
, fš® 
V›wGroup
 
·»Á
) {

215 
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
> 
	gchdInfo
 = (
Paœ
<
SŒšg
, IÁeg”>è
g‘Chd
(
groupPos™iÚ
, 
chdPos™iÚ
);

216 
TextV›w
 
	g‹xtV›w
 = (TextV›wè
cÚv”tV›w
;

217 ià(
	gcÚv”tV›w
 =ğ
nuÎ
) {

218 
LayoutInæ©”
 
mInæ©”
 = (LayoutInæ©”è
_cÚ‹xt
.
g‘Sy¡emS”viû
(
CÚ‹xt
.
LAYOUT_INFLATER_SERVICE
);

219 
	g‹xtV›w
 = (
TextV›w
è
mInæ©”
.
šæ©e
(
ªdroid
.
R
.
Ïyout
.
sim¶e_li¡_™em_1
, 
nuÎ
);

220 
	g‹xtV›w
.
£tClickabË
(
çl£
);

222 
	g‹xtV›w
.
£tText
("+" + 
chdInfo
.
£cÚd
 + ": " + chdInfo.
fœ¡
);

224  
	g‹xtV›w
;

227 @
Ov”ride


228 
public
 
boŞ—n
 
isChdS–eùabË
(
groupPos™iÚ
, 
chdPos™iÚ
) {

229  
	gŒue
;

232 @
Ov”ride


233 
public
 
boŞ—n
 
¬eAÎI‹msEÇbËd
() {

234  
	gŒue
;

237 @
Ov”ride


238 
public
 
boŞ—n
 
isEm±y
() {

239  
	gçl£
;

242 @
Ov”ride


243 
public
 
ÚGroupEx·nded
(
groupPos™iÚ
) {

246 @
Ov”ride


247 
public
 
ÚGroupCŞÏp£d
(
groupPos™iÚ
) {

250 @
Ov”ride


251 
public
 
g‘CombšedChdId
(
groupPos™iÚ
, 
chdPos™iÚ
) {

255 @
Ov”ride


256 
public
 
g‘CombšedGroupId
(
groupPos™iÚ
) {

260 @
Ov”ride


261 
public
 
boŞ—n
 
hasSbËIds
() {

262  
	gçl£
;

265 @
Ov”ride


266 
public
 
»gi¡”D©aS‘Ob£rv”
(
D©aS‘Ob£rv”
 
d©aS‘Ob£rv”
) {

269 @
Ov”ride


270 
public
 
uÄegi¡”D©aS‘Ob£rv”
(
D©aS‘Ob£rv”
 
d©aS‘Ob£rv”
) {

274 
public
 şas 
	cGroupI‹msInfo
 {

275 
public
 
fš®
 
SŒšg
 
	g·th
;

276 
public
 
fš®
 
boŞ—n
 
	gisDœeùÜy
;

277 
public
 
fš®
 
	gA¼ayLi¡
<
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
>> 
	gchd»n
;

279 
public
 
GroupI‹msInfo
(
SŒšg
 
a_·th
, 
boŞ—n
 
a_isDœeùÜy
, 
A¼ayLi¡
<
Paœ
<SŒšg, 
IÁeg”
>> 
a_chd»n
) {

280 
	g·th
 = 
a_·th
;

281 
	gisDœeùÜy
 = 
a_isDœeùÜy
;

282 
	gchd»n
 = 
a_chd»n
 !ğ
nuÎ
 ?‡_chd»À: 
Ãw
 
A¼ayLi¡
<>();

285 @
Ov”ride


286 
public
 
SŒšg
 
toSŒšg
() {

287  (
	gchd»n
.
size
(è> 0 ? 
	gSŒšg
.
fÜm©
("(%sè", 
chd»n
.size()è: ""è+ 
·th
;

	@app/src/main/java/net/gsantner/markor/ui/fsearch/SearchEngine.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gf£¬ch
;

3 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

4 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

5 
impÜt
 
	gªdroid
.
	gos
.
	gAsyncTask
;

6 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

7 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gdesign
.
	gwidg‘
.
	gSÇckb¬
;

8 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gut
.
	gPaœ
;

9 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

10 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

13 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

17 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

18 
impÜt
 
	gjava
.
	gio
.
	gBy‹A¼ayIÅutSŒ—m
;

19 
impÜt
 
	gjava
.
	gio
.
	gFe
;

20 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

21 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

22 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

23 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—mR—d”
;

24 
impÜt
 
	gjava
.
	gÏng
.
	g»f
.
	gW—kReã»nû
;

25 
impÜt
 
	gjava
.
	gnio
.
	gch¬£t
.
	gSnd¬dCh¬£ts
;

26 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

27 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

28 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

29 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

30 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

31 
impÜt
 
	gjava
.
	gut
.
	gQueue
;

32 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

33 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

34 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

36 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

38 @
Suµ»ssW¬nšgs
("WeakerAccess")

40 
public
 cÏs 
	cS—rchEngše
 {

41 
public
 
boŞ—n
 
	misS—rchExecutšg
 = 
çl£
;

42 
public
 
	mAtomicReã»nû
<
	mW—kReã»nû
<
	mAùiv™y
>> 
	maùiv™y
 = 
Ãw
 
AtomicReã»nû
<>();

43 
public
 
fš®
 
	mLi¡
<
	mSŒšg
> 
	mdeçuÉIgnÜedDœs
 = 
Ãw
 
A¼ayLi¡
<>(
A¼ays
.
asLi¡
("^\\.git$", "^\\.tmp$", ".*[Tt]humb.*"));

45 
public
 
fš®
 
	mmaxP»v›wL’gth
 = 100;

46 
public
 
fš®
 
	mmaxQu”yHi¡ÜyCouÁ
 = 20;

47 
public
 
fš®
 
	mLškedLi¡
<
	mSŒšg
> 
	mqu”yHi¡Üy
 = 
Ãw
 
LškedLi¡
<>();

49 
public
 
	$addToHi¡Üy
(
SŒšg
 
qu”y
) {

50 
qu”yHi¡Üy
.
	`»move
(
qu”y
);

52 ià(
qu”yHi¡Üy
.
	`size
(è=ğ
maxQu”yHi¡ÜyCouÁ
) {

53 
qu”yHi¡Üy
.
	`»moveLa¡
();

55 
qu”yHi¡Üy
.
	`addFœ¡
(
qu”y
);

58 
public
 şas 
	cS—rchO±iÚs
 {

59 
public
 
Fe
 
roÙS—rchDœ
;

60 
public
 
SŒšg
 
qu”y
;

62 
public
 
boŞ—n
 
isRegexQu”y
;

63 
public
 
boŞ—n
 
isCa£S’s™iveQu”y
;

64 
public
 
boŞ—n
 
isS—rchInCÚ‹Á
;

65 
public
 
boŞ—n
 
isOÆyFœ¡CÚ‹ÁM©ch
;

67 
public
 
maxS—rchD•th
;

68 
public
 
Li¡
<
SŒšg
> 
ignÜedDœeùÜ›s
;

69 
public
 
boŞ—n
 
isShowM©chP»v›w
 = 
Œue
;

70 
public
 
boŞ—n
 
isShowResuÉOnCªûl
 = 
Œue
;

71 
public
 [] 
·sswÜd
 = 
Ãw
 [0];

72 
	}
}

74 
public
 şas 
	cF™Fe
 {

75 
public
 
fš®
 
SŒšg
 
	g·th
;

76 
public
 
fš®
 
boŞ—n
 
	gisDœeùÜy
;

77 
public
 
fš®
 
	gLi¡
<
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
>> 
	gm©chesW™hLšeNumb”AndLšeText
;

79 
public
 
F™Fe
(
fš®
 
SŒšg
 
a_·th
, fš® 
boŞ—n
 
a_isDœeùÜy
, 
Li¡
<
Paœ
<SŒšg, 
IÁeg”
>> 
lšeNumb”s
) {

80 
	g·th
 = 
a_·th
;

81 
	gisDœeùÜy
 = 
a_isDœeùÜy
;

82 
	gm©chesW™hLšeNumb”AndLšeText
 = 
CŞËùiÚs
.
unmodifŸbËLi¡
(
lšeNumb”s
 !ğ
nuÎ
 ?†šeNumb” : 
Ãw
 
A¼ayLi¡
<>());

86 
public
 
	gS—rchEngše
.
QueueS—rchFesTask
 
queueFeS—rch
(
Aùiv™y
 
aùiv™y
, 
S—rchO±iÚs
 
cÚfig
, 
C®lback
.
a1
<
Li¡
<
F™Fe
>> 
ÿÎback
) {

87 
	gS—rchEngše
.
	gaùiv™y
.
£t
(
Ãw
 
W—kReã»nû
<>(
aùiv™y
));

88 
	gS—rchEngše
.
	gisS—rchExecutšg
 = 
Œue
;

89 
	gS—rchEngše
.
addToHi¡Üy
(
cÚfig
.
qu”y
);

90 
	gS—rchEngše
.
QueueS—rchFesTask
 
	gsk
 = 
Ãw
 
S—rchEngše
.QueueS—rchFesTask(
cÚfig
, 
ÿÎback
);

91 
	gsk
.
execu‹
();

93  
	gsk
;

96 
public
 
şass
 
QueueS—rchFesTask
 
ex‹nds
 
	gAsyncTask
<
	gVoid
, 
	gIÁeg”
, 
	gLi¡
<
	gF™Fe
>> {

97 
´iv©e
 
fš®
 
S—rchO±iÚs
 
	g_cÚfig
;

98 
´iv©e
 
fš®
 
	gC®lback
.
	ga1
<
	gLi¡
<
	gF™Fe
>> 
	g_ÿÎback
;

99 
´iv©e
 
fš®
 
P©‹º
 
	g_»gex
;

101 
´iv©e
 
SÇckb¬
 
	g_¢ackB¬
;

102 
´iv©e
 
IÁeg”
 
	g_couÁCheckedFes
 = 0;

103 
´iv©e
 
IÁeg”
 
	g_cu¼’tQueueL’gth
 = 1;

104 
´iv©e
 
boŞ—n
 
	g_isCªûËd
 = 
çl£
;

105 
´iv©e
 
IÁeg”
 
	g_cu¼’tS—rchD•th
 = 0;

106 
´iv©e
 
fš®
 
	gLi¡
<
	gF™Fe
> 
	g_»suÉ
 = 
Ãw
 
A¼ayLi¡
<>();

107 
´iv©e
 
fš®
 
	gLi¡
<
	gP©‹º
> 
	g_ignÜedRegexDœs
 = 
Ãw
 
A¼ayLi¡
<>();

108 
´iv©e
 
fš®
 
	gLi¡
<
	gSŒšg
> 
	g_ignÜedExaùDœs
 = 
Ãw
 
A¼ayLi¡
<>();

110 
public
 
QueueS—rchFesTask
(
fš®
 
S—rchO±iÚs
 
cÚfig
, fš® 
C®lback
.
a1
<
Li¡
<
F™Fe
>> 
ÿÎback
) {

111 
	g_cÚfig
 = 
cÚfig
;

112 
	g_ÿÎback
 = 
ÿÎback
;

114 
	g_cÚfig
.
	gqu”y
 = 
_cÚfig
.
isCa£S’s™iveQu”y
 ? _cÚfig.
qu”y
 : _cÚfig.qu”y.
toLow”Ca£
();

115 
¥l™RegexExaùFes
(
cÚfig
.
ignÜedDœeùÜ›s
, 
_ignÜedExaùDœs
, 
_ignÜedRegexDœs
);

116 
¥l™RegexExaùFes
(
S—rchEngše
.
deçuÉIgnÜedDœs
, 
_ignÜedExaùDœs
, 
_ignÜedRegexDœs
);

118 
P©‹º
 
	g·‰”n
 = 
nuÎ
;

119 ià(
	g_cÚfig
.
	gisRegexQu”y
) {

120 
	gŒy
 {

121 
	g_cÚfig
.
	gqu”y
 = 
_cÚfig
.
qu”y
.
»¶aûAÎ
("(?<![.])[*]", ".*");

122 
	g·‰”n
 = 
P©‹º
.
compe
(
_cÚfig
.
qu”y
);

123 } 
ÿtch
 (
Exû±iÚ
 
ex
) {

124 
Aùiv™y
 
	ga
;

125 ià(
	gS—rchEngše
.
	gaùiv™y
.
g‘
(è!ğ
nuÎ
 && (
a
 = 
S—rchEngše
.
aùiv™y
.get().get()) !=‚ull) {

126 
SŒšg
 
”rÜMes§ge
 = 
a
.
g‘SŒšg
(
R
.
¡ršg
.
»gex_ÿn_nÙ_be_comped
è+ ": " + 
_cÚfig
.
qu”y
;

127 
	gTß¡
.
makeText
(
a
, 
”rÜMes§ge
, 
Tß¡
.
LENGTH_LONG
).
show
();

131 
	g_»gex
 = 
·‰”n
;

134 @
Ov”ride


135 
´Ùeùed
 
ÚP»Execu‹
() {

136 
	gsu³r
.
ÚP»Execu‹
();

137 ià(
	g_cÚfig
.
	gisRegexQu”y
 && 
	g_»gex
 =ğ
nuÎ
) {

138 
ÿnûl
(
Œue
);

141 
bšdSÇckB¬
(
_cÚfig
.
qu”y
);

144 @
Suµ»ssLšt
("ShowToast")

145 
public
 
bšdSÇckB¬
(
SŒšg
 
‹xt
) {

146 ià(!
	gS—rchEngše
.
	gisS—rchExecutšg
) {

150 
	gŒy
 {

151 
V›w
 
	gv›w
 = 
S—rchEngše
.
aùiv™y
.
g‘
().g‘().
fšdV›wById
(
ªdroid
.
R
.
id
.
cÚ‹Á
);

152 
	g_¢ackB¬
 = 
SÇckb¬
.
make
(
v›w
, 
‹xt
, SÇckb¬.
LENGTH_INDEFINITE
)

153 .
addC®lback
(
Ãw
 
SÇckb¬
.
C®lback
() {

154 @
Ov”ride


155 
public
 
ÚDismis£d
(
SÇckb¬
 
¢ackb¬
, 
ev’t
) {

156 ià(
S—rchEngše
.
isS—rchExecutšg
) {

157 
bšdSÇckB¬
(
‹xt
);

161 
	g_¢ackB¬
.
£tAùiÚ
(
ªdroid
.
R
.
¡ršg
.
ÿnûl
, (
v
) -> {

162 
_¢ackB¬
.
dismiss
();

163 
´eCªûl
();

165 
	g_¢ackB¬
.
show
();

166 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

170 @
Ov”ride


171 
´Ùeùed
 
	gLi¡
<
	gF™Fe
> 
doInBackground
(
Void
... 
voidp
) {

172 
	gQueue
<
	gFe
> 
	gmašQueue
 = 
Ãw
 
LškedLi¡
<>();

173 
	gmašQueue
.
add
(
_cÚfig
.
roÙS—rchDœ
);

175 !
	gmašQueue
.
isEm±y
(è&& !
isCªûÎed
(è&& !
	g_isCªûËd
) {

176 
Fe
 
	gcu¼’tDœeùÜy
 = 
mašQueue
.
»move
();

178 ià(!
	gcu¼’tDœeùÜy
.
ÿnR—d
(è|| cu¼’tDœeùÜy.
isFe
()) {

182 
	g_cu¼’tS—rchD•th
 = 
g‘DœeùÜyD•th
(
_cÚfig
.
roÙS—rchDœ
, 
cu¼’tDœeùÜy
);

183 ià(
	g_cu¼’tS—rchD•th
 > 
	g_cÚfig
.
	gmaxS—rchD•th
) {

186 
	g_cu¼’tQueueL’gth
 = 
mašQueue
.
size
() + 1;

187 
publishProg»ss
(
_cu¼’tQueueL’gth
, 
_cu¼’tS—rchD•th
, 
_»suÉ
.
size
(), 
_couÁCheckedFes
);

189 
	gmašQueue
.
addAÎ
(
cu¼’tDœeùÜyHªdËr
(
cu¼’tDœeùÜy
));

192 ià(
	g_isCªûËd
 && 
	g_»suÉ
.
size
() == 0) {

193 
ÿnûl
(
Œue
);

196  
	g_»suÉ
;

199 
´iv©e
 
	gQueue
<
	gFe
> 
cu¼’tDœeùÜyHªdËr
(
Fe
 
cu¼’tDœ
) {

200 
	gQueue
<
	gFe
> 
	gsubQueue
 = 
Ãw
 
LškedLi¡
<>();

202 
	gŒy
 {

203 ià(!
	gcu¼’tDœ
.
ÿnR—d
(è|| cu¼’tDœ.
isFe
()) {

204  
	gsubQueue
;

207 
	gFe
[] 
	gsubDœsOrFes
 = 
cu¼’tDœ
.
li¡Fes
();

208 
fš®
 
Fe
 
	gf
 : (
subDœsOrFes
 !ğ
nuÎ
 ? subDœsOrFe : 
Ãw
 File[0])) {

209 ià(
isCªûÎed
(è|| 
_isCªûËd
) {

212 
	g_couÁCheckedFes
++;

214 ià(!
	gf
.
ÿnR—d
()) {

216 } ià(
	gf
.
isDœeùÜy
()) {

217 ià(
isIgnÜed
(
f
è|| 
isFeCÚšSymbŞicLšks
(f, 
cu¼’tDœ
)) {

220 
	gsubQueue
.
add
(
f
);

222 ià(
isIgnÜed
(
f
)) {

226 ià(
	g_cÚfig
.
	gisS—rchInCÚ‹Á
) {

227 ià(!
	gTextFÜm©
.
isTextFe
(
f
.
g‘Name
())) {

230 
	gLi¡
<
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
>> 
	gcÚ‹ÁM©ches
 = 
g‘CÚ‹ÁM©ches
(
f
, 
_cÚfig
.
isOÆyFœ¡CÚ‹ÁM©ch
);

232 ià(
	gcÚ‹ÁM©ches
.
isEm±y
()) {

236 
SŒšg
 
	g·th
 = 
f
.
g‘CªÚiÿlP©h
().
»¶aû
(
_cÚfig
.
roÙS—rchDœ
.getCanonicalPath() + "/", "");

237 
	g_»suÉ
.
add
(
Ãw
 
F™Fe
(
·th
, 
çl£
, 
cÚ‹ÁM©ches
));

241 ià(!
	g_cÚfig
.
	gisS—rchInCÚ‹Á
) {

242 
g‘FeIfNameM©ches
(
f
);

245 
publishProg»ss
(
_cu¼’tQueueL’gth
 + 
subQueue
.
size
(), 
_cu¼’tS—rchD•th
, 
_»suÉ
.size(), 
_couÁCheckedFes
);

247 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

250  
	gsubQueue
;

253 @
Ov”ride


254 
´Ùeùed
 
ÚProg»ssUpd©e
(
IÁeg”
... 
v®ues
) {

255 
	gsu³r
.
ÚProg»ssUpd©e
(
v®ues
);

256 ià(
	g_¢ackB¬
 !ğ
nuÎ
) {

258 
_¢ackB¬
.
£tText
("â­•" + 
v®ues
[2] + " || \uD83D\uDD0D" + v®ues[0] + " || â¬‡ï¸ " + v®ues[1] + " || \uD83D\uDC41ï¸" + v®ues[3] + "\n" + 
_cÚfig
.
qu”y
);

262 @
Ov”ride


263 
´Ùeùed
 
ÚPo¡Execu‹
(
Li¡
<
F™Fe
> 
»t
) {

264 
	gsu³r
.
ÚPo¡Execu‹
(
»t
);

265 
	gS—rchEngše
.
	gisS—rchExecutšg
 = 
çl£
;

266 ià(
	g_¢ackB¬
 !ğ
nuÎ
) {

267 
_¢ackB¬
.
dismiss
();

269 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

270 
Œy
 {

271 
_ÿÎback
.
ÿÎback
(
»t
);

272 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

277 @
Ov”ride


278 
´Ùeùed
 
ÚCªûÎed
() {

279 
	gsu³r
.
ÚCªûÎed
();

280 
	gS—rchEngše
.
	gisS—rchExecutšg
 = 
çl£
;

283 
public
 
¥l™RegexExaùFes
(
Li¡
<
SŒšg
> 
li¡
, Li¡<SŒšg> 
exaùLi¡
, Li¡<
P©‹º
> 
»gexLi¡
) {

284 
SŒšg
 
	g·‰”n
 : (
li¡
 !ğ
nuÎ
 ?†i¡ : 
Ãw
 
A¼ayLi¡
<String>())) {

285 ià(
·‰”n
.
isEm±y
()) {

288 ià(!
	g_cÚfig
.
	gisCa£S’s™iveQu”y
) {

289 
	g·‰”n
 = 
·‰”n
.
toLow”Ca£
();

292 ià(
	g·‰”n
.
¡¬tsW™h
("\"")) {

293 
	g·‰”n
 = 
·‰”n
.
»¶aû
("\"", "");

294 ià(
	g·‰”n
.
isEm±y
()) {

297 
	gexaùLi¡
.
add
(
·‰”n
);

299 
	g·‰”n
 = 
·‰”n
.
»¶aûAÎ
("(?<![.])[*]", ".*");

300 
	gŒy
 {

301 
	g»gexLi¡
.
add
(
P©‹º
.
compe
(
·‰”n
));

302 } 
ÿtch
 (
Exû±iÚ
 
ex
) {

304 
Aùiv™y
 
	ga
;

305 ià(
	gS—rchEngše
.
	gaùiv™y
.
g‘
(è!ğ
nuÎ
 && (
a
 = 
S—rchEngše
.
aùiv™y
.get().get()) !=‚ull) {

306 
SŒšg
 
”rÜMes§ge
 = 
a
.
g‘SŒšg
(
R
.
¡ršg
.
»gex_ÿn_nÙ_be_comped
è+ ": " + 
·‰”n
;

307 
	gTß¡
.
makeText
(
a
, 
”rÜMes§ge
, 
Tß¡
.
LENGTH_LONG
).
show
();

314 
´iv©e
 
boŞ—n
 
isFeCÚšSymbŞicLšks
(
Fe
 
fe
, F
ex³ùedP¬’tDœ
) {

315 
	gŒy
 {

316 
Fe
 
	g»®P¬’tDœ
 = 
fe
.
g‘CªÚiÿlFe
().
g‘P¬’tFe
();

317 ià(
	g»®P¬’tDœ
 !ğ
nuÎ
 && 
ex³ùedP¬’tDœ
.
g‘CªÚiÿlP©h
().
equ®s
(
»®P¬’tDœ
.getCanonicalPath())) {

318  
çl£
;

320 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

323  
	gŒue
;

326 
´iv©e
 
g‘FeIfNameM©ches
(
Fe
 
fe
) {

327 
	gŒy
 {

328 
SŒšg
 
	gfeName
 = 
_cÚfig
.
isCa£S’s™iveQu”y
 ? 
fe
.
g‘Name
(è: fe.g‘Name().
toLow”Ca£
();

329 
boŞ—n
 
	gisM©ch
 = 
_cÚfig
.
isRegexQu”y
 ? 
_»gex
.
m©ch”
(
feName
).
m©ches
(è: feName.
cÚšs
(_cÚfig.
qu”y
);

331 ià(
	gisM©ch
) {

332 
SŒšg
 
	g·th
 = 
fe
.
g‘CªÚiÿlP©h
().
»¶aû
(
_cÚfig
.
roÙS—rchDœ
.getCanonicalPath() + "/", "");

333 
	g_»suÉ
.
add
(
Ãw
 
F™Fe
(
·th
, 
fe
.
isDœeùÜy
(), 
nuÎ
));

335 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

339 
´iv©e
 
g‘DœeùÜyD•th
(
Fe
 
·»ÁDœ
, F
chdDœ
) {

340 
	gŒy
 {

341 
SŒšg
 
	g·»ÁP©h
 = 
·»ÁDœ
.
g‘CªÚiÿlP©h
();

342 
SŒšg
 
	gchdP©h
 = 
chdDœ
.
g‘CªÚiÿlP©h
();

343 ià(!
	gchdP©h
.
¡¬tsW™h
(
·»ÁP©h
)) {

347 
SŒšg
 
	g»s
 = 
chdP©h
.
»¶aû
(
·»ÁP©h
, "");

348  
	g»s
.
¥l™
("/").
	gËngth
;

349 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

355 
´iv©e
 
´eCªûl
() {

356 ià(
	g_cÚfig
.
	gisShowResuÉOnCªûl
) {

357 
	g_isCªûËd
 = 
Œue
;

361 
ÿnûl
(
Œue
);

365 
´iv©e
 
SŒšg
 
m©chLše
(
fš®
 SŒšg 
lše
) {

366 
fš®
 
SŒšg
 
	g´•¬edLše
 = 
_cÚfig
.
isCa£S’s™iveQu”y
 ? 
lše
 :†še.
toLow”Ca£
();

368 
	g¡¬t
 = -1, 
	g’d
 = -1;

369 ià(
	g_cÚfig
.
	gisRegexQu”y
) {

370 
fš®
 
M©ch”
 
	gm©ch
 = 
_»gex
.
m©ch”
(
´•¬edLše
);

371 ià(
	gm©ch
.
fšd
()) {

372 
	g¡¬t
 = 
m©ch
.
¡¬t
();

373 
	g’d
 = 
m©ch
.
’d
();

376 
	g¡¬t
 = 
´•¬edLše
.
šdexOf
(
_cÚfig
.
qu”y
);

377 ià(
	g¡¬t
 >= 0) {

378 
’d
 = 
¡¬t
 + 
_cÚfig
.
qu”y
.
Ëngth
();

383 ià(
	g¡¬t
 >ğ0 && 
’d
 <ğ
lše
.
Ëngth
()) {

384 ià(!
_cÚfig
.
isShowM©chP»v›w
) {

387 ià(
	glše
.
Ëngth
(è< 
	gmaxP»v›wL’gth
) {

388  
	glše
;

390 
	goff£t
 = (
maxP»v›wL’gth
 - (
’d
 - 
¡¬t
)) / 2;

391 
	gsubS¹
 = 
M©h
.
max
(
¡¬t
 - 
off£t
, 0);

392 
	gsubEnd
 = 
M©h
.
mš
(
’d
 + 
off£t
, 
lše
.
Ëngth
());

393  
	gSŒšg
.
fÜm©
("â€¦ % â€¦", 
lše
.
sub¡ršg
(
subS¹
, 
subEnd
));

396  
	gnuÎ
;

399 
´iv©e
 
	gLi¡
<
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
>> 
g‘CÚ‹ÁM©ches
(
fš®
 
Fe
 
fe
, fš® 
boŞ—n
 
isFœ¡M©chOÆy
) {

400 
	gLi¡
<
	gPaœ
<
	gSŒšg
, 
	gIÁeg”
>> 
	g»t
 = 
Ãw
 
A¼ayLi¡
<>();

402 ià(!
	gfe
.
ÿnR—d
(è|| fe.
isDœeùÜy
()) {

403  
	g»t
;

406 
Œy
 (
fš®
 
Bufã»dR—d”
 
br
 = 
Ãw
 Bufã»dR—d”Òew 
IÅutSŒ—mR—d”
(
g‘IÅutSŒ—m
(
fe
)))) {

407 
lšeNumb”
 = 0;

408 
SŒšg
 
	glše
; (lšğ
br
.
»adLše
()è!ğ
nuÎ
; ) {

409 ià(
isCªûÎed
(è|| 
	g_isCªûËd
) {

412 
	glše
 = 
m©chLše
(
lše
);

413 ià(
	glše
 !ğ
nuÎ
) {

414 
»t
.
add
(
Ãw
 
Paœ
<>(
lše
, 
lšeNumb”
));

415 ià(
	gisFœ¡M©chOÆy
) {

419 
	glšeNumb”
++;

421 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

424  
	g»t
;

427 
´iv©e
 
boŞ—n
 
isIgnÜed
(
Fe
 
dœeùÜy
) {

428 
fš®
 
SŒšg
 
	gdœName
 = 
_cÚfig
.
isCa£S’s™iveQu”y
 ? 
dœeùÜy
.
g‘Name
(è: dœeùÜy.g‘Name().
toLow”Ca£
();

429 
fš®
 
SŒšg
 
	g·‰”n
 : 
_ignÜedExaùDœs
) {

430 ià(
dœName
.
equ®s
(
·‰”n
)) {

431  
Œue
;

435 
fš®
 
P©‹º
 
	g·‰”n
 : 
_ignÜedRegexDœs
) {

436 ià(
·‰”n
.
m©ch”
(
dœName
).
m©ches
()) {

437  
Œue
;

440  
	gçl£
;

443 
´iv©e
 
IÅutSŒ—m
 
g‘IÅutSŒ—m
(
Fe
 
fe
è
throws
 
	gFeNÙFoundExû±iÚ
 {

444 ià(
isEnüy±edFe
(
fe
)) {

445 
fš®
 
	gby‹
[] 
	g’üy±edCÚ‹xt
 = 
FeUts
.
»adClo£SŒ—mW™hSize
(
Ãw
 
FeIÅutSŒ—m
(
fe
), (èfe.
Ëngth
());

446  
Ãw
 
By‹A¼ayIÅutSŒ—m
(
JavaPasswÜdba£dCry±iÚ
.
g‘Deüy±edText
(
’üy±edCÚ‹xt
, 
_cÚfig
.
·sswÜd
.
şÚe
()).
g‘By‹s
(
Snd¬dCh¬£ts
.
UTF_8
));

448  
Ãw
 
FeIÅutSŒ—m
(
fe
);

454 
´iv©e
 
boŞ—n
 
	$isEnüy±edFe
(
Fe
 
fe
) {

455  
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
M
 && 
fe
.
	`g‘Name
().
	`’dsW™h
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
);

456 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/hleditor/Highlighter.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

14 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

15 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜIÁ
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

18 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

19 
impÜt
 
	gªdroid
.
	g‹xt
.
	gP¬ûÏbËS·n
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

21 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

22 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gBackgroundCŞÜS·n
;

23 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gCh¬aù”StyË
;

24 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gFÜegroundCŞÜS·n
;

25 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gLšeBackgroundS·n
;

26 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gLšeHeightS·n
;

27 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gP¬ag¿phStyË
;

28 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gR–©iveSizeS·n
;

29 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gR•Ïûm’tS·n
;

30 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gSŒik‘hroughS·n
;

31 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gStyËS·n
;

32 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gSubsütS·n
;

33 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gSu³rsütS·n
;

34 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gTextAµ—¿nûS·n
;

35 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gTy³çûS·n
;

36 
impÜt
 
	gªdroid
.
	gut
.
	gP©‹ºs
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gBudCÚfig
;

39 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gMašAùiv™y
;

40 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gCŞÜUnd”lšeS·n
;

41 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gHexCŞÜCodeUnd”lšeS·n
;

42 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	g¶aš‹xt
.
	gPÏš‹xtHighligh‹r
;

43 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

44 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

45 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gNªoProf”
;

47 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

48 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

50 @
Suµ»ssW¬nšgs
({"UnusedReturnValue", "WeakerAccess", "FieldCanBeLocal", "unused"})

51 
public
 
ab¡¿ù
 cÏs 
	cHighligh‹r
 {

52 
´Ùeùed
 
fš®
 
	mLONG_HIGHLIGHTING_DELAY
 = 2400;

53 
´Ùeùed
 
fš®
 
IÅutF‹r
 
	mAUTOFORMATTER_NONE
 = (
ch¬Sequ’û
, 
	mi
, 
	mi1
, 
	m¥ªÃd
, 
	mi2
, 
	mi3
è-> 
	mnuÎ
;

54 
´Ùeùed
 
	m_highlightšgFaùÜBa£dOnFesize
 = 1f;

56 
´Ùeùed
 
fš®
 
NªoProf”
 
	m_´of”
 = 
Ãw
 NªoProf”().
£tEÇbËd
(
BudCÚfig
.
IS_TEST_BUILD
 || 
MašAùiv™y
.
IS_DEBUG_ENABLED
);

58 
´Ùeùed
 
ab¡¿ù
 
S·ÂabË
 
run
(
fš®
 S·ÂabË 
¥ªÇbË
);

60 
public
 
ab¡¿ù
 
IÅutF‹r
 
g‘AutoFÜm©‹r
();

62 
´Ùeùed
 
Highligh‹r
 
	$g‘DeçuÉHighligh‹r
(
HighlightšgEd™Ü
 
hlEd™Ü
, 
Docum’t
 
docum’t
) {

63  
Ãw
 
	`PÏš‹xtHighligh‹r
(
hlEd™Ü
, 
docum’t
);

66 
public
 
ab¡¿ù
 
	`g‘HighlightšgD–ay
(
CÚ‹xt
 
cÚ‹xt
);

71 
´Ùeùed
 
fš®
 
HighlightšgEd™Ü
 
_hlEd™Ü
;

72 
´Ùeùed
 
fš®
 
AµS‘tšgs
 
_­pS‘tšgs
;

74 
´Ùeùed
 
fš®
 
_´eC®cTabWidth
;

75 
´Ùeùed
 
boŞ—n
 
_highlightLšks
 = 
Œue
;

76 
´Ùeùed
 
fš®
 
boŞ—n
 
_highlightHexcŞÜ
;

77 
´Ùeùed
 
fš®
 
Docum’t
 
_docum’t
;

78 
´iv©e
 
TextW©ch”
 
_modif›r
 = 
nuÎ
;

80 
public
 
	$Highligh‹r
(
HighlightšgEd™Ü
 
ed™Ü
, 
Docum’t
 
docum’t
) {

81 
_hlEd™Ü
 = 
ed™Ü
;

82 
_­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
_hlEd™Ü
.
	`g‘CÚ‹xt
().
	`g‘AµliÿtiÚCÚ‹xt
());

84 
_´eC®cTabWidth
 = (è(
_­pS‘tšgs
.
	`g‘TabWidth
(è<ğ1 ? -1 : 
ed™Ü
.
	`g‘Pašt
().
	`m—su»Text
(" ") * _appSettings.getTabWidth());

85 
_highlightHexcŞÜ
 = 
_­pS‘tšgs
.
	`isHighlightšgHexCŞÜEÇbËd
();

86 
_docum’t
 = 
docum’t
;

87 
	}
}

89 
public
 
	$g‘HighlightšgFaùÜBa£dOnFesize
() {

90  
_highlightšgFaùÜBa£dOnFesize
;

91 
	}
}

93 
public
 
	$g’”®HighlightRun
(
fš®
 
S·ÂabË
 
¥ªÇbË
) {

94 
fš®
 
SŒšg
 
‹xt
 = 
¥ªÇbË
.
	`toSŒšg
();

95 
_highlightšgFaùÜBa£dOnFesize
 = 
M©h
.
	`max
(1, M©h.
	`mš
(M©h.max(
‹xt
.
	`Ëngth
() - 9000, 10000) / 10000, 4));

96 
_´of”
.
	`»¡¬t
("General Highlighter");

97 ià(
_´eC®cTabWidth
 > 0) {

98 
_´of”
.
	`»¡¬t
("Tabulator width");

99 
	`ü—‹R•Ïûm’tS·nFÜM©ches
(
¥ªÇbË
, 
P©‹º
.
	`compe
("\t"), 
_´eC®cTabWidth
);

101 ià(
_highlightLšks
 && (
‹xt
.
	`cÚšs
("http://") ||ext.contains("https://"))) {

102 
_´of”
.
	`»¡¬t
("Link Color");

103 
	`ü—‹CŞÜS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
WEB_URL
, 0xff1ea3fd);

104 
_´of”
.
	`»¡¬t
("Link Size");

105 
	`ü—‹R–©iveSizeS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
WEB_URL
, 0.7f);

106 
_´of”
.
	`»¡¬t
("Link Italic");

107 
	`ü—‹StyËS·nFÜM©ches
(
¥ªÇbË
, 
P©‹ºs
.
WEB_URL
, 
Ty³çû
.
ITALIC
);

109 ià(
_highlightHexcŞÜ
) {

110 
_´of”
.
	`»¡¬t
("RGB Color underline");

111 
	`ü—‹CŞÜedUnd”lšeS·nFÜM©ches
(
¥ªÇbË
, 
HexCŞÜCodeUnd”lšeS·n
.
PATTERN
, 
Ãw
 
	`HexCŞÜCodeUnd”lšeS·n
(), 1);

113 
	}
}

115 
´Ùeùed
 
SŒšg
 
	$g‘F•©h
() {

116 ià(
_docum’t
 !ğ
nuÎ
 && _docum’t.
	`g‘Fe
() !=‚ull) {

117  
_docum’t
.
	`g‘Fe
().
	`g‘AbsŞu‹P©h
();

120 
	}
}

122 
public
 
AµS‘tšgs
 
	$g‘AµS‘tšgs
() {

123  
_­pS‘tšgs
;

124 
	}
}

126 
public
 
TextW©ch”
 
	$g‘TextModif›r
() {

127  
_modif›r
;

128 
	}
}

130 
´Ùeùed
 
	$£tTextModif›r
(
TextW©ch”
 
modif›r
) {

131 
_modif›r
 = 
modif›r
;

132 
	}
}

138 
public
 
	$ş—rS·ns
(
S·ÂabË
 
¥ªÇbË
) {

139 
	`ş—rCh¬aù”S·nTy³
(
¥ªÇbË
, 
TextAµ—¿nûS·n
.
şass
);

140 
	`ş—rCh¬aù”S·nTy³
(
¥ªÇbË
, 
FÜegroundCŞÜS·n
.
şass
);

141 
	`ş—rCh¬aù”S·nTy³
(
¥ªÇbË
, 
BackgroundCŞÜS·n
.
şass
);

142 
	`ş—rCh¬aù”S·nTy³
(
¥ªÇbË
, 
SŒik‘hroughS·n
.
şass
);

143 
	`ş—rCh¬aù”S·nTy³
(
¥ªÇbË
, 
R–©iveSizeS·n
.
şass
);

144 
	`ş—rCh¬aù”S·nTy³
(
¥ªÇbË
, 
StyËS·n
.
şass
);

145 
	`ş—rCh¬aù”S·nTy³
(
¥ªÇbË
, 
CŞÜUnd”lšeS·n
.
şass
);

146 
	`ş—rP¬ag¿phS·nTy³
(
¥ªÇbË
, 
LšeBackgroundS·n
.
şass
);

147 
	`ş—rP¬ag¿phS·nTy³
(
¥ªÇbË
, 
LšeHeightS·n
.
şass
);

148 
	}
}

150 
´iv©e
 <
T
 
ex‹nds
 
	gCh¬aù”StyË
> 
ş—rCh¬aù”S·nTy³
(
S·ÂabË
 
¥ªÇbË
, 
CÏss
<T> 
¥ªTy³
) {

151 
	gCh¬aù”StyË
[] 
	g¥ªs
 = 
¥ªÇbË
.
g‘S·ns
(0, s·ÂabË.
Ëngth
(), 
¥ªTy³
);

153 
	gn
 = 
¥ªs
.
Ëngth
;‚-- > 0; ) {

154 
	g¥ªÇbË
.
»moveS·n
(
¥ªs
[
n
]);

158 
´iv©e
 <
T
 
ex‹nds
 
	gP¬ag¿phStyË
> 
ş—rP¬ag¿phS·nTy³
(
S·ÂabË
 
¥ªÇbË
, 
CÏss
<T> 
¥ªTy³
) {

159 
	gP¬ag¿phStyË
[] 
	g¥ªs
 = 
¥ªÇbË
.
g‘S·ns
(0, s·ÂabË.
Ëngth
(), 
¥ªTy³
);

161 
	gn
 = 
¥ªs
.
Ëngth
;‚-- > 0; ) {

162 
	g¥ªÇbË
.
»moveS·n
(
¥ªs
[
n
]);

166 
´iv©e
 
boŞ—n
 
	g_isFœ¡Highlightšg
 = 
çl£
;

168 
´Ùeùed
 
boŞ—n
 
	$isFœ¡Highlightšg
() {

169 
boŞ—n
 
f
 = 
_isFœ¡Highlightšg
;

170 
_isFœ¡Highlightšg
 = 
çl£
;

171  
f
;

172 
	}
}

187 
´Ùeùed
 
	$ü—‹S·nFÜM©ches
(
fš®
 
S·ÂabË
 
¥ªÇbË
, fš® 
P©‹º
 
·‰”n
, fš® 
S·nC»©Ü
.
P¬ûÏbËS·nC»©Ü
 
ü—tÜ
, ... 
groupsToM©ch
) {

188 ià(
groupsToM©ch
 =ğ
nuÎ
 || groupsToM©ch.
Ëngth
 < 1) {

189 
groupsToM©ch
 = 
Ãw
 []{0};

191 
i
 = 0;

192 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
(
¥ªÇbË
); m.
	`fšd
(); 
i
++) {

193 
P¬ûÏbËS·n
 
¥ª
 = 
ü—tÜ
.
	`ü—‹
(
m
, 
i
);

194 ià(
¥ª
 !ğ
nuÎ
) {

195 
g
 : 
groupsToM©ch
) {

196 ià(
g
 =ğ0 || g <ğ
m
.
	`groupCouÁ
()) {

197 
¥ªÇbË
.
	`£tS·n
(
¥ª
, 
m
.
	`¡¬t
(
g
), m.
	`’d
(g), 
S·ÂabË
.
SPAN_EXCLUSIVE_EXCLUSIVE
);

202 
	}
}

214 
´Ùeùed
 
	$ü—‹S·nFÜM©chesP
(
fš®
 
S·ÂabË
 
¥ªÇbË
, fš® 
P©‹º
 
·‰”n
, fš® 
S·nC»©Ü
.
P¬ag¿phStyËC»©Ü
 
ü—tÜ
, ... 
groupsToM©ch
) {

215 ià(
groupsToM©ch
 =ğ
nuÎ
 || groupsToM©ch.
Ëngth
 < 1) {

216 
groupsToM©ch
 = 
Ãw
 []{0};

218 
i
 = 0;

219 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
(
¥ªÇbË
); m.
	`fšd
(); 
i
++) {

220 
P¬ag¿phStyË
 
¥ª
 = 
ü—tÜ
.
	`ü—‹
(
m
, 
i
);

221 ià(
¥ª
 !ğ
nuÎ
) {

222 
g
 : 
groupsToM©ch
) {

223 ià(
g
 =ğ0 || g <ğ
m
.
	`groupCouÁ
()) {

224 
¥ªÇbË
.
	`£tS·n
(
¥ª
, 
m
.
	`¡¬t
(
g
), m.
	`’d
(g), 
S·ÂabË
.
SPAN_EXCLUSIVE_EXCLUSIVE
);

229 
	}
}

240 
´Ùeùed
 
	$ü—‹S·nFÜM©chesM
(
fš®
 
S·ÂabË
 
¥ªÇbË
, fš® 
P©‹º
 
·‰”n
, fš® 
S·nC»©Ü
 
ü—tÜ
, ... 
groupsToM©ch
) {

241 ià(
groupsToM©ch
 =ğ
nuÎ
 || groupsToM©ch.
Ëngth
 < 1) {

242 
groupsToM©ch
 = 
Ãw
 []{0};

244 
i
 = 0;

245 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
(
¥ªÇbË
); m.
	`fšd
(); 
i
++) {

246 
Objeù
 
¥ª
 = 
ü—tÜ
.
	`ü—‹
(
m
, 
i
);

247 ià(
¥ª
 !ğ
nuÎ
) {

248 
g
 : 
groupsToM©ch
) {

249 ià(
g
 =ğ0 || g <ğ
m
.
	`groupCouÁ
()) {

250 
¥ªÇbË
.
	`£tS·n
(
¥ª
, 
m
.
	`¡¬t
(
g
), m.
	`’d
(g), 
S·ÂabË
.
SPAN_EXCLUSIVE_EXCLUSIVE
);

255 
	}
}

257 
´Ùeùed
 
	$ü—‹StyËS·nFÜM©ches
(
fš®
 
S·ÂabË
 
¥ªÇbË
, fš® 
P©‹º
 
·‰”n
, fš® 
¡yË
, ... 
groupsToM©ch
) {

258 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`StyËS·n
(
¡yË
));

259 
	}
}

261 
´Ùeùed
 
	$ü—‹CŞÜS·nFÜM©ches
(
fš®
 
S·ÂabË
 
¥ªÇbË
, fš® 
P©‹º
 
·‰”n
, fš® 
cŞÜ
, ... 
groupsToM©ch
) {

262 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`FÜegroundCŞÜS·n
(
cŞÜ
), 
groupsToM©ch
);

263 
	}
}

265 
´Ùeùed
 
	$ü—‹CŞÜBackgroundS·n
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, fš® 
cŞÜ
, ... 
groupsToM©ch
) {

266 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`BackgroundCŞÜS·n
(
cŞÜ
), 
groupsToM©ch
);

267 
	}
}

269 
´Ùeùed
 
	$ü—‹S·nW™hSŒikeThroughFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, ... 
groupsToM©ch
) {

270 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`SŒik‘hroughS·n
(), 
groupsToM©ch
);

271 
	}
}

273 
´Ùeùed
 
	$ü—‹Ty³çûS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
P©‹º
 
·‰”n
, 
fš®
 
SŒšg
 
ty³çû
, ... 
groupsToM©ch
) {

274 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`Ty³çûS·n
(
ty³çû
), 
groupsToM©ch
);

275 
	}
}

277 
´Ùeùed
 
	$ü—‹R–©iveSizeS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, 
»ÏtiveSize
, ... 
groupsToM©ch
) {

278 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`R–©iveSizeS·n
(
»ÏtiveSize
), 
groupsToM©ch
);

279 
	}
}

281 
´Ùeùed
 
	$ü—‹R•Ïûm’tS·nFÜM©ches
(
fš®
 
S·ÂabË
 
¥ªÇbË
, fš® 
P©‹º
 
·‰”n
, fš® 
ch¬Width
, ... 
groupsToM©ch
) {

282 
	`ü—‹S·nFÜM©chesM
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`R•Ïûm’tS·n
() {

283 @
Ov”ride


284 
public
 
	`g‘Size
(@
NÚNuÎ
 
Pašt
 
·št
, 
Ch¬Sequ’û
 
‹xt
, 
¡¬t
, 
’d
, Pašt.
FÚtM‘ricsIÁ
 
fm
) {

285  
ch¬Width
;

288 @
Ov”ride


289 
public
 
	`d¿w
(@
NÚNuÎ
 
Cªvas
 
ÿnvas
, 
Ch¬Sequ’û
 
‹xt
, 
¡¬t
, 
’d
, 
x
, 
tİ
, 
y
, 
bÙtom
, @NÚNuÎ 
Pašt
 
·št
) {

291 }, 
groupsToM©ch
);

292 
	}
}

294 
´Ùeùed
 
	$ü—‹MÚo¥aûS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, ... 
groupsToM©ch
) {

295 
	`ü—‹Ty³çûS·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, "mÚo¥aû", 
groupsToM©ch
);

296 
	}
}

298 
´Ùeùed
 
ü—‹CŞÜedUnd”lšeS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, @
CŞÜIÁ
 
cŞÜ
, ... 
groupsToM©ch
) {

299 
ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
CŞÜUnd”lšeS·n
(
cŞÜ
, 
nuÎ
), 
groupsToM©ch
);

302 
´Ùeùed
 
	$ü—‹CŞÜedUnd”lšeS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, fš® 
S·nC»©Ü
.
P¬ûÏbËS·nC»©Ü
 
ü—tÜ
, ... 
groupsToM©ch
) {

303 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, 
ü—tÜ
, 
groupsToM©ch
);

304 
	}
}

306 
´Ùeùed
 
	$ü—‹P¬ag¿phStyËS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, fš® 
S·nC»©Ü
.
P¬ag¿phStyËC»©Ü
 
ü—tÜ
, ... 
groupsToM©ch
) {

307 
	`ü—‹S·nFÜM©chesP
(
¥ªÇbË
, 
·‰”n
, 
ü—tÜ
, 
groupsToM©ch
);

308 
	}
}

310 
´Ùeùed
 
	$ü—‹Su³rsütStyËS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, fš® ... 
groupsToM©ch
) {

311 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`Su³rsütS·n
(), 
groupsToM©ch
);

312 
	}
}

314 
´Ùeùed
 
	$ü—‹SubsütStyËS·nFÜM©ches
(
S·ÂabË
 
¥ªÇbË
, 
fš®
 
P©‹º
 
·‰”n
, fš® ... 
groupsToM©ch
) {

315 
	`ü—‹S·nFÜM©ches
(
¥ªÇbË
, 
·‰”n
, (
m©ch”
, 
iM
è-> 
Ãw
 
	`SubsütS·n
(), 
groupsToM©ch
);

316 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/hleditor/HighlightingEditor.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
;

12 
impÜt
 
	gªdroid
.
	gªim©iÚ
.
	gObjeùAnim©Ü
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gAµCom·tEd™Text
;

18 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

19 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

21 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gacûssib™y
.
	gAcûssib™yEv’t
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gMašAùiv™y
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

31 
impÜt
 
	gjava
.
	gio
.
	gFe
;

32 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

33 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

36 @
Suµ»ssW¬nšgs
("UnusedReturnValue")

37 
public
 cÏs 
	cHighlightšgEd™Ü
 
ex‹nds
 
	mAµCom·tEd™Text
 {

38 
public
 
boŞ—n
 
	$isCu¼’tLšeEm±y
() {

39 
fš®
 
posOrig
 = 
	`g‘S–eùiÚS¹
();

40 
fš®
 
posLšeBegš
 = 
	`moveCursÜToBegšOfLše
(0);

41 
fš®
 
posEndBegš
 = 
	`moveCursÜToEndOfLše
(0);

42 
	`£tS–eùiÚ
(
posOrig
);

43  
posLšeBegš
 =ğ
posEndBegš
;

46 
š‹rçû
 
OnTextChªgedLi¡’”
 {

47 
	`ÚTextChªged
(
SŒšg
 
‹xt
);

48 
	}
}

50 
´iv©e
 
boŞ—n
 
	g_modif›d
 = 
Œue
;

51 
´iv©e
 
boŞ—n
 
	g_hlEÇbËd
 = 
çl£
;

52 
´iv©e
 
boŞ—n
 
	g_acûssib™yEÇbËd
 = 
Œue
;

53 
´iv©e
 
fš®
 
boŞ—n
 
	g_isS³ÎšgRedUnd”lše
;

54 
´iv©e
 
Highligh‹r
 
	g_hl
;

55 
´iv©e
 
fš®
 
	gS‘
<
	gTextW©ch”
> 
	g_­¶›dModif›rs
 = 
Ãw
 
HashS‘
<>();

57 
public
 
fš®
 
SŒšg
 
	gPLACE_CURSOR_HERE_TOKEN
 = "%%PLACE_CURSOR_HERE%%";

58 
´iv©e
 
fš®
 
HªdËr
 
	g_upd©eHªdËr
 = 
Ãw
 Handler();

59 
´iv©e
 
fš®
 
RuÂabË
 
	g_upd©eRuÂabË
;

61 
public
 
	$HighlightšgEd™Ü
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

62 
	`su³r
(
cÚ‹xt
, 
©Œs
);

63 
AµS‘tšgs
 
as
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
);

64 ià(
as
.
	`isHighlightšgEÇbËd
()) {

65 
	`£tHighligh‹r
(
Highligh‹r
.
	`g‘DeçuÉHighligh‹r
(
this
, 
Ãw
 
	`Docum’t
Òew 
	`Fe
("/tmp"))));

66 
	`’abËHighligh‹rAutoFÜm©
();

67 
	`£tHighlightšgEÇbËd
(
as
.
	`isHighlightšgEÇbËd
());

70 
_isS³ÎšgRedUnd”lše
 = !
as
.
	`isDi§bËS³ÎšgRedUnd”lše
();

71 
_upd©eRuÂabË
 = () -> {

72 
	`highlightW™houtChªge
();

75 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
P
) {

76 
	`£tF®lbackLšeS·cšg
(
çl£
);

79 
	`addTextChªgedLi¡’”
(
Ãw
 
	`TextW©ch”
() {

80 @
Ov”ride


81 
public
 
	`aá”TextChªged
(
Ed™abË
 
e
) {

82 
	`ÿnûlUpd©e
();

83 ià(!
_modif›d
) {

86 ià(
MašAùiv™y
.
IS_DEBUG_ENABLED
) {

87 
AµS‘tšgs
.
	`­³ndDebugLog
("Changedext (afterTextChanged)");

89 ià(
_hl
 !ğ
nuÎ
) {

90 
d–ay
 = (è
_hl
.
	`g‘HighlightšgFaùÜBa£dOnFesize
(è* (_hl.
	`isFœ¡Highlightšg
(è? 300 : _hl.
	`g‘HighlightšgD–ay
(
	`g‘CÚ‹xt
()));

91 ià(
MašAùiv™y
.
IS_DEBUG_ENABLED
) {

92 
AµS‘tšgs
.
	`­³ndDebugLog
("Highlightšg„un: d–ay " + 
d–ay
 + "ms, cçùÜ " + 
_hl
.
	`g‘HighlightšgFaùÜBa£dOnFesize
());

94 
_upd©eHªdËr
.
	`po¡D–ayed
(
_upd©eRuÂabË
, 
d–ay
);

98 @
Ov”ride


99 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
, 
couÁ
) {

100 ià(
MašAùiv™y
.
IS_DEBUG_ENABLED
) {

101 
AµS‘tšgs
.
	`­³ndDebugLog
("Changedext (onTextChanged)");

105 @
Ov”ride


106 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
, 
aá”
) {

107 ià(
MašAùiv™y
.
IS_DEBUG_ENABLED
) {

108 
AµS‘tšgs
.
	`­³ndDebugLog
("Changedext (beforeTextChanged)");

112 
	}
}

114 
public
 
	$£tHighligh‹r
(
Highligh‹r
 
ÃwHighligh‹r
) {

115 
	`di§bËHighligh‹rAutoFÜm©
();

116 
_hl
 = 
ÃwHighligh‹r
;

117 
	`’abËHighligh‹rAutoFÜm©
();

118 
	`highlightW™houtChªge
();

121 
	`£tAÍha
(0.3f);

122 
	`ªim©e
().
	`®pha
(1.0f)

123 .
	`£tDu¿tiÚ
(500)

124 .
	`£tLi¡’”
(
nuÎ
);

125 
	}
}

127 
public
 
Highligh‹r
 
	$g‘Highligh‹r
() {

128  
_hl
;

129 
	}
}

131 
public
 
	$’abËHighligh‹rAutoFÜm©
() {

132 
	`£tF‹rs
(
Ãw
 
IÅutF‹r
[]{
_hl
.
	`g‘AutoFÜm©‹r
()});

134 
fš®
 
TextW©ch”
 
modif›r
 = (
_hl
 !ğ
nuÎ
è? _hl.
	`g‘TextModif›r
() :‚ull;

135 ià(
modif›r
 !ğ
nuÎ
 && !
_­¶›dModif›rs
.
	`cÚšs
(modifier)) {

136 
	`addTextChªgedLi¡’”
(
modif›r
);

137 
_­¶›dModif›rs
.
	`add
(
modif›r
);

139 
	}
}

141 
public
 
	$di§bËHighligh‹rAutoFÜm©
() {

142 
	`£tF‹rs
(
Ãw
 
IÅutF‹r
[]{});

144 
fš®
 
TextW©ch”
 
modif›r
 = (
_hl
 !ğ
nuÎ
è? _hl.
	`g‘TextModif›r
() :‚ull;

145 ià(
modif›r
 !ğ
nuÎ
) {

146 
	`»moveTextChªgedLi¡’”
(
modif›r
);

147 
_­¶›dModif›rs
.
	`»move
(
modif›r
);

149 
	}
}

151 
´iv©e
 
	$ÿnûlUpd©e
() {

152 
_upd©eHªdËr
.
	`»moveC®lbacks
(
_upd©eRuÂabË
);

153 
	}
}

158 @
Ov”ride


159 
public
 
	$£ndAcûssib™yEv’tUnchecked
(
Acûssib™yEv’t
 
ev’t
) {

160 ià(
_acûssib™yEÇbËd
 && 
	`Ëngth
() < 10000) {

161 
su³r
.
	`£ndAcûssib™yEv’tUnchecked
(
ev’t
);

163 
	}
}

166 @
RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
O
)

167 @
Ov”ride


168 
public
 
	$g‘AutoflTy³
() {

169 ià(
_acûssib™yEÇbËd
 && 
	`Ëngth
() < 10000) {

170  
su³r
.
	`g‘AutoflTy³
();

172  
V›w
.
AUTOFILL_TYPE_NONE
;

174 
	}
}

176 
´iv©e
 
	$highlightW™houtChªge
() {

177 ià(
_hlEÇbËd
) {

178 
_modif›d
 = 
çl£
;

179 
Œy
 {

180 ià(
MašAùiv™y
.
IS_DEBUG_ENABLED
) {

181 
AµS‘tšgs
.
	`­³ndDebugLog
("Start highlighting");

183 
	`£tAcûssib™yEÇbËd
(
çl£
);

184 
_hl
.
	`run
(
	`g‘Text
());

185 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

187 
e
.
	`´štSckT¿û
();

188 } 
	`ÿtch
 (
E¼Ü
 
e
) {

189 
e
.
	`´štSckT¿û
();

190 } 
fš®ly
 {

191 
	`£tAcûssib™yEÇbËd
(
Œue
);

193 ià(
MašAùiv™y
.
IS_DEBUG_ENABLED
) {

194 
AµS‘tšgs
.
	`­³ndDebugLog
(
_hl
.
_´of”
.
	`»£tDebugText
());

195 
AµS‘tšgs
.
	`­³ndDebugLog
("Finished highlighting");

197 
_modif›d
 = 
Œue
;

199 
	}
}

201 
public
 
	$simuÏ‹KeyP»ss
(
keyEv’t_KEYCODE_SOMETHING
) {

202 
	`di¥©chKeyEv’t
(
Ãw
 
	`KeyEv’t
(0, 0, 
KeyEv’t
.
ACTION_DOWN
, 
keyEv’t_KEYCODE_SOMETHING
, 0));

203 
	`di¥©chKeyEv’t
(
Ãw
 
	`KeyEv’t
(0, 0, 
KeyEv’t
.
ACTION_UP
, 
keyEv’t_KEYCODE_SOMETHING
, 0));

204 
	}
}

206 
public
 
	$š£¹OrR•ÏûTextOnCursÜ
(
SŒšg
 
ÃwText
) {

207 
ÃwText
 = (ÃwTexˆ=ğ
nuÎ
 ? "" :‚ewText);

208 
ÃwCursÜPos
 = 
ÃwText
.
	`šdexOf
(
PLACE_CURSOR_HERE_TOKEN
);

209 
ÃwText
 =‚ewText.
	`»¶aû
(
PLACE_CURSOR_HERE_TOKEN
, "");

210 
¡¬t
 = 
M©h
.
	`max
(
	`g‘S–eùiÚS¹
(), 0);

211 
’d
 = 
M©h
.
	`max
(
	`g‘S–eùiÚEnd
(), 0);

212 
	`g‘Text
().
	`»¶aû
(
M©h
.
	`mš
(
¡¬t
, 
’d
), M©h.
	`max
(¡¬t,ƒnd), 
ÃwText
, 0,‚ewText.
	`Ëngth
());

213 ià(
ÃwCursÜPos
 >= 0) {

214 
	`£tS–eùiÚ
(
¡¬t
 + 
ÃwCursÜPos
);

216 
	}
}

218 
public
 
	$g‘ShiáWidth
(
SŒšg
 
‹xt
) {

219 ià(
‹xt
.
	`cÚšs
("sw=2") ||ext.contains("shiftwidth=2")) {

221 } ià(
‹xt
.
	`cÚšs
("sw=8") ||ext.contains("shiftwidth=8")) {

226 
	}
}

228 
public
 
	$moveCursÜToEndOfLše
(
off£t
) {

229 
	`simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_MOVE_END
);

230 
	`£tS–eùiÚ
(
	`g‘S–eùiÚS¹
(è+ 
off£t
);

231  
	`g‘S–eùiÚS¹
();

232 
	}
}

234 
public
 
	$moveCursÜToBegšOfLše
(
off£t
) {

235 
	`simuÏ‹KeyP»ss
(
KeyEv’t
.
KEYCODE_MOVE_HOME
);

236 
	`£tS–eùiÚ
(
	`g‘S–eùiÚS¹
(è+ 
off£t
);

237  
	`g‘S–eùiÚS¹
();

238 
	}
}

242 
public
 
	$£tS–eùiÚEx·ndWhŞeLšes
() {

243 
fš®
 [] 
£l
 = 
SŒšgUts
.
	`g‘S–eùiÚ
(
this
);

244 
fš®
 
Ch¬Sequ’û
 
‹xt
 = 
	`g‘Text
();

245 
	`£tS–eùiÚ
(

246 
SŒšgUts
.
	`g‘LšeS¹
(
‹xt
, 
£l
[0]),

247 
SŒšgUts
.
	`g‘LšeEnd
(
‹xt
, 
£l
[1])

249  
£l
[0];

250 
	}
}

256 
public
 
	$£tHighlightšgEÇbËd
(
fš®
 
boŞ—n
 
’abË
) {

257 ià(
_hlEÇbËd
 && !
’abË
) {

258 
_hlEÇbËd
 = 
çl£
;

259 
Highligh‹r
.
	`ş—rS·ns
(
	`g‘Text
());

260 } ià(!
_hlEÇbËd
 && 
’abË
 && 
_hl
 !ğ
nuÎ
) {

261 
_hlEÇbËd
 = 
Œue
;

262 
	`highlightW™houtChªge
();

264 
	}
}

267 
public
 
boŞ—n
 
	$šdexesV®id
(... 
šdexes
) {

268 
Ën
 = 
	`Ëngth
();

269 
šdex
 : 
šdexes
) {

270 ià(
šdex
 < 0 || index > 
Ën
) {

271  
çl£
;

274  
Œue
;

275 
	}
}

277 @
Ov”ride


278 
public
 
boŞ—n
 
	$isSugge¡iÚsEÇbËd
() {

279  
_isS³ÎšgRedUnd”lše
 && 
su³r
.
	`isSugge¡iÚsEÇbËd
();

280 
	}
}

282 @
Ov”ride


283 
public
 
	$£tS–eùiÚ
(
šdex
) {

284 ià(
	`šdexesV®id
(
šdex
)) {

285 
su³r
.
	`£tS–eùiÚ
(
šdex
);

287 
	}
}

289 @
Ov”ride


290 
public
 
	$£tS–eùiÚ
(
¡¬t
, 
¡İ
) {

291 ià(
	`šdexesV®id
(
¡¬t
, 
¡İ
)) {

292 
su³r
.
	`£tS–eùiÚ
(
¡¬t
, 
¡İ
);

293 } ià(
	`šdexesV®id
(
¡¬t
, 
¡İ
 - 1)) {

294 
su³r
.
	`£tS–eùiÚ
(
¡¬t
, 
¡İ
 - 1);

295 } ià(
	`šdexesV®id
(
¡¬t
 + 1, 
¡İ
)) {

296 
su³r
.
	`£tS–eùiÚ
(
¡¬t
 + 1, 
¡İ
);

298 
	}
}

300 @
Ov”ride


301 
´Ùeùed
 
	$ÚS–eùiÚChªged
(
£lS¹
, 
£lEnd
) {

302 
su³r
.
	`ÚS–eùiÚChªged
(
£lS¹
, 
£lEnd
);

303 ià(
MašAùiv™y
.
IS_DEBUG_ENABLED
) {

304 
AµS‘tšgs
.
	`­³ndDebugLog
("S–eùiÚ chªged: " + 
£lS¹
 + "->" + 
£lEnd
);

306 
	}
}

308 
public
 
	$smoÙhMoveCursÜ
(
fš®
 
¡¬tIndex
, fš® 
’dIndex
, ... 
¬g0D–ay__¬g1Du¿tiÚ
) {

309 
fš®
 
d–ay
 = 
M©h
.
	`max
(1, 
¬g0D–ay__¬g1Du¿tiÚ
 !ğ
nuÎ
 &&‡rg0D–ay__¬g1Du¿tiÚ.
Ëngth
 > 0 ?‡rg0Delay__arg1Duration[0] : 500);

310 
fš®
 
du¿tiÚ
 = 
M©h
.
	`max
(1, 
¬g0D–ay__¬g1Du¿tiÚ
 !ğ
nuÎ
 &&‡rg0D–ay__¬g1Du¿tiÚ.
Ëngth
 > 1 ?‡rg0Delay__arg1Duration[1] : 400);

312 
	`po¡D–ayed
(() -> {

313 ià(!
	`hasFocus
()) {

314 
	`»que¡Focus
();

317 
ObjeùAnim©Ü
 
ªim
 = ObjeùAnim©Ü.
	`ofIÁ
(
this
, "£ËùiÚ", 
¡¬tIndex
, 
’dIndex
);

318 
ªim
.
	`£tDu¿tiÚ
(
du¿tiÚ
);

319 
ªim
.
	`¡¬t
();

320 }, 
d–ay
);

321 
	}
}

323 
public
 
	$smoÙhMoveCursÜToLše
(
fš®
 
lšeNumb”
, ... 
¬g0D–ay__¬g1Du¿tiÚ
) {

324 
fš®
 
d–ay
 = 
M©h
.
	`max
(1, 
¬g0D–ay__¬g1Du¿tiÚ
 !ğ
nuÎ
 &&‡rg0D–ay__¬g1Du¿tiÚ.
Ëngth
 > 0 ?‡rg0Delay__arg1Duration[0] : 500);

325 
fš®
 
du¿tiÚ
 = 
M©h
.
	`max
(1, 
¬g0D–ay__¬g1Du¿tiÚ
 !ğ
nuÎ
 &&‡rg0D–ay__¬g1Du¿tiÚ.
Ëngth
 > 1 ?‡rg0Delay__arg1Duration[1] : 400);

327 
this
.
	`po¡D–ayed
(() -> {

328 
SŒšg
 
‹xt
 = 
	`g‘Text
().
	`toSŒšg
();

329 
šdex
 = 
SŒšgUts
.
	`g‘IndexFromLšeOff£t
(
‹xt
, 
lšeNumb”
, 0);

330 ià(
šdex
 < 0) {

334 
	`smoÙhMoveCursÜ
(0, 
šdex
, 1, 
du¿tiÚ
);

335 }, 
d–ay
);

336 
	}
}

338 
public
 
	$£tAcûssib™yEÇbËd
(
fš®
 
boŞ—n
 
’abËd
) {

339 
_acûssib™yEÇbËd
 = 
’abËd
;

340 
	}
}

342 
public
 
boŞ—n
 
	$g‘Acûssib™yEÇbËd
() {

343  
_acûssib™yEÇbËd
;

344 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/hleditor/ReplacePatternGeneratorHelper.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
;

12 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

16 
public
 cÏs 
	cR•ÏûP©‹ºG’”©ÜH–³r
 {

24 
public
 
	mLi¡
<
	mTextAùiÚs
.
	mR•ÏûP©‹º
> 
	$»¶aûW™hT¬g‘P©‹ºOrAÉ”Çtive
(

25 
fš®
 
P©‹º
[] 
»¶aûabËP©‹ºs
,

26 
fš®
 
P©‹º
 
rg‘P©‹º
, fš® 
SŒšg
 
rg‘R•Ïûm’t
,

27 
fš®
 
SŒšg
 
®‹º©iveR•Ïûm’t


29 
fš®
 
Li¡
<
TextAùiÚs
.
R•ÏûP©‹º
> 
»¶aûP©‹ºs
 = 
Ãw
 
A¼ayLi¡
<>();

30 
fš®
 
P©‹º
 
»¶aûabËP©‹º
 : 
»¶aûabËP©‹ºs
) {

31 
fš®
 
SŒšg
 
»¶aûm’t
;

32 ià(!
»¶aûabËP©‹º
.
	`equ®s
(
rg‘P©‹º
)) {

33 
»¶aûm’t
 = 
rg‘R•Ïûm’t
;

35 
»¶aûm’t
 = 
®‹º©iveR•Ïûm’t
;

37 
»¶aûP©‹ºs
.
	`add
(
Ãw
 
TextAùiÚs
.
	`R•ÏûP©‹º
(
»¶aûabËP©‹º
, 
»¶aûm’t
));

39  
»¶aûP©‹ºs
;

48 
public
 
Li¡
<
TextAùiÚs
.
R•ÏûP©‹º
> 
	$»¶aûW™hT¬g‘P»fixOrRemove
(
fš®
 
P©‹º
[] 
»¶aûabËP»fixP©‹ºs
, fš® P©‹º 
rg‘P»fixP©‹º
, fš® 
SŒšg
 
rg‘P»fixR•Ïûm’t
) {

49 
SŒšg
 
»moveP»fixR•Ïûm’t
 = "$1";

50  
	`»¶aûW™hT¬g‘P©‹ºOrAÉ”Çtive
(
»¶aûabËP»fixP©‹ºs
,

51 
rg‘P»fixP©‹º
, 
rg‘P»fixR•Ïûm’t
, 
»moveP»fixR•Ïûm’t
);

52 
	}
}

	@app/src/main/java/net/gsantner/markor/ui/hleditor/SpanCreator.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gP¬ûÏbËS·n
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gM‘ricAfãùšgS·n
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gP¬ag¿phStyË
;

16 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

18 
public
 
š‹rçû
 
	gS·nC»©Ü
 {

19 
Objeù
 
ü—‹
(
M©ch”
 
m©ch”
, 
iM
);

21 
š‹rçû
 
	gP¬ag¿phStyËC»©Ü
 {

22 
P¬ag¿phStyË
 
ü—‹
(
M©ch”
 
m©ch”
, 
iM
);

25 
š‹rçû
 
	gP¬ûÏbËS·nC»©Ü
 {

26 
P¬ûÏbËS·n
 
ü—‹
(
M©ch”
 
m©ch”
, 
iM
);

29 
š‹rçû
 
	gM‘ricAfãùšgS·nC»©Ü
 {

30 
M‘ricAfãùšgS·n
 
ü—‹
(
M©ch”
 
m©ch”
, 
iM
);

	@app/src/main/java/net/gsantner/markor/ui/hleditor/TextActions.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gD¿wabËRes
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞtCom·t
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

21 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

24 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

25 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gHÜizÚlSüŞlV›w
;

26 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gCommÚTextAùiÚs
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gg’”®
.
	gD©‘imeFÜm©DŸlog
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

32 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gA‰achImageOrLškDŸlog
;

33 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAùiv™yUts
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSŒšgUts
;

38 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

39 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

40 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

41 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

42 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

43 
impÜt
 
	gjava
.
	gut
.
	gLškedHashS‘
;

44 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

45 
impÜt
 
	gjava
.
	gut
.
	gM­
;

46 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

47 
impÜt
 
	gjava
.
	gut
.
	gT»eS‘
;

48 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

49 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

52 @
Suµ»ssW¬nšgs
({"WeakerAccess", "UnusedReturnValue"})

53 
public
 
ab¡¿ù
 cÏs 
	cTextAùiÚs
 {

54 
´Ùeùed
 
HighlightšgEd™Ü
 
	m_hlEd™Ü
;

55 
´Ùeùed
 
Docum’t
 
	m_docum’t
;

56 
´Ùeùed
 
Aùiv™y
 
	m_aùiv™y
;

57 
´Ùeùed
 
CÚ‹xt
 
	m_cÚ‹xt
;

58 
´Ùeùed
 
AµS‘tšgs
 
	m_­pS‘tšgs
;

59 
´Ùeùed
 
Aùiv™yUts
 
	m_au
;

60 
´iv©e
 
	m_‹xtAùiÚSidePaddšg
;

61 
´Ùeùed
 
	m_šd’t
;

63 
public
 
fš®
 
SŒšg
 
	mACTION_ORDER_PREF_NAME
 = "action_order";

64 
´iv©e
 
fš®
 
SŒšg
 
	mORDER_SUFFIX
 = "_order";

65 
´iv©e
 
fš®
 
SŒšg
 
	mDISABLED_SUFFIX
 = "_disabled";

67 
public
 
	$TextAùiÚs
(
Aùiv™y
 
aùiv™y
, 
Docum’t
 
docum’t
) {

68 
_docum’t
 = 
docum’t
;

69 
_aùiv™y
 = 
aùiv™y
;

70 
_au
 = 
Ãw
 
	`Aùiv™yUts
(
aùiv™y
);

71 
_cÚ‹xt
 = 
aùiv™y
 !ğ
nuÎ
 ?‡ùiv™y : 
_hlEd™Ü
.
	`g‘CÚ‹xt
();

72 
_­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
_cÚ‹xt
);

73 
_‹xtAùiÚSidePaddšg
 = (è(
_­pS‘tšgs
.
	`g‘Ed™ÜTextAùiÚI‹mPaddšg
(è* 
_cÚ‹xt
.
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
().
d’s™y
);

74 
_šd’t
 = 
_­pS‘tšgs
.
	`g‘Docum’tInd’tSize
(
	`g‘P©h
());

77 
public
 
SŒšg
 
	$g‘P©h
() {

78  
Docum’t
.
	`g‘P©h
(
_docum’t
);

79 
	}
}

84 
´Ùeùed
 
ab¡¿ù
 
şass
 
AùiÚC®lback
 
im¶em’ts
 
	gV›w
.
	gOnLÚgClickLi¡’”
, V›w.
	gOnClickLi¡’”
 {

93 
´Ùeùed
 
ab¡¿ù
 
AùiÚC®lback
 
g‘AùiÚC®lback
(@
SŒšgRes
 
keyId
);

101 @
SŒšgRes


102 
´Ùeùed
 
ab¡¿ù
 
g‘FÜm©AùiÚsKey
();

109 
´Ùeùed
 
ab¡¿ù
 
	gLi¡
<
	gAùiÚI‹m
> 
g‘AùiveAùiÚLi¡
();

116 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘Di§bËdAùiÚs
() {

117  
	`lßdAùiÚP»ã»nû
(
DISABLED_SUFFIX
);

118 
	}
}

125 
public
 
	gM­
<
	gSŒšg
, 
	gAùiÚI‹m
> 
	$g‘AùiveAùiÚM­
() {

126 
Li¡
<
AùiÚI‹m
> 
aùiÚLi¡
 = 
	`g‘AùiveAùiÚLi¡
();

127 
Li¡
<
SŒšg
> 
keyLi¡
 = 
	`g‘AùiveAùiÚKeys
();

129 
M­
<
SŒšg
, 
AùiÚI‹m
> 
m­
 = 
Ãw
 
HashM­
<String, ActionItem>();

131 
i
 = 0; i < 
aùiÚLi¡
.
	`size
(); i++) {

132 
m­
.
	`put
(
keyLi¡
.
	`g‘
(
i
), 
aùiÚLi¡
.get(i));

134  
m­
;

135 
	}
}

142 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘AùiveAùiÚKeys
() {

143 
Li¡
<
AùiÚI‹m
> 
aùiÚLi¡
 = 
	`g‘AùiveAùiÚLi¡
();

144 
A¼ayLi¡
<
SŒšg
> 
keys
 = 
Ãw
 ArrayList<String>();

146 
Resourûs
 
»s
 = 
_aùiv™y
.
	`g‘Resourûs
();

147 
AùiÚI‹m
 
™em
 : 
aùiÚLi¡
è
keys
.
	`add
(
»s
.
	`g‘SŒšg
(™em.
keyId
));

149  
keys
;

150 
	}
}

160 
public
 
§veDi§bËdAùiÚs
(
fš®
 
Li¡
<
SŒšg
> 
keys
) {

161 
§veAùiÚP»ã»nû
(
DISABLED_SUFFIX
, 
keys
);

172 
public
 
§veAùiÚOrd”
(
fš®
 
Li¡
<
SŒšg
> 
keys
) {

173 
§veAùiÚP»ã»nû
(
ORDER_SUFFIX
, 
keys
);

176 
´iv©e
 
§veAùiÚP»ã»nû
(
fš®
 
SŒšg
 
suffix
, 
Li¡
<SŒšg> 
v®ues
) {

178 
	gv®ues
 = 
Ãw
 
A¼ayLi¡
<>(
v®ues
);

179 
	gv®ues
.
»šAÎ
(
g‘AùiveAùiÚKeys
());

181 
Sh¬edP»ã»nûs
 
	g£‰šgs
 = 
_aùiv™y
.
g‘Sh¬edP»ã»nûs
(
ACTION_ORDER_PREF_NAME
, 
CÚ‹xt
.
MODE_PRIVATE
);

182 
SŒšg
 
	gfÜm©Key
 = 
_aùiv™y
.
g‘Resourûs
().
g‘SŒšg
(
g‘FÜm©AùiÚsKey
()è+ 
suffix
;

183 
	g£‰šgs
.
ed™
().
putSŒšg
(
fÜm©Key
, 
TextUts
.
još
(",", 
v®ues
)).
­¶y
();

186 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
	$lßdAùiÚP»ã»nû
(
fš®
 
SŒšg
 
suffix
) {

187 
SŒšg
 
fÜm©Key
 = 
_aùiv™y
.
	`g‘Resourûs
().
	`g‘SŒšg
(
	`g‘FÜm©AùiÚsKey
()è+ 
suffix
;

188 
Sh¬edP»ã»nûs
 
£‰šgs
 = 
_aùiv™y
.
	`g‘Sh¬edP»ã»nûs
(
ACTION_ORDER_PREF_NAME
, 
CÚ‹xt
.
MODE_PRIVATE
);

189 
SŒšg
 
combšedKeys
 = 
£‰šgs
.
	`g‘SŒšg
(
fÜm©Key
, 
nuÎ
);

190 
Li¡
<
SŒšg
> 
v®ues
 = 
CŞËùiÚs
.
	`em±yLi¡
();

191 ià(
combšedKeys
 !ğ
nuÎ
) {

192 
v®ues
 = 
Ãw
 
A¼ayLi¡
<
SŒšg
>(
A¼ays
.
	`asLi¡
(
combšedKeys
.
	`¥l™
(",")));

194  
v®ues
;

195 
	}
}

210 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘AùiÚOrd”
() {

212 
A¼ayLi¡
<
SŒšg
> 
defšedKeys
 = 
Ãw
 A¼ayLi¡<>(
	`g‘AùiveAùiÚKeys
());

213 
Li¡
<
SŒšg
> 
´efKeys
 = 
Ãw
 
A¼ayLi¡
<>(
	`lßdAùiÚP»ã»nû
(
ORDER_SUFFIX
));

216 ià(
´efKeys
.
	`size
() == 0) {

217 
´efKeys
 = 
Ãw
 
A¼ayLi¡
<>(
	`lßdAùiÚP»ã»nû
(""));

220 
S‘
<
SŒšg
> 
´efS‘
 = 
Ãw
 
LškedHashS‘
<>(
´efKeys
);

221 
S‘
<
SŒšg
> 
defS‘
 = 
Ãw
 
LškedHashS‘
<>(
defšedKeys
);

224 
defS‘
.
	`»moveAÎ
(
´efS‘
);

225 
´efKeys
.
	`addAÎ
(
defS‘
);

228 
´efS‘
.
	`»moveAÎ
(
defšedKeys
);

229 
´efKeys
.
	`»moveAÎ
(
´efS‘
);

231 ià(
defS‘
.
	`size
(è> 0 || 
´efS‘
.size() > 0) {

232 
	`§veAùiÚOrd”
(
´efKeys
);

235  
´efKeys
;

236 
	}
}

239 
public
 
	$­³ndTextAùiÚsToB¬
(
V›wGroup
 
b¬Layout
) {

240 ià(
b¬Layout
.
	`g‘ChdCouÁ
() == 0) {

241 
	`£tB¬VisibË
(
b¬Layout
, 
Œue
);

243 
fš®
 
M­
<
SŒšg
, 
AùiÚI‹m
> 
m­
 = 
	`g‘AùiveAùiÚM­
();

244 
fš®
 
Li¡
<
SŒšg
> 
Üd”edKeys
 = 
	`g‘AùiÚOrd”
();

245 
fš®
 
S‘
<
SŒšg
> 
di§bËdKeys
 = 
Ãw
 
HashS‘
<>(
	`g‘Di§bËdAùiÚs
());

246 
fš®
 
SŒšg
 
key
 : 
Üd”edKeys
) {

247 ià(!
di§bËdKeys
.
	`cÚšs
(
key
)) {

248 
fš®
 
AùiÚI‹m
 
aùiÚ
 = 
m­
.
	`g‘
(
key
);

249 
fš®
 
AùiÚC®lback
 
aùiÚC®lback
 = 
	`g‘AùiÚC®lback
(
aùiÚ
.
keyId
);

250 
	`­³ndTextAùiÚToB¬
(
b¬Layout
, 
aùiÚ
.
icÚId
,‡ùiÚ.
¡ršgId
, 
aùiÚC®lback
,‡ctionCallback);

254 
	}
}

256 
´Ùeùed
 
­³ndTextAùiÚToB¬
(
V›wGroup
 
b¬Layout
, @
D¿wabËRes
 
icÚRes
, @
SŒšgRes
 
descRes
, 
fš®
 
V›w
.
OnClickLi¡’”
 
li¡’”
, fš® V›w.
OnLÚgClickLi¡’”
 
lÚgClickLi¡’”
) {

257 
ImageV›w
 
	gbŠ
 = (ImageV›wè
_aùiv™y
.
g‘LayoutInæ©”
().
šæ©e
(
R
.
Ïyout
.
quick_keybßrd_bu‰Ú
, 
nuÎ
);

258 
	gbŠ
.
£tImageResourû
(
icÚRes
);

259 
	gbŠ
.
£tCÚ‹ÁDesütiÚ
(
_aùiv™y
.
g‘SŒšg
(
descRes
));

260 
	gToŞtCom·t
.
£tToŞtText
(
bŠ
, 
_aùiv™y
.
g‘SŒšg
(
descRes
));

261 
	gbŠ
.
£tOnClickLi¡’”
(
v
 -> {

262 
Œy
 {

263 
li¡’”
.
ÚClick
(
v
);

264 } 
ÿtch
 (
Exû±iÚ
 
ex
) {

265 
ex
.
´štSckT¿û
();

268 ià(
	glÚgClickLi¡’”
 !ğ
nuÎ
) {

269 
bŠ
.
£tOnLÚgClickLi¡’”
(
v
 -> {

270 
Œy
 {

271  
lÚgClickLi¡’”
.
ÚLÚgClick
(
v
);

272 } 
ÿtch
 (
Exû±iÚ
 
ex
) {

273 
ex
.
´štSckT¿û
();

275  
çl£
;

278 
	gbŠ
.
£tPaddšg
(
_‹xtAùiÚSidePaddšg
, 
bŠ
.
g‘PaddšgTİ
(), _‹xtAùiÚSidePaddšg, bŠ.
g‘PaddšgBÙtom
());

280 
boŞ—n
 
	gisD¬kTheme
 = 
AµS‘tšgs
.
g‘
().
isD¬kThemeEÇbËd
();

281 
	gbŠ
.
£tCŞÜF‹r
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
_cÚ‹xt
, 
isD¬kTheme
 ? 
ªdroid
.
R
.
cŞÜ
.
wh™e
 : R.cŞÜ.
g»y
));

282 
	gb¬Layout
.
addV›w
(
bŠ
);

285 
´Ùeùed
 
	$£tB¬VisibË
(
V›wGroup
 
b¬Layout
, 
boŞ—n
 
visibË
) {

286 ià(
b¬Layout
.
	`g‘Id
(è=ğ
R
.
id
.
docum’t__äagm’t__ed™__‹xt_aùiÚs_b¬
 && b¬Layout.
	`g‘P¬’t
(è
š¡ªûof
 
HÜizÚlSüŞlV›w
) {

287 ((
HÜizÚlSüŞlV›w
è
b¬Layout
.
	`g‘P¬’t
()).
	`£tVisib™y
(
visibË
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

289 
	}
}

291 
´Ùeùed
 
	$runReguÏrP»fixAùiÚ
(
SŒšg
 
aùiÚ
) {

292 
	`runReguÏrP»fixAùiÚ
(
aùiÚ
, 
nuÎ
, 
çl£
);

293 
	}
}

295 
´Ùeùed
 
	$runReguÏrP»fixAùiÚ
(
SŒšg
 
aùiÚ
, 
BoŞ—n
 
ignÜeInd’t
) {

296 
	`runReguÏrP»fixAùiÚ
(
aùiÚ
, 
nuÎ
, 
ignÜeInd’t
);

297 
	}
}

299 
´Ùeùed
 
	$runReguÏrP»fixAùiÚ
(
SŒšg
 
aùiÚ
, SŒšg 
»¶aûSŒšg
) {

300 
	`runReguÏrP»fixAùiÚ
(
aùiÚ
, 
»¶aûSŒšg
, 
çl£
);

301 
	}
}

303 
´Ùeùed
 
	$runReguÏrP»fixAùiÚ
(
fš®
 
SŒšg
 
aùiÚ
, fš® SŒšg 
»¶aûSŒšg
, fš® 
BoŞ—n
 
ignÜeInd’t
) {

305 
SŒšg
 
»¶aûm’t
 = (
»¶aûSŒšg
 =ğ
nuÎ
) ? "" :„eplaceString;

307 
SŒšg
 
·‰”nInd’t
 = 
ignÜeInd’t
 ? "(^\\s*)" : "(^)";

308 
SŒšg
 
»¶aûInd’t
 = "$1";

310 
SŒšg
 
esÿ³dAùiÚ
 = SŒšg.
	`fÜm©
("\\Q%s\\E", 
aùiÚ
);

311 
SŒšg
 
esÿ³dR•Ïû
 = SŒšg.
	`fÜm©
("(\\Q%s\\E)?", 
»¶aûm’t
);

313 
R•ÏûP©‹º
[] 
·‰”ns
 = {

315 
Ãw
 
	`R•ÏûP©‹º
(
·‰”nInd’t
 + 
esÿ³dAùiÚ
, 
»¶aûInd’t
 + 
»¶aûm’t
),

317 
Ãw
 
	`R•ÏûP©‹º
(
·‰”nInd’t
 + 
esÿ³dR•Ïû
, 
»¶aûInd’t
 + 
aùiÚ
),

320 
	`runRegexR•ÏûAùiÚ
(
A¼ays
.
	`asLi¡
(
·‰”ns
));

321 
	}
}

323 
public
 şas 
	cR•ÏûP©‹º
 {

324 
public
 
fš®
 
P©‹º
 
	g£¬chP©‹º
;

325 
public
 
fš®
 
SŒšg
 
	g»¶aûP©‹º
;

326 
public
 
fš®
 
boŞ—n
 
	g»¶aûAÎ
;

335 
public
 
R•ÏûP©‹º
(
P©‹º
 
£¬chP©‹º
, 
SŒšg
 
»¶aûP©‹º
, 
boŞ—n
 
»¶aûAÎ
) {

336 
	gthis
.
	g£¬chP©‹º
 = 
£¬chP©‹º
;

337 
	gthis
.
	g»¶aûP©‹º
 = 
»¶aûP©‹º
;

338 
	gthis
.
	g»¶aûAÎ
 = 
»¶aûAÎ
;

341 
public
 
R•ÏûP©‹º
(
SŒšg
 
£¬chP©‹º
, SŒšg 
»¶aûP©‹º
, 
boŞ—n
 
»¶aûAÎ
) {

342 
this
(
P©‹º
.
compe
(
£¬chP©‹º
), 
»¶aûP©‹º
, 
»¶aûAÎ
);

345 
public
 
R•ÏûP©‹º
(
P©‹º
 
£¬chP©‹º
, 
SŒšg
 
»¶aûP©‹º
) {

346 
this
(
£¬chP©‹º
, 
»¶aûP©‹º
, 
çl£
);

349 
public
 
R•ÏûP©‹º
(
SŒšg
 
£¬chP©‹º
, SŒšg 
»¶aûP©‹º
) {

350 
this
(
P©‹º
.
compe
(
£¬chP©‹º
), 
»¶aûP©‹º
, 
çl£
);

354 
public
 
	$runRegexR•ÏûAùiÚ
(
fš®
 
R•ÏûP©‹º
... 
·‰”ns
) {

355 
	`runRegexR•ÏûAùiÚ
(
A¼ays
.
	`asLi¡
(
·‰”ns
), 
çl£
);

356 
	}
}

358 
public
 
runRegexR•ÏûAùiÚ
(
fš®
 
Li¡
<
R•ÏûP©‹º
> 
·‰”ns
) {

359 
runRegexR•ÏûAùiÚ
(
·‰”ns
, 
çl£
);

362 
public
 
	$runRegexR•ÏûAùiÚ
(
fš®
 
SŒšg
 
·‰”n
, fš® SŒšg 
»¶aû
) {

363 
	`runRegexR•ÏûAùiÚ
(
A¼ays
.
	`asLi¡
(
Ãw
 
	`R•ÏûP©‹º
(
·‰”n
, 
»¶aû
)), 
çl£
);

364 
	}
}

366 
public
 
runRegexR•ÏûAùiÚ
(
fš®
 
Li¡
<
R•ÏûP©‹º
> 
·‰”ns
, fš® 
boŞ—n
 
m©chAÎ
) {

367 
runRegexR•ÏûAùiÚ
(
_hlEd™Ü
, 
·‰”ns
, 
m©chAÎ
);

370 
public
 
	$runRegexR•ÏûAùiÚ
(
fš®
 
Ed™Text
 
ed™Ü
, fš® 
R•ÏûP©‹º
... 
·‰”ns
) {

371 
	`runRegexR•ÏûAùiÚ
(
ed™Ü
, 
A¼ays
.
	`asLi¡
(
·‰”ns
), 
çl£
);

372 
	}
}

381 
public
 
runRegexR•ÏûAùiÚ
(
fš®
 
Ed™Text
 
ed™Ü
, fš® 
Li¡
<
R•ÏûP©‹º
> 
·‰”ns
, fš® 
boŞ—n
 
m©chAÎ
) {

382 
	gŒy
 {

383 ià(
ed™Ü
 
š¡ªûof
 
	gHighlightšgEd™Ü
) {

384 ((
	gHighlightšgEd™Ü
è
	ged™Ü
).
£tAcûssib™yEÇbËd
(
çl£
);

386 
_runRegexR•ÏûAùiÚ
(
ed™Ü
, 
·‰”ns
, 
m©chAÎ
);

387 } 
	gfš®ly
 {

388 ià(
ed™Ü
 
š¡ªûof
 
	gHighlightšgEd™Ü
) {

389 ((
	gHighlightšgEd™Ü
è
	ged™Ü
).
£tAcûssib™yEÇbËd
(
Œue
);

394 
´iv©e
 
_runRegexR•ÏûAùiÚ
(
fš®
 
Ed™Text
 
ed™Ü
, fš® 
Li¡
<
R•ÏûP©‹º
> 
·‰”ns
, fš® 
boŞ—n
 
m©chAÎ
) {

396 
fš®
 
Ed™abË
 
	g‹xt
 = 
ed™Ü
.
g‘Text
();

397 
fš®
 [] 
	g£ËùiÚ
 = 
SŒšgUts
.
g‘S–eùiÚ
(
ed™Ü
);

398 
fš®
 [] 
	glS¹
 = 
SŒšgUts
.
g‘LšeOff£tFromIndex
(
‹xt
, 
£ËùiÚ
[0]);

399 
fš®
 [] 
	glEnd
 = 
SŒšgUts
.
g‘LšeOff£tFromIndex
(
‹xt
, 
£ËùiÚ
[1]);

401 
	glšeS¹
 = 
SŒšgUts
.
g‘LšeS¹
(
‹xt
, 
£ËùiÚ
[0]);

402 
	g£lEnd
 = 
SŒšgUts
.
g‘LšeEnd
(
‹xt
, 
£ËùiÚ
[1]);

404 
	glšeS¹
 <ğ
£lEnd
 && 
lšeS¹
 <ğ
‹xt
.
Ëngth
()) {

406 
fš®
 
lšeEnd
 = 
SŒšgUts
.
g‘LšeEnd
(
‹xt
, 
lšeS¹
, 
£lEnd
);

407 
fš®
 
Ch¬Sequ’û
 
	glše
 = 
‹xt
.
subSequ’û
(
lšeS¹
, 
lšeEnd
);

409 
fš®
 
R•ÏûP©‹º
 
	g·‰”n
 : 
·‰”ns
) {

411 
fš®
 
M©ch”
 
£¬ch”
 = 
·‰”n
.
£¬chP©‹º
.
m©ch”
(
lše
);

414 
	gm©chS¹
 = 
lše
.
Ëngth
();

415 
	gm©chEnd
 = -1;

416 
	g£¬ch”
.
fšd
()) {

417 
	gm©chS¹
 = 
M©h
.
mš
(
m©chS¹
, 
£¬ch”
.
¡¬t
());

418 
	gm©chEnd
 = 
M©h
.
max
(
m©chEnd
, 
£¬ch”
.
’d
());

420 ià(!
	g·‰”n
.
	g»¶aûAÎ
) ;

423 ià(
	gm©chEnd
 >ğ
m©chS¹
) {

424 ià(!
·‰”n
.
»¶aûP©‹º
.
equ®s
("$0")) {

425 
fš®
 
Ch¬Sequ’û
 
ŞdRegiÚ
 = 
lše
.
subSequ’û
(
m©chS¹
, 
m©chEnd
);

427 
fš®
 
M©ch”
 
	g»¶aûr
 = 
·‰”n
.
£¬chP©‹º
.
m©ch”
(
ŞdRegiÚ
);

428 
fš®
 
SŒšg
 
	gÃwRegiÚ
 = 
·‰”n
.
»¶aûAÎ
 ? 
»¶aûr
.»¶aûAÎÕ©‹º.
»¶aûP©‹º
è:„•Ïûr.
»¶aûFœ¡
(pattern.replacePattern);

429 
	g‹xt
.
»¶aû
(
m©chS¹
 + 
lšeS¹
, 
m©chEnd
 +†šeS¹, 
ÃwRegiÚ
);

431 
	g£lEnd
 +ğ
ÃwRegiÚ
.
Ëngth
(è- 
ŞdRegiÚ
.length();

434 ià(!
	gm©chAÎ
) ;

438 
	glšeS¹
 = 
SŒšgUts
.
g‘LšeEnd
(
‹xt
, 
lšeS¹
, 
£lEnd
) + 1;

441 
	ged™Ü
.
£tS–eùiÚ
(

442 
SŒšgUts
.
g‘IndexFromLšeOff£t
(
‹xt
, 
lS¹
),

443 
SŒšgUts
.
g‘IndexFromLšeOff£t
(
‹xt
, 
lEnd
));

446 
´Ùeùed
 
	$runIÆšeAùiÚ
(
SŒšg
 
_aùiÚ
) {

447 ià(
_hlEd™Ü
.
	`g‘Text
(è=ğ
nuÎ
) {

450 ià(
_hlEd™Ü
.
	`hasS–eùiÚ
()) {

451 
SŒšg
 
‹xt
 = 
_hlEd™Ü
.
	`g‘Text
().
	`toSŒšg
();

452 
£ËùiÚS¹
 = 
_hlEd™Ü
.
	`g‘S–eùiÚS¹
();

453 
£ËùiÚEnd
 = 
_hlEd™Ü
.
	`g‘S–eùiÚEnd
();

456 ià(
£ËùiÚEnd
 < 
‹xt
.
	`Ëngth
(è&& 
£ËùiÚS¹
 >ğ0 && (‹xt.
	`sub¡ršg
(selectionStart, selectionEnd)

457 .
	`m©ches
("(\\*\\*|~~|_|`)[a-zA-Z0-9\\s]*(\\*\\*|~~|_|`)"))) {

459 
‹xt
 =ext.
	`sub¡ršg
(
£ËùiÚS¹
 + 
_aùiÚ
.
	`Ëngth
(),

460 
£ËùiÚEnd
 - 
_aùiÚ
.
	`Ëngth
());

461 
_hlEd™Ü
.
	`g‘Text
()

462 .
	`»¶aû
(
£ËùiÚS¹
, 
£ËùiÚEnd
, 
‹xt
);

466 ià(((
£ËùiÚEnd
 <ğ(
_hlEd™Ü
.
	`Ëngth
(è- 
_aùiÚ
.length())) &&

467 (
£ËùiÚS¹
 >ğ
_aùiÚ
.
	`Ëngth
())) &&

468 (
‹xt
.
	`sub¡ršg
(
£ËùiÚS¹
 - 
_aùiÚ
.
	`Ëngth
(),

469 
£ËùiÚEnd
 + 
_aùiÚ
.
	`Ëngth
())

470 .
	`m©ches
("(\\*\\*|~~|_|`)[a-zA-Z0-9\\s]*(\\*\\*|~~|_|`)"))) {

472 
‹xt
 =ext.
	`sub¡ršg
(
£ËùiÚS¹
, 
£ËùiÚEnd
);

473 
_hlEd™Ü
.
	`g‘Text
()

474 .
	`»¶aû
(
£ËùiÚS¹
 - 
_aùiÚ
.
	`Ëngth
(),

475 
£ËùiÚEnd
 + 
_aùiÚ
.
	`Ëngth
(), 
‹xt
);

480 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(
£ËùiÚS¹
, 
_aùiÚ
);

481 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(_hlEd™Ü.
	`g‘S–eùiÚEnd
(), 
_aùiÚ
);

488 ià("----\n".
	`equ®s
(
_aùiÚ
)) {

489 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(_hlEd™Ü.
	`g‘S–eùiÚS¹
(), 
_aùiÚ
);

492 
_hlEd™Ü
.
	`g‘Text
().
	`š£¹
(_hlEd™Ü.
	`g‘S–eùiÚS¹
(), 
_aùiÚ
)

493 .
	`š£¹
(
_hlEd™Ü
.
	`g‘S–eùiÚEnd
(), 
_aùiÚ
);

494 
_hlEd™Ü
.
	`£tS–eùiÚ
(_hlEd™Ü.
	`g‘S–eùiÚS¹
(è- 
_aùiÚ
.
	`Ëngth
());

497 
	}
}

503 
public
 
HighlightšgEd™Ü
 
	$g‘HighlightšgEd™Ü
() {

504  
_hlEd™Ü
;

505 
	}
}

507 
public
 
TextAùiÚs
 
	$£tHighlightšgEd™Ü
(
HighlightšgEd™Ü
 
hlEd™Ü
) {

508 
_hlEd™Ü
 = 
hlEd™Ü
;

509  
this
;

510 
	}
}

512 
public
 
Docum’t
 
	$g‘Docum’t
() {

513  
_docum’t
;

514 
	}
}

516 
public
 
TextAùiÚs
 
	$£tDocum’t
(
Docum’t
 
docum’t
) {

517 
_docum’t
 = 
docum’t
;

518  
this
;

519 
	}
}

521 
public
 
Aùiv™y
 
	$g‘Aùiv™y
() {

522  
_aùiv™y
;

523 
	}
}

525 
public
 
TextAùiÚs
 
	$£tAùiv™y
(
Aùiv™y
 
aùiv™y
) {

526 
_aùiv™y
 = 
aùiv™y
;

527  
this
;

528 
	}
}

530 
public
 
CÚ‹xt
 
	$g‘CÚ‹xt
() {

531  
_cÚ‹xt
;

532 
	}
}

534 
public
 
TextAùiÚs
 
	$£tCÚ‹xt
(
CÚ‹xt
 
cÚ‹xt
) {

535 
_cÚ‹xt
 = 
cÚ‹xt
;

536  
this
;

537 
	}
}

542 
public
 
	$£tEd™ÜTextAsync
(
fš®
 
SŒšg
 
‹xt
) {

543 
_aùiv™y
.
	`runOnUiTh»ad
((è-> 
_hlEd™Ü
.
	`£tText
(
‹xt
));

544 
	}
}

546 
´Ùeùed
 
	$runInd’tLšes
(
fš®
 
boŞ—n
 
deInd’t
) {

547 ià(
deInd’t
) {

548 
fš®
 
SŒšg
 
ËadšgInd’tP©‹º
 = SŒšg.
	`fÜm©
("^\\s{1,%d}", 
_šd’t
);

549 
TextAùiÚs
.
	`runRegexR•ÏûAùiÚ
(
_hlEd™Ü
, 
Ãw
 TextAùiÚs.
	`R•ÏûP©‹º
(
ËadšgInd’tP©‹º
, ""));

551 
fš®
 
SŒšg
 
bSŒšg
 = 
SŒšgUts
.
	`»³©Ch¬s
(' ', 
_šd’t
);

552 
TextAùiÚs
.
	`runRegexR•ÏûAùiÚ
(
_hlEd™Ü
, 
Ãw
 TextAùiÚs.
	`R•ÏûP©‹º
("^", 
bSŒšg
));

554 
	}
}

556 
´Ùeùed
 
boŞ—n
 
	$runCommÚTextAùiÚ
(
SŒšg
 
aùiÚ
) {

557 
aùiÚ
) {

559 
	`runReguÏrP»fixAùiÚ
(
_­pS‘tšgs
.
	`g‘UnÜd”edLi¡Ch¬aù”
(è+ " ", 
Œue
);

560  
Œue
;

563 
	`runReguÏrP»fixAùiÚ
("- [ ] ", "- [x] ", 
Œue
);

564  
Œue
;

567 
	`runReguÏrP»fixAùiÚ
("1. ", 
Œue
);

568  
Œue
;

571 
D©‘imeFÜm©DŸlog
.
	`showD©‘imeFÜm©DŸlog
(
	`g‘Aùiv™y
(), 
_hlEd™Ü
);

572  
Œue
;

576 
Œy
 {

577 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
(
D©‘imeFÜm©DŸlog
.
	`g‘Mo¡ReûÁD©e
(
_aùiv™y
));

578 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

580  
Œue
;

583 
_hlEd™Ü
.
	`š£¹OrR•ÏûTextOnCursÜ
("<d‘a m¬kdown='1'><summ¬y>" + 
_cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
ex·nd_cŞÏp£
è+ "</summ¬y>\n" + 
HighlightšgEd™Ü
.
PLACE_CURSOR_HERE_TOKEN
 + "\n\n</details>");

584  
Œue
;

587 
S—rchOrCu¡omTextDŸlogC»©Ü
.
	`showA‰achSom‘hšgDŸlog
(
_aùiv™y
, 
™emId
 -> {

588 
™emId
) {

589 
R
.
id
.
aùiÚ_©ch_cŞÜ
: {

590 
Ãw
 
	`CommÚTextAùiÚs
(
	`g‘Aùiv™y
(), 
_hlEd™Ü
).
	`runAùiÚ
(
CommÚTextAùiÚs
.
ACTION_COLOR_PICKER
);

593 
R
.
id
.
aùiÚ_©ch_d©e
: {

594 
D©‘imeFÜm©DŸlog
.
	`showD©‘imeFÜm©DŸlog
(
	`g‘Aùiv™y
(), 
_hlEd™Ü
);

597 
R
.
id
.
aùiÚ_©ch_audio
:

598 
R
.
id
.
aùiÚ_©ch_fe
:

599 
R
.
id
.
aùiÚ_©ch_image
:

600 
R
.
id
.
aùiÚ_©ch_lšk
: {

601 
aùiÚId
 = (
™emId
 =ğ
R
.
id
.
aùiÚ_©ch_audio
 ? 4 : (™emId =ğR.id.
aùiÚ_©ch_image
 ? 2 : 3));

602 
A‰achImageOrLškDŸlog
.
	`showIn£¹ImageOrLškDŸlog
(
aùiÚId
, 
_docum’t
.
	`g‘FÜm©
(), 
	`g‘Aùiv™y
(), 
_hlEd™Ü
, _docum’t.
	`g‘Fe
());

607  
Œue
;

610  
Ãw
 
	`CommÚTextAùiÚs
(
_aùiv™y
, 
_hlEd™Ü
).
	`runAùiÚ
(
aùiÚ
);

613 
	}
}

615 
public
 
boŞ—n
 
	$runAùiÚ
(
fš®
 
SŒšg
 
aùiÚ
) {

616  
	`runAùiÚ
(
aùiÚ
, 
çl£
, 
nuÎ
);

617 
	}
}

619 
public
 
ab¡¿ù
 
boŞ—n
 
runAùiÚ
(
fš®
 
SŒšg
 
aùiÚ
, boŞ—À
modLÚgClick
, SŒšg 
ªÙh”Arg
);

621 
public
 şas 
	cAùiÚI‹m
 {

622 @
SŒšgRes


623 
public
 
	gkeyId
;

624 @
D¿wabËRes


625 
public
 
	gicÚId
;

626 @
SŒšgRes


627 
public
 
	g¡ršgId
;

629 
public
 
AùiÚI‹m
(@
SŒšgRes
 
key
, @
D¿wabËRes
 
icÚ
, @SŒšgRe 
¡ršg
) {

630 
	gkeyId
 = 
key
;

631 
	gicÚId
 = 
icÚ
;

632 
	g¡ršgId
 = 
¡ršg
;

635 
public
 
AùiÚI‹m
([] 
d©a
) {

636 
	gkeyId
 = 
d©a
[0];

637 
	gicÚId
 = 
d©a
[1];

638 
	g¡ršgId
 = 
d©a
[2];

650 
public
 
£ËùLšes
(
fš®
 
Li¡
<
IÁeg”
> 
pos™iÚs
) {

651 ià(!
	g_hlEd™Ü
.
hasFocus
()) {

652 
	g_hlEd™Ü
.
»que¡Focus
();

654 
fš®
 
Ch¬Sequ’û
 
	g‹xt
 = 
_hlEd™Ü
.
g‘Text
();

655 ià(
	gpos™iÚs
.
size
() == 1) {

656 
_hlEd™Ü
.
£tS–eùiÚ
(
SŒšgUts
.
g‘IndexFromLšeOff£t
(
‹xt
, 
pos™iÚs
.
g‘
(0), 0));

657 } ià(
	gpos™iÚs
.
size
() > 1) {

658 
fš®
 
	gT»eS‘
<
	gIÁeg”
> 
	gpS‘
 = 
Ãw
 
T»eS‘
<>(
pos™iÚs
);

659 
fš®
 
	g£lS¹
, 
	g£lEnd
;

660 
fš®
 
	gmšLše
 = 
CŞËùiÚs
.
mš
(
pS‘
), 
	gmaxLše
 = CŞËùiÚs.
max
(pSet);

661 ià(
	gmaxLše
 - 
	gmšLše
 =ğ
pS‘
.
size
() - 1) {

662 
£lS¹
 = 
SŒšgUts
.
g‘LšeS¹
(
‹xt
, SŒšgUts.
g‘IndexFromLšeOff£t
Ñext, 
mšLše
, 0));

663 
	g£lEnd
 = 
SŒšgUts
.
g‘IndexFromLšeOff£t
(
‹xt
, 
maxLše
, 0);

665 
fš®
 
	gSŒšg
[] 
	glšes
 = 
‹xt
.
toSŒšg
().
¥l™
("\n");

666 
fš®
 
	gLi¡
<
	gSŒšg
> 
	g£l
 = 
Ãw
 
A¼ayLi¡
<>(), 
	gun£l
 =‚ew ArrayList<>();

667 
	gi
 = 0; i < 
	glšes
.
	gËngth
; i++) {

668 (
	gpS‘
.
cÚšs
(
i
è? 
	g£l
 : 
un£l
).
add
(
lšes
[i]);

670 
	g£l
.
addAÎ
(
un£l
);

671 
fš®
 
SŒšg
 
	gÃwText
 = 
TextUts
.
još
("\n", 
£l
);

672 
	g_hlEd™Ü
.
£tText
(
ÃwText
);

673 
	g£lS¹
 = 0;

674 
	g£lEnd
 = 
SŒšgUts
.
g‘IndexFromLšeOff£t
(
ÃwText
, 
pos™iÚs
.
size
() - 1, 0);

676 
	g_hlEd™Ü
.
£tS–eùiÚ
(
£lS¹
, 
£lEnd
);

	@app/src/main/java/net/gsantner/markor/util/ActivityUtils.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gİ’ed™Ü
.
	gO³nEd™ÜQuickNÙeAùiv™y
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gİ’ed™Ü
.
	gO³nEd™ÜTodoAùiv™y
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gİ’ed™Ü
.
	gO³nSh¬eIÁoAùiv™y
;

18 
public
 
şass
 
Aùiv™yUts
 
ex‹nds
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
 {

20 
public
 
Aùiv™yUts
(
Aùiv™y
 
aùiv™y
) {

21 
su³r
(
aùiv™y
);

24 
public
 
­¶yS³cŸlLaunch”sVisib™y
(
boŞ—n
 
exŒaLaunch”sEÇbËd
) {

25 
£tLaunch”Aùiv™yEÇbËd
(
O³nEd™ÜQuickNÙeAùiv™y
.
şass
, 
exŒaLaunch”sEÇbËd
);

26 
£tLaunch”Aùiv™yEÇbËd
(
O³nEd™ÜTodoAùiv™y
.
şass
, 
exŒaLaunch”sEÇbËd
);

27 
£tLaunch”Aùiv™yEÇbËd
(
O³nSh¬eIÁoAùiv™y
.
şass
, 
exŒaLaunch”sEÇbËd
);

	@app/src/main/java/net/gsantner/markor/util/AppCast.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’tF‹r
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gLoÿlBrßdÿ¡Mªag”
;

20 
public
 cÏs 
	cAµCa¡
 {

24 
´iv©e
 
	$£ndBrßdÿ¡
(
CÚ‹xt
 
c
, 
IÁ’t
 
i
) {

25 ià(
c
 !ğ
nuÎ
) {

26 
LoÿlBrßdÿ¡Mªag”
.
	`g‘In¡ªû
(
c
).
	`£ndBrßdÿ¡
(
i
);

33 
´iv©e
 şas 
	cP©hExŒa
 {

34 
public
 
fš®
 
SŒšg
 
EXTRA_PATH
 = "EXTRA_PATH";

36 @
	`Suµ»ssW¬nšgs
("WeakerAccess")

37 
public
 
IÁ’t
 
	`g‘IÁ’tW™hP©hExŒa
(
SŒšg
 
aùiÚ
, SŒšg 
·th
) {

38 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
aùiÚ
);

39 
š‹Á
.
	`putExŒa
(
EXTRA_PATH
, 
·th
);

40  
š‹Á
;

42 
	}
}

47 
public
 
IÁ’tF‹r
 
	$g‘LoÿlBrßdÿ¡F‹r
() {

48 
IÁ’tF‹r
 
š‹ÁF‹r
 = 
Ãw
 
	`IÁ’tF‹r
();

49 
SŒšg
[] 
BROADCAST_ACTIONS
 = {

50 
CREATE_FOLDER
.
ACTION


52 
SŒšg
 
aùiÚ
 : 
BROADCAST_ACTIONS
) {

53 
š‹ÁF‹r
.
	`addAùiÚ
(
aùiÚ
);

55  
š‹ÁF‹r
;

56 
	}
}

62 
public
 şas 
	cCREATE_FOLDER
 
ex‹nds
 
	gP©hExŒa
 {

63 
public
 
fš®
 
SŒšg
 
	gACTION
 = "CREATE_FOLDER";

65 
public
 
£nd
(
CÚ‹xt
 
c
, 
SŒšg
 
·th
) {

66 
£ndBrßdÿ¡
(
c
, 
g‘IÁ’tW™hP©hExŒa
(
ACTION
, 
·th
));

	@app/src/main/java/net/gsantner/markor/util/AppSettings.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

14 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

16 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜRes
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gIdRes
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

20 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

21 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gut
.
	gPaœ
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gAµ
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gBudCÚfig
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”Ad­‹r
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”F¿gm’t
;

31 
impÜt
 
	gjava
.
	gio
.
	gFe
;

32 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

33 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

34 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

35 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

36 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

37 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

39 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gPasswÜdStÜe
;

41 @
Suµ»ssW¬nšgs
({"SameParameterValue", "WeakerAccess", "FieldCanBeLocal"})

42 
public
 cÏs 
	cAµS‘tšgs
 
ex‹nds
 
	mSh¬edP»ã»nûsPrİ”tyBack’d
 {

43 
´iv©e
 
fš®
 
Sh¬edP»ã»nûs
 
	m_´efCache
;

44 
´iv©e
 
fš®
 
Sh¬edP»ã»nûs
 
	m_´efHi¡Üy
;

45 
public
 
BoŞ—n
 
	m_isDeviûGoodH¬dw¬e
 = 
nuÎ
;

46 
´iv©e
 
fš®
 
CÚ‹xtUts
 
	m_cÚ‹xtUts
;

48 
´iv©e
 
fš®
 
Fe
 
	mLOCAL_TESTFOLDER_FILEPATH
 = 
Ãw
 File("/storage/emulated/0/00_sync/documents/special");

50 
public
 
	$AµS‘tšgs
(
CÚ‹xt
 
_cÚ‹xt
) {

51 
	`su³r
(
_cÚ‹xt
);

52 
_´efCache
 = 
_cÚ‹xt
.
	`g‘Sh¬edP»ã»nûs
("ÿche", 
CÚ‹xt
.
MODE_PRIVATE
);

53 
_´efHi¡Üy
 = 
_cÚ‹xt
.
	`g‘Sh¬edP»ã»nûs
("hi¡Üy", 
CÚ‹xt
.
MODE_PRIVATE
);

54 
_cÚ‹xtUts
 = 
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
);

55 ià(
_isDeviûGoodH¬dw¬e
 =ğ
nuÎ
) {

56 
_isDeviûGoodH¬dw¬e
 = 
_cÚ‹xtUts
.
	`isDeviûGoodH¬dw¬e
();

60 
public
 
AµS‘tšgs
 
	$g‘
() {

61  
Ãw
 
	`AµS‘tšgs
(
Aµ
.
	`g‘
());

62 
	}
}

65 
public
 
	$£tD¬kThemeEÇbËd
(
boŞ—n
 
’abËd
) {

66 
	`£tSŒšg
(
R
.
¡ršg
.
´ef_key__­p_theme
, 
’abËd
 ? "dark" : "light");

67 
	}
}

69 
public
 
boŞ—n
 
	$isD¬kThemeEÇbËd
() {

70 
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__­p_theme
, "light")) {

72  
çl£
;

75  
Œue
;

79  !
	`isCu¼’tHourOfDayB‘w“n
(9, 17);

82 
	}
}

84 
public
 
	$g‘BackgroundCŞÜ
() {

85  
	`isD¬kThemeEÇbËd
(è? 
	`rcŞÜ
(
R
.
cŞÜ
.
d¬k__background
è:„cŞÜ(R.cŞÜ.
light__background
);

86 
	}
}

88 
public
 
boŞ—n
 
	$isLßdLa¡DœeùÜyAtS¹up
() {

89  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__lßd_Ï¡_dœeùÜy_©_¡¬tup
, 
çl£
);

90 
	}
}

92 
public
 
boŞ—n
 
	$isP»v›wFœ¡
() {

93  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_´ev›w_fœ¡
, 
çl£
);

94 
	}
}

96 
public
 
	$£tSaveDœeùÜy
(
SŒšg
 
v®ue
) {

97 
	`£tSŒšg
(
R
.
¡ršg
.
´ef_key__nÙebook_dœeùÜy
, 
v®ue
);

98 
	}
}

101 
public
 
Fe
 
	$g‘NÙebookDœeùÜy
() {

102  
Ãw
 
	`Fe
(
	`g‘NÙebookDœeùÜyAsSŒ
());

103 
	}
}

105 
public
 
SŒšg
 
	$g‘NÙebookDœeùÜyAsSŒ
() {

106 
SŒšg
 
dœ
 = 
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__nÙebook_dœeùÜy
, "");

107 ià(
dœ
.
	`isEm±y
(è&& 
LOCAL_TESTFOLDER_FILEPATH
.
	`exi¡s
(è&& !
BudCÚfig
.
IS_TEST_BUILD
) {

108 
dœ
 = 
LOCAL_TESTFOLDER_FILEPATH
.
	`g‘P¬’tFe
().
	`g‘P¬’t
();

109 
	`£tSaveDœeùÜy
(
dœ
);

111 ià(
dœ
.
	`isEm±y
()) {

112 
dœ
 = 
Ãw
 
	`Fe
Òew Fe(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
(), "/Documents")

113 , 
	`r¡r
(
R
.
¡ršg
.
­p_Çme
).
	`toLow”Ca£
(
LoÿË
.
ROOT
))

114 .
	`g‘AbsŞu‹P©h
();

115 
	`£tSaveDœeùÜy
(
dœ
);

117  
dœ
;

118 
	}
}

120 
public
 
Fe
 
	$g‘QuickNÙeFe
() {

121 
SŒšg
 
deçuÉV®ue
 = 
Ãw
 
	`Fe
(
	`g‘NÙebookDœeùÜyAsSŒ
(), 
	`r¡r
(
R
.
¡ršg
.
quicknÙe_deçuÉ_f’ame
)).
	`g‘AbsŞu‹P©h
();

122 ià(
LOCAL_TESTFOLDER_FILEPATH
.
	`exi¡s
(è&& !
BudCÚfig
.
IS_TEST_BUILD
) {

123 
deçuÉV®ue
 = 
Ãw
 
	`Fe
(
LOCAL_TESTFOLDER_FILEPATH
, 
	`r¡r
(
R
.
¡ršg
.
quicknÙe_deçuÉ_f’ame
)).
	`g‘AbsŞu‹P©h
();

125  
Ãw
 
	`Fe
(
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__quicknÙe_f•©h
, 
deçuÉV®ue
));

126 
	}
}

128 
public
 
	$£tQuickNÙeFe
(
fš®
 
Fe
 
fe
) {

129 
	`£tSŒšg
(
R
.
¡ršg
.
´ef_key__quicknÙe_f•©h
, 
fe
.
	`g‘AbsŞu‹P©h
());

130 
	}
}

132 
public
 
Fe
 
	$g‘TodoFe
() {

133 
SŒšg
 
deçuÉV®ue
 = 
Ãw
 
	`Fe
(
	`g‘NÙebookDœeùÜyAsSŒ
(), 
	`r¡r
(
R
.
¡ršg
.
todo_deçuÉ_f’ame
)).
	`g‘AbsŞu‹P©h
();

134 ià(
LOCAL_TESTFOLDER_FILEPATH
.
	`exi¡s
(è&& !
BudCÚfig
.
IS_TEST_BUILD
) {

135 
deçuÉV®ue
 = 
Ãw
 
	`Fe
(
LOCAL_TESTFOLDER_FILEPATH
, 
	`r¡r
(
R
.
¡ršg
.
todo_deçuÉ_f’ame
)).
	`g‘AbsŞu‹P©h
();

137  
Ãw
 
	`Fe
(
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__todo_f•©h
, 
deçuÉV®ue
));

138 
	}
}

140 
public
 
	$£tTodoFe
(
Fe
 
fe
) {

141 
	`£tSŒšg
(
R
.
¡ršg
.
´ef_key__todo_f•©h
, 
fe
.
	`g‘AbsŞu‹P©h
());

142 
	}
}

144 
public
 
SŒšg
 
	$g‘FÚtFamy
(è{  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__fÚt_çmy
, 
	`r¡r
(R.¡ršg.
deçuÉ_fÚt_çmy
)); 
	}
}

145 
public
 
	$g‘FÚtSize
(è{  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__ed™Ü_fÚt_size
, 15); 
	}
}

146 
public
 
	$g‘V›wFÚtSize
(è{ 
size
 = 
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__v›w_fÚt_size
, -1); siz< 2 ? 
	`g‘FÚtSize
(è: size; 
	}
}

147 
public
 
boŞ—n
 
	$isHighlightšgEÇbËd
(è{  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_highlightšg_aùiv©ed
, 
Œue
); 
	}
}

148 
public
 
	$g‘M¬kdownHighlightšgD–ay
(è{  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__m¬kdown__hl_d–ay_v2
, 650); 
	}
}

149 
public
 
boŞ—n
 
	$isM¬kdownHighlightLšeEndšg
() {

150  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__m¬kdown__highlight_lš“ndšg_two_Ü_mÜe_¥aû
, 
çl£
);

151 
	}
}

153 
public
 
boŞ—n
 
	$isM¬kdownHighlightCodeFÚtMÚo¥aûAÎowed
() {

154  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__m¬kdown__mÚo¥aû_some_·¹s
, 
çl£
);

155 
	}
}

157 
public
 
boŞ—n
 
	$isM¬kdownDi§bËCodeBlockHighlight
() {

158  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__m¬kdown__di§bË_code_block_highlight
, 
çl£
);

159 
	}
}

161 
public
 
boŞ—n
 
	$isM¬kdownAutoUpd©eLi¡
() {

162  
Œue
;

164 
	}
}

166 
public
 
	$g‘HighlightšgD–ayTodoTxt
() {

167  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__todÙxt__hl_d–ay
, 870);

168 
	}
}

170 
public
 
boŞ—n
 
	$isR’d”R
() {

171  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_»nd”_¹l
, 
çl£
);

172 
	}
}

174 
public
 
boŞ—n
 
	$isM¬kdownM©hEÇbËd
() {

175  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__m¬kdown_»nd”_m©h
, 
çl£
);

176 
	}
}

178 
public
 
boŞ—n
 
	$isM¬kdownNewlšeNew·¿g¿phEÇbËd
() {

179  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__m¬kdown_Ãwlše_Ãw·¿g¿ph
, 
çl£
);

180 
	}
}

182 
public
 
boŞ—n
 
	$isM¬kdownTabËOfCÚ‹ÁsEÇbËd
() {

183  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__m¬kdown_show_toc
, 
çl£
);

184 
	}
}

186 
public
 
boŞ—n
 
	$isEd™ÜStusB¬Hidd’
() {

187  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_ed™Ü_¡©usb¬_hidd’
, 
çl£
);

188 
	}
}

190 
public
 
boŞ—n
 
	$isS³cŸlFeLaunch”sEÇbËd
() {

191 ià(
BudCÚfig
.
IS_TEST_BUILD
) {

192  
çl£
;

194  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_Ïunch”_fÜ_¥ecŸl_fes_’abËd
, 
çl£
);

195 
	}
}

197 
public
 
boŞ—n
 
	$isK“pSü“nOn
() {

198  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_k“p_sü“n_Ú
, !
BudCÚfig
.
IS_TEST_BUILD
);

199 
	}
}

201 
public
 
boŞ—n
 
	$isOv”v›wStusB¬Hidd’
() {

202  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_ov”v›w_¡©usb¬_hidd’
, 
çl£
);

203 
	}
}

205 
public
 
SŒšg
 
	$g‘Lªguage
() {

206  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__Ïnguage
, "");

207 
	}
}

209 
public
 
	$£tReü—‹MašRequœed
(
boŞ—n
 
v®ue
) {

210 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__is_maš_»ü—‹_»quœed
, 
v®ue
);

211 
	}
}

213 
public
 
boŞ—n
 
	$isReü—‹MašRequœed
() {

214 
boŞ—n
 
»t
 = 
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_maš_»ü—‹_»quœed
, 
çl£
);

215 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__is_maš_»ü—‹_»quœed
, 
çl£
);

216  
»t
;

217 
	}
}

219 
public
 
	$£tSÜtM‘hod
(
v®ue
) {

220 
	`£tIÁ
(
R
.
¡ršg
.
´ef_key__sÜt_m‘hod
, 
v®ue
);

221 
	}
}

224 
public
 
	$g‘SÜtM‘hod
() {

225  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__sÜt_m‘hod
, 
Fesy¡emV›w”F¿gm’t
.
SORT_BY_NAME
);

226 
	}
}

228 
public
 
	$£tSÜtRev”£
(
boŞ—n
 
v®ue
) {

229 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__sÜt_»v”£
, 
v®ue
);

230 
	}
}

232 
public
 
boŞ—n
 
	$isSÜtRev”£
() {

233  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__sÜt_»v”£
, 
çl£
);

234 
	}
}

236 
public
 
boŞ—n
 
	$isShowS‘tšgsO±iÚInMašToŞb¬
() {

237  
Œue
;

238 
	}
}

240 
public
 
boŞ—n
 
	$isHighlightšgHexCŞÜEÇbËd
() {

241  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_highlightšg_fÜ_hexcŞÜ_aùiv©ed
, 
çl£
);

242 
	}
}

244 
public
 
boŞ—n
 
	$isTodoAµ’dProCÚOnEndEÇbËd
() {

245  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__todÙxt__­³nd_cÚ‹xts_ªd_´ojeùs_Ú_’d_of_sk
, 
Œue
);

246 
	}
}

248 
public
 
boŞ—n
 
	$isTodoS¹TasksW™hTodaysD©eEÇbËd
() {

249  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__todÙxt__¡¬t_Ãw_sks_w™h_todays_d©e
, 
Œue
);

250 
	}
}

252 
public
 
boŞ—n
 
	$isTodoAddCom¶‘iÚD©eEÇbËd
() {

253  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__todÙxt__add_com¶‘iÚ_d©e_fÜ_todos
, 
Œue
);

254 
	}
}

256 
public
 
boŞ—n
 
	$isAµCu¼’tV”siÚFœ¡S¹
(
boŞ—n
 
doS‘
) {

257 
v®ue
 = 
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__­p_fœ¡_¡¬t_cu¼’t_v”siÚ
, -1);

258 ià(
doS‘
) {

259 
	`£tIÁ
(
R
.
¡ršg
.
´ef_key__­p_fœ¡_¡¬t_cu¼’t_v”siÚ
, 
BudCÚfig
.
VERSION_CODE
);

261  
v®ue
 !ğ
BudCÚfig
.
VERSION_CODE
;

262 
	}
}

264 
public
 
	$g‘Ed™ÜLšeS·cšg
() {

265  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__ed™Ü_lše_¥acšg
, 100) / 100f;

266 
	}
}

268 
public
 
	$£tLa¡TodoU£dArchiveF’ame
(
SŒšg
 
v®ue
) {

269 
	`£tSŒšg
(
R
.
¡ršg
.
´ef_key__todÙxt__Ï¡_u£d_¬chive_f’ame
, 
v®ue
);

270 
	}
}

272 
public
 
SŒšg
 
	$g‘La¡TodoU£dArchiveF’ame
() {

273  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__todÙxt__Ï¡_u£d_¬chive_f’ame
, "todo.archive.txt");

274 
	}
}

276 
public
 
boŞ—n
 
	$isEd™ÜS¹OnBÙ‰om
() {

277  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__ed™Ü_¡¬t_ed™šg_Ú_bÙtom
, 
Œue
);

278 
	}
}

280 
public
 
boŞ—n
 
	$isEd™ÜS¹Ed™šgInC’‹r
() {

281  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__ed™Ü_¡¬t_ed™šg_š_ûÁ”
, 
çl£
);

282 
	}
}

284 
public
 
	$g‘Ed™ÜTextAùiÚI‹mPaddšg
() {

285  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__ed™Ü_‹xùiÚ_b¬_™em_·ddšg
, 8);

286 
	}
}

288 
public
 
boŞ—n
 
	$isDi§bËS³ÎšgRedUnd”lše
() {

289  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__ed™Ü_di§bË_¥–lšg_»d_und”lše
, 
Œue
);

290 
	}
}

292 
public
 
	$addReûÁDocum’t
(
Fe
 
fe
) {

293 ià(!
	`li¡FeInReûÁs
(
fe
)) {

296 ià(!
fe
.
	`equ®s
(
	`g‘TodoFe
()è&& !fe.equ®s(
	`g‘QuickNÙeFe
())) {

297 
A¼ayLi¡
<
SŒšg
> 
»ûÁ
 = 
	`g‘ReûÁDocum’ts
();

298 
»ûÁ
.
	`add
(0, 
fe
.
	`g‘AbsŞu‹P©h
());

299 
»ûÁ
.
	`»move
(
	`g‘TodoFe
().
	`g‘AbsŞu‹P©h
());

300 
»ûÁ
.
	`»move
(
	`g‘QuickNÙeFe
().
	`g‘AbsŞu‹P©h
());

301 
»ûÁ
.
	`»move
("");

302 
»ûÁ
.
	`»move
(
nuÎ
);

304 
	`£tIÁ
(
fe
.
	`g‘AbsŞu‹P©h
(), 
	`g‘IÁ
(fe.g‘AbsŞu‹P©h(), 0, 
_´efCache
) + 1, _prefCache);

305 
	`£tReûÁDocum’ts
(
»ûÁ
);

307 
ShÜtcutUts
.
	`£tShÜtcuts
(
_cÚ‹xt
);

308 
	}
}

310 
public
 
	$toggËFavour™eFe
(
Fe
 
fe
) {

311 
Li¡
<
SŒšg
> 
li¡
 = 
Ãw
 
A¼ayLi¡
<>();

312 
Li¡
<
Fe
> 
çvour™es
 = 
	`g‘Favour™eFes
();

313 
Fe
 
f
 : 
çvour™es
) {

314 ià(
f
 !ğ
nuÎ
 && (f.
	`exi¡s
(è|| 
Fesy¡emV›w”Ad­‹r
.
	`isVœtu®StÜage
(f))) {

315 
li¡
.
	`add
(
f
.
	`g‘AbsŞu‹P©h
());

318 
SŒšg
 
abs
 = 
fe
.
	`g‘AbsŞu‹P©h
();

319 ià(
li¡
.
	`cÚšs
(
abs
)) {

320 
li¡
.
	`»move
(
abs
);

322 
li¡
.
	`add
(
abs
);

324 
	`£tSŒšgLi¡
(
R
.
¡ršg
.
´ef_key__çvour™e_fes
, 
li¡
);

325 
	}
}

327 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_EDIT_POS_CHAR
 = "PREF_PREFIX_EDIT_POS_CHAR";

328 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_WRAP_STATE
 = "PREF_PREFIX_WRAP_STATE";

329 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_HIGHLIGHT_STATE
 = "PREF_PREFIX_HIGHLIGHT_STATE";

330 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_PREVIEW_STATE
 = "PREF_PREFIX_PREVIEW_STATE";

331 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_INDENT_SIZE
 = "PREF_PREFIX_INDENT_SIZE";

332 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_FONT_SIZE
 = "PREF_PREFIX_FONT_SIZE";

333 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_FILE_FORMAT
 = "PREF_PREFIX_FILE_FORMAT";

334 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_VIEW_SCROLL_X
 = "PREF_PREFIX_VIEW_SCROLL_X";

335 
´iv©e
 
fš®
 
SŒšg
 
	gPREF_PREFIX_VIEW_SCROLL_Y
 = "PREF_PREFIX_VIEW_SCROLL_Y";

337 
public
 
	$£tLa¡Ed™Pos™iÚ
(
Fe
 
fe
, 
pos
) {

338 ià(
fe
 =ğ
nuÎ
 || !fe.
	`exi¡s
()) {

341 ià(!
fe
.
	`equ®s
(
	`g‘TodoFe
()è&& !fe.equ®s(
	`g‘QuickNÙeFe
())) {

342 
	`£tIÁ
(
PREF_PREFIX_EDIT_POS_CHAR
 + 
fe
.
	`g‘AbsŞu‹P©h
(), 
pos
, 
_´efCache
);

344 
	}
}

346 
public
 
	$£tLa¡V›wPos™iÚ
(
Fe
 
fe
, 
süŞlX
, 
süŞlY
) {

347 ià(
fe
 =ğ
nuÎ
 || !fe.
	`exi¡s
()) {

350 ià(!
fe
.
	`equ®s
(
	`g‘TodoFe
()è&& !fe.equ®s(
	`g‘QuickNÙeFe
())) {

351 
	`£tIÁ
(
PREF_PREFIX_VIEW_SCROLL_X
 + 
fe
.
	`g‘AbsŞu‹P©h
(), 
süŞlX
, 
_´efCache
);

352 
	`£tIÁ
(
PREF_PREFIX_VIEW_SCROLL_Y
 + 
fe
.
	`g‘AbsŞu‹P©h
(), 
süŞlY
, 
_´efCache
);

354 
	}
}

356 
public
 
	$£tDocum’tW¿pS‹
(
fš®
 
SŒšg
 
·th
, fš® 
boŞ—n
 
¡©e
) {

357 ià(
	`ãxi¡s
(
·th
)) {

358 
	`£tBoŞ
(
PREF_PREFIX_WRAP_STATE
 + 
·th
, 
¡©e
);

360 
	}
}

362 
public
 
boŞ—n
 
	$g‘Docum’tW¿pS‹
(
fš®
 
SŒšg
 
·th
) {

363 
fš®
 
boŞ—n
 
_deçuÉ
 = 
	`isEd™ÜLšeB»akšgEÇbËd
();

364 ià(!
	`ãxi¡s
(
·th
)) {

365  
_deçuÉ
;

367  
	`g‘BoŞ
(
PREF_PREFIX_WRAP_STATE
 + 
·th
, 
_deçuÉ
);

369 
	}
}

371 
public
 
£tDocum’tFÜm©
(
fš®
 
SŒšg
 
·th
, @
SŒšgRes
 fš® 
fÜm©
) {

372 ià(
ãxi¡s
(
·th
è&& 
	gfÜm©
 !ğ
TextFÜm©
.
FORMAT_UNKNOWN
) {

373 
£tSŒšg
(
PREF_PREFIX_FILE_FORMAT
 + 
·th
, 
_cÚ‹xt
.
g‘SŒšg
(
fÜm©
));

377 @
SŒšgRes


378 
public
 
	$g‘Docum’tFÜm©
(
fš®
 
SŒšg
 
·th
, fš® 
_deçuÉ
) {

379 ià(!
	`ãxi¡s
(
·th
)) {

380  
_deçuÉ
;

382 
fš®
 
SŒšg
 
v®ue
 = 
	`g‘SŒšg
(
PREF_PREFIX_FILE_FORMAT
 + 
·th
, 
nuÎ
);

383 
fš®
 
sid
 = 
_cÚ‹xtUts
.
	`g‘ResId
(
Ãt
.
g§ÁÃr
.
İoc
.
ut
.
CÚ‹xtUts
.
ResTy³
.
STRING
, 
v®ue
);

385  
sid
 !ğ0 ? sid : 
_deçuÉ
;

387 
	}
}

389 
public
 
	$£tDocum’tFÚtSize
(
fš®
 
SŒšg
 
·th
, fš® 
size
) {

390 ià(
	`ãxi¡s
(
·th
)) {

391 
	`£tIÁ
(
PREF_PREFIX_FONT_SIZE
 + 
·th
, 
size
);

393 
	}
}

395 
public
 
	$g‘Docum’tFÚtSize
(
fš®
 
SŒšg
 
·th
) {

396 
fš®
 
_deçuÉ
 = 
	`g‘FÚtSize
();

397 ià(!
	`ãxi¡s
(
·th
)) {

398  
_deçuÉ
;

400  
	`g‘IÁ
(
PREF_PREFIX_FONT_SIZE
 + 
·th
, 
_deçuÉ
);

402 
	}
}

404 
public
 
	$£tDocum’tInd’tSize
(
fš®
 
SŒšg
 
·th
, fš® 
size
) {

405 ià(
	`ãxi¡s
(
·th
)) {

406 
	`£tIÁ
(
PREF_PREFIX_INDENT_SIZE
 + 
·th
, 
size
);

408 
	}
}

410 
public
 
	$g‘Docum’tInd’tSize
(
fš®
 
SŒšg
 
·th
) {

411 
fš®
 
_deçuÉ
 = 4;

412 ià(!
	`ãxi¡s
(
·th
)) {

413  
_deçuÉ
;

415  
	`g‘IÁ
(
PREF_PREFIX_INDENT_SIZE
 + 
·th
, 
_deçuÉ
);

417 
	}
}

419 
public
 
	$£tDocum’tP»v›wS‹
(
fš®
 
SŒšg
 
·th
, fš® 
boŞ—n
 
¡©e
) {

420 
	`£tBoŞ
(
PREF_PREFIX_PREVIEW_STATE
 + 
·th
, 
¡©e
);

421 
	}
}

423 
public
 
boŞ—n
 
	$g‘Docum’tP»v›wS‹
(
fš®
 
SŒšg
 
·th
) {

425 
fš®
 
boŞ—n
 
_deçuÉ
 = 
	`isP»v›wFœ¡
();

426 ià(
_deçuÉ
 || !
	`ãxi¡s
(
·th
)) {

427  
_deçuÉ
;

429  
	`g‘BoŞ
(
PREF_PREFIX_PREVIEW_STATE
 + 
·th
, 
_deçuÉ
);

431 
	}
}

433 
public
 
	$£tDocum’tHighlightS‹
(
fš®
 
SŒšg
 
·th
, fš® 
boŞ—n
 
¡©e
) {

434 
	`£tBoŞ
(
PREF_PREFIX_HIGHLIGHT_STATE
 + 
·th
, 
¡©e
);

435 
	}
}

437 
public
 
boŞ—n
 
	$g‘Docum’tHighlightS‹
(
fš®
 
SŒšg
 
·th
, fš® 
Ch¬Sequ’û
 
ch¬s
) {

438 
fš®
 
boŞ—n
 
ËngthOk
 = 
ch¬s
 !ğ
nuÎ
 && ch¬s.
	`Ëngth
(è< (
_isDeviûGoodH¬dw¬e
 ? 100000 : 35000);

439  
	`g‘BoŞ
(
PREF_PREFIX_HIGHLIGHT_STATE
 + 
·th
, 
ËngthOk
 && 
	`isHighlightšgEÇbËd
());

440 
	}
}

442 
public
 
	$g‘La¡Ed™Pos™iÚCh¬
(
Fe
 
fe
) {

443 ià(
fe
 =ğ
nuÎ
 || !fe.
	`exi¡s
()) {

446 ià(
fe
.
	`equ®s
(
	`g‘TodoFe
()è|| fe.equ®s(
	`g‘QuickNÙeFe
())) {

449  
	`g‘IÁ
(
PREF_PREFIX_EDIT_POS_CHAR
 + 
fe
.
	`g‘AbsŞu‹P©h
(), -3, 
_´efCache
);

450 
	}
}

452 
public
 
	$g‘La¡V›wPos™iÚX
(
Fe
 
fe
) {

453 ià(
fe
 =ğ
nuÎ
 || !fe.
	`exi¡s
()) {

456  
	`g‘IÁ
(
PREF_PREFIX_VIEW_SCROLL_X
 + 
fe
.
	`g‘AbsŞu‹P©h
(), -3, 
_´efCache
);

457 
	}
}

459 
public
 
	$g‘La¡V›wPos™iÚY
(
Fe
 
fe
) {

460 ià(
fe
 =ğ
nuÎ
 || !fe.
	`exi¡s
()) {

463  
	`g‘IÁ
(
PREF_PREFIX_VIEW_SCROLL_Y
 + 
fe
.
	`g‘AbsŞu‹P©h
(), -3, 
_´efCache
);

464 
	}
}

466 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
	$g‘PİuÏrDocum’tsSÜ‹d
() {

467 
Li¡
<
SŒšg
> 
pİuÏr
 = 
	`g‘ReûÁDocum’ts
();

468 
CŞËùiÚs
.
	`sÜt
(
pİuÏr
, (
o1
, 
o2
è-> 
IÁeg”
.
	`com·»
(
	`g‘IÁ
(o1, 0, 
_´efCache
), getInt(o2, 0, _prefCache)));

469  
pİuÏr
;

470 
	}
}

472 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘PİuÏrDocum’ts
() {

473  
	`g‘SŒšgLi¡
(
R
.
¡ršg
.
´ef_key__pİuÏr_docum’ts
);

474 
	}
}

476 
public
 
£tPİuÏrDocum’ts
(
Li¡
<
SŒšg
> 
v
) {

477 
lim™Li¡To
(
v
, 20, 
Œue
);

478 
£tSŒšgLi¡
(
R
.
¡ršg
.
´ef_key__pİuÏr_docum’ts
, 
v
, 
_´efAµ
);

481 
public
 
£tReûÁDocum’ts
(
Li¡
<
SŒšg
> 
v
) {

482 
lim™Li¡To
(
v
, 20, 
Œue
);

483 
£tSŒšgLi¡
(
R
.
¡ršg
.
´ef_key__»ûÁ_docum’ts
, 
v
, 
_´efAµ
);

484 
£tPİuÏrDocum’ts
(
g‘PİuÏrDocum’tsSÜ‹d
());

487 
public
 
	gA¼ayLi¡
<
	gSŒšg
> 
	$g‘ReûÁDocum’ts
() {

488 
A¼ayLi¡
<
SŒšg
> 
li¡
 = 
	`g‘SŒšgLi¡
(
R
.
¡ršg
.
´ef_key__»ûÁ_docum’ts
);

489 
i
 = 0; i < 
li¡
.
	`size
(); i++) {

490 ià(!
Ãw
 
	`Fe
(
li¡
.
	`g‘
(
i
)).
	`isFe
()) {

491 
li¡
.
	`»move
(
i
);

492 
i
--;

495  
li¡
;

496 
	}
}

498 
public
 
	gA¼ayLi¡
<
	gFe
> 
g‘AsFeLi¡
(
Li¡
<
SŒšg
> 
li¡
) {

499 
	gA¼ayLi¡
<
	gFe
> 
	gr
 = 
Ãw
 
A¼ayLi¡
<>();

500 
SŒšg
 
	gf
 : 
li¡
) {

501 
r
.
add
(
Ãw
 
Fe
(
f
));

503  
	gr
;

506 
public
 
	gA¼ayLi¡
<
	gFe
> 
	$g‘Favour™eFes
() {

507 
A¼ayLi¡
<
Fe
> 
li¡
 = 
Ãw
 ArrayList<>();

508 
SŒšg
 
å
 : 
	`g‘SŒšgLi¡
(
R
.
¡ršg
.
´ef_key__çvour™e_fes
)) {

509 
Fe
 
f
 = 
Ãw
 
	`Fe
(
å
);

510 ià(
f
.
	`exi¡s
(è|| 
Fesy¡emV›w”Ad­‹r
.
	`isVœtu®StÜage
(f)) {

511 
li¡
.
	`add
(
f
);

514  
li¡
;

515 
	}
}

517 
public
 
SŒšg
 
	$g‘InjeùedH—d”
() {

518  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__šjeù_to_h—d
, 
	`r¡r
(R.¡ršg.
šjeù_to_h—d_deçuÉ
));

519 
	}
}

521 
public
 
SŒšg
 
	$g‘InjeùedBody
() {

522  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__šjeù_to_body
, "");

523 
	}
}

525 
public
 
boŞ—n
 
	$isEd™ÜHi¡ÜyEÇbËd
() {

526  
Œue
;

527 
	}
}

529 
public
 
	$g‘Ed™ÜBasicCŞÜSchemeId
() {

531 
	}
}

533 
public
 
	$g‘Ed™ÜFÜegroundCŞÜ
() {

547 
boŞ—n
 
d¬kMode
 = 
	`isD¬kThemeEÇbËd
();

548 
defv®
 = 
	`rcŞÜ
(
d¬kMode
 ? 
R
.
cŞÜ
.
wh™e
 : R.cŞÜ.
d¬k_g»y
);

549  
	`g‘IÁ
(
d¬kMode
 ? 
R
.
¡ršg
.
´ef_key__ed™Ü_basic_cŞÜ_scheme__fg_d¬k
 : R.¡ršg.
´ef_key__ed™Ü_basic_cŞÜ_scheme__fg_light
, 
defv®
);

550 
	}
}

552 
public
 
	$g‘Ed™ÜBackgroundCŞÜ
() {

565 
boŞ—n
 
d¬kMode
 = 
	`isD¬kThemeEÇbËd
();

566 
defv®
 = 
	`rcŞÜ
(
d¬kMode
 ? 
R
.
cŞÜ
.
d¬k_g»y
 : R.cŞÜ.
light__background
);

567  
	`g‘IÁ
(
d¬kMode
 ? 
R
.
¡ršg
.
´ef_key__ed™Ü_basic_cŞÜ_scheme__bg_d¬k
 : R.¡ršg.
´ef_key__ed™Ü_basic_cŞÜ_scheme__bg_light
, 
defv®
);

569 
	}
}

571 
public
 
	$g‘Ed™ÜTexùiÚB¬CŞÜ
() {

572  
	`rcŞÜ
(
	`isD¬kThemeEÇbËd
(è? 
R
.
cŞÜ
.
d¬k__background_2
 : R.cŞÜ.
ligh‹r_g»y
);

573 
	}
}

575 
public
 
£tEd™ÜBasicCŞÜ
(
boŞ—n
 
fÜD¬kMode
, @
CŞÜRes
 
fgCŞÜ
, @CŞÜRe 
bgCŞÜ
) {

576 
	g»sIdFg
 = 
fÜD¬kMode
 ? 
R
.
¡ršg
.
´ef_key__ed™Ü_basic_cŞÜ_scheme__fg_d¬k
 : R.¡ršg.
´ef_key__ed™Ü_basic_cŞÜ_scheme__fg_light
;

577 
	g»sIdBg
 = 
fÜD¬kMode
 ? 
R
.
¡ršg
.
´ef_key__ed™Ü_basic_cŞÜ_scheme__bg_d¬k
 : R.¡ršg.
´ef_key__ed™Ü_basic_cŞÜ_scheme__bg_light
;

578 
£tIÁ
(
»sIdFg
, 
rcŞÜ
(
fgCŞÜ
));

579 
£tIÁ
(
»sIdBg
, 
rcŞÜ
(
bgCŞÜ
));

582 
public
 
boŞ—n
 
	$isMuÉiWšdowEÇbËd
() {

583 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
) {

584  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_muÉi_wšdow_’abËd
, 
Œue
);

586  
çl£
;

588 
	}
}

590 
public
 
boŞ—n
 
	$isS—rchQu”yCa£S’s™ive
() {

591  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_£¬ch_qu”y_ÿ£_£ns™ive
, 
çl£
);

592 
	}
}

594 
public
 
	$£tS—rchQu”yCa£S’s™iv™y
(
fš®
 
boŞ—n
 
isQu”yS’s™ive
) {

595 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__is_£¬ch_qu”y_ÿ£_£ns™ive
, 
isQu”yS’s™ive
);

596 
	}
}

598 
public
 
boŞ—n
 
	$isS—rchQu”yU£Regex
() {

599  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_£¬ch_qu”y_u£_»gex
, 
çl£
);

600 
	}
}

602 
public
 
	$£tS—rchQu”yRegexUsšg
(
fš®
 
boŞ—n
 
isU£Regex
) {

603 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__is_£¬ch_qu”y_u£_»gex
, 
isU£Regex
);

604 
	}
}

606 
public
 
boŞ—n
 
	$isS—rchInCÚ‹Á
() {

607  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_£¬ch_š_cÚ‹Á
, 
çl£
);

608 
	}
}

610 
public
 
	$£tS—rchInCÚ‹Á
(
fš®
 
boŞ—n
 
isS—rchInCÚ‹Á
) {

611 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__is_£¬ch_š_cÚ‹Á
, 
isS—rchInCÚ‹Á
);

612 
	}
}

614 
public
 
boŞ—n
 
	$isOÆyFœ¡CÚ‹ÁM©ch
() {

615  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_Úly_fœ¡_cÚ‹Á_m©ch
, 
çl£
);

616 
	}
}

618 
public
 
	$£tOÆyFœ¡CÚ‹ÁM©ch
(
fš®
 
boŞ—n
 
isOÆyFœ¡CÚ‹ÁM©ch
) {

619 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__is_Úly_fœ¡_cÚ‹Á_m©ch
, 
isOÆyFœ¡CÚ‹ÁM©ch
);

620 
	}
}

622 
public
 
	$g‘S—rchMaxD•th
() {

623 
d•th
 = 
	`g‘IÁOfSŒšgP»f
(
R
.
¡ršg
.
´ef_key__max_£¬ch_d•th
, 
IÁeg”
.
MAX_VALUE
);

625 ià(
d•th
 == 0) {

626  
IÁeg”
.
MAX_VALUE
;

629  
d•th
;

630 
	}
}

632 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘FeS—rchIgnÜ–i¡
() {

633 
SŒšg
 
´ef
 = 
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__fe£¬ch_ignÜ–i¡
, "");

634  
A¼ays
.
	`asLi¡
(
´ef
.
	`»¶aû
("\r", "").»¶aû("\n\n", "\n").
	`¥l™
("\n"));

635 
	}
}

637 
	gpublic
 @
IdRes


638 
	$g‘AµS¹upTab
() {

639 
i
 = 
	`g‘IÁOfSŒšgP»f
(
R
.
¡ršg
.
´ef_key__­p_¡¬t_b_v2
, R.
id
.
Çv_nÙebook
);

640 
i
) {

642  
R
.
id
.
Çv_todo
;

644  
R
.
id
.
Çv_quicknÙe
;

646  
R
.
id
.
Çv_nÙebook
;

647 
	}
}

649 
public
 
boŞ—n
 
	$isSweToChªgeMode
() {

650  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__swe_to_chªge_mode
, 
çl£
);

651 
	}
}

653 
public
 
	$£tFesy¡emLi¡FŞd”Fœ¡
(
boŞ—n
 
checked
) {

654 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__fesy¡em_fŞd”_fœ¡
, 
checked
);

655 
	}
}

658 
public
 
boŞ—n
 
	$isFesy¡emLi¡FŞd”Fœ¡
() {

659  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__fesy¡em_fŞd”_fœ¡
, 
Œue
);

660 
	}
}

662 
public
 
SŒšg
 
	$g‘Navig©iÚB¬CŞÜ
() {

663  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__Çvig©iÚb¬_cŞÜ
, "#000000");

664 
	}
}

666 
	gpublic
 @
IdRes


667 
IÁeg”
 
	$g‘AµS¹upFŞd”M’uId
() {

668 
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__­p_¡¬t_fŞd”
, "notebook")) {

670  
R
.
id
.
aùiÚ_go_to_çvour™e_fes
;

672  
R
.
id
.
aùiÚ_go_to_¡Üage
;

674  
R
.
id
.
aùiÚ_go_to_­pd©a_public
;

676  
R
.
id
.
aùiÚ_go_to_­pd©a_´iv©e
;

678  
R
.
id
.
aùiÚ_go_to_pİuÏr_fes
;

680  
R
.
id
.
aùiÚ_go_to_»ûÁ_fes
;

682  
R
.
id
.
aùiÚ_go_to_home
;

683 
	}
}

685 
public
 
Fe
 
	$g‘FŞd”ToLßdByM’uId
(
™emId
) {

686 
Li¡
<
Paœ
<
Fe
, 
SŒšg
>> 
­pD©aPublicDœs
 = 
_cÚ‹xtUts
.
	`g‘AµD©aPublicDœs
(
çl£
, 
Œue
, false);

687 
™emId
) {

688 
R
.
id
.
aùiÚ_go_to_home
: {

689  
	`g‘NÙebookDœeùÜy
();

691 
R
.
id
.
aùiÚ_go_to_pİuÏr_fes
: {

692  
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_POPULAR
;

694 
R
.
id
.
aùiÚ_go_to_»ûÁ_fes
: {

695  
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_RECENTS
;

697 
R
.
id
.
aùiÚ_go_to_çvour™e_fes
: {

698  
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_FAVOURITE
;

700 
R
.
id
.
aùiÚ_go_to_­pd©a_´iv©e
: {

701  
_cÚ‹xtUts
.
	`g‘AµD©aPriv©eDœ
();

703 
R
.
id
.
aùiÚ_go_to_¡Üage
: {

704  
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
();

706 
R
.
id
.
aùiÚ_go_to_­pd©a_sdÿrd_1
: {

707 ià(
­pD©aPublicDœs
.
	`size
() > 0) {

708  
­pD©aPublicDœs
.
	`g‘
(0).
fœ¡
;

710  
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
();

712 
R
.
id
.
aùiÚ_go_to_­pd©a_sdÿrd_2
: {

713 ià(
­pD©aPublicDœs
.
	`size
() > 1) {

714  
­pD©aPublicDœs
.
	`g‘
(1).
fœ¡
;

716  
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
();

718 
R
.
id
.
aùiÚ_go_to_­pd©a_public
: {

719 
­pD©aPublicDœs
 = 
_cÚ‹xtUts
.
	`g‘AµD©aPublicDœs
(
Œue
, 
çl£
, false);

720 ià(
­pD©aPublicDœs
.
	`size
() > 0) {

721  
­pD©aPublicDœs
.
	`g‘
(0).
fœ¡
;

723  
_cÚ‹xtUts
.
	`g‘AµD©aPriv©eDœ
();

726  
	`g‘NÙebookDœeùÜy
();

727 
	}
}

729 
public
 
	$£tShowDÙFes
(
boŞ—n
 
v®ue
) {

730 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__show_dÙ_fes
, 
v®ue
);

731 
	}
}

733 
public
 
boŞ—n
 
	$isShowDÙFes
() {

734  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__show_dÙ_fes
, 
çl£
);

735 
	}
}

737 
public
 
	$g‘TabWidth
() {

738  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__b_width_v2
, 1);

739 
	}
}

741 
public
 
boŞ—n
 
	$li¡FeInReûÁs
(
Fe
 
fe
) {

742  
	`g‘BoŞ
(
fe
.
	`g‘AbsŞu‹P©h
(è+ "_li¡_š_»ûÁs", 
Œue
);

743 
	}
}

745 
public
 
	$£tLi¡FeInReûÁs
(
Fe
 
fe
, 
boŞ—n
 
v®ue
) {

746 
	`£tBoŞ
(
fe
.
	`g‘AbsŞu‹P©h
(è+ "_li¡_š_»ûÁs", 
v®ue
);

748 ià(!
v®ue
) {

749 
A¼ayLi¡
<
SŒšg
> 
»ûÁ
 = 
	`g‘ReûÁDocum’ts
();

750 ià(
»ûÁ
.
	`cÚšs
(
fe
.
	`g‘AbsŞu‹P©h
())) {

751 
»ûÁ
.
	`»move
(
fe
.
	`g‘AbsŞu‹P©h
());

752 
	`£tReûÁDocum’ts
(
»ûÁ
);

755 
	}
}

765 
public
 
	$g‘R©šg
(
Fe
 
fe
) {

766  
	`g‘IÁ
(
fe
.
	`g‘AbsŞu‹P©h
() + "_rating", 0);

767 
	}
}

769 
public
 
	$£tR©šg
(
Fe
 
fe
, 
v®ue
) {

770 
	`£tIÁ
(
fe
.
	`g‘AbsŞu‹P©h
(è+ "_¿tšg", 
v®ue
);

771 
	}
}

773 
public
 
boŞ—n
 
	$isEd™ÜLšeB»akšgEÇbËd
() {

774  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__ed™Ü_’abË_lše_b»akšg
, 
Œue
);

775 
	}
}

777 
´iv©e
 
	gLi¡
<
	gSŒšg
> 
	gextS‘tšgCache
;

779 
public
 
synchrÚized
 
boŞ—n
 
	$isExtO³nW™hThisAµ
(
SŒšg
 
ext
) {

780 ià(
ext
.
	`equ®s
("")) {

781 
ext
 = "None";

783 ià(
extS‘tšgCache
 =ğ
nuÎ
) {

784 
SŒšg
 
´ef
 = 
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__exts_to_®ways_İ’_š_this_­p
, "");

785 
extS‘tšgCache
 = 
A¼ays
.
	`asLi¡
(
´ef
.
	`toLow”Ca£
().
	`»¶aû
(",,", ",NÚe,").»¶aû(" ", "").
	`¥l™
(","));

787  
extS‘tšgCache
.
	`cÚšs
(
ext
) ||ƒxtSettingCache.contains(".*");

788 
	}
}

790 
public
 
boŞ—n
 
	$isEx³rim’lF—tu»sEÇbËd
() {

791  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__is_’abË_ex³rim’l_ã©u»s
, 
BudCÚfig
.
IS_TEST_BUILD
);

792 
	}
}

794 
public
 
boŞ—n
 
	$isM¬kdownBigg”H—dšgs
() {

795  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__ed™Ü_m¬kdown_bigg”_h—dšgs_2
, 
çl£
);

796 
	}
}

798 
public
 
boŞ—n
 
	$isZimWikiBigg”H—dšgs
() {

799  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__ed™Ü_zimwiki_bigg”_h—dšgs
, 
çl£
);

800 
	}
}

802 
public
 
SŒšg
 
	$g‘V›wModeLškCŞÜ
() {

803  
CÚ‹xtUts
.
	`cŞÜToHexSŒšg
(
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__v›w_mode_lšk_cŞÜ
, 
CŞÜ
.
	`·r£CŞÜ
("#388E3C")));

804 
	}
}

806 
public
 
SŒšg
 
	$g‘UnÜd”edLi¡Ch¬aù”
() {

807  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__ed™Ü_unÜd”ed_li¡_ch¬aù”
, "-");

808 
	}
}

810 
public
 
boŞ—n
 
	$isTodoNewTaskW™hHuuidEÇbËd
() {

811  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__todÙxt__¡¬t_Ãw_sks_w™h_huuid_v3
, 
çl£
);

812 
	}
}

814 
public
 
SŒšg
 
	$g‘HuuidDeviûId
() {

815 
SŒšg
 
deviûid
 = 
	`g‘SŒšg
("huuid_deviûid", 
nuÎ
);

816 ià(
deviûid
 =ğ
nuÎ
) {

817 
deviûid
 = 
SŒšg
.
	`fÜm©
("%08x", 
Ãw
 
	`Rªdom
().
	`ÃxtIÁ
()).
	`sub¡ršg
(0, 4);

818 
	`£tSŒšg
("huuid_deviûid", 
deviûid
);

820  
deviûid
;

821 
	}
}

823 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
M
)

824 
public
 [] 
	$g‘DeçuÉPasswÜd
() {

825  
Ãw
 
	`PasswÜdStÜe
(
	`g‘CÚ‹xt
()).
	`lßdKey
(
R
.
¡ršg
.
´ef_key__deçuÉ_’üy±iÚ_·sswÜd
);

826 
	}
}

828 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
M
)

829 
public
 
boŞ—n
 
	$isDeçuÉPasswÜdS‘
() {

830 
fš®
 [] 
key
 = 
	`g‘DeçuÉPasswÜd
();

831  (
key
 !ğ
nuÎ
 && key.
Ëngth
 > 0);

832 
	}
}

834 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
M
)

835 
public
 
	$£tDeçuÉPasswÜd
(
SŒšg
 
·sswÜd
) {

836 
Ãw
 
	`PasswÜdStÜe
(
	`g‘CÚ‹xt
()).
	`¡ÜeKey
(
·sswÜd
, 
R
.
¡ršg
.
´ef_key__deçuÉ_’üy±iÚ_·sswÜd
);

837 
	}
}

839 
public
 
boŞ—n
 
	$g‘NewFeDŸlogLa¡U£dEnüy±iÚ
() {

840  
	`g‘BoŞ
(
R
.
¡ršg
.
´ef_key__Ãw_fe_dŸlog_Ï¡u£d_’üy±iÚ
, 
çl£
);

841 
	}
}

843 
public
 
	$£tNewFeDŸlogLa¡U£dEnüy±iÚ
(
boŞ—n
 
b
) {

844 
	`£tBoŞ
(
R
.
¡ršg
.
´ef_key__Ãw_fe_dŸlog_Ï¡u£d_’üy±iÚ
, 
b
);

845 
	}
}

847 
public
 
SŒšg
 
	$g‘NewFeDŸlogLa¡U£dEx‹nsiÚ
() {

848  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__Ãw_fe_dŸlog_Ï¡u£d_ex‹nsiÚ
, ".md");

849 
	}
}

851 
public
 
	$£tNewFeDŸlogLa¡U£dEx‹nsiÚ
(
SŒšg
 
v
) {

852 
	`£tSŒšg
(
R
.
¡ršg
.
´ef_key__Ãw_fe_dŸlog_Ï¡u£d_ex‹nsiÚ
, 
v
);

853 
	}
}

855 
public
 
	$g‘NewFeDŸlogLa¡U£dTy³
() {

856  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__Ãw_fe_dŸlog_Ï¡u£d_ty³
, 0);

857 
	}
}

859 
public
 
	$£tNewFeDŸlogLa¡U£dTy³
(
i
) {

860 
	`£tIÁ
(
R
.
¡ršg
.
´ef_key__Ãw_fe_dŸlog_Ï¡u£d_ty³
, 
i
);

861 
	}
}

863 
public
 
	$£tFeBrow£rLa¡Brow£dFŞd”
(
Fe
 
f
) {

864 
	`£tSŒšg
(
R
.
¡ršg
.
´ef_key__fe_brow£r_Ï¡_brow£d_fŞd”
, 
f
.
	`g‘AbsŞu‹P©h
());

865 
	}
}

867 
public
 
Fe
 
	$g‘FeBrow£rLa¡Brow£dFŞd”
() {

868  
Ãw
 
	`Fe
(
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__fe_brow£r_Ï¡_brow£d_fŞd”
, 
	`g‘NÙebookDœeùÜyAsSŒ
()));

869 
	}
}

871 
public
 
boŞ—n
 
	$g‘S‘WebV›wFuÎd¿wšg
(
boŞ—n
... 
£tV®ue
) {

872 
fš®
 
SŒšg
 
k
 = "getSetWebViewFulldrawing";

873 ià(
£tV®ue
 !ğ
nuÎ
 && s‘V®ue.
Ëngth
 == 1) {

874 
	`£tBoŞ
(
k
, 
£tV®ue
[0]);

875  
£tV®ue
[0];

877  
	`g‘BoŞ
(
k
, 
çl£
);

878 
	}
}

880 
public
 
SŒšg
 
	$g‘TodÙxtAdd™iÚ®CÚ‹xtsAndProjeùs
() {

881  
	`g‘SŒšg
(
R
.
¡ršg
.
´ef_key__todÙxt__add™iÚ®_´ojeùs_cÚ‹xts
, "+music +video @home @shop");

882 
	}
}

885 
public
 
	$g‘DueD©eOff£t
() {

886  
	`g‘IÁ
(
R
.
¡ršg
.
´ef_key__todÙxt__due_d©e_off£t
, 3);

887 
	}
}

	@app/src/main/java/net/gsantner/markor/util/BackupUtils.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

3 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tMªag”
;

7 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

8 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

9 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

10 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

12 
impÜt
 
	gjava
.
	gio
.
	gFe
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 
public
 
şass
 
BackupUts
 
ex‹nds
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gBackupUts
 {

17 
public
 
showBackupS–eùFromDŸlog
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
F¿gm’tMªag”
 
mªag”
) {

18 ià(
cÚ‹xt
 
š¡ªûof
 
	gAùiv™y
) {

19 
fš®
 
Aùiv™y
 
	gaùiv™y
 = (Aùiv™yè
cÚ‹xt
;

21 
	gFesy¡emV›w”C»©Ü
.
showFeDŸlog
(

22 
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

23 @
Ov”ride


24 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

25 
dİt
.
roÙFŞd”
 = 
Ãw
 
AµS‘tšgs
(
cÚ‹xt
).
g‘NÙebookDœeùÜy
();

26 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
£Ëù
;

29 @
Ov”ride


30 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

31 
lßdBackup
(
cÚ‹xt
, 
fe
);

33 }, 
mªag”
, 
aùiv™y
,

34 
šput
 -> iÅuˆ!ğ
nuÎ
 && iÅut.
exi¡s
(è&& iÅut.
toSŒšg
().
Œim
().
toLow”Ca£
().
’dsW™h
(".json")

39 
public
 
showBackupWr™eToDŸlog
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
F¿gm’tMªag”
 
mªag”
) {

40 ià(
cÚ‹xt
 
š¡ªûof
 
	gAùiv™y
) {

41 
fš®
 
Aùiv™y
 
	gaùiv™y
 = (Aùiv™yè
cÚ‹xt
;

43 
	gFesy¡emV›w”C»©Ü
.
showFŞd”DŸlog
(

44 
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

45 @
Ov”ride


46 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

47 
dİt
.
roÙFŞd”
 = 
Ãw
 
AµS‘tšgs
(
cÚ‹xt
).
g‘NÙebookDœeùÜy
();

48 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
£Ëù_fŞd”
;

51 @
Ov”ride


52 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
dœ
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

53 
makeBackup
(
cÚ‹xt
, 
g‘P»fNamesToBackup
(), 
g’”©eBackupF•©h
(cÚ‹xt, 
dœ
));

55 }, 
mªag”
, 
aùiv™y


60 
public
 
	gLi¡
<
	gSŒšg
> 
g‘P»fNamesToBackup
() {

61 
	gLi¡
<
	gSŒšg
> 
	g´efs
 = 
Ãt
.
g§ÁÃr
.
İoc
.
ut
.
BackupUts
.
g‘P»fNamesToBackup
();

62 
	g´efs
.
add
(
TextAùiÚs
.
ACTION_ORDER_PREF_NAME
);

63  
	g´efs
;

	@app/src/main/java/net/gsantner/markor/util/ContextUtils.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gwebk™
.
	gMimeTy³M­
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gAµ
;

17 
public
 
şass
 
CÚ‹xtUts
 
ex‹nds
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
 {

18 
public
 
CÚ‹xtUts
(
CÚ‹xt
 
cÚ‹xt
) {

19 
su³r
(
cÚ‹xt
);

22 
public
 
CÚ‹xtUts
 
g‘
() {

23  
Ãw
 
CÚ‹xtUts
(
Aµ
.
g‘
());

26 
public
 
SŒšg
 
g‘MimeTy³
(SŒšg 
u¾
) {

27 
SŒšg
 
	gext
 = 
MimeTy³M­
.
g‘FeEx‹nsiÚFromU¾
(
u¾
);

28  
	gext
 !ğ
nuÎ
 ? 
MimeTy³M­
.
g‘SšgËtÚ
().
g‘MimeTy³FromEx‹nsiÚ
(
ext
) :‚ull;

	@app/src/main/java/net/gsantner/markor/util/DocumentIO.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

18 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

19 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

21 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

22 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gMašAùiv™y
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownTextCÚv”‹r
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

31 
impÜt
 
	gjava
.
	gio
.
	gFe
;

32 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

33 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

34 
impÜt
 
	gjava
.
	gnio
.
	gch¬£t
.
	gSnd¬dCh¬£ts
;

35 
impÜt
 
	gjava
.
	g£cur™y
.
	gSecu»Rªdom
;

36 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

37 
impÜt
 
	gjava
.
	gut
.
	gUUID
;

39 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

41 
public
 cÏs 
	cDocum’tIO
 {

42 
public
 
fš®
 
SŒšg
 
	mEXTRA_DOCUMENT
 = "EXTRA_DOCUMENT";

43 
public
 
fš®
 
SŒšg
 
	mEXTRA_PATH
 = "EXTRA_PATH";

44 
public
 
fš®
 
SŒšg
 
	mEXTRA_PATH_IS_FOLDER
 = "EXTRA_PATH_IS_FOLDER";

45 
public
 
fš®
 
SŒšg
 
	mEXTRA_FILE_LINE_NUMBER
 = "EXTRA_FILE_LINE_NUMBER";

47 
public
 
fš®
 
	mMAX_TITLE_EXTRACTION_LENGTH
 = 25;

48 
public
 
boŞ—n
 
	mSAVE_IGNORE_EMTPY_NEXT_TIME
 = 
çl£
;

50 
public
 
Docum’t
 
lßdDocum’t
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
¬gum’ts
, @
NuÎabË
 Docum’ˆ
exi¡šgDocum’t
) {

51 ià(
	mexi¡šgDocum’t
 !ğ
nuÎ
) {

52  
exi¡šgDocum’t
;

55 
BundË
 
	mbundË
 = 
Ãw
 Bundle();

56 ià(
	m¬gum’ts
.
hasExŒa
(
EXTRA_DOCUMENT
)) {

57 
	mbundË
.
putS”ŸlizabË
(
EXTRA_DOCUMENT
, 
¬gum’ts
.
g‘S”ŸlizabËExŒa
(EXTRA_DOCUMENT));

59 
	mbundË
.
putS”ŸlizabË
(
EXTRA_PATH
, 
¬gum’ts
.
g‘S”ŸlizabËExŒa
(EXTRA_PATH));

60 
	mbundË
.
putBoŞ—n
(
EXTRA_PATH_IS_FOLDER
, 
¬gum’ts
.
g‘BoŞ—nExŒa
(EXTRA_PATH_IS_FOLDER, 
çl£
));

62  
lßdDocum’t
(
cÚ‹xt
, 
bundË
, 
exi¡šgDocum’t
);

65 @
Suµ»ssW¬nšgs
({"ResultOfMethodCallIgnored"})

66 
public
 
synchrÚized
 
Docum’t
 
lßdDocum’t
(
CÚ‹xt
 
cÚ‹xt
, 
BundË
 
¬gum’ts
, @
NuÎabË
 Docum’ˆ
exi¡šgDocum’t
) {

67 ià(
	gexi¡šgDocum’t
 !ğ
nuÎ
) {

68  
exi¡šgDocum’t
;

72 ià(
	g¬gum’ts
.
cÚšsKey
(
EXTRA_DOCUMENT
)) {

73  (
	gDocum’t
è
	g¬gum’ts
.
g‘S”ŸlizabË
(
EXTRA_DOCUMENT
);

76 
Docum’t
 
	gdocum’t
 = 
Ãw
 Document();

77 
	gdocum’t
.
£tDoHi¡Üy
(
çl£
);

78 
Fe
 
	gexŒaP©h
 = (Feè
¬gum’ts
.
g‘S”ŸlizabË
(
EXTRA_PATH
);

79 
Fe
 
	gfeP©h
 = 
exŒaP©h
;

82 
boŞ—n
 
	gexŒaP©hIsFŞd”
 = 
¬gum’ts
.
g‘BoŞ—n
(
EXTRA_PATH_IS_FOLDER
);

83 ià(
	gexŒaP©hIsFŞd”
) {

84 
	gexŒaP©h
.
mkdœs
();

85 
	gfeP©h
.
exi¡s
()) {

86 
	gfeP©h
 = 
Ãw
 
Fe
(
exŒaP©h
, 
SŒšg
.
fÜm©
("%s-%s%s", 
cÚ‹xt
.
g‘SŒšg
(
R
.
¡ršg
.
docum’t
), 
UUID
.
¿ndomUUID
().
toSŒšg
(), 
M¬kdownTextCÚv”‹r
.
EXT_MARKDOWN__MD
));

88 } ià(
	gfeP©h
.
isFe
(è&& feP©h.
ÿnR—d
()) {

90 
	gdocum’t
.
£tT™Ë
(
feP©h
.
g‘Name
());

91 
SŒšg
 
	gcÚ‹Á
;

92 
fš®
 [] 
	gpw
;

93 ià(
isEnüy±edFe
(
feP©h
è&& (
	gpw
 = 
g‘PasswÜdW™hW¬nšg
(
cÚ‹xt
)è!ğ
nuÎ
) {

94 
Œy
 {

95 
fš®
 
by‹
[] 
’üy±edCÚ‹xt
 = 
FeUts
.
»adClo£SŒ—mW™hSize
(
Ãw
 
FeIÅutSŒ—m
(
feP©h
), (èfeP©h.
Ëngth
());

96 ià(
	g’üy±edCÚ‹xt
.
	gËngth
 > 
	gJavaPasswÜdba£dCry±iÚ
.
	gV”siÚ
.
	gNAME_LENGTH
) {

97 
	gcÚ‹Á
 = 
JavaPasswÜdba£dCry±iÚ
.
g‘Deüy±edText
(
’üy±edCÚ‹xt
, 
pw
);

99 
	gcÚ‹Á
 = 
Ãw
 
SŒšg
(
’üy±edCÚ‹xt
, 
Snd¬dCh¬£ts
.
UTF_8
);

101 } 
ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

102 
	gLog
.
e
(
Docum’tIO
.
şass
.
g‘Name
(), "lßdDocum’t: F" + 
feP©h
 + "‚ot found.");

103 
	gcÚ‹Á
 = "";

104 } 
ÿtch
 (
JavaPasswÜdba£dCry±iÚ
.
Enüy±iÚFaedExû±iÚ
 | 
IÎeg®Argum’tExû±iÚ
 
e
) {

105 
	gTß¡
.
makeText
(
cÚ‹xt
, 
R
.
¡ršg
.
could_nÙ_deüy±_fe_cÚ‹Á_wrÚg_·sswÜd_Ü_is_the_fe_maybe_nÙ_’üy±ed
, 
Tß¡
.
LENGTH_LONG
).
show
();

106 
	gLog
.
e
(
Docum’tIO
.
şass
.
g‘Name
(), "lßdDocum’t: deüy± faed fÜ F" + 
feP©h
 + ". " +ƒ.
g‘Mes§ge
(),ƒ);

107 
	gcÚ‹Á
 = "";

110 
	gcÚ‹Á
 = 
FeUts
.
»adTextFeFa¡
(
feP©h
);

112 
	gdocum’t
.
£tCÚ‹Á
(
cÚ‹Á
);

113 
	gdocum’t
.
£tModTime
(
feP©h
.
Ï¡Modif›d
());

116 
	gdocum’t
.
£tFe
(
feP©h
);

118 ià(
	gdocum’t
.
g‘FÜm©
(è=ğ
TextFÜm©
.
FORMAT_UNKNOWN
) {

119 
SŒšg
 
âlow”
 = 
docum’t
.
g‘Fe
().
g‘Name
().
toLow”Ca£
();

120 
	gdocum’t
.
£tFÜm©
(
TextFÜm©
.
FORMAT_PLAIN
);

122 ià(
	gTextFÜm©
.
	gCONVERTER_TODOTXT
.
isFeOutOfThisFÜm©
(
âlow”
)) {

123 
	gdocum’t
.
£tFÜm©
(
TextFÜm©
.
FORMAT_TODOTXT
);

124 ià(!
	gTextUts
.
isEm±y
(
docum’t
.
g‘CÚ‹Á
())) {

125 
	gdocum’t
.
£tCÚ‹Á
(
docum’t
.
g‘CÚ‹Á
().
Œim
());

127 } ià(
	gTextFÜm©
.
	gCONVERTER_KEYVALUE
.
isFeOutOfThisFÜm©
(
âlow”
)) {

128 
	gdocum’t
.
£tFÜm©
(
TextFÜm©
.
FORMAT_KEYVALUE
);

129 } ià(
	gTextFÜm©
.
	gCONVERTER_MARKDOWN
.
isFeOutOfThisFÜm©
(
âlow”
)) {

130 
	gdocum’t
.
£tFÜm©
(
TextFÜm©
.
FORMAT_MARKDOWN
);

131 } ià(
	gTextFÜm©
.
	gCONVERTER_ZIMWIKI
.
isFeOutOfThisFÜm©
(
feP©h
.
g‘AbsŞu‹P©h
())) {

132 
	gdocum’t
.
£tFÜm©
(
TextFÜm©
.
FORMAT_ZIMWIKI
);

134 
	gdocum’t
.
£tFÜm©
(
TextFÜm©
.
FORMAT_PLAIN
);

138 
SŒšg
 
	gt™Ë
;

139 ià((
	gt™Ë
 = 
docum’t
.
g‘T™Ë
()).
cÚšs
(".")) {

140 
Ï¡IndexOfDÙ
 = 
t™Ë
.
Ï¡IndexOf
(".");

141 
	gdocum’t
.
£tT™Ë
(
t™Ë
.
sub¡ršg
(0, 
Ï¡IndexOfDÙ
));

144 
	gdocum’t
.
£tDoHi¡Üy
(
Œue
);

145 ià(
	gMašAùiv™y
.
	gIS_DEBUG_ENABLED
) {

146 
SŒšg
 
	gc
 = 
docum’t
.
g‘CÚ‹Á
();

147 
	gAµS‘tšgs
.
­³ndDebugLog
("\n\n\n--------------\nLßded docum’t, f•©‹º " + 
docum’t
.
g‘Fe
().
g‘Name
().
»¶aûAÎ
(".*\\.", "-"è+ ", ch¬s: " + 
c
.
Ëngth
(è+ " by‹s:" + c.
g‘By‹s
().Ëngth + "(" + 
FeUts
.
g‘R—dabËFeSize
(c.g‘By‹s().Ëngth, 
Œue
è+ "). Lªguag>" + 
LoÿË
.
g‘DeçuÉ
().
toSŒšg
(è+ "<, Lªguagov”rid>" + 
AµS‘tšgs
.
g‘
().
g‘Lªguage
() + "<");

150 ià(
	g¬gum’ts
.
cÚšsKey
(
EXTRA_FILE_LINE_NUMBER
)) {

151 
fš®
 
	glšeNumb”
 = 
¬gum’ts
.
g‘IÁ
(
EXTRA_FILE_LINE_NUMBER
);

152 
	gdocum’t
.
£tIn™ŸlLšeNumb”
(
lšeNumb”
);

155  
	gdocum’t
;

158 
public
 
synchrÚized
 
boŞ—n
 
	$§veDocum’t
(
fš®
 
Docum’t
 
docum’t
, fš® 
SŒšg
 
‹xt
, fš® 
Sh¬eUt
 
sh¬eUt
, 
CÚ‹xt
 
cÚ‹xt
) {

159 ià(
‹xt
 =ğ
nuÎ
 || (!
SAVE_IGNORE_EMTPY_NEXT_TIME
 &&ext.
	`Œim
().
	`isEm±y
(è&&ext.
	`Ëngth
(è< 
Sh¬eUt
.
MIN_OVERWRITE_LENGTH
)) {

160  
çl£
;

162 
boŞ—n
 
»t
;

163 
SŒšg
 
f’ame
 = 
Docum’tIO
.
	`nÜm®izeT™ËFÜF’ame
(
docum’t
, 
‹xt
è+ docum’t.
	`g‘FeEx‹nsiÚ
();

164 
docum’t
.
	`£tDoHi¡Üy
(
Œue
);

165 
docum’t
.
	`£tFe
(
Ãw
 
	`Fe
(docum’t.
	`g‘Fe
().
	`g‘P¬’tFe
(), 
f’ame
));

167 
Docum’t
 
docum’tIn™Ÿl
 = 
docum’t
.
	`g‘In™ŸlV”siÚ
();

169 
docum’t
.
	`£tFe
(
docum’tIn™Ÿl
.
	`g‘Fe
());

171 ià(!
‹xt
.
	`equ®s
(
docum’tIn™Ÿl
.
	`g‘CÚ‹Á
())) {

172 
»t
 = 
	`wr™eCÚ‹Á
(
docum’t
, 
‹xt
, 
sh¬eUt
, 
cÚ‹xt
);

174 
»t
 = 
Œue
;

176  
»t
;

177 
	}
}

179 
´iv©e
 
boŞ—n
 
	$wr™eCÚ‹Á
(
Docum’t
 
docum’t
, 
SŒšg
 
‹xt
, 
Sh¬eUt
 
sh¬eUt
, 
CÚ‹xt
 
cÚ‹xt
) {

180 
boŞ—n
 
»t
;

181 
docum’t
.
	`fÜûAddNextChªgeToHi¡Üy
();

182 
docum’t
.
	`£tCÚ‹Á
(
‹xt
 + (!
TextUts
.
	`isEm±y
Ñextè&& !‹xt.
	`’dsW™h
("\n") ? "\n" : ""));

185 ià(!
docum’t
.
	`g‘Fe
().
	`g‘P¬’tFe
().
	`exi¡s
()) {

187 
docum’t
.
	`g‘Fe
().
	`g‘P¬’tFe
().
	`mkdœs
();

189 
Œy
 {

190 
fš®
 [] 
pw
;

191 
fš®
 
by‹
[] 
cÚ‹ÁAsBy‹s
;

192 ià(
	`isEnüy±edFe
(
docum’t
.
	`g‘Fe
()è&& (
pw
 = 
	`g‘PasswÜdW™hW¬nšg
(
cÚ‹xt
)è!ğ
nuÎ
) {

193 
cÚ‹ÁAsBy‹s
 = 
Ãw
 
	`JavaPasswÜdba£dCry±iÚ
(
Bud
.
VERSION
.
SDK_INT
,‚ew 
	`Secu»Rªdom
()).
	`’üy±
(
docum’t
.
	`g‘CÚ‹Á
(), 
pw
);

195 
cÚ‹ÁAsBy‹s
 = 
docum’t
.
	`g‘CÚ‹Á
().
	`g‘By‹s
();

198 ià(
sh¬eUt
.
	`isUnd”StÜageAcûssFŞd”
(
docum’t
.
	`g‘Fe
())) {

199 
sh¬eUt
.
	`wr™eFe
(
docum’t
.
	`g‘Fe
(), 
çl£
, (
feO³Ãd
, 
fos
) -> {

200 
Œy
 {

201 
fos
.
	`wr™e
(
cÚ‹ÁAsBy‹s
);

202 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

205 
»t
 = 
Œue
;

207 
»t
 = 
FeUts
.
	`wr™eFe
(
docum’t
.
	`g‘Fe
(), 
cÚ‹ÁAsBy‹s
);

209 } 
	`ÿtch
 (
JavaPasswÜdba£dCry±iÚ
.
Enüy±iÚFaedExû±iÚ
 
e
) {

210 
Log
.
	`e
(
Docum’tIO
.
şass
.
	`g‘Name
(), "writeContent:ƒncrypt failed for File " +

211 
docum’t
.
	`g‘Fe
().
	`g‘AbsŞu‹P©h
(è+ ". " + 
e
.
	`g‘Mes§ge
(),ƒ);

212 
Tß¡
.
	`makeText
(
cÚ‹xt
, 
R
.
¡ršg
.
could_nÙ_’üy±_fe_cÚ‹Á_the_fe_was_nÙ_§ved
, Tß¡.
LENGTH_LONG
).
	`show
();

213 
»t
 = 
çl£
;

215  
»t
;

216 
	}
}

218 
public
 
SŒšg
 
	$g‘MaskedCÚ‹Á
(
Docum’t
 
docum’t
) {

219 
SŒšg
 
‹xt
 = 
docum’t
.
	`g‘CÚ‹Á
().
	`toLow”Ca£
();

220 
SŒšg
 
h‰pTok’
 = "Â§$Â§$Â§$Â§$";

221 
‹xt
 =ext.
	`»¶aû
("h‰p://", 
h‰pTok’
).replace("https://", httpToken);

222 
‹xt
 =ext.
	`»¶aûAÎ
("\\w", "a");

223 
‹xt
 =ext.
	`»¶aû
(
h‰pTok’
, "https://");

224  
‹xt
;

225 
	}
}

227 
public
 
SŒšg
 
	$nÜm®izeT™ËFÜF’ame
(
Docum’t
 
_docum’t
, 
SŒšg
 
cu¼’tCÚ‹Á
) {

228 
SŒšg
 
Çme
 = 
_docum’t
.
	`g‘T™Ë
();

229 
Œy
 {

230 ià(
Çme
.
	`Ëngth
() == 0) {

231 ià(
cu¼’tCÚ‹Á
.
	`Ëngth
() == 0) {

232  
nuÎ
;

234 
SŒšg
 
cÚ‹ÁL1
 = 
cu¼’tCÚ‹Á
.
	`¥l™
("\n")[0];

235 ià(
cÚ‹ÁL1
.
	`Ëngth
(è< 
MAX_TITLE_EXTRACTION_LENGTH
) {

236 
Çme
 = 
cÚ‹ÁL1
;

238 
Çme
 = 
cÚ‹ÁL1
.
	`sub¡ršg
(0, 
MAX_TITLE_EXTRACTION_LENGTH
);

242 
Çme
 =‚ame.
	`»¶aûAÎ
("[\\\\/:\"Â´`'*$?<>\n\r@|#]+", "").
	`Œim
();

243 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

245 ià(
Çme
 =ğ
nuÎ
 ||‚ame.
	`isEm±y
()) {

246 
Çme
 = "NÙ" + 
UUID
.
	`¿ndomUUID
().
	`toSŒšg
();

248  
Çme
;

249 
	}
}

251 
public
 
fš®
 
IÅutF‹r
 
	gINPUT_FILTER_FILESYSTEM_FILENAME
 = 
Ãw
 
	$IÅutF‹r
() {

252 
´iv©e
 
fš®
 
SŒšg
 
blockCh¬aù”S‘
 = "\\/:\"Â´`'*?<>\n\r@|";

254 
public
 
Ch¬Sequ’û
 
	`f‹r
(Ch¬Sequ’û 
sourû
, 
¡¬t
, 
’d
, 
S·Âed
 
de¡
, 
d¡¬t
, 
d’d
) {

255 
i
 = 0; !
TextUts
.
	`isEm±y
(
sourû
è&& i < sourû.
	`Ëngth
(); i++) {

256 ià(
blockCh¬aù”S‘
.
	`cÚšs
(("" + 
sourû
.
	`ch¬At
(
i
)))) {

260  
nuÎ
;

262 
	}
};

264 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
M
)

265 
´iv©e
 [] 
	$g‘PasswÜdW™hW¬nšg
(
fš®
 
CÚ‹xt
 
cÚ‹xt
) {

266 
fš®
 [] 
pw
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
).
	`g‘DeçuÉPasswÜd
();

267 ià(
pw
 =ğ
nuÎ
 ||…w.
Ëngth
 == 0) {

268 
fš®
 
SŒšg
 
w¬nšgText
 = 
cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
no_·sswÜd_£t_ÿÂÙ_’üy±_deüy±
);

269 
Tß¡
.
	`makeText
(
cÚ‹xt
, 
w¬nšgText
, Tß¡.
LENGTH_LONG
).
	`show
();

270 
Log
.
	`w
(
Docum’tIO
.
şass
.
	`g‘Name
(), 
w¬nšgText
);

271  
nuÎ
;

273  
pw
;

274 
	}
}

276 
´iv©e
 
boŞ—n
 
	$isEnüy±edFe
(
Fe
 
fe
) {

277  
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
M
 && 
fe
.
	`g‘Name
().
	`’dsW™h
(
JavaPasswÜdba£dCry±iÚ
.
DEFAULT_ENCRYPTION_EXTENSION
);

278 
	}
}

	@app/src/main/java/net/gsantner/markor/util/MarkorWebViewClient.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

14 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gcu¡ombs
.
	gCu¡omTabsIÁ’t
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

17 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

18 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›wCl›Á
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gDocum’tAùiv™y
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

24 
impÜt
 
	gjava
.
	gio
.
	gFe
;

25 
impÜt
 
	gjava
.
	gÃt
.
	gURLDecod”
;

27 
public
 cÏs 
	cM¬kÜWebV›wCl›Á
 
ex‹nds
 
	mWebV›wCl›Á
 {

29 
´iv©e
 
fš®
 
Aùiv™y
 
	m_aùiv™y
;

30 
´iv©e
 
	m_»¡ÜeSüŞlY
 = 0;

31 
´iv©e
 
boŞ—n
 
	m_»¡ÜeSüŞlYEÇbËd
 = 
çl£
;

33 
public
 
	$M¬kÜWebV›wCl›Á
(
Aùiv™y
 
aùiv™y
) {

34 
_aùiv™y
 = 
aùiv™y
;

37 @
Ov”ride


38 
public
 
boŞ—n
 
	$shouldOv”rideU¾Lßdšg
(
WebV›w
 
v›w
, 
SŒšg
 
u¾
) {

39 
Œy
 {

40 ià(
u¾
.
	`equ®s
("about:blank")) {

41 
v›w
.
	`»lßd
();

42  
Œue
;

44 ià(
u¾
.
	`¡¬tsW™h
("file:///android_asset/")) {

45  
çl£
;

46 } ià(
u¾
.
	`¡¬tsW™h
("file://")) {

47 
Sh¬eUt
 
su
 = 
Ãw
 
	`Sh¬eUt
(
v›w
.
	`g‘CÚ‹xt
());

48 
Fe
 
fe
 = 
Ãw
 
	`Fe
(
URLDecod”
.
	`decode
(
u¾
.
	`»¶aû
("file://", "")));

49 
SŒšg
 
mim‘y³
;

50 
SŒšg
 
¡r
 : 
Ãw
 SŒšg[]{
fe
.
	`g‘AbsŞu‹P©h
(), fe.g‘AbsŞu‹P©h().
	`»¶aûFœ¡
("[#].*$", ""), file.getAbsolutePath() + ".md", file.getAbsolutePath() + ".txt"}) {

51 
Fe
 
f
 = 
Ãw
 
	`Fe
(
¡r
);

52 ià(
f
.
	`exi¡s
(è&& 
TextFÜm©
.
	`isTextFe
(f)) {

53 
fe
 = 
f
;

57 ià(
TextFÜm©
.
	`isTextFe
(
fe
)) {

58 
IÁ’t
 
ÃwP»v›w
 = 
Ãw
 
	`IÁ’t
(
_aùiv™y
, 
Docum’tAùiv™y
.
şass
);

59 
ÃwP»v›w
.
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
fe
);

60 
ÃwP»v›w
.
	`putExŒa
(
Docum’tAùiv™y
.
EXTRA_DO_PREVIEW
, 
Œue
);

61 
_aùiv™y
.
	`¡¬tAùiv™y
(
ÃwP»v›w
);

62 } ià(
fe
.
	`g‘Name
().
	`toLow”Ca£
().
	`’dsW™h
(".apk")) {

63 
su
.
	`»que¡ApkIn¡®ÏtiÚ
(
fe
);

64 } ià((
mim‘y³
 = 
CÚ‹xtUts
.
	`g‘MimeTy³
(
u¾
)è!ğ
nuÎ
) {

65 
su
.
	`v›wFeInOth”Aµ
(
fe
, 
mim‘y³
);

67 
su
.
	`v›wFeInOth”Aµ
(
fe
, 
nuÎ
);

70 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
_aùiv™y
.
	`g‘AµliÿtiÚCÚ‹xt
());

71 
Sh¬eUt
 
su
 = 
Ãw
 
	`Sh¬eUt
(
v›w
.
	`g‘CÚ‹xt
());

72 
Œy
 {

76 
Cu¡omTabsIÁ’t
.
Bud”
 
bud”
 = 
Ãw
 Cu¡omTabsIÁ’t.
	`Bud”
();

77 
bud”
.
	`£tToŞb¬CŞÜ
(
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
_aùiv™y
, 
R
.
cŞÜ
.
´im¬y
));

78 
bud”
.
	`£tSecÚd¬yToŞb¬CŞÜ
(
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
_aùiv™y
, 
R
.
cŞÜ
.
´im¬y_d¬k
));

79 
bud”
.
	`addDeçuÉSh¬eM’uI‹m
();

80 
Cu¡omTabsIÁ’t
 
cu¡omTabsIÁ’t
 = 
bud”
.
	`bud
();

81 
su
.
	`’abËChromeCu¡omTabsFÜOth”Brow£rs
(
cu¡omTabsIÁ’t
.
š‹Á
);

82 
cu¡omTabsIÁ’t
.
	`ÏunchU¾
(
_aùiv™y
, 
Uri
.
	`·r£
(
u¾
));

83 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

84 
cu
.
	`İ’Web·geInEx‹º®Brow£r
(
u¾
);

87 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

89  
Œue
;

90 
	}
}

92 @
Ov”ride


93 
public
 
	$ÚPageFšished
(
WebV›w
 
v›w
, 
SŒšg
 
u¾
) {

94 ià(
_»¡ÜeSüŞlYEÇbËd
) {

95 
dt
 : 
Ãw
 []{50, 100, 150, 200, 250, 300}) {

96 
v›w
.
	`po¡D–ayed
((è-> v›w.
	`£tSüŞlY
(
_»¡ÜeSüŞlY
), 
dt
);

98 
_»¡ÜeSüŞlYEÇbËd
 = 
çl£
;

100 
su³r
.
	`ÚPageFšished
(
v›w
, 
u¾
);

101 
	}
}

103 
public
 
	$£tRe¡ÜeSüŞlY
(
süŞlY
) {

104 
_»¡ÜeSüŞlY
 = 
süŞlY
;

105 
_»¡ÜeSüŞlYEÇbËd
 = 
Œue
;

106 
	}
}

	@app/src/main/java/net/gsantner/markor/util/PermissionChecker.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
;

17 
public
 
şass
 
P”missiÚCheck”
 
ex‹nds
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gP”missiÚCheck”
 {

19 
public
 
P”missiÚCheck”
(
Aùiv™y
 
aùiv™y
) {

20 
su³r
(
aùiv™y
);

23 @
Ov”ride


24 
public
 
boŞ—n
 
doIfExtStÜageP”missiÚG¿Áed
(
SŒšg
... 
İtiÚ®Tß¡Mes§geFÜKnowšgWhyN“ded
) {

25  
	gsu³r
.
doIfExtStÜageP”missiÚG¿Áed
(
_aùiv™y
.
g‘SŒšg
(
R
.
¡ršg
.
”rÜ_Ãed_¡Üage_³rmissiÚ_to_§ve_docum’ts
));

28 @
Ov”ride


29 
public
 
boŞ—n
 
checkP”missiÚResuÉ
(
»que¡Code
, 
SŒšg
[] 
³rmissiÚs
, [] 
g¿ÁResuÉs
) {

30 
boŞ—n
 
	gv®
 = 
su³r
.
checkP”missiÚResuÉ
(
»que¡Code
, 
³rmissiÚs
, 
g¿ÁResuÉs
);

31 ià(!
	gv®
) {

32 
Ãw
 
Aùiv™yUts
(
_aùiv™y
).
showSÇckB¬
(
R
.
¡ršg
.
”rÜ_Ãed_¡Üage_³rmissiÚ_to_§ve_docum’ts
, 
Œue
);

34  
	gv®
;

37 
public
 
boŞ—n
 
mkdœIfStÜageP”missiÚG¿Áed
() {

38  
	gsu³r
.
mkdœIfStÜageP”missiÚG¿Áed
(
AµS‘tšgs
.
g‘
().
g‘NÙebookDœeùÜy
());

	@app/src/main/java/net/gsantner/markor/util/ShareUtil.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

15 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

16 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

17 
impÜt
 
	gªdroid
.
	g´št
.
	gPrštJob
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

19 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

20 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

21 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gDocum’tR–ayAùiv™y
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
.
	gDocum’t
;

27 
public
 
şass
 
Sh¬eUt
 
ex‹nds
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gSh¬eUt
 {

28 
public
 
Sh¬eUt
(
CÚ‹xt
 
cÚ‹xt
) {

29 
su³r
(
cÚ‹xt
);

30 
£tChoo£rT™Ë
(
_cÚ‹xt
.
g‘SŒšg
(
R
.
¡ršg
.
sh¬e_to_¬row
));

33 
public
 
ü—‹Launch”DesktİShÜtcut
(
Docum’t
 
docum’t
) {

37 ià(
	gdocum’t
 !ğ
nuÎ
 && 
docum’t
.
g‘Fe
(è!ğnuÎ && !
TextUts
.
isEm±y
(docum’t.
g‘T™Ë
())) {

38 
IÁ’t
 
shÜtcutIÁ’t
 = 
Ãw
 IÁ’t(
_cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
)

39 .
£tD©a
(
Uri
.
äomFe
(
docum’t
.
g‘Fe
()));

40 
	gsu³r
.
ü—‹Launch”DesktİShÜtcut
(
shÜtcutIÁ’t
, 
R
.
d¿wabË
.
ic_Ïunch”
, 
docum’t
.
g‘T™Ë
());

41 
	gTß¡
.
makeText
(
_cÚ‹xt
, 
R
.
¡ršg
.
Œ›d_to_ü—‹_shÜtcut_fÜ_this_nÙiû
, 
Tß¡
.
LENGTH_LONG
).
show
();

45 @
RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
KITKAT
)

46 @
Suµ»ssW¬nšgs
("deprecation")

47 
public
 
PrštJob
 
´štOrC»©ePdfFromWebv›w
(
WebV›w
 
webv›w
, 
Docum’t
 
docum’t
, 
boŞ—n
... 
Ïndsÿ³
) {

48 
SŒšg
 
	gjobName
 = SŒšg.
fÜm©
("% (%s)", 
docum’t
.
g‘T™Ë
(), 
_cÚ‹xt
.
g‘SŒšg
(
R
.
¡ršg
.
­p_Çme_»®
));

49  
	gsu³r
.
´št
(
webv›w
, 
jobName
, 
Ïndsÿ³
);

52 
public
 
showMouÁSdDŸlog
(
Aùiv™y
... 
aùiv™y
) {

53 
showMouÁSdDŸlog
(
R
.
¡ršg
.
mouÁ_¡Üage
, R.¡ršg.
­¶iÿtiÚ_Ãeds_acûss_to_¡Üage_mouÁ_™
, R.
d¿wabË
.
mouÁ_sdÿrd_h–p
, 
aùiv™y
);

	@app/src/main/java/net/gsantner/markor/util/ShortcutUtils.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gShÜtcutInfo
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gShÜtcutMªag”
;

16 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gIcÚ
;

17 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

18 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gDocum’tR–ayAùiv™y
;

24 
impÜt
 
	gjava
.
	gio
.
	gFe
;

25 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

26 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

32 
public
 cÏs 
	cShÜtcutUts
 {

34 
´iv©e
 
fš®
 
SŒšg
 
	mID_PREFIX
 = "shortcut_";

35 
´iv©e
 
fš®
 
SŒšg
 
	mID_TO_DO
 = 
ID_PREFIX
 + "to_do";

36 
´iv©e
 
fš®
 
SŒšg
 
	mID_QUICK_NOTE
 = 
ID_PREFIX
 + "quick_note";

38 
´iv©e
 
fš®
 
	mMAX_RECENT_DOCUMENTS
 = 1;

40 
´iv©e
 
	$ShÜtcutUts
() {

52 
public
 
	`£tShÜtcuts
(@
NÚNuÎ
 
CÚ‹xt
 
cÚ‹xt
) {

53 
Œy
 {

54 ià(
Bud
.
VERSION
.
SDK_INT
 < Bud.
VERSION_CODES
.
N_MR1
) {

58 
ShÜtcutMªag”
 
shÜtcutMªag”
 = 
cÚ‹xt
.
	`g‘Sy¡emS”viû
(ShÜtcutMªag”.
şass
);

59 
Li¡
<
ShÜtcutInfo
> 
ÃwShÜtcuts
 = 
Ãw
 
A¼ayLi¡
<>();

61 
fš®
 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
);

64 
IÁ’t
 
İ’Todo
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
)

65 .
	`£tAùiÚ
(
IÁ’t
.
ACTION_EDIT
)

66 .
	`£tD©a
(
Uri
.
	`äomFe
(
­pS‘tšgs
.
	`g‘TodoFe
()));

68 
ShÜtcutInfo
 
shÜtcutToDo
 = 
Ãw
 ShÜtcutInfo.
	`Bud”
(
cÚ‹xt
, 
ID_TO_DO
)

69 .
	`£tShÜtLab–
(
	`ü—‹ShÜtLab–
(
cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
todo
)))

70 .
	`£tLÚgLab–
(
	`ü—‹LÚgLab–
(
cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
todo
)))

71 .
	`£tIcÚ
(
IcÚ
.
	`ü—‹W™hResourû
(
cÚ‹xt
, 
R
.
mm­
.
ic_shÜtcut_todo
))

72 .
	`£tIÁ’t
(
İ’Todo
)

73 .
	`bud
();

74 
ÃwShÜtcuts
.
	`add
(
shÜtcutToDo
);

77 
IÁ’t
 
İ’QuickNÙe
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
)

78 .
	`£tAùiÚ
(
IÁ’t
.
ACTION_EDIT
)

79 .
	`£tD©a
(
Uri
.
	`äomFe
(
­pS‘tšgs
.
	`g‘QuickNÙeFe
()));

81 
ShÜtcutInfo
 
shÜtcutQuickNÙe
 = 
Ãw
 ShÜtcutInfo.
	`Bud”
(
cÚ‹xt
, 
ID_QUICK_NOTE
)

82 .
	`£tShÜtLab–
(
	`ü—‹ShÜtLab–
(
cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
quicknÙe
)))

83 .
	`£tLÚgLab–
(
	`ü—‹LÚgLab–
(
cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
quicknÙe
)))

84 .
	`£tIcÚ
(
IcÚ
.
	`ü—‹W™hResourû
(
cÚ‹xt
, 
R
.
mm­
.
ic_shÜtcut_quicknÙe
))

85 .
	`£tIÁ’t
(
İ’QuickNÙe
)

86 .
	`bud
();

87 
ÃwShÜtcuts
.
	`add
(
shÜtcutQuickNÙe
);

90 
AµS‘tšgs
 
£‰šgs
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
);

91 
Li¡
<
SŒšg
> 
»ûÁDocum’ts
 = 
£‰šgs
.
	`g‘ReûÁDocum’ts
();

93 
couÁ
 = 0;

94 
SŒšg
 
feP©h
 : 
»ûÁDocum’ts
) {

95 ià(
couÁ
 > 
MAX_RECENT_DOCUMENTS
) ;

96 
couÁ
++;

98 
Fe
 
fe
 = 
Ãw
 
	`Fe
(
feP©h
);

100 
IÁ’t
 
İ’Fe
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
)

101 .
	`£tAùiÚ
(
IÁ’t
.
ACTION_EDIT
)

102 .
	`£tD©a
(
Uri
.
	`äomFe
(
fe
));

104 
fš®
 
SŒšg
 
Çme
 = 
fe
.
	`g‘Name
();

105 
ÃwShÜtcuts
.
	`add
(
Ãw
 
ShÜtcutInfo
.
	`Bud”
(
cÚ‹xt
, 
ID_PREFIX
 + 
Çme
)

106 .
	`£tShÜtLab–
(
	`ü—‹ShÜtLab–
(
Çme
))

107 .
	`£tLÚgLab–
(
	`ü—‹LÚgLab–
(
Çme
))

108 .
	`£tIcÚ
(
IcÚ
.
	`ü—‹W™hResourû
(
cÚ‹xt
, 
R
.
mm­
.
ic_shÜtcut_fe
))

109 .
	`£tIÁ’t
(
İ’Fe
)

110 .
	`bud
());

113 
shÜtcutMªag”
.
	`£tDyÇmicShÜtcuts
(
ÃwShÜtcuts
);

114 } 
	`ÿtch
 (
Exû±iÚ
 
”rÜ
) {

115 
”rÜ
.
	`´štSckT¿û
();

117 
	}
}

125 
´iv©e
 
SŒšg
 
	$ü—‹ShÜtLab–
(
SŒšg
 
šput
) {

126  (
šput
.
	`Ëngth
(è> 10è? iÅut.
	`sub¡ršg
(0, 7) + "..." : input;

127 
	}
}

135 
´iv©e
 
SŒšg
 
	$ü—‹LÚgLab–
(
SŒšg
 
šput
) {

136  (
šput
.
	`Ëngth
(è> 25è? iÅut.
	`sub¡ršg
(0, 22) + "..." : input;

137 
	}
}

	@app/src/main/java/net/gsantner/opoc/activity/GsActivityBase.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜIÁ
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAµCom·tAùiv™y
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
;

23 
public
 
ab¡¿ù
 
şass
 
	gGsAùiv™yBa£
<
AS
 
ex‹nds
 
	gSh¬edP»ã»nûsPrİ”tyBack’d
>ƒx‹nd 
	gAµCom·tAùiv™y
 {

25 
´Ùeùed
 
AS
 
	g_­pS‘tšgs
;

26 
´Ùeùed
 
BundË
 
	g_§vedIn¡ªûS‹
;

27 
´Ùeùed
 
Aùiv™yUts
 
	g_aùiv™yUts
;

29 @
CŞÜIÁ


30 
´Ùeùed
 
IÁeg”
 
	g_deçuÉNavig©iÚB¬CŞÜ
 = 
nuÎ
;

32 @
Ov”ride


33 
´Ùeùed
 
ÚC»©e
(@
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
) {

34 
	gsu³r
.
ÚC»©e
(
§vedIn¡ªûS‹
);

35 
	g_§vedIn¡ªûS‹
 = 
§vedIn¡ªûS‹
;

36 
	g_­pS‘tšgs
 = 
ü—‹AµS‘tšgsIn¡ªû
(
g‘AµliÿtiÚCÚ‹xt
());

37 
	g_aùiv™yUts
 = 
Ãw
 
Aùiv™yUts
(
this
);

39 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
LOLLIPOP
 && 
_deçuÉNavig©iÚB¬CŞÜ
 =ğ
nuÎ
) {

40 
_deçuÉNavig©iÚB¬CŞÜ
 = 
g‘Wšdow
().
g‘Navig©iÚB¬CŞÜ
();

44 
public
 
AS
 
ü—‹AµS‘tšgsIn¡ªû
(
CÚ‹xt
 
­¶iÿtiÚCÚ‹xt
) {

45  
	gnuÎ
;

48 @
Ov”ride


49 
´Ùeùed
 
ÚRe¡ÜeIn¡ªûS‹
(
BundË
 
§vedIn¡ªûS‹
) {

50 
	gsu³r
.
ÚRe¡ÜeIn¡ªûS‹
(
§vedIn¡ªûS‹
);

51 
	g_§vedIn¡ªûS‹
 = 
§vedIn¡ªûS‹
;

54 @
Ov”ride


55 
´Ùeùed
 
ÚResume
() {

56 
	gsu³r
.
ÚResume
();

58 
IÁeg”
 
	gcŞÜ
 = 
g‘NewNavig©iÚB¬CŞÜ
();

59 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
LOLLIPOP
 && 
cŞÜ
 !ğ
nuÎ
) {

60 
g‘Wšdow
().
£tNavig©iÚB¬CŞÜ
(
cŞÜ
);

64 @
CŞÜIÁ


65 
public
 
IÁeg”
 
g‘NewNavig©iÚB¬CŞÜ
() {

66  
	gnuÎ
;

	@app/src/main/java/net/gsantner/opoc/activity/GsFragmentBase.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gLayoutRes
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’t
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞb¬
;

20 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

21 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uInæ©”
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

25 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gªdroid
.
	gdummy
.
	gM’uI‹mDummy
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

30 
impÜt
 
	gbu‰”kniã
.
	gBu‰”Kniã
;

35 
public
 
ab¡¿ù
 cÏs 
	cGsF¿gm’tBa£
 
ex‹nds
 
	mF¿gm’t
 {

36 
´iv©e
 
boŞ—n
 
	m_äagm’tFœ¡TimeVisibË
 = 
Œue
;

37 
´iv©e
 
fš®
 
Objeù
 
	m_äagm’tFœ¡TimeVisibËSync
 = 
Ãw
 Object();

39 
´Ùeùed
 
CÚ‹xtUts
 
	m_cu
;

40 
´Ùeùed
 
BundË
 
	m_§vedIn¡ªûS‹
 = 
nuÎ
;

41 
´Ùeùed
 
M’u
 
	m_äagm’tM’u
 = 
Ãw
 
M’uI‹mDummy
.Menu();

43 @
Ov”ride


44 
public
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

45 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

46 
	`£tHasO±iÚsM’u
(
Œue
);

53 @
D•»ÿ‹d


54 @
NuÎabË


55 @
Ov”ride


56 
public
 
V›w
 
	`ÚC»©eV›w
(@
NÚNuÎ
 
LayoutInæ©”
 
šæ©”
, @
NuÎabË
 
V›wGroup
 
cÚš”
, @NuÎabË 
BundË
 
§vedIn¡ªûS‹
) {

57 
_cu
 = 
Ãw
 
	`CÚ‹xtUts
(
šæ©”
.
	`g‘CÚ‹xt
());

58 
_cu
.
	`£tAµLªguage
(
	`g‘AµLªguage
());

59 
_§vedIn¡ªûS‹
 = 
§vedIn¡ªûS‹
;

60 ià(
	`g‘LayoutResId
() == 0) {

61 
Log
.
	`e
(
	`g‘CÏss
().
	`g‘CªÚiÿlName
(), "Error: GsFragmentbase.onCreateview: Returned 0 for getLayoutResId");

63 
V›w
 
v›w
 = 
šæ©”
.
	`šæ©e
(
	`g‘LayoutResId
(), 
cÚš”
, 
çl£
);

64 
Bu‰”Kniã
.
	`bšd
(
this
, 
v›w
);

65  
v›w
;

66 
	}
}

68 @
Ov”ride


69 
public
 
ÚV›wC»©ed
(@
NÚNuÎ
 
V›w
 
v›w
, @
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
) {

70 
	gsu³r
.
ÚV›wC»©ed
(
v›w
, 
§vedIn¡ªûS‹
);

71 
	gv›w
.
po¡D–ayed
(() -> {

72 
synchrÚized
 (
_äagm’tFœ¡TimeVisibËSync
) {

73 ià(
g‘U£rVisibËHšt
(è&& 
isVisibË
(è&& 
_äagm’tFœ¡TimeVisibË
) {

74 
_äagm’tFœ¡TimeVisibË
 = 
çl£
;

75 
ÚF¿gm’tFœ¡TimeVisibË
();

86 
public
 
ab¡¿ù
 
SŒšg
 
g‘F¿gm’tTag
();

94 @
LayoutRes


95 
´Ùeùed
 
ab¡¿ù
 
g‘LayoutResId
();

104 
public
 
boŞ—n
 
	$ÚBackP»s£d
() {

105  
çl£
;

106 
	}
}

114 
public
 
SŒšg
 
	$g‘AµLªguage
() {

115 ià(
	`g‘CÚ‹xt
(è!ğ
nuÎ
) {

116  
	`g‘CÚ‹xt
().
	`g‘Sh¬edP»ã»nûs
("­p", 
CÚ‹xt
.
MODE_PRIVATE
)

117 .
	`g‘SŒšg
("pref_key__language", "");

120 
	}
}

125 
public
 
	$ÚF¿gm’tFœ¡TimeVisibË
() {

126 
	}
}

128 @
Ov”ride


129 
public
 
	$£tU£rVisibËHšt
(
boŞ—n
 
isVisibËToU£r
) {

130 
su³r
.
	`£tU£rVisibËHšt
(
isVisibËToU£r
);

131 
	`synchrÚized
 (
_äagm’tFœ¡TimeVisibËSync
) {

132 ià(
isVisibËToU£r
 && 
_äagm’tFœ¡TimeVisibË
) {

133 
_äagm’tFœ¡TimeVisibË
 = 
çl£
;

134 
	`ÚF¿gm’tFœ¡TimeVisibË
();

137 
	}
}

139 @
Ov”ride


140 
public
 
	$ÚC»©eO±iÚsM’u
(
M’u
 
m’u
, 
M’uInæ©”
 
šæ©”
) {

141 
su³r
.
	`ÚC»©eO±iÚsM’u
(
m’u
, 
šæ©”
);

142 
_äagm’tM’u
 = 
m’u
;

143 
	}
}

145 
public
 
M’u
 
	$g‘F¿gm’tM’u
() {

146  
_äagm’tM’u
;

147 
	}
}

153 @
Suµ»ssW¬nšgs
("ConstantConditions")

154 
´Ùeùed
 
ToŞb¬
 
	$g‘ToŞb¬
() {

155 
Œy
 {

156  (
ToŞb¬
è
	`g‘Aùiv™y
().
	`fšdV›wById
(
Ãw
 
	`CÚ‹xtUts
(g‘Aùiv™y()).
	`g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
ID
, "toolbar"));

157 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

158  
nuÎ
;

160 
	}
}

	@app/src/main/java/net/gsantner/opoc/android/dummy/MenuItemDummy.java

14 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gªdroid
.
	gdummy
;

16 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCompÚ’tName
;

17 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

18 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gD¿wabË
;

19 
impÜt
 
	gªdroid
.
	gv›w
.
	gAùiÚProvid”
;

20 
impÜt
 
	gªdroid
.
	gv›w
.
	gCÚ‹xtM’u
;

21 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gSubM’u
;

24 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

26 
public
 cÏs 
	cM’uI‹mDummy
 
im¶em’ts
 
	mM’uI‹m
 {

27 
´iv©e
 
fš®
 
	m_™emId
;

29 
public
 
	$M’uI‹mDummy
(
fš®
 
™emId
) {

30 
_™emId
 = 
™emId
;

33 @
Ov”ride


34 
public
 
	$g‘I‹mId
() {

35  
_™emId
;

36 
	}
}

38 @
Ov”ride


39 
public
 
	$g‘GroupId
() {

41 
	}
}

43 @
Ov”ride


44 
public
 
	$g‘Ord”
() {

46 
	}
}

48 @
Ov”ride


49 
public
 
M’uI‹m
 
	$£tT™Ë
(
Ch¬Sequ’û
 
t™Ë
) {

50  
nuÎ
;

51 
	}
}

53 @
Ov”ride


54 
public
 
M’uI‹m
 
	$£tT™Ë
(
t™Ë
) {

55  
nuÎ
;

56 
	}
}

58 @
Ov”ride


59 
public
 
Ch¬Sequ’û
 
	$g‘T™Ë
() {

60  
nuÎ
;

61 
	}
}

63 @
Ov”ride


64 
public
 
M’uI‹m
 
	$£tT™ËCÚd’£d
(
Ch¬Sequ’û
 
t™Ë
) {

65  
nuÎ
;

66 
	}
}

68 @
Ov”ride


69 
public
 
Ch¬Sequ’û
 
	$g‘T™ËCÚd’£d
() {

70  
nuÎ
;

71 
	}
}

73 @
Ov”ride


74 
public
 
M’uI‹m
 
	$£tIcÚ
(
D¿wabË
 
icÚ
) {

75  
nuÎ
;

76 
	}
}

78 @
Ov”ride


79 
public
 
M’uI‹m
 
	$£tIcÚ
(
icÚRes
) {

80  
nuÎ
;

81 
	}
}

83 @
Ov”ride


84 
public
 
D¿wabË
 
	$g‘IcÚ
() {

85  
nuÎ
;

86 
	}
}

88 @
Ov”ride


89 
public
 
M’uI‹m
 
	$£tIÁ’t
(
IÁ’t
 
š‹Á
) {

90  
nuÎ
;

91 
	}
}

93 @
Ov”ride


94 
public
 
IÁ’t
 
	$g‘IÁ’t
() {

95  
nuÎ
;

96 
	}
}

98 @
Ov”ride


99 
public
 
M’uI‹m
 
	$£tShÜtcut
(
num”icCh¬
, 
®phaCh¬
) {

100  
nuÎ
;

101 
	}
}

103 @
Ov”ride


104 
public
 
M’uI‹m
 
	$£tNum”icShÜtcut
(
num”icCh¬
) {

105  
nuÎ
;

106 
	}
}

108 @
Ov”ride


109 
public
 
	$g‘Num”icShÜtcut
() {

111 
	}
}

113 @
Ov”ride


114 
public
 
M’uI‹m
 
	$£tAÍhab‘icShÜtcut
(
®phaCh¬
) {

115  
nuÎ
;

116 
	}
}

118 @
Ov”ride


119 
public
 
	$g‘AÍhab‘icShÜtcut
() {

121 
	}
}

123 @
Ov”ride


124 
public
 
M’uI‹m
 
	$£tCheckabË
(
boŞ—n
 
checkabË
) {

125  
nuÎ
;

126 
	}
}

128 @
Ov”ride


129 
public
 
boŞ—n
 
	$isCheckabË
() {

130  
çl£
;

131 
	}
}

133 @
Ov”ride


134 
public
 
M’uI‹m
 
	$£tChecked
(
boŞ—n
 
checked
) {

135  
nuÎ
;

136 
	}
}

138 @
Ov”ride


139 
public
 
boŞ—n
 
	$isChecked
() {

140  
çl£
;

141 
	}
}

143 @
Ov”ride


144 
public
 
M’uI‹m
 
	$£tVisibË
(
boŞ—n
 
visibË
) {

145  
nuÎ
;

146 
	}
}

148 @
Ov”ride


149 
public
 
boŞ—n
 
	$isVisibË
() {

150  
çl£
;

151 
	}
}

153 @
Ov”ride


154 
public
 
M’uI‹m
 
	$£tEÇbËd
(
boŞ—n
 
’abËd
) {

155  
nuÎ
;

156 
	}
}

158 @
Ov”ride


159 
public
 
boŞ—n
 
	$isEÇbËd
() {

160  
çl£
;

161 
	}
}

163 @
Ov”ride


164 
public
 
boŞ—n
 
	$hasSubM’u
() {

165  
çl£
;

166 
	}
}

168 @
Ov”ride


169 
public
 
SubM’u
 
	$g‘SubM’u
() {

170  
nuÎ
;

171 
	}
}

173 @
Ov”ride


174 
public
 
M’uI‹m
 
	$£tOnM’uI‹mClickLi¡’”
(
OnM’uI‹mClickLi¡’”
 
m’uI‹mClickLi¡’”
) {

175  
nuÎ
;

176 
	}
}

178 @
Ov”ride


179 
public
 
	gCÚ‹xtM’u
.
CÚ‹xtM’uInfo
 
	$g‘M’uInfo
() {

180  
nuÎ
;

181 
	}
}

183 @
Ov”ride


184 
public
 
	$£tShowAsAùiÚ
(
aùiÚEnum
) {

185 
	}
}

187 @
Ov”ride


188 
public
 
M’uI‹m
 
	$£tShowAsAùiÚFÏgs
(
aùiÚEnum
) {

189  
nuÎ
;

190 
	}
}

192 @
Ov”ride


193 
public
 
M’uI‹m
 
	$£tAùiÚV›w
(
V›w
 
v›w
) {

194  
nuÎ
;

195 
	}
}

197 @
Ov”ride


198 
public
 
M’uI‹m
 
	$£tAùiÚV›w
(
»sId
) {

199  
nuÎ
;

200 
	}
}

202 @
Ov”ride


203 
public
 
V›w
 
	$g‘AùiÚV›w
() {

204  
nuÎ
;

205 
	}
}

207 @
Ov”ride


208 
public
 
M’uI‹m
 
	$£tAùiÚProvid”
(
AùiÚProvid”
 
aùiÚProvid”
) {

209  
nuÎ
;

210 
	}
}

212 @
Ov”ride


213 
public
 
AùiÚProvid”
 
	$g‘AùiÚProvid”
() {

214  
nuÎ
;

215 
	}
}

217 @
Ov”ride


218 
public
 
boŞ—n
 
	$ex·ndAùiÚV›w
() {

219  
çl£
;

220 
	}
}

222 @
Ov”ride


223 
public
 
boŞ—n
 
	$cŞÏp£AùiÚV›w
() {

224  
çl£
;

225 
	}
}

227 @
Ov”ride


228 
public
 
boŞ—n
 
	$isAùiÚV›wEx·nded
() {

229  
çl£
;

230 
	}
}

232 @
Ov”ride


233 
public
 
M’uI‹m
 
	$£tOnAùiÚEx·ndLi¡’”
(
OnAùiÚEx·ndLi¡’”
 
li¡’”
) {

234  
nuÎ
;

235 
	}
}

238 
public
 
şass
 
M’u
 
im¶em’ts
 
	gªdroid
.
	gv›w
.
	gM’u
 {

239 @
Ov”ride


240 
public
 
M’uI‹m
 
add
(
Ch¬Sequ’û
 
t™Ë
) {

241  
add
(0, 0, 0, "");

244 @
Ov”ride


245 
public
 
M’uI‹m
 
add
(
t™ËRes
) {

246  
add
(0, 0, 0, "");

249 @
Ov”ride


250 
public
 
M’uI‹m
 
add
(
groupId
, 
™emId
, 
Üd”
, 
Ch¬Sequ’û
 
t™Ë
) {

251  
Ãw
 
M’uI‹mDummy
(
™emId
);

254 @
Ov”ride


255 
public
 
M’uI‹m
 
add
(
groupId
, 
™emId
, 
Üd”
, 
t™ËRes
) {

256  
add
(0, 0, 0, "");

259 @
Ov”ride


260 
public
 
SubM’u
 
addSubM’u
(
Ch¬Sequ’û
 
t™Ë
) {

261  
	gnuÎ
;

264 @
Ov”ride


265 
public
 
SubM’u
 
addSubM’u
(
t™ËRes
) {

266  
	gnuÎ
;

269 @
Ov”ride


270 
public
 
SubM’u
 
addSubM’u
(
groupId
, 
™emId
, 
Üd”
, 
Ch¬Sequ’û
 
t™Ë
) {

271  
	gnuÎ
;

274 @
Ov”ride


275 
public
 
SubM’u
 
addSubM’u
(
groupId
, 
™emId
, 
Üd”
, 
t™ËRes
) {

276  
	gnuÎ
;

279 @
Ov”ride


280 
public
 
addIÁ’tO±iÚs
(
groupId
, 
™emId
, 
Üd”
, 
CompÚ’tName
 
ÿÎ”
, 
IÁ’t
[] 
¥ecifics
, IÁ’ˆ
š‹Á
, 
æags
, 
M’uI‹m
[] 
outS³cificI‹ms
) {

284 @
Ov”ride


285 
public
 
»moveI‹m
(
id
) {

288 @
Ov”ride


289 
public
 
»moveGroup
(
groupId
) {

292 @
Ov”ride


293 
public
 
ş—r
() {

296 @
Ov”ride


297 
public
 
£tGroupCheckabË
(
group
, 
boŞ—n
 
checkabË
, boŞ—À
exşusive
) {

300 @
Ov”ride


301 
public
 
£tGroupVisibË
(
group
, 
boŞ—n
 
visibË
) {

304 @
Ov”ride


305 
public
 
£tGroupEÇbËd
(
group
, 
boŞ—n
 
’abËd
) {

308 @
Ov”ride


309 
public
 
boŞ—n
 
hasVisibËI‹ms
() {

310  
	gçl£
;

313 @
Ov”ride


314 
public
 
M’uI‹m
 
fšdI‹m
(
id
) {

315  
	gnuÎ
;

318 @
Ov”ride


319 
public
 
size
() {

323 @
Ov”ride


324 
public
 
M’uI‹m
 
g‘I‹m
(
šdex
) {

325  
	gnuÎ
;

328 @
Ov”ride


329 
public
 
şo£
() {

332 @
Ov”ride


333 
public
 
boŞ—n
 
³rfÜmShÜtcut
(
keyCode
, 
KeyEv’t
 
ev’t
, 
æags
) {

334  
	gçl£
;

337 @
Ov”ride


338 
public
 
boŞ—n
 
isShÜtcutKey
(
keyCode
, 
KeyEv’t
 
ev’t
) {

339  
	gçl£
;

342 @
Ov”ride


343 
public
 
boŞ—n
 
³rfÜmId’tif›rAùiÚ
(
id
, 
æags
) {

344  
	gçl£
;

347 @
Ov”ride


348 
public
 
£tQw”tyMode
(
boŞ—n
 
isQw”ty
) {

	@app/src/main/java/net/gsantner/opoc/android/dummy/TextWatcherDummy.java

14 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gªdroid
.
	gdummy
;

16 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

17 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

21 @
Suµ»ssW¬nšgs
({"unused", "SpellCheckingInspection"})

22 
public
 cÏs 
	cTextW©ch”Dummy
 
im¶em’ts
 
	mTextW©ch”
 {

23 @
Ov”ride


24 
public
 
	$befÜeTextChªged
(
fš®
 
Ch¬Sequ’û
 
s
, fš® 
¡¬t
, fš® 
couÁ
, fš® 
aá”
) {

27 @
Ov”ride


28 
public
 
	$ÚTextChªged
(
fš®
 
Ch¬Sequ’û
 
s
, fš® 
¡¬t
, fš® 
befÜe
, fš® 
couÁ
) {

29 
	}
}

31 @
Ov”ride


32 
public
 
	$aá”TextChªged
(
fš®
 
Ed™abË
 
s
) {

33 
	}
}

35 
public
 
TextW©ch”
 
befÜe
(
fš®
 
C®lback
.
a4
<
Ch¬Sequ’û
, 
IÁeg”
, IÁeg”, IÁeg”> 
im¶
) {

36  
Ãw
 
TextW©ch”Dummy
() {

37 
public
 
befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
, 
aá”
) {

38 
	gim¶
.
ÿÎback
(
s
, 
¡¬t
, 
couÁ
, 
aá”
);

43 
public
 
TextW©ch”
 
Ú
(
fš®
 
C®lback
.
a4
<
Ch¬Sequ’û
, 
IÁeg”
, IÁeg”, IÁeg”> 
im¶
) {

44  
Ãw
 
TextW©ch”Dummy
() {

45 
public
 
ÚTextChªged
(
fš®
 
Ch¬Sequ’û
 
s
, fš® 
¡¬t
, fš® 
befÜe
, fš® 
couÁ
) {

46 
	gim¶
.
ÿÎback
(
s
, 
¡¬t
, 
befÜe
, 
couÁ
);

51 
public
 
TextW©ch”
 
aá”
(
fš®
 
C®lback
.
a1
<
Ed™abË
> 
im¶
) {

52  
Ãw
 
TextW©ch”Dummy
() {

53 
public
 
aá”TextChªged
(
fš®
 
Ed™abË
 
s
) {

54 
	gim¶
.
ÿÎback
(
s
);

	@app/src/main/java/net/gsantner/opoc/format/markdown/SimpleMarkdownParser.java

25 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	gm¬kdown
;

27 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

28 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

29 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

30 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

31 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—mR—d”
;

36 @
Suµ»ssW¬nšgs
({"WeakerAccess", "CaughtExceptionImmediatelyRethrown", "SameParameterValue", "unused", "SpellCheckingInspection", "RepeatedSpace", "SingleCharAlternation", "Convert2Lambda"})

37 
public
 cÏs 
	cSim¶eM¬kdownP¬£r
 {

41 
public
 
š‹rçû
 
	mSmpF‹r
 {

42 
SŒšg
 
f‹r
(SŒšg 
‹xt
);

45 
public
 
fš®
 
SmpF‹r
 
	gFILTER_ANDROID_TEXTVIEW
 = 
Ãw
 
	$SmpF‹r
() {

46 @
Ov”ride


47 
public
 
SŒšg
 
	`f‹r
(SŒšg 
‹xt
) {

52 
‹xt
.
	`cÚšs
("\n\n#")) {

53 
‹xt
 =ext.
	`»¶aû
("\n\n#", "\n#");

56  
‹xt


57 .
	`»¶aûAÎ
("(?s)<!--.*?-->", "")

58 .
	`»¶aû
("\n\n", "\n<br/>\n")

59 .
	`»¶aû
("~Â°", "&nbsp;&nbsp;")

60 .
	`»¶aûAÎ
("(?m)^### (.*)$", "<br/><big><b><font color='#000000'>$1</font></b></big><br/>")

61 .
	`»¶aûAÎ
("(?m)^## (.*)$", "<br/><big><big><b><font color='#000000'>$1</font></b></big></big><br/><br/>")

62 .
	`»¶aûAÎ
("(?m)^# (.*)$", "<br/><big><big><big><b><font color='#000000'>$1</font></b></big></big></big><br/><br/>")

63 .
	`»¶aûAÎ
("!\\[(.*?)\\]\\((.*?)\\)", "<a href=\\'$2\\'>$1</a>")

64 .
	`»¶aûAÎ
("\\[(.*?)\\]\\((.*?)\\)", "<a href=\\'$2\\'>$1</a>")

65 .
	`»¶aûAÎ
("<(http|https):\\/\\/(.*)>", "<a href='$1://$2'>$1://$2</a>")

66 .
	`»¶aûAÎ
("(?m)^([-*] )(.*)$", "<font color='#000001'>&#8226;</font> $2<br/>")

67 .
	`»¶aûAÎ
("(?m)^ (-|\\*) ([^<]*)$", "&nbsp;&nbsp;<font color='#000001'>&#8226;</font> $2<br/>")

68 .
	`»¶aûAÎ
("`([^<]*)`", "<font face='monospace'>$1</font>")

69 .
	`»¶aû
("\\*", "â—")

70 .
	`»¶aûAÎ
("(?m)\\*\\*(.*)\\*\\*", "<b>$1</b>")

71 .
	`»¶aûAÎ
("(?m)\\*(.*)\\*", "<i>$1</i>")

72 .
	`»¶aû
("â—", "*")

73 .
	`»¶aûAÎ
("(?m) $", "<br/>")

76 
	}
};

78 
public
 
fš®
 
SmpF‹r
 
	gFILTER_WEB
 = 
Ãw
 
	$SmpF‹r
() {

79 @
Ov”ride


80 
public
 
SŒšg
 
	`f‹r
(SŒšg 
‹xt
) {

82 
‹xt
.
	`cÚšs
("\n\n#")) {

83 
‹xt
 =ext.
	`»¶aû
("\n\n#", "\n#");

86 
‹xt
 =ext

87 .
	`»¶aûAÎ
("(?s)<!--.*?-->", "")

88 .
	`»¶aû
("\n\n", "\n<br/>\n")

89 .
	`»¶aûAÎ
("~Â°", "&nbsp;&nbsp;")

90 .
	`»¶aûAÎ
("(?m)^### (.*)$", "<h3>$1</h3>")

91 .
	`»¶aûAÎ
("(?m)^## (.*)$", "<h2>$1</h2>")

92 .
	`»¶aûAÎ
("(?m)^# (.*)$", "<h1>$1</h1>")

93 .
	`»¶aûAÎ
("!\\[(.*?)\\]\\((.*?)\\)", "<img src=\\'$2\\'‡lt='$1' />")

94 .
	`»¶aûAÎ
("<(http|https):\\/\\/(.*)>", "<a href='$1://$2'>$1://$2</a>")

95 .
	`»¶aûAÎ
("\\[(.*?)\\]\\((.*?)\\)", "<a href=\\'$2\\'>$1</a>")

96 .
	`»¶aûAÎ
("(?m)^[-*] (.*)$", "<font color='#000001'>&#8226;</font> $1 ")

97 .
	`»¶aûAÎ
("(?m)^ [-*] (.*)$", "&nbsp;&nbsp;<font color='#000001'>&#8226;</font> $1 ")

98 .
	`»¶aûAÎ
("`([^<]*)`", "<code>$1</code>")

99 .
	`»¶aû
("\\*", "â—")

100 .
	`»¶aûAÎ
("(?m)\\*\\*(.*)\\*\\*", "<b>$1</b>")

101 .
	`»¶aûAÎ
("(?m)\\*(.*)\\*", "<i>$1</i>")

102 .
	`»¶aû
("â—", "*")

103 .
	`»¶aûAÎ
("(?m) $", "<br/>")

105  
‹xt
;

107 
	}
};

109 
public
 
fš®
 
SmpF‹r
 
	gFILTER_CHANGELOG
 = 
Ãw
 
	$SmpF‹r
() {

110 @
Ov”ride


111 
public
 
SŒšg
 
	`f‹r
(SŒšg 
‹xt
) {

112 
‹xt
 =ext

113 .
	`»¶aû
("New:", "<font color='#276230'>New:</font>")

114 .
	`»¶aû
("New features:", "<font color='#276230'>New:</font>")

115 .
	`»¶aû
("Added:", "<font color='#276230'>Added:</font>")

116 .
	`»¶aû
("Add:", "<font color='#276230'>Add:</font>")

117 .
	`»¶aû
("Fixed:", "<font color='#005688'>Fixed:</font>")

118 .
	`»¶aû
("Fix:", "<font color='#005688'>Fix:</font>")

119 .
	`»¶aû
("Removed:", "<font color='#C13524'>Removed:</font>")

120 .
	`»¶aû
("Updated:", "<font color='#555555'>Updated:</font>")

121 .
	`»¶aû
("Improved:", "<font color='#555555'>Improved:</font>")

122 .
	`»¶aû
("Modified:", "<font color='#555555'>Modified:</font>")

123 .
	`»¶aû
("Mod:", "<font color='#555555'>Mod:</font>")

125  
‹xt
;

127 
	}
};

128 
public
 
fš®
 
SmpF‹r
 
	gFILTER_H_TO_SUP
 = 
Ãw
 
	$SmpF‹r
() {

129 @
Ov”ride


130 
public
 
SŒšg
 
	`f‹r
(SŒšg 
‹xt
) {

131 
‹xt
 =ext

132 .
	`»¶aû
("<h1>", "<sup><sup><sup>")

133 .
	`»¶aû
("</h1>", "</sup></sup></sup>")

134 .
	`»¶aû
("<h2>", "<sup><sup>")

135 .
	`»¶aû
("</h2>", "</sup></sup>")

136 .
	`»¶aû
("<h3>", "<sup>")

137 .
	`»¶aû
("</h3>", "</sup>")

139  
‹xt
;

141 
	}
};

142 
public
 
fš®
 
SmpF‹r
 
	gFILTER_NONE
 = 
Ãw
 
	$SmpF‹r
() {

143 @
Ov”ride


144 
public
 
SŒšg
 
	`f‹r
(SŒšg 
‹xt
) {

145  
‹xt
;

147 
	}
};

152 
´iv©e
 
Sim¶eM¬kdownP¬£r
 
	g__š¡ªû
;

154 
public
 
Sim¶eM¬kdownP¬£r
 
	$g‘
() {

155 ià(
__š¡ªû
 =ğ
nuÎ
) {

156 
__š¡ªû
 = 
Ãw
 
	`Sim¶eM¬kdownP¬£r
();

158  
__š¡ªû
;

159 
	}
}

164 
´iv©e
 
SmpF‹r
 
	g_deçuÉSmpF‹r
;

165 
´iv©e
 
SŒšg
 
	g_html
;

167 
public
 
	$Sim¶eM¬kdownP¬£r
() {

168 
	`£tDeçuÉSmpF‹r
(
FILTER_WEB
);

169 
	}
}

174 
public
 
Sim¶eM¬kdownP¬£r
 
	$£tDeçuÉSmpF‹r
(
SmpF‹r
 
deçuÉSmpF‹r
) {

175 
_deçuÉSmpF‹r
 = 
deçuÉSmpF‹r
;

176  
this
;

177 
	}
}

179 
public
 
Sim¶eM¬kdownP¬£r
 
	$·r£
(
SŒšg
 
f•©h
, 
SmpF‹r
... 
smpF‹rs
è
throws
 
IOExû±iÚ
 {

180  
	`·r£
(
Ãw
 
	`FeIÅutSŒ—m
(
f•©h
), "", 
smpF‹rs
);

181 
	}
}

183 
public
 
Sim¶eM¬kdownP¬£r
 
	$·r£
(
IÅutSŒ—m
 
šputSŒ—m
, 
SŒšg
 
lšeMdP»fix
, 
SmpF‹r
... 
smpF‹rs
è
throws
 
IOExû±iÚ
 {

184 
SŒšgBud”
 
sb
 = 
Ãw
 
	`SŒšgBud”
();

185 
Bufã»dR—d”
 
br
 = 
nuÎ
;

186 
SŒšg
 
lše
;

188 
Œy
 {

189 
br
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
šputSŒ—m
));

190 (
lše
 = 
br
.
	`»adLše
()è!ğ
nuÎ
) {

191 
sb
.
	`­³nd
(
lšeMdP»fix
);

192 
sb
.
	`­³nd
(
lše
);

193 
sb
.
	`­³nd
("\n");

195 } 
	`ÿtch
 (
IOExû±iÚ
 
»throw
) {

196 
_html
 = "";

197 
throw
 
»throw
;

198 } 
fš®ly
 {

199 ià(
br
 !ğ
nuÎ
) {

200 
Œy
 {

201 
br
.
	`şo£
();

202 } 
	`ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

206 
_html
 = 
	`·r£
(
sb
.
	`toSŒšg
(), "", 
smpF‹rs
).
	`g‘Html
();

207  
this
;

208 
	}
}

210 
public
 
Sim¶eM¬kdownP¬£r
 
	$·r£
(
SŒšg
 
m¬kdown
, SŒšg 
lšeMdP»fix
, 
SmpF‹r
... 
smpF‹rs
è
throws
 
IOExû±iÚ
 {

211 
_html
 = 
m¬kdown
;

212 ià(
smpF‹rs
.
Ëngth
 == 0) {

213 
smpF‹rs
 = 
Ãw
 
SmpF‹r
[]{
_deçuÉSmpF‹r
};

215 
SmpF‹r
 
smpF‹r
 : 
smpF‹rs
) {

216 
_html
 = 
smpF‹r
.
	`f‹r
(_html).
	`Œim
();

218  
this
;

219 
	}
}

221 
public
 
SŒšg
 
	$g‘Html
() {

222  
_html
;

223 
	}
}

225 
public
 
Sim¶eM¬kdownP¬£r
 
	$£tHtml
(
SŒšg
 
html
) {

226 
_html
 = 
html
;

227  
this
;

228 
	}
}

230 
public
 
Sim¶eM¬kdownP¬£r
 
	$»moveMuÉiNewlšes
() {

231 
_html
 = _html.
	`»¶aû
("\n", "").
	`»¶aûAÎ
("(<br/>){3,}", "<br/><br/>");

232  
this
;

233 
	}
}

235 
public
 
Sim¶eM¬kdownP¬£r
 
	$»¶aûBuÎ‘Ch¬aù”
(
SŒšg
 
»¶acm’t
) {

236 
_html
 = _html.
	`»¶aû
("&#8226;", 
»¶acm’t
);

237  
this
;

238 
	}
}

240 
public
 
Sim¶eM¬kdownP¬£r
 
	$»¶aûCŞÜ
(
SŒšg
 
hexCŞÜ
, 
ÃwIÁCŞÜ
) {

241 
_html
 = _html.
	`»¶aû
(
hexCŞÜ
, 
SŒšg
.
	`fÜm©
("#%06X", 0xFFFFFF & 
ÃwIÁCŞÜ
));

242  
this
;

243 
	}
}

245 @
Ov”ride


246 
public
 
SŒšg
 
	$toSŒšg
() {

247  
_html
 !ğ
nuÎ
 ? _html : "";

248 
	}
}

	@app/src/main/java/net/gsantner/opoc/format/plaintext/PlainTextStuff.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	g¶aš‹xt
;

13 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

15 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

16 
impÜt
 
	gjava
.
	gtime
.
	gOff£tD©eTime
;

17 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

18 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

20 
public
 cÏs 
	cPÏšTextStuff
 {

30 
public
 
SŒšg
 
	$ŒyExŒaùU¾AroundPos
(
SŒšg
 
‹xt
, 
pos
) {

31 
pos
 = 
M©h
.
	`mš
(M©h.
	`max
(0,…os), 
‹xt
.
	`Ëngth
() - 1);

32 ià(
pos
 >ğ0 &&…o < 
‹xt
.
	`Ëngth
()) {

33 
begš
 = 
M©h
.
	`max
(
‹xt
.
	`Ï¡IndexOf
("h‰ps://", 
pos
),ext.lastIndexOf("http://",…os));

34 ià(
begš
 >= 0) {

35 
’d
 = 
‹xt
.
	`Ëngth
();

36 
SŒšg
 
check
 : 
Ãw
 String[]{"\n", " ", "\t", "\r", ")"}) {

37 ià((
pos
 = 
‹xt
.
	`šdexOf
(
check
, 
begš
)è> begš &&…o < 
’d
) {

38 
’d
 = 
pos
;

41 ià((
’d
 - 
begš
) > 5 &&ƒnd > 5) {

42  
‹xt
.
	`sub¡ršg
(
begš
, 
’d
);

46  
nuÎ
;

49 
public
 [] 
	$g‘NeighbourLšeEndšgs
(
SŒšg
 
‹xt
, 
pos
, 
posEnd
) {

50 
fš®
 
Ën
 = 
‹xt
.
	`Ëngth
();

52 ià(
pos
 < 
Ën
 &&…o >ğ0 && 
‹xt
.
	`ch¬At
(pos) == '\n') {

53 
pos
--;

55 
pos
 = 
M©h
.
	`mš
(M©h.
	`max
(0,…os), 
Ën
 - 1);

56 
posEnd
 = 
M©h
.
	`mš
(M©h.
	`max
(0,…osEnd), 
Ën
 - 1);

57 ià(
pos
 =ğ
Ën
) {

58 
pos
--;

60 ià(
pos
 < 0 ||…o > 
Ën
) {

61  
nuÎ
;

63 
pos
 = 
M©h
.
	`max
(0, 
‹xt
.
	`Ï¡IndexOf
("\n",…os));

64 
posEnd
 = 
‹xt
.
	`šdexOf
("\n",…osEnd);

65 ià(
posEnd
 < 0 ||…osEnd >ğ
Ën
 - 1) {

66 
posEnd
 = 
Ën
;

68 ià(
pos
 =ğ0 &&…o =ğ
posEnd
 &&…osEnd + 1 <ğ
Ën
) {

69 
posEnd
++;

71 ià(
pos
 <ğ
Ën
 && 
posEnd
 <=†en &&…os <=…osEnd) {

72  
Ãw
 []{
pos
, 
posEnd
};

74  
nuÎ
;

75 
	}
}

78 
public
 
SŒšg
 
	$»moveLšesOfTextAround
(
SŒšg
 
‹xt
, 
pos
, 
posEnd
) {

79 [] 
’dšgs
 = 
	`g‘NeighbourLšeEndšgs
(
‹xt
, 
pos
, 
posEnd
);

80 ià(
’dšgs
 !ğ
nuÎ
) {

81 
SŒšgBufãr
 
sb
 = 
Ãw
 
	`SŒšgBufãr
();

82 
sb
.
	`­³nd
(
‹xt
.
	`sub¡ršg
(0, 
pos
));

83 
sb
.
	`­³nd
(
‹xt
.
	`sub¡ršg
(
posEnd
));

84  
sb
.
	`toSŒšg
();

86  
‹xt
;

87 
	}
}

100 @
Suµ»ssLšt
("ALL")

101 
public
 
SŒšg
 
	$ÃwHuuid
(
SŒšg
 
ho¡id4c
) {

102 
fš®
 
Sim¶eD©eFÜm©
 
sdf
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("yyyyMMdd-hhmm-ssSSS'%STRIP1BEFORE%'-'%UTCOFFSET%'-'%HOSTID%%RAND%'");

103 
SŒšg
 
ºd8c
 = SŒšg.
	`fÜm©
("%08x", 
Ãw
 
	`Rªdom
().
	`ÃxtIÁ
());

104 
ho¡id4c
 = ((ho¡id4ø=ğ
nuÎ
 ? "" : ho¡id4cè+ "0000").
	`sub¡ršg
(0, 4).
	`»¶aûAÎ
("[^A-Fa-f0-9]", "0");

105 
SŒšg
 
utcoff£t4c
 = SŒšg.
	`fÜm©
("%tz", 
Off£tD©eTime
.
	`now
().
	`g‘Off£t
()) + "0000";

106 
utcoff£t4c
 = utcoff£t4c.
	`sub¡ršg
(1, 4è+ (utcoff£t4c.
	`¡¬tsW™h
("-") ? "a" : "f");

108  
sdf
.
	`fÜm©
(
Ãw
 
	`D©e
())

109 .
	`»¶aû
("%UTCOFFSET%", 
utcoff£t4c
)

110 .
	`»¶aû
("%HOSTID%", 
ho¡id4c
)

111 .
	`»¶aû
("%RAND%", 
ºd8c
)

112 .
	`»¶aûAÎ
(".%STRIP1BEFORE%", "").
	`toLow”Ca£
();

113 
	}
}

	@app/src/main/java/net/gsantner/opoc/preference/FontPreferenceCompat.java

20 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
;

22 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gT¬g‘Api
;

23 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

24 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

25 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

26 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

27 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

28 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

29 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

30 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gLi¡P»ã»nû
;

31 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

32 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabËSŒšg
;

33 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextPašt
;

34 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

35 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gM‘ricAfãùšgS·n
;

36 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gR–©iveSizeS·n
;

37 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

39 
impÜt
 
	gjava
.
	gio
.
	gFe
;

40 
impÜt
 
	gjava
.
	gio
.
	gF’ameF‹r
;

41 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

42 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

43 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

52 @
Suµ»ssW¬nšgs
({"unused", "SpellCheckingInspection", "WeakerAccess"})

53 
public
 cÏs 
	cFÚtP»ã»nûCom·t
 
ex‹nds
 
	mLi¡P»ã»nû
 {

54 
public
 
Fe
 
	madd™iÚ®yCheckedFŞd”
 = 
nuÎ
;

55 
public
 
fš®
 
F’ameF‹r
 
	mFONT_FILENAME_FILTER
 = (
fe
, 
	ms
è-> s.
toLow”Ca£
().
’dsW™h
(".ttf") || s.toLowerCase().endsWith(".otf");

56 
´iv©e
 
fš®
 
SŒšg
 
	mANDROID_ASSET_DIR
 = "/android_asset/";

57 
´iv©e
 
SŒšg
 
	m_deçuÉV®ue
;´iv©
	mSŒšg
[] 
	m_fÚtNames
 = { "u5" };´iv©
	gSŒšg
[] 
	g_fÚtV®ues
 = {"u5"};

59 
public
 
	$FÚtP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
è{ 
	`su³r
(cÚ‹xt);
	`lßdFÚts
(cÚ‹xt, 
nuÎ
); 
	}
}

60 
public
 
	$FÚtP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
è{ 
	`su³r
(cÚ‹xt,‡‰rs);
	`lßdFÚts
(cÚ‹xt,‡‰rs); 
	}
}

61 @
	$T¬g‘Api
(
Bud
.
VERSION_CODES
.
LOLLIPOP
è
public
 
	$FÚtP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
è{ 
	`su³r
(cÚ‹xt,‡‰rs, defStyËA‰r);
	`lßdFÚts
(cÚ‹xt,‡‰rs); 
	}
}

62 @
	$T¬g‘Api
(
Bud
.
VERSION_CODES
.
LOLLIPOP
è
public
 
	$FÚtP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
, 
defStyËRes
è{ 
	`su³r
(context,‡ttrs, defStyleAttr, defStyleRes);

63 
	`lßdFÚts
(
cÚ‹xt
, 
©Œs
);

64 
	}
}

65 
´iv©e
 
	$lßdFÚts
(
CÚ‹xt
 
cÚ‹xt
è{ 
	`lßdFÚts
(cÚ‹xt, 
nuÎ
); 
	}
}

66 
´iv©e
 
lßdFÚts
(
CÚ‹xt
 
cÚ‹xt
, @
NuÎabË
 
A‰ribu‹S‘
 
©Œs
) {

67 
	g_deçuÉV®ue
 = 
_fÚtV®ues
[0];

68 ià(
	g©Œs
 !ğ
nuÎ
) {

69 
i
 = 0; 
	gi
 < 
	g©Œs
.
g‘A‰ribu‹CouÁ
(); i++) {

70 
SŒšg
 
	g©ŒName
 = 
©Œs
.
g‘A‰ribu‹Name
(
i
);

71 
SŒšg
 
	g©ŒV®ue
 = 
©Œs
.
g‘A‰ribu‹V®ue
(
i
);

72 ià(
	g©ŒName
.
equ®sIgnÜeCa£
("defaultValue")) {

73 ià(
	g©ŒV®ue
.
¡¬tsW™h
("@")) {

74 
	g»sId
 = 
IÁeg”
.
v®ueOf
(
©ŒV®ue
.
sub¡ršg
(1));

75 
	g©ŒV®ue
 = 
g‘CÚ‹xt
().
g‘SŒšg
(
»sId
);

77 
	g_deçuÉV®ue
 = 
©ŒV®ue
;

82 
Fe
 
	gfe
 : 
g‘Add™iÚ®FÚts
()) {

83 
_fÚtNames
 = 
­³ndToA¼ay
(_fÚtNames, 
fe
.
g‘Name
().
»¶aû
(".ttf", "").replace(".TTF", ""));

84 
	g_fÚtV®ues
 = 
­³ndToA¼ay
(
_fÚtV®ues
, 
fe
.
g‘AbsŞu‹P©h
());

86 
	gS·ÂabË
[] 
	gfÚtText
 = 
Ãw
 
S·ÂabË
[
_fÚtNames
.
Ëngth
];

87 
	gi
 = 0; i < 
	g_fÚtNames
.
	gËngth
; i++) {

89 
	gfÚtText
[
i
] = 
Ãw
 
S·ÂabËSŒšg
(
_fÚtNames
[i] ) ;

90 
	gfÚtText
[
i
].
£tS·n
(
Ãw
 
Ty³çûObjeùS·n
(
ty³çû
(
g‘CÚ‹xt
(), 
_fÚtV®ues
[i], 
nuÎ
)), 0, 
_fÚtNames
[i].
Ëngth
(), 0);

94 
£tDeçuÉV®ue
(
_deçuÉV®ue
);
£tEÁr›s
(
fÚtText
);
£tEÁryV®ues
(
_fÚtV®ues
);

96 
public
 
Ty³çû
 
	$ty³çû
(
CÚ‹xt
 
cÚ‹xt
, 
SŒšg
 
çmyOrF•©h
, 
IÁeg”
 
ty³çûStyË
) {

97 ià(
ty³çûStyË
 =ğ
nuÎ
èty³çûStyË = 
Ty³çû
.
NORMAL
;

98 ià(!
çmyOrF•©h
.
	`¡¬tsW™h
("/")è 
Ty³çû
.
	`ü—‹
(çmyOrF•©h, 
ty³çûStyË
); {

99 
Œy
 {

100 ià(
çmyOrF•©h
.
	`¡¬tsW™h
(
ANDROID_ASSET_DIR
)) {

101  
Ty³çû
.
	`ü—‹FromAs£t
(
cÚ‹xt
.
	`g‘As£ts
(), 
çmyOrF•©h
.
	`sub¡ršg
(
ANDROID_ASSET_DIR
.
	`Ëngth
()));

102 }  
Ty³çû
.
	`ü—‹FromFe
(
çmyOrF•©h
);

103 } 
	`ÿtch
 (
RuÁimeExû±iÚ
 
exû±iÚ
è{  
	`ty³çû
(
cÚ‹xt
, "§ns-£rif-»guÏr", 
ty³çûStyË
); }

105 
	}
}

106 @
Ov”ride
 
public
 
Ch¬Sequ’û
 
	$g‘Summ¬y
() {

107 
SŒšg
 
´efix
 = 
TextUts
.
	`isEm±y
(
su³r
.
	`g‘Summ¬y
()) ? "" : super.getSummary() + "\n\n";

108 
SŒšg
 
fÚtText
 = 
TextUts
.
	`isEm±y
(
	`g‘V®ue
()è? 
_deçuÉV®ue
 : getValue();

109 
i
 = 0; i < 
_fÚtV®ues
.
Ëngth
; i++) {

110 ià(
_fÚtV®ues
[
i
].
	`equ®s
(
fÚtText
)è{ fÚtTexˆğ
_fÚtNames
[i] + " (" + fontText + ")";; }

112 
fÚtText
 = fÚtText.
	`»¶aû
("â˜…", "");

113  
´efix
 + 
fÚtText
;

114 
	}
}

115 
public
 
	gSŒšg
[] 
	$g‘FÚtNames
(è{  
_fÚtNames
; 
	}
}

116 
public
 
	$£tFÚtNames
(
SŒšg
[] 
fÚtNames
è{ 
_fÚtNames
 = fÚtNames; 
	}
}

117 
public
 
	gSŒšg
[] 
	$g‘FÚtV®ues
(è{  
_fÚtV®ues
; 
	}
}

118 
public
 
	$£tFÚtV®ues
(
SŒšg
[] 
fÚtV®ues
è{ 
_fÚtV®ues
 = fÚtV®ues; 
	}
}

119 @
Suµ»ssW¬nšgs
("ResuÉOfM‘hodC®lIgnÜed"è
public
 
	gLi¡
<
	gFe
> 
	$g‘Add™iÚ®FÚts
() {

120 
fš®
 
A¼ayLi¡
<
Fe
> 
add™iÚ®FÚts
 = 
Ãw
 ArrayList<>();

121 
Œy
 {

122 
SŒšg
 
f’ame
 : 
	`g‘CÚ‹xt
().
	`g‘As£ts
().
	`li¡
("fÚts")è
add™iÚ®FÚts
.
	`add
(
Ãw
 
	`Fe
(
ANDROID_ASSET_DIR
 + "fonts", filename));

123 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) { }

124 
fš®
 
Li¡
<
Fe
> 
checkedDœs
 = 
Ãw
 
A¼ayLi¡
<>(
A¼ays
.
	`asLi¡
(

125 
Ãw
 
	`Fe
(
	`g‘CÚ‹xt
().
	`g‘FesDœ
(), ".app/fonts"),‚ew File(getContext().getFilesDir(), ".app/Fonts"),

126 
add™iÚ®yCheckedFŞd”
,

127 
Ãw
 
	`Fe
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
(), "fonts"),‚ew File(Environment.getExternalStorageDirectory(), "Fonts")

129 
Fe
 
ex‹º®FeDœ
 : 
CÚ‹xtCom·t
.
	`g‘Ex‹º®FesDœs
(
	`g‘CÚ‹xt
(), 
nuÎ
)) {

130 ià(
ex‹º®FeDœ
 =ğ
nuÎ
 ||ƒx‹º®FeDœ.
	`g‘AbsŞu‹P©h
() ==‚ull) ;

131 
checkedDœs
.
	`add
(
Ãw
 
	`Fe
(
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
().
	`»¶aûFœ¡
("/Android/data/.*$", "/fonts")));

132 
checkedDœs
.
	`add
(
Ãw
 
	`Fe
(
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
().
	`»¶aûFœ¡
("/Android/data/.*$", "/Fonts")));

133 
checkedDœs
.
	`add
(
Ãw
 
	`Fe
(
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
(), "/fonts"));

134 
checkedDœs
.
	`add
(
Ãw
 
	`Fe
(
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
(), "/Fonts"));

136 
Fe
 
checkedDœ
 : 
checkedDœs
) {

137 ià(
checkedDœ
 !ğ
nuÎ
 && checkedDœ.
	`exi¡s
()) {

138 
Fe
[] 
checkedDœFes
 = 
checkedDœ
.
	`li¡Fes
(
FONT_FILENAME_FILTER
);

139 ià(
checkedDœFes
 !ğ
nuÎ
) {

140 
Fe
 
fÚt
 : 
checkedDœFes
) {

141 ià(!
add™iÚ®FÚts
.
	`cÚšs
(
Ãw
 
	`Fe
(
fÚt
.
	`g‘AbsŞu‹P©h
().
	`»¶aû
("/Fonts/", "/fonts/")))) {

142 
add™iÚ®FÚts
.
	`add
(
fÚt
);

148  
add™iÚ®FÚts
;

149 
	}
}

150 
´iv©e
 
	gSŒšg
[] 
	$­³ndToA¼ay
(
SŒšg
[] 
¬r
, SŒšg 
­³nd
) {

151 
Li¡
<
SŒšg
> 
¬ro
 = 
Ãw
 
A¼ayLi¡
<>(
A¼ays
.
	`asLi¡
(
¬r
));

152 
¬ro
.
	`add
(
­³nd
);

153  
¬ro
.
	`toA¼ay
(
Ãw
 
SŒšg
[
¬r
.
Ëngth
 + 1]);

154 
	}
}

155 
public
 cÏs 
	cTy³çûObjeùS·n
 
ex‹nds
 
	gM‘ricAfãùšgS·n
 {

156 
´iv©e
 
fš®
 
Ty³çû
 
	g_ty³çû
;

157 
public
 
Ty³çûObjeùS·n
(
fš®
 
Ty³çû
 
ty³çû
è{ 
	g_ty³çû
 =ypeface; }

158 @
Ov”ride
 
public
 
upd©eD¿wS‹
(
fš®
 
TextPašt
 
d¿wS‹
è{ 
­¶y
(drawState); }

159 @
Ov”ride
 
public
 
upd©eM—su»S‹
(
fš®
 
TextPašt
 
·št
è{ 
­¶y
(paint); }

160 
´iv©e
 
­¶y
(
fš®
 
Pašt
 
·št
) {

161 
fš®
 
Ty³çû
 
	gŞdTy³çû
 = 
·št
.
g‘Ty³çû
();

162 
fš®
 
	gŞdStyË
 = 
ŞdTy³çû
 !ğ
nuÎ
 ? oldTy³çû.
g‘StyË
() : 0;

163 
fš®
 
	gçkeStyË
 = 
ŞdStyË
 & ~
_ty³çû
.
g‘StyË
();

164 ià((
	gçkeStyË
 & 
	gTy³çû
.
	gBOLD
è!ğ0è
·št
.
£tFakeBŞdText
(
Œue
);

165 ià((
	gçkeStyË
 & 
	gTy³çû
.
	gITALIC
è!ğ0è
·št
.
£tTextSkewX
(-0.25f);

166 
	g·št
.
£tTy³çû
(
_ty³çû
);

	@app/src/main/java/net/gsantner/opoc/preference/GsPreferenceFragmentCompat.java

41 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
;

43 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

44 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

45 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

46 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

47 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gTy³dA¼ay
;

48 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

49 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

50 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

51 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gReù
;

52 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

53 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

54 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜIÁ
;

55 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gD¿wabËRes
;

56 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

57 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

58 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

59 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gXmlRes
;

60 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’t
;

61 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gDŸlogP»ã»nû
;

62 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nû
;

63 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûC©egÜy
;

64 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûF¿gm’tCom·t
;

65 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûGroup
;

66 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûSü“n
;

67 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gRecyş”V›w
;

68 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

69 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

70 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

71 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

72 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gF¿meLayout
;

73 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

74 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gR–©iveLayout
;

76 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gAùiv™yUts
;

77 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

78 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

80 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

81 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

82 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

83 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

88 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused", "UnusedReturnValue"})

89 
public
 
ab¡¿ù
 
şass
 
	gGsP»ã»nûF¿gm’tCom·t
<
AS
 
ex‹nds
 
	gSh¬edP»ã»nûsPrİ”tyBack’d
>ƒx‹nd 
P»ã»nûF¿gm’tCom·t


90 
im¶em’ts
 
	gSh¬edP»ã»nûs
.
	gOnSh¬edP»ã»nûChªgeLi¡’”
, 
	gP»ã»nûF¿gm’tCom·t
.
	gOnP»ã»nûS¹Sü“nC®lback
 {

91 
´iv©e
 
fš®
 
	gDEFAULT_ICON_TINT_DELAY
 = 200;

92 
´Ùeùed
 
boŞ—n
 
	g_isDivid”VisibË
 = 
çl£
;

98 @
XmlRes


99 
public
 
ab¡¿ù
 
g‘P»ã»nûResourûFÜInæ©iÚ
();

101 
public
 
ab¡¿ù
 
SŒšg
 
g‘F¿gm’tTag
();

103 
´Ùeùed
 
ab¡¿ù
 
AS
 
g‘AµS‘tšgs
(
CÚ‹xt
 
cÚ‹xt
);

109 
public
 
BoŞ—n
 
ÚP»ã»nûClicked
(
P»ã»nû
 
´eã»nû
, 
SŒšg
 
key
, 
keyResId
) {

110  
	gnuÎ
;

113 
public
 
SŒšg
 
g‘Sh¬edP»ã»nûsName
() {

117 
´Ùeùed
 
aá”OnC»©e
(
BundË
 
§vedIn¡ªûs
, 
CÚ‹xt
 
cÚ‹xt
) {

121 
public
 
synchrÚized
 
doUpd©eP»ã»nûs
() {

124 
´Ùeùed
 
ÚP»ã»nûSü“nChªged
(
P»ã»nûF¿gm’tCom·t
 
´eã»nûF¿gm’tCom·t
, 
P»ã»nûSü“n
 
´eã»nûSü“n
) {

127 
public
 
IÁeg”
 
g‘IcÚTštCŞÜ
() {

128  
	g_deçuÉIcÚTštCŞÜ
;

131 
public
 
SŒšg
 
g‘T™Ë
() {

132  
	gnuÎ
;

139 
´iv©e
 
fš®
 
	gS‘
<
	gSŒšg
> 
	g_»gi¡”edP»fs
 = 
Ãw
 
HashS‘
<>();

140 
´iv©e
 
fš®
 
	gLi¡
<
	gP»ã»nûSü“n
> 
	g_´efSü“nBack¡ack
 = 
Ãw
 
A¼ayLi¡
<>();

141 
´Ùeùed
 
AS
 
	g_­pS‘tšgs
;

142 
´Ùeùed
 
	g_deçuÉIcÚTštCŞÜ
;

143 
´Ùeùed
 
CÚ‹xtUts
 
	g_cu
;

145 @
	gOv”ride


146 @
D•»ÿ‹d


147 
public
 
ÚC»©eP»ã»nûs
(
BundË
 
§vedIn¡ªûS‹
, 
SŒšg
 
roÙKey
) {

148 
Aùiv™y
 
	gaùiv™y
 = 
g‘Aùiv™y
();

149 
	g_­pS‘tšgs
 = 
g‘AµS‘tšgs
(
aùiv™y
);

150 
	g_cu
 = 
Ãw
 
CÚ‹xtUts
(
aùiv™y
);

151 
g‘P»ã»nûMªag”
().
£tSh¬edP»ã»nûsName
(
g‘Sh¬edP»ã»nûsName
());

152 
addP»ã»nûsFromResourû
(
g‘P»ã»nûResourûFÜInæ©iÚ
());

154 ià(
	gaùiv™y
 !ğ
nuÎ
 && 
aùiv™y
.
g‘Theme
() !=‚ull) {

155 
Ty³dA¼ay
 
¬¿y
 = 
aùiv™y
.
g‘Theme
().
obšStyËdA‰ribu‹s
(
Ãw
 []{
ªdroid
.
R
.
©Œ
.
cŞÜBackground
});

156 
	gbgcŞÜ
 = 
¬¿y
.
g‘CŞÜ
(0, 0xFFFFFFFF);

157 
	g_deçuÉIcÚTštCŞÜ
 = 
_cu
.
shouldCŞÜOnTİBeLight
(
bgcŞÜ
è? 
CŞÜ
.
WHITE
 : CŞÜ.
BLACK
;

161 
aá”OnC»©e
(
§vedIn¡ªûS‹
, 
aùiv™y
);

164 
public
 
fš®
 
	gC®lback
.
	ga1
<
	gP»ã»nûF¿gm’tCom·t
> 
	gupd©eP»ã»nûIcÚs
 = (
äag
) -> {

165 
Œy
 {

166 
V›w
 
v›w
 = 
äag
.
g‘V›w
();

167 
fš®
 
IÁeg”
 
	gcŞÜ
 = 
g‘IcÚTštCŞÜ
();

168 ià(
	gv›w
 !ğ
nuÎ
 && 
cŞÜ
 !=‚ull) {

169 
RuÂabË
 
r
 = (è-> 
tštAÎP»fIcÚs
(
äag
, 
cŞÜ
);

170 
	gd–ayFaùÜ
 : 
Ãw
 []{1, 10, 50, 100, 500}) {

171 
	gv›w
.
po¡D–ayed
(
r
, 
d–ayFaùÜ
 * 
DEFAULT_ICON_TINT_DELAY
);

174 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

178 
public
 
tštAÎP»fIcÚs
(
P»ã»nûF¿gm’tCom·t
 
´eã»nûF¿gm’t
, @
CŞÜIÁ
 
icÚCŞÜ
) {

179 
tštP»fIcÚsRecursive
(
g‘P»ã»nûSü“n
(), 
icÚCŞÜ
);

182 
´iv©e
 
tštP»fIcÚsRecursive
(
P»ã»nûGroup
 
´efGroup
, @
CŞÜIÁ
 
icÚCŞÜ
) {

183 ià(
	g´efGroup
 !ğ
nuÎ
 && 
isAdded
()) {

184 
´efCouÁ
 = 
´efGroup
.
g‘P»ã»nûCouÁ
();

185 
	gi
 = 0; i < 
	g´efCouÁ
; i++) {

186 
P»ã»nû
 
	g´ef
 = 
´efGroup
.
g‘P»ã»nû
(
i
);

187 ià(
	g´ef
 !ğ
nuÎ
) {

188 ià(
isAÎowedToTšt
(
´ef
)) {

189 
´ef
.
£tIcÚ
(
_cu
.
tštD¿wabË
Õ»f.
g‘IcÚ
(), 
icÚCŞÜ
));

191 ià(
´ef
 
š¡ªûof
 
	gP»ã»nûGroup
) {

192 
tštP»fIcÚsRecursive
((
P»ã»nûGroup
è
´ef
, 
icÚCŞÜ
);

199 
´Ùeùed
 
boŞ—n
 
isAÎowedToTšt
(
P»ã»nû
 
´ef
) {

200  
	gŒue
;

207 
´Ùeùed
 
keyToSŒšgResId
(
P»ã»nû
 
´eã»nû
) {

208 ià(
	g´eã»nû
 !ğ
nuÎ
 && !
TextUts
.
isEm±y
(
´eã»nû
.
g‘Key
())) {

209  
_cu
.
g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
STRING
, 
´eã»nû
.
g‘Key
());

218 
´Ùeùed
 
keyToSŒšgResId
(
SŒšg
 
keyAsSŒšg
) {

219  
	g_cu
.
g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
STRING
, 
keyAsSŒšg
);

223 @
Ov”ride


224 
public
 
ÚV›wC»©ed
(@
NÚNuÎ
 
fš®
 
V›w
 
v›w
, @
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
) {

225 
	gsu³r
.
ÚV›wC»©ed
(
v›w
, 
§vedIn¡ªûS‹
);

226 
	gupd©eP»ã»nûIcÚs
.
ÿÎback
(
this
);

228 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 < Bud.
	gVERSION_CODES
.
	gLOLLIPOP
) {

229 
	gv›w
.
po¡D–ayed
(() -> {

230 
V›wGroup
.
LayoutP¬ams
 
Íg
 = 
v›w
.
g‘LayoutP¬ams
();

231 ià(
Íg
 
š¡ªûof
 
Lš—rLayout
.
LayoutP¬ams
) {

232 
Lš—rLayout
.
LayoutP¬ams
 
Í
 = (Lš—rLayout.LayoutP¬amsè
Íg
;

233 
Í
.
rightM¬gš
 =†p.
ËáM¬gš
 = (è
_cu
.
cÚv”tDpToPx
(16);

234 
v›w
.
£tLayoutP¬ams
(
Í
);

235 } ià(
Íg
 
š¡ªûof
 
F¿meLayout
.
LayoutP¬ams
) {

236 
F¿meLayout
.
LayoutP¬ams
 
Í
 = (F¿meLayout.LayoutP¬amsè
Íg
;

237 
Í
.
rightM¬gš
 =†p.
ËáM¬gš
 = (è
_cu
.
cÚv”tDpToPx
(16);

238 
v›w
.
£tLayoutP¬ams
(
Í
);

239 } ià(
Íg
 
š¡ªûof
 
R–©iveLayout
.
LayoutP¬ams
) {

240 
R–©iveLayout
.
LayoutP¬ams
 
Í
 = (R–©iveLayout.LayoutP¬amsè
Íg
;

241 
Í
.
rightM¬gš
 =†p.
ËáM¬gš
 = (è
_cu
.
cÚv”tDpToPx
(16);

242 
v›w
.
£tLayoutP¬ams
(
Í
);

248 
´iv©e
 
synchrÚized
 
upd©eP»ã»nûChªgedLi¡’”s
(
boŞ—n
 
shouldLi¡’
) {

249 
SŒšg
 
	g»âame
 = 
g‘Sh¬edP»ã»nûsName
();

250 ià(
	gshouldLi¡’
 && 
	g»âame
 !ğ
nuÎ
 && !
_»gi¡”edP»fs
.
cÚšs
(
»âame
)) {

251 
Sh¬edP»ã»nûs
 
´eã»nûs
 = 
_­pS‘tšgs
.
g‘CÚ‹xt
().
g‘Sh¬edP»ã»nûs
(
»âame
, 
CÚ‹xt
.
MODE_PRIVATE
);

252 
	g_­pS‘tšgs
.
»gi¡”P»ã»nûChªgedLi¡’”
(
´eã»nûs
, 
this
);

253 
	g_»gi¡”edP»fs
.
add
(
»âame
);

254 } ià(!
	gshouldLi¡’
) {

255 
SŒšg
 
	g´eâame
 : 
_»gi¡”edP»fs
) {

256 
Sh¬edP»ã»nûs
 
´eã»nûs
 = 
_­pS‘tšgs
.
g‘CÚ‹xt
().
g‘Sh¬edP»ã»nûs
(
»âame
, 
CÚ‹xt
.
MODE_PRIVATE
);

257 
	g_­pS‘tšgs
.
uÄegi¡”P»ã»nûChªgedLi¡’”
(
´eã»nûs
, 
this
);

263 @
Ov”ride


264 
public
 
ÚResume
() {

265 
	gsu³r
.
ÚResume
();

266 
upd©eP»ã»nûChªgedLi¡’”s
(
Œue
);

267 
doUpd©eP»ã»nûs
();

268 
ÚP»ã»nûSü“nChªgedPriv
(
this
, 
g‘P»ã»nûSü“n
());

271 @
Ov”ride


272 
public
 
ÚPau£
() {

273 
	gsu³r
.
ÚPau£
();

274 
upd©eP»ã»nûChªgedLi¡’”s
(
çl£
);

277 @
	gOv”ride


278 @
D•»ÿ‹d


279 
public
 
ÚSh¬edP»ã»nûChªged
(
Sh¬edP»ã»nûs
 
sh¬edP»ã»nûs
, 
SŒšg
 
key
) {

280 ià(
isAdded
()) {

281 
ÚP»ã»nûChªged
(
sh¬edP»ã»nûs
, 
key
);

282 
doUpd©eP»ã»nûs
();

286 
´Ùeùed
 
ÚP»ã»nûChªged
(
Sh¬edP»ã»nûs
 
´efs
, 
SŒšg
 
key
) {

289 
RuÂabË
 
	gr
 = 
this
::
doUpd©eP»ã»nûs
;

290 ià(
g‘V›w
(è!ğ
nuÎ
) {

291 
g‘V›w
().
po¡D–ayed
(
r
, 350);

293 
	gr
.
run
();

297 @
	gOv”ride


298 @
D•»ÿ‹d


299 
public
 
boŞ—n
 
ÚP»ã»nûT»eClick
(
P»ã»nû
 
´eã»nû
) {

300 ià(
isAdded
()) {

301 
SŒšg
 
	gkey
 = 
´eã»nû
.
hasKey
(è?…»ã»nû.
g‘Key
() : "";

302 
	gkeyResId
 = 
keyToSŒšgResId
(
´eã»nû
);

303 
BoŞ—n
 
	g»t
 = 
ÚP»ã»nûClicked
(
´eã»nû
, 
key
, 
keyResId
);

304 ià(
	g»t
 !ğ
nuÎ
) {

305  
»t
;

308  
	gsu³r
.
ÚP»ã»nûT»eClick
(
´eã»nû
);

312 @
Ov”ride


313 
public
 
F¿gm’t
 
g‘C®lbackF¿gm’t
() {

314  
	gthis
;

317 @
Ov”ride


318 
public
 
ÚStİ
() {

319 
	g_´efSü“nBack¡ack
.
ş—r
();

320 
	gsu³r
.
ÚStİ
();

323 @
	gD•»ÿ‹d


324 @
Ov”ride


325 
public
 
boŞ—n
 
ÚP»ã»nûS¹Sü“n
(
P»ã»nûF¿gm’tCom·t
 
´eã»nûF¿gm’tCom·t
, 
P»ã»nûSü“n
 
´eã»nûSü“n
) {

326 
	g_´efSü“nBack¡ack
.
add
(
g‘P»ã»nûSü“n
());

327 
	g´eã»nûF¿gm’tCom·t
.
£tP»ã»nûSü“n
(
´eã»nûSü“n
);

328 
	gupd©eP»ã»nûIcÚs
.
ÿÎback
(
this
);

329 
ÚP»ã»nûSü“nChªgedPriv
(
´eã»nûF¿gm’tCom·t
, 
´eã»nûSü“n
);

330  
	gŒue
;

333 
´Ùeùed
 
upd©eSumm¬y
(@
SŒšgRes
 
keyResId
, 
Ch¬Sequ’û
 
summ¬y
) {

334 
upd©eP»ã»nû
(
keyResId
, 
nuÎ
,‚uÎ, 
summ¬y
,‚ull);

344 
public
 
DŸlogP»ã»nû
 
£tDŸlogMes§ge
(@
SŒšgRes
 
key
, 
Ch¬Sequ’û
 
mes§ge
) {

345 
P»ã»nû
 
	gp
 = 
fšdP»ã»nû
(
key
);

346 ià(
p
 
š¡ªûof
 
	gDŸlogP»ã»nû
) {

347 ((
	gDŸlogP»ã»nû
è
	gp
).
£tDŸlogMes§ge
(
mes§ge
);

348  (
	gDŸlogP»ã»nû
è
	gp
;

350  
	gnuÎ
;

360 
public
 
P»ã»nû
 
fšdP»ã»nû
(@
SŒšgRes
 
key
) {

361  
isAdded
(è? 
fšdP»ã»nû
(
g‘SŒšg
(
key
)è: 
nuÎ
;

371 
public
 
P»ã»nû
 
£tP»ã»nûVisibË
(@
SŒšgRes
 
key
, 
boŞ—n
 
visibË
) {

372 
P»ã»nû
 
	g´ef
;

373 ià((
	g´ef
 = 
fšdP»ã»nû
(
key
)è!ğ
nuÎ
) {

374 
´ef
.
£tVisibË
(
visibË
);

376  
	g´ef
;

379 @
	gNuÎabË


380 @
Suµ»ssW¬nšgs
("SameParameterValue")

381 
´Ùeùed
 
P»ã»nû
 
upd©eP»ã»nû
(@
SŒšgRes
 
keyResId
, @
D¿wabËRes
 
IÁeg”
 
icÚRes
, 
Ch¬Sequ’û
 
t™Ë
, Ch¬Sequ’û 
summ¬y
, 
BoŞ—n
 
visibË
) {

382 
P»ã»nû
 
	g´ef
 = 
fšdP»ã»nû
(
g‘SŒšg
(
keyResId
));

383 ià(
	g´ef
 !ğ
nuÎ
) {

384 ià(
summ¬y
 !ğ
nuÎ
) {

385 
´ef
.
£tSumm¬y
(
summ¬y
);

387 ià(
	gt™Ë
 !ğ
nuÎ
) {

388 
´ef
.
£tT™Ë
(
t™Ë
);

390 ià(
	gicÚRes
 !ğ
nuÎ
 && 
icÚRes
 != 0) {

391 ià(
isAÎowedToTšt
(
´ef
)) {

392 
´ef
.
£tIcÚ
(
_cu
.
tštD¿wabË
(
icÚRes
, 
g‘IcÚTštCŞÜ
()));

394 
	g´ef
.
£tIcÚ
(
icÚRes
);

397 ià(
	gvisibË
 !ğ
nuÎ
) {

398 
´ef
.
£tVisibË
(
visibË
);

401  
	g´ef
;

404 
´Ùeùed
 
»moveP»ã»nû
(@
NuÎabË
 
P»ã»nû
 
´eã»nû
) {

405 ià(
	g´eã»nû
 =ğ
nuÎ
) {

408 
P»ã»nûGroup
 
	g·»Á
 = 
g‘P»ã»nûP¬’t
(
g‘P»ã»nûSü“n
(), 
´eã»nû
);

409 ià(
	g·»Á
 =ğ
nuÎ
) {

412 
	g·»Á
.
»moveP»ã»nû
(
´eã»nû
);

415 
public
 
boŞ—n
 
ÿnGoBack
() {

416  !
	g_´efSü“nBack¡ack
.
isEm±y
();

419 
public
 
goBack
() {

420 ià(
ÿnGoBack
()) {

421 
P»ã»nûSü“n
 
	gsü“n
 = 
_´efSü“nBack¡ack
.
»move
(_´efSü“nBack¡ack.
size
() - 1);

422 ià(
	gsü“n
 !ğ
nuÎ
) {

423 
£tP»ã»nûSü“n
(
sü“n
);

424 
ÚP»ã»nûSü“nChªgedPriv
(
this
, 
sü“n
);

429 
´Ùeùed
 
P»ã»nûGroup
 
g‘P»ã»nûP¬’t
(P»ã»nûGrou°
´efGroup
, 
P»ã»nû
 
´ef
) {

430 
	gi
 = 0; i < 
	g´efGroup
.
g‘P»ã»nûCouÁ
(); ++i) {

431 
P»ã»nû
 
	g´efChd
 = 
´efGroup
.
g‘P»ã»nû
(
i
);

432 ià(
	g´efChd
 =ğ
´ef
) {

433  
´efGroup
;

435 ià(
´efChd
 
š¡ªûof
 
	gP»ã»nûGroup
) {

436 
P»ã»nûGroup
 
	gchdGroup
 = (P»ã»nûGroupè
´efChd
;

437 
P»ã»nûGroup
 
	g»suÉ
 = 
g‘P»ã»nûP¬’t
(
chdGroup
, 
´ef
);

438 ià(
	g»suÉ
 !ğ
nuÎ
) {

439  
»suÉ
;

443  
	gnuÎ
;

446 
´iv©e
 
ÚP»ã»nûSü“nChªgedPriv
(
P»ã»nûF¿gm’tCom·t
 
´eã»nûF¿gm’tCom·t
, 
P»ã»nûSü“n
 
´eã»nûSü“n
) {

447 
£tDivid”Visib™y
(
isDivid”VisibË
());

448 
ÚP»ã»nûSü“nChªged
(
´eã»nûF¿gm’tCom·t
, 
´eã»nûSü“n
);

449 
upd©eP»ã»nûChªgedLi¡’”s
(
Œue
);

450 
doUpd©eP»ã»nûs
();

460 
public
 
boŞ—n
 
eq
(@
NuÎabË
 
P»ã»nû
 
´ef
, @
SŒšgRes
 
»sIdKey
) {

461  
	g´ef
 !ğ
nuÎ
 && 
g‘SŒšg
(
»sIdKey
).
equ®s
(
´ef
.
g‘Key
());

472 
public
 
boŞ—n
 
eq
(@
NuÎabË
 
SŒšg
 
key
, @
SŒšgRes
 
»sIdKey
) {

473  
g‘SŒšg
(
»sIdKey
).
equ®s
(
key
);

476 
public
 
boŞ—n
 
hasT™Ë
() {

477  !
	gTextUts
.
isEm±y
(
g‘T™Ë
());

480 
public
 
SŒšg
 
g‘T™ËOrDeçuÉ
(SŒšg 
deçuÉT™Ë
) {

481  
hasT™Ë
(è? 
g‘T™Ë
(è: 
deçuÉT™Ë
;

484 
´Ùeùed
 
»¡¬tAùiv™y
() {

485 
Aùiv™y
 
	gaùiv™y
;

486 ià(
isAdded
(è&& (
	gaùiv™y
 = 
g‘Aùiv™y
()è!ğ
nuÎ
) {

487 
IÁ’t
 
š‹Á
 = 
g‘Aùiv™y
().
g‘IÁ’t
();

488 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_CLEAR_TOP
 | IÁ’t.
FLAG_ACTIVITY_NEW_TASK
 | IÁ’t.
FLAG_ACTIVITY_NO_ANIMATION
);

489 
	gaùiv™y
.
ov”rideP’dšgT¿ns™iÚ
(0, 0);

490 
	gaùiv™y
.
fšish
();

491 
	gaùiv™y
.
ov”rideP’dšgT¿ns™iÚ
(0, 0);

492 
¡¬tAùiv™y
(
š‹Á
);

504 
´Ùeùed
 
boŞ—n
 
­³ndP»ã»nû
(
P»ã»nû
 
´ef
, @
NuÎabË
 
P»ã»nûGroup
 
rg‘
) {

505 ià(
	grg‘
 =ğ
nuÎ
) {

506 ià((
rg‘
 = 
g‘P»ã»nûSü“n
()è=ğ
nuÎ
) {

507  
çl£
;

510 ià(
g‘IcÚTštCŞÜ
(è!ğ
nuÎ
 && 
´ef
.
g‘IcÚ
(è!ğnuÎ && 
isAÎowedToTšt
(pref)) {

511 
´ef
.
£tIcÚ
(
_cu
.
tštD¿wabË
Õ»f.
g‘IcÚ
(), 
g‘IcÚTštCŞÜ
()));

513  
	grg‘
.
addP»ã»nû
(
´ef
);

522 
public
 
boŞ—n
 
isDivid”VisibË
() {

523  
	g_isDivid”VisibË
;

526 
public
 
£tDivid”Visib™y
(
boŞ—n
 
visibË
) {

527 
	g_isDivid”VisibË
 = 
visibË
;

528 
Recyş”V›w
 
	g»cyş”V›w
 = 
g‘Li¡V›w
();

529 ià(
	gvisibË
) {

530 
	g»cyş”V›w
.
addI‹mDecÜ©iÚ
(
Ãw
 
Divid”DecÜ©iÚ
(
g‘CÚ‹xt
(), 
g‘Divid”CŞÜ
(), 
_æ©PosIsP»ã»nûC©egÜyC®lback
));

531 } ià(
	g»cyş”V›w
.
g‘I‹mDecÜ©iÚCouÁ
() > 0) {

532 
	g»cyş”V›w
.
»moveI‹mDecÜ©iÚ
(
»cyş”V›w
.
g‘I‹mDecÜ©iÚAt
(0));

536 
public
 
IÁeg”
 
g‘Divid”CŞÜ
() {

537 
Aùiv™yUts
 
	gau
 = 
Ãw
 Aùiv™yUts(
g‘Aùiv™y
());

538 
	gŒy
 {

539  
	gCŞÜ
.
·r£CŞÜ
(
au
.
shouldCŞÜOnTİBeLight
×u.
g‘Aùiv™yBackgroundCŞÜ
()) ? "#3d3d3d" : "#d1d1d1");

540 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

541  
	gnuÎ
;

542 } 
	gfš®ly
 {

543 
	gau
.
ä“CÚ‹xtRef
();

547 
	gC®lback
.
	gb1
<
	gIÁeg”
> 
	g_æ©PosIsP»ã»nûC©egÜyC®lback
 = 
pos™iÚ
 -> {

548 
æ©Pos
 = 0;

549 
P»ã»nûGroup
 
	g´efGroup
 = 
g‘P»ã»nûSü“n
();

550 ià(
	g´efGroup
 !ğ
nuÎ
) {

551 
´efCouÁ
 = 
´efGroup
.
g‘P»ã»nûCouÁ
();

552 
	gi
 = 0; i < 
	g´efCouÁ
; i++) {

553 
P»ã»nû
 
	g´ef
 = 
´efGroup
.
g‘P»ã»nû
(
i
);

554 ià(
	g´ef
 !ğ
nuÎ
) {

555 ià(
´ef
 
š¡ªûof
 
P»ã»nûC©egÜy
) {

556 
P»ã»nûGroup
 
´efSubGroup
 = ((P»ã»nûGroupè
´ef
);

557 
	gj
 = 0; j < 
	g´efSubGroup
.
g‘P»ã»nûCouÁ
(); j++) {

558 
	gæ©Pos
++;

559 ià(
	gæ©Pos
 =ğ
pos™iÚ
) {

560  !(
´efSubGroup
.
g‘P»ã»nû
(
j
è
š¡ªûof
 
P»ã»nûC©egÜy
);

563 } ià(
	gæ©Pos
 =ğ
pos™iÚ
) {

564  
Œue
;

567 
	gæ©Pos
++;

570  
	gçl£
;

576 
public
 
şass
 
Divid”DecÜ©iÚ
 
ex‹nds
 
	gRecyş”V›w
.
	gI‹mDecÜ©iÚ
 {

577 
´iv©e
 
	gC®lback
.
	gb1
<
	gIÁeg”
> 
	g_isC©egÜyAtFÏos™iÚC®lback
;

578 
´iv©e
 
fš®
 
Pašt
 
	g_·št
;

579 
´iv©e
 
	g_heightDp
;

581 
public
 
Divid”DecÜ©iÚ
(
CÚ‹xt
 
cÚ‹xt
, @
NuÎabË
 
C®lback
.
b1
<
IÁeg”
> 
isC©egÜyAtFÏos
) {

582 
this
(
cÚ‹xt
, 
nuÎ
, 1f, 
isC©egÜyAtFÏos
);

587 
public
 
Divid”DecÜ©iÚ
(
CÚ‹xt
 
cÚ‹xt
, @
NuÎabË
 @
CŞÜIÁ
 
IÁeg”
 
cŞÜ
, @NuÎabË 
C®lback
.
b1
<IÁeg”> 
isC©egÜyAtFÏos
) {

588 
this
(
cÚ‹xt
, 
cŞÜ
, 1f, 
isC©egÜyAtFÏos
);

591 
public
 
Divid”DecÜ©iÚ
(
CÚ‹xt
 
cÚ‹xt
, @
NuÎabË
 @
CŞÜIÁ
 
IÁeg”
 
cŞÜ
, 
heightDp
, @NuÎabË 
C®lback
.
b1
<IÁeg”> 
isC©egÜyAtFÏos
) {

592 ià(
	gcŞÜ
 =ğ
nuÎ
) {

593 
cŞÜ
 = 
CŞÜ
.
·r£CŞÜ
("#b8b8b8");

595 
	g_isC©egÜyAtFÏos™iÚC®lback
 = 
isC©egÜyAtFÏos
;

596 
	g_·št
 = 
Ãw
 
Pašt
();

597 
	g_·št
.
£tStyË
(
Pašt
.
StyË
.
FILL
);

598 
	g_·št
.
£tCŞÜ
(
cŞÜ
);

599 
	g_heightDp
 = (è
Ty³dV®ue
.
­¶yDim’siÚ
(Ty³dV®ue.
COMPLEX_UNIT_DIP
, 
heightDp
, 
cÚ‹xt
.
g‘Resourûs
().
g‘Di¥ÏyM‘rics
());

602 @
Ov”ride


603 
public
 
g‘I‹mOff£ts
(@
NÚNuÎ
 
Reù
 
outReù
, @NÚNuÎ 
V›w
 
v›w
, @NÚNuÎ 
Recyş”V›w
 
·»Á
, @NÚNuÎ Recyş”V›w.
S‹
 
¡©e
) {

604 
	gpos™iÚ
 = 
·»Á
.
g‘ChdAd­‹rPos™iÚ
(
v›w
);

605 
	gv›wTy³
 = 0;

606 
	gŒy
 {

607 
	gv›wTy³
 = 
·»Á
.
g‘Ad­‹r
(è!ğ
nuÎ
 ?…¬’t.g‘Ad­‹r().
g‘I‹mV›wTy³
(
pos™iÚ
) : 0;

608 } 
ÿtch
 (
NuÎPoš‹rExû±iÚ
 
ignÜed
) {

610 ià(
	gv›wTy³
 != 1) {

611 
outReù
.
£t
(0, 0, 0, 
_heightDp
);

613 
	goutReù
.
£tEm±y
();

617 @
Ov”ride


618 
public
 
ÚD¿w
(@
NÚNuÎ
 
Cªvas
 
c
, @NÚNuÎ 
Recyş”V›w
 
·»Á
, @NÚNuÎ Recyş”V›w.
S‹
 
¡©e
) {

619 
	gi
 = 0; i < 
	g·»Á
.
g‘ChdCouÁ
(); i++) {

620 
V›w
 
	gv›w
 = 
·»Á
.
g‘ChdAt
(
i
);

621 
	gpos™iÚ
 = 
·»Á
.
g‘ChdAd­‹rPos™iÚ
(
v›w
);

622 ià(
	g_isC©egÜyAtFÏos™iÚC®lback
 =ğ
nuÎ
 || 
_isC©egÜyAtFÏos™iÚC®lback
.
ÿÎback
(
pos™iÚ
)) {

623 
c
.
d¿wReù
(
v›w
.
g‘Leá
(), v›w.
g‘BÙtom
(), v›w.
g‘Right
(), v›w.g‘BÙtom(è+ 
_heightDp
, 
_·št
);

	@app/src/main/java/net/gsantner/opoc/preference/LanguagePreferenceCompat.java

46 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
;

48 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gT¬g‘Api
;

49 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

50 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

51 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

52 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

53 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gos
.
	gCÚfigu¿tiÚCom·t
;

54 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gLi¡P»ã»nû
;

55 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

56 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

58 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

60 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

61 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

62 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

63 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

68 @
Suµ»ssW¬nšgs
({"unused", "SpellCheckingInspection", "WeakerAccess"})

69 
public
 cÏs 
	cLªguageP»ã»nûCom·t
 
ex‹nds
 
	mLi¡P»ã»nû
 {

70 
´iv©e
 
fš®
 
SŒšg
 
	mSYSTEM_LANGUAGE_CODE
 = "";

73 
public
 
SŒšg
 
	m_sy¡emLªguageName
 = "System";

74 
public
 
SŒšg
 
	m_deçuÉLªguageCode
 = "en";

76 
public
 
	$LªguageP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
) {

77 
	`su³r
(
cÚ‹xt
);

78 
	`lßdLªgs
(
cÚ‹xt
, 
nuÎ
);

81 
public
 
	$LªguageP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

82 
	`su³r
(
cÚ‹xt
, 
©Œs
);

83 
	`lßdLªgs
(
cÚ‹xt
, 
©Œs
);

84 
	}
}

86 @
	$T¬g‘Api
(
Bud
.
VERSION_CODES
.
LOLLIPOP
)

87 
public
 
	$LªguageP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

88 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

89 
	`lßdLªgs
(
cÚ‹xt
, 
©Œs
);

90 
	}
}

92 @
	$T¬g‘Api
(
Bud
.
VERSION_CODES
.
LOLLIPOP
)

93 
public
 
	$LªguageP»ã»nûCom·t
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
, 
defStyËRes
) {

94 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
, 
defStyËRes
);

95 
	`lßdLªgs
(
cÚ‹xt
, 
©Œs
);

96 
	}
}

98 @
Ov”ride


99 
public
 
boŞ—n
 
	$ÿÎChªgeLi¡’”
(
Objeù
 
ÃwV®ue
) {

100 ià(
ÃwV®ue
 
š¡ªûof
 
SŒšg
) {

102 
Ãw
 
	`CÚ‹xtUts
(
	`g‘CÚ‹xt
()).
	`£tAµLªguage
((
SŒšg
è
ÃwV®ue
);

104  
su³r
.
	`ÿÎChªgeLi¡’”
(
ÃwV®ue
);

105 
	}
}

108 
´iv©e
 
	$lßdLªgs
(
CÚ‹xt
 
cÚ‹xt
) {

109 
	`lßdLªgs
(
cÚ‹xt
, 
nuÎ
);

110 
	}
}

112 
´iv©e
 
lßdLªgs
(
CÚ‹xt
 
cÚ‹xt
, @
NuÎabË
 
A‰ribu‹S‘
 
©Œs
) {

113 
£tDeçuÉV®ue
(
SYSTEM_LANGUAGE_CODE
);

116 
CÚ‹xtUts
 
	gcÚ‹xtUts
 = 
Ãw
 CÚ‹xtUts(
cÚ‹xt
);

117 
	gLi¡
<
	gSŒšg
> 
	gÏnguages
 = 
Ãw
 
A¼ayLi¡
<>();

118 
Objeù
 
	gbcof
 = 
cÚ‹xtUts
.
g‘BudCÚfigV®ue
("DETECTED_ANDROID_LOCALES");

119 ià(
bcof
 
š¡ªûof
 
	gSŒšg
[]) {

120 
SŒšg
 
	gÏngId
 : (SŒšg[]è
bcof
) {

121 
LoÿË
 
loÿË
 = 
cÚ‹xtUts
.
g‘LoÿËByAndroidCode
(
ÏngId
);

122 
	gÏnguages
.
add
(
summ¬izeLoÿË
(
loÿË
, 
ÏngId
) + ";" +†angId);

127 
	gCŞËùiÚs
.
sÜt
(
Ïnguages
);

130 
	gSŒšg
[] 
	g’Œ›s
 = 
Ãw
 
SŒšg
[
Ïnguages
.
size
() + 2];

131 
	gSŒšg
[] 
	g’Œyv®
 = 
Ãw
 
SŒšg
[
Ïnguages
.
size
() + 2];

132 
	gi
 = 0; i < 
	gÏnguages
.
size
(); i++) {

133 
	g’Œ›s
[
i
 + 2] = 
Ïnguages
.
g‘
(i).
¥l™
(";")[0];

134 
	g’Œyv®
[
i
 + 2] = 
Ïnguages
.
g‘
(i).
¥l™
(";")[1];

136 
	g’Œyv®
[0] = 
SYSTEM_LANGUAGE_CODE
;

137 
	g’Œ›s
[0] = 
_sy¡emLªguageName
 + " Â» " + 
summ¬izeLoÿË
(
CÚfigu¿tiÚCom·t
.
g‘LoÿËs
(
Resourûs
.
g‘Sy¡em
().
g‘CÚfigu¿tiÚ
()).
g‘
(0), "");

138 
	g’Œyv®
[1] = 
_deçuÉLªguageCode
;

139 
	g’Œ›s
[1] = 
summ¬izeLoÿË
(
cÚ‹xtUts
.
g‘LoÿËByAndroidCode
(
_deçuÉLªguageCode
), _defaultLanguageCode);

141 
£tEÁr›s
(
’Œ›s
);

142 
£tEÁryV®ues
(
’Œyv®
);

147 
´iv©e
 
SŒšg
 
	$summ¬izeLoÿË
(
fš®
 
LoÿË
 
loÿË
, fš® 
SŒšg
 
loÿËAndroidCode
) {

148 
SŒšg
 
couÁry
 = 
loÿË
.
	`g‘Di¥ÏyCouÁry
(locale);

149 
SŒšg
 
Ïnguage
 = 
loÿË
.
	`g‘Di¥ÏyLªguage
(locale);

150 
SŒšg
 
»t
 = 
loÿË
.
	`g‘Di¥ÏyLªguage
(
LoÿË
.
ENGLISH
)

151 + " (" + 
Ïnguage
.
	`sub¡ršg
(0, 1).
	`toUµ”Ca£
(
LoÿË
.
	`g‘DeçuÉ
()) +†anguage.substring(1)

152 + ((!
couÁry
.
	`isEm±y
(è&& !couÁry.
	`toLow”Ca£
(
LoÿË
.
	`g‘DeçuÉ
()).
	`equ®s
(
Ïnguage
.toLowerCase(Locale.getDefault()))) ? (", " + country) : "")

155 ià(
loÿËAndroidCode
.
	`equ®s
("zh-rCN")) {

156 
»t
 =„‘.
	`sub¡ršg
(0,„‘.
	`šdexOf
(" ") + 1) + "Simplified" +„et.substring(ret.indexOf(" "));

157 } ià(
loÿËAndroidCode
.
	`equ®s
("zh-rTW")) {

158 
»t
 =„‘.
	`sub¡ršg
(0,„‘.
	`šdexOf
(" ") + 1) + "Traditional" +„et.substring(ret.indexOf(" "));

159 } ià(
loÿËAndroidCode
.
	`equ®s
("sr-rRS")) {

160 
»t
 =„‘.
	`sub¡ršg
(0,„‘.
	`šdexOf
(" ") + 1) + "Latin" +„et.substring(ret.indexOf(" "));

161 } ià(
loÿËAndroidCode
.
	`¡¬tsW™h
("sr")) {

162 
»t
 =„‘.
	`sub¡ršg
(0,„‘.
	`šdexOf
(" ") + 1) + "Cyrillic" +„et.substring(ret.indexOf(" "));

163 } ià(
loÿËAndroidCode
.
	`equ®s
("fil")) {

164 
»t
 =„‘.
	`sub¡ršg
(0,„‘.
	`šdexOf
("(") + 1) + "Philippines)";

167  
»t
;

168 
	}
}

171 @
Ov”ride


172 
public
 
Ch¬Sequ’û
 
	$g‘Summ¬y
() {

173 
LoÿË
 
loÿË
 = 
Ãw
 
	`CÚ‹xtUts
(
	`g‘CÚ‹xt
()).
	`g‘LoÿËByAndroidCode
(
	`g‘V®ue
());

174 
SŒšg
 
´efix
 = 
TextUts
.
	`isEm±y
(
su³r
.
	`g‘Summ¬y
())

175 ? "" : 
su³r
.
	`g‘Summ¬y
() + "\n\n";

176  
´efix
 + 
	`summ¬izeLoÿË
(
loÿË
, 
	`g‘V®ue
());

177 
	}
}

179 
public
 
SŒšg
 
	$g‘Sy¡emLªguageName
() {

180  
_sy¡emLªguageName
;

181 
	}
}

183 
public
 
	$£tSy¡emLªguageName
(
SŒšg
 
sy¡emLªguageName
) {

184 
_sy¡emLªguageName
 = 
sy¡emLªguageName
;

185 
	`lßdLªgs
(
	`g‘CÚ‹xt
());

186 
	}
}

188 
public
 
SŒšg
 
	$g‘DeçuÉLªguageCode
() {

189  
_deçuÉLªguageCode
;

190 
	}
}

192 
public
 
	$£tDeçuÉLªguageCode
(
SŒšg
 
deçuÉLªguageCode
) {

193 
_deçuÉLªguageCode
 = 
deçuÉLªguageCode
;

194 
	`lßdLªgs
(
	`g‘CÚ‹xt
());

195 
	}
}

	@app/src/main/java/net/gsantner/opoc/preference/MapPropertyBackend.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
;

13 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

15 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

16 
impÜt
 
	gjava
.
	gut
.
	gM­
;

18 @
Suµ»ssW¬nšgs
("SpellCheckingInspection")

19 
public
 
şass
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
im¶em’ts
 
	gPrİ”tyBack’d
<TKEY, MapPropertyBackend<TKEY>> {

20 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gLi¡
<
	gSŒšg
>> 
	g_pSŒšgLi¡
 = 
Ãw
 
HashM­
<>();

21 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gLi¡
<
	gIÁeg”
>> 
	g_pIÁLi¡
 = 
Ãw
 
HashM­
<>();

22 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gBoŞ—n
> 
	g_pBoŞ—n
 = 
Ãw
 
HashM­
<>();

23 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gSŒšg
> 
	g_pSŒšg
 = 
Ãw
 
HashM­
<>();

24 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gDoubË
> 
	g_pDoubË
 = 
Ãw
 
HashM­
<>();

25 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gIÁeg”
> 
	g_pIÁ
 = 
Ãw
 
HashM­
<>();

26 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gFlßt
> 
	g_pFlßt
 = 
Ãw
 
HashM­
<>();

27 
´iv©e
 
fš®
 
	gM­
<
	gTKEY
, 
	gLÚg
> 
	g_pLÚg
 = 
Ãw
 
HashM­
<>();

29 
public
 
M­Prİ”tyBack’d
() {

33 @
Ov”ride


34 
public
 
SŒšg
 
g‘SŒšg
(
TKEY
 
key
, SŒšg 
deçuÉV®ue
) {

35  
	g_pSŒšg
.
cÚšsKey
(
key
è? _pSŒšg.
g‘
(keyè: 
deçuÉV®ue
;

38 @
Ov”ride


39 
public
 
g‘IÁ
(
TKEY
 
key
, 
deçuÉV®ue
) {

40  
	g_pIÁ
.
cÚšsKey
(
key
è? _pIÁ.
g‘
(keyè: 
deçuÉV®ue
;

43 @
Ov”ride


44 
public
 
g‘LÚg
(
TKEY
 
key
, 
deçuÉV®ue
) {

45  
	g_pLÚg
.
cÚšsKey
(
key
è? _pLÚg.
g‘
(keyè: 
deçuÉV®ue
;

48 @
Ov”ride


49 
public
 
boŞ—n
 
g‘BoŞ
(
TKEY
 
key
, boŞ—À
deçuÉV®ue
) {

50  
	g_pBoŞ—n
.
cÚšsKey
(
key
è? _pBoŞ—n.
g‘
(keyè: 
deçuÉV®ue
;

53 @
Ov”ride


54 
public
 
g‘Flßt
(
TKEY
 
key
, 
deçuÉV®ue
) {

55  
	g_pFlßt
.
cÚšsKey
(
key
è? _pFlßt.
g‘
(keyè: 
deçuÉV®ue
;

58 @
Ov”ride


59 
public
 
g‘DoubË
(
TKEY
 
key
, 
deçuÉV®ue
) {

60  
	g_pDoubË
.
cÚšsKey
(
key
è? _pDoubË.
g‘
(keyè: 
deçuÉV®ue
;

63 @
Ov”ride


64 
public
 
	gLi¡
<
	gIÁeg”
> 
g‘IÁLi¡
(
TKEY
 
key
) {

65  
	g_pIÁLi¡
.
cÚšsKey
(
key
è? _pIÁLi¡.
g‘
(keyè: 
Ãw
 
A¼ayLi¡
<>();

68 @
Ov”ride


69 
public
 
	gLi¡
<
	gSŒšg
> 
g‘SŒšgLi¡
(
TKEY
 
key
) {

70  
	g_pSŒšgLi¡
.
cÚšsKey
(
key
è? _pSŒšgLi¡.
g‘
(keyè: 
Ãw
 
A¼ayLi¡
<>();

73 @
Ov”ride


74 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tSŒšg
(
TKEY
 
key
, 
SŒšg
 
v®ue
) {

75 
	g_pSŒšg
.
put
(
key
, 
v®ue
);

76  
	gthis
;

79 @
Ov”ride


80 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tIÁ
(
TKEY
 
key
, 
v®ue
) {

81 
	g_pIÁ
.
put
(
key
, 
v®ue
);

82  
	gthis
;

85 @
Ov”ride


86 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tLÚg
(
TKEY
 
key
, 
v®ue
) {

87 
	g_pLÚg
.
put
(
key
, 
v®ue
);

88  
	gthis
;

91 @
Ov”ride


92 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tBoŞ
(
TKEY
 
key
, 
boŞ—n
 
v®ue
) {

93 
	g_pBoŞ—n
.
put
(
key
, 
v®ue
);

94  
	gthis
;

97 @
Ov”ride


98 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tFlßt
(
TKEY
 
key
, 
v®ue
) {

99 
	g_pFlßt
.
put
(
key
, 
v®ue
);

100  
	gthis
;

103 @
Ov”ride


104 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tDoubË
(
TKEY
 
key
, 
v®ue
) {

105 
	g_pDoubË
.
put
(
key
, 
v®ue
);

106  
	gthis
;

109 @
Ov”ride


110 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tIÁLi¡
(
TKEY
 
key
, 
Li¡
<
IÁeg”
> 
v®ue
) {

111 
	g_pIÁLi¡
.
put
(
key
, 
v®ue
);

112  
	gthis
;

115 @
Ov”ride


116 
public
 
	gM­Prİ”tyBack’d
<
	gTKEY
> 
£tSŒšgLi¡
(
TKEY
 
key
, 
Li¡
<
SŒšg
> 
v®ue
) {

117 
	g_pSŒšgLi¡
.
put
(
key
, 
v®ue
);

118  
	gthis
;

	@app/src/main/java/net/gsantner/opoc/preference/PropertyBackend.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
;

13 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

15 @
Suµ»ssW¬nšgs
({"UnusedReturnValue", "SpellCheckingInspection", "unused", "SameParameterValue"})

16 
public
 
š‹rçû
 
	gPrİ”tyBack’d
<
	gTKEY
, 
	gTTHIS
> {

17 
SŒšg
 
g‘SŒšg
(
TKEY
 
key
, SŒšg 
deçuÉV®ue
);

19 
g‘IÁ
(
TKEY
 
key
, 
deçuÉV®ue
);

21 
g‘LÚg
(
TKEY
 
key
, 
deçuÉV®ue
);

23 
boŞ—n
 
g‘BoŞ
(
TKEY
 
key
, boŞ—À
deçuÉV®ue
);

25 
g‘Flßt
(
TKEY
 
key
, 
deçuÉV®ue
);

27 
g‘DoubË
(
TKEY
 
key
, 
deçuÉV®ue
);

29 
	gLi¡
<
	gIÁeg”
> 
g‘IÁLi¡
(
TKEY
 
key
);

31 
	gLi¡
<
	gSŒšg
> 
g‘SŒšgLi¡
(
TKEY
 
key
);

33 
TTHIS
 
£tSŒšg
(
TKEY
 
key
, 
SŒšg
 
v®ue
);

35 
TTHIS
 
£tIÁ
(
TKEY
 
key
, 
v®ue
);

37 
TTHIS
 
£tLÚg
(
TKEY
 
key
, 
v®ue
);

39 
TTHIS
 
£tBoŞ
(
TKEY
 
key
, 
boŞ—n
 
v®ue
);

41 
TTHIS
 
£tFlßt
(
TKEY
 
key
, 
v®ue
);

43 
TTHIS
 
£tDoubË
(
TKEY
 
key
, 
v®ue
);

45 
TTHIS
 
£tIÁLi¡
(
TKEY
 
key
, 
Li¡
<
IÁeg”
> 
v®ue
);

47 
TTHIS
 
£tSŒšgLi¡
(
TKEY
 
key
, 
Li¡
<
SŒšg
> 
v®ue
);

	@app/src/main/java/net/gsantner/opoc/preference/SharedPreferencesPropertyBackend.java

34 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
;

36 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

37 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

38 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

39 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜRes
;

40 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

41 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

42 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

43 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

45 
impÜt
 
	gjava
.
	gio
.
	gFe
;

46 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

47 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

48 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

49 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

50 
impÜt
 
	gjava
.
	gut
.
	gG»gÜŸnC®’d¬
;

51 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

58 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused", "SpellCheckingInspection", "SameParameterValue"})

59 
public
 
şass
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
im¶em’ts
 
	gPrİ”tyBack’d
<
	gSŒšg
, 
	gSh¬edP»ã»nûsPrİ”tyBack’d
> {

60 
´Ùeùed
 
fš®
 
SŒšg
 
	gARRAY_SEPARATOR
 = "%%%";

61 
´Ùeùed
 
fš®
 
SŒšg
 
	gARRAY_SEPARATOR_SUBSTITUTE
 = "Â§Â§Â§";

62 
public
 
fš®
 
SŒšg
 
	gSHARED_PREF_APP
 = "app";

63 
´iv©e
 
SŒšg
 
	g_debugLog
 = "";

69 
´Ùeùed
 
fš®
 
Sh¬edP»ã»nûs
 
	g_´efAµ
;

70 
´Ùeùed
 
fš®
 
SŒšg
 
	g_´efAµName
;

71 
´Ùeùed
 
fš®
 
CÚ‹xt
 
	g_cÚ‹xt
;

73 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
(
fš®
 
CÚ‹xt
 
cÚ‹xt
) {

74 
this
(
cÚ‹xt
, 
SHARED_PREF_APP
);

77 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
SŒšg
 
´efAµName
) {

78 
	g_cÚ‹xt
 = 
cÚ‹xt
.
g‘AµliÿtiÚCÚ‹xt
();

79 
	g_´efAµName
 = 
TextUts
.
isEm±y
(
´efAµName
) ?

80 
_cÚ‹xt
.
g‘PackageName
(è+ "_´eã»nûs" : 
´efAµName
;

81 
	g_´efAµ
 = 
_cÚ‹xt
.
g‘Sh¬edP»ã»nûs
(
_´efAµName
, 
CÚ‹xt
.
MODE_PRIVATE
);

87 
public
 
CÚ‹xt
 
g‘CÚ‹xt
() {

88  
	g_cÚ‹xt
;

91 
public
 
boŞ—n
 
isKeyEqu®
(
SŒšg
 
key
, 
¡ršgKeyResourûId
) {

92  
	gkey
.
equ®s
(
r¡r
(
¡ršgKeyResourûId
));

95 
public
 
»£tS‘tšgs
() {

96 
»£tS‘tšgs
(
_´efAµ
);

99 @
Suµ»ssLšt
("ApplySharedPref")

100 
public
 
»£tS‘tšgs
(
fš®
 
Sh¬edP»ã»nûs
 
´ef
) {

101 
	g´ef
.
ed™
().
ş—r
().
comm™
();

104 
public
 
boŞ—n
 
isP»fS‘
(@
SŒšgRes
 
¡ršgKeyResourûId
) {

105  
isP»fS‘
(
_´efAµ
, 
¡ršgKeyResourûId
);

108 
public
 
boŞ—n
 
isP»fS‘
(
fš®
 
Sh¬edP»ã»nûs
 
´ef
, @
SŒšgRes
 
¡ršgKeyResourûId
) {

109  
	g´ef
.
cÚšs
(
r¡r
(
¡ršgKeyResourûId
));

112 
public
 
»gi¡”P»ã»nûChªgedLi¡’”
(
Sh¬edP»ã»nûs
.
OnSh¬edP»ã»nûChªgeLi¡’”
 
v®ue
) {

113 
»gi¡”P»ã»nûChªgedLi¡’”
(
_´efAµ
, 
v®ue
);

116 
public
 
»gi¡”P»ã»nûChªgedLi¡’”
(
fš®
 
Sh¬edP»ã»nûs
 
´ef
, Sh¬edP»ã»nûs.
OnSh¬edP»ã»nûChªgeLi¡’”
 
v®ue
) {

117 
	g´ef
.
»gi¡”OnSh¬edP»ã»nûChªgeLi¡’”
(
v®ue
);

120 
public
 
uÄegi¡”P»ã»nûChªgedLi¡’”
(
Sh¬edP»ã»nûs
.
OnSh¬edP»ã»nûChªgeLi¡’”
 
v®ue
) {

121 
uÄegi¡”P»ã»nûChªgedLi¡’”
(
_´efAµ
, 
v®ue
);

124 
public
 
uÄegi¡”P»ã»nûChªgedLi¡’”
(
fš®
 
Sh¬edP»ã»nûs
 
´ef
, Sh¬edP»ã»nûs.
OnSh¬edP»ã»nûChªgeLi¡’”
 
v®ue
) {

125 
	g´ef
.
uÄegi¡”OnSh¬edP»ã»nûChªgeLi¡’”
(
v®ue
);

128 
public
 
Sh¬edP»ã»nûs
 
g‘DeçuÉP»ã»nûs
() {

129  
	g_´efAµ
;

132 
public
 
	gSh¬edP»ã»nûs
.
Ed™Ü
 
g‘DeçuÉP»ã»nûsEd™Ü
() {

133  
	g_´efAµ
.
ed™
();

136 
public
 
SŒšg
 
g‘DeçuÉP»ã»nûsName
() {

137  
	g_´efAµName
;

141 
´iv©e
 
Sh¬edP»ã»nûs
 
gp
(
fš®
 Sh¬edP»ã»nûs... 
´ef
) {

142  (
	g´ef
 !ğ
nuÎ
 && 
´ef
.
Ëngth
 > 0 ?…»f[0] : 
_´efAµ
);

146 
public
 
lim™Li¡To
(
fš®
 
Li¡
<?> 
li¡
, 
maxSize
, 
boŞ—n
 
»moveDu¶iÿ‹s
) {

147 
Objeù
 
	go
;

148 
	gpos
;

150 
	gi
 = 0; 
	g»moveDu¶iÿ‹s
 && i < 
	gli¡
.
size
(); i++) {

151 
	go
 = 
li¡
.
g‘
(
i
);

152 (
	gpos
 = 
li¡
.
Ï¡IndexOf
(
o
)è!ğ
i
 && 
pos
 >= 0) {

153 
li¡
.
»move
(
pos
);

156 (
	gpos
 = 
li¡
.
size
()è> 
maxSize
 && 
pos
 > 0) {

157 
li¡
.
»move
Öi¡.
size
() - 1);

164 
public
 
SŒšg
 
r¡r
(@
SŒšgRes
 
¡ršgKeyResourûId
) {

165  
	g_cÚ‹xt
.
g‘SŒšg
(
¡ršgKeyResourûId
);

168 
public
 
rcŞÜ
(@
CŞÜRes
 
»sCŞÜId
) {

169  
	gCÚ‹xtCom·t
.
g‘CŞÜ
(
_cÚ‹xt
, 
»sCŞÜId
);

172 
public
 
	gSŒšg
[] 
r¡rs
(... 
keyResourûIds
) {

173 
	gSŒšg
[] 
	g»t
 = 
Ãw
 
SŒšg
[
keyResourûIds
.
Ëngth
];

174 
	gi
 = 0; i < 
	gkeyResourûIds
.
	gËngth
; i++) {

175 
	g»t
[
i
] = 
r¡r
(
keyResourûIds
[i]);

177  
	g»t
;

184 
public
 
£tSŒšg
(@
SŒšgRes
 
keyResourûId
, 
SŒšg
 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

185 
gp
(
´ef
).
ed™
().
putSŒšg
(
r¡r
(
keyResourûId
), 
v®ue
).
­¶y
();

188 
public
 
£tSŒšg
(
SŒšg
 
key
, SŒšg 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

189 
gp
(
´ef
).
ed™
().
putSŒšg
(
key
, 
v®ue
).
­¶y
();

192 
public
 
£tSŒšg
(@
SŒšgRes
 
keyResourûId
, @SŒšgRe 
deçuÉV®ueResourûId
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

193 
gp
(
´ef
).
ed™
().
putSŒšg
(
r¡r
(
keyResourûId
),„¡r(
deçuÉV®ueResourûId
)).
­¶y
();

196 
public
 
SŒšg
 
g‘SŒšg
(@
SŒšgRes
 
keyResourûId
, SŒšg 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

197  
gp
(
´ef
).
g‘SŒšg
(
r¡r
(
keyResourûId
), 
deçuÉV®ue
);

200 
public
 
SŒšg
 
g‘SŒšg
(@
SŒšgRes
 
keyResourûId
, @SŒšgRe 
deçuÉV®ueResourûId
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

201  
gp
(
´ef
).
g‘SŒšg
(
r¡r
(
keyResourûId
),„¡r(
deçuÉV®ueResourûId
));

204 
public
 
SŒšg
 
g‘SŒšg
(SŒšg 
key
, SŒšg 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

205 
	gŒy
 {

206  
gp
(
´ef
).
g‘SŒšg
(
key
, 
deçuÉV®ue
);

207 } 
ÿtch
 (
CÏssCa¡Exû±iÚ
 
e
) {

208  
	gdeçuÉV®ue
;

212 
public
 
SŒšg
 
g‘SŒšg
(@
SŒšgRes
 
keyResourûId
, SŒšg 
deçuÉV®ue
, @SŒšgRe 
keyResourûIdDeçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

213  
g‘SŒšg
(
r¡r
(
keyResourûId
),„¡r(
keyResourûIdDeçuÉV®ue
), 
´ef
);

216 
´iv©e
 
£tSŒšgLi¡OÃ
(
SŒšg
 
key
, 
Li¡
<SŒšg> 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
 
´ef
) {

217 
SŒšgBud”
 
	gsb
 = 
Ãw
 StringBuilder();

218 
SŒšg
 
	gv®ue
 : 
v®ues
) {

219 
sb
.
­³nd
(
ARRAY_SEPARATOR
);

220 
	gsb
.
­³nd
(
v®ue
.
»¶aû
(
ARRAY_SEPARATOR
, 
ARRAY_SEPARATOR_SUBSTITUTE
));

222 
£tSŒšg
(
key
, 
sb
.
toSŒšg
().
»¶aûFœ¡
(
ARRAY_SEPARATOR
, ""), 
´ef
);

225 
´iv©e
 
	gA¼ayLi¡
<
	gSŒšg
> 
g‘SŒšgLi¡OÃ
(
SŒšg
 
key
, 
fš®
 
Sh¬edP»ã»nûs
 
´ef
) {

226 
	gA¼ayLi¡
<
	gSŒšg
> 
	g»t
 = 
Ãw
 
A¼ayLi¡
<>();

227 
SŒšg
 
	gv®ue
 = 
g‘SŒšg
(
key
, 
ARRAY_SEPARATOR
).
»¶aû
(
ARRAY_SEPARATOR_SUBSTITUTE
, ARRAY_SEPARATOR);

228 ià(
	gv®ue
.
equ®s
(
ARRAY_SEPARATOR
è|| 
	gTextUts
.
isEm±y
(
v®ue
)) {

229  
	g»t
;

231 
	g»t
.
addAÎ
(
A¼ays
.
asLi¡
(
v®ue
.
¥l™
(
ARRAY_SEPARATOR
)));

232  
	g»t
;

235 
public
 
£tSŒšgA¼ay
(@
SŒšgRes
 
keyResourûId
, 
SŒšg
[] 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

236 
£tSŒšgA¼ay
(
r¡r
(
keyResourûId
), 
v®ues
, 
´ef
);

239 
public
 
£tSŒšgA¼ay
(
SŒšg
 
key
, SŒšg[] 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

240 
£tSŒšgLi¡OÃ
(
key
, 
A¼ays
.
asLi¡
(
v®ues
), 
gp
(
´ef
));

243 
public
 
£tSŒšgLi¡
(@
SŒšgRes
 
keyResourûId
, 
Li¡
<
SŒšg
> 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

244 
£tSŒšgA¼ay
(
r¡r
(
keyResourûId
), 
v®ues
.
toA¼ay
(
Ãw
 
SŒšg
[v®ues.
size
()]), 
´ef
);

247 
public
 
£tSŒšgLi¡
(
SŒšg
 
key
, 
Li¡
<SŒšg> 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

248 
£tSŒšgA¼ay
(
key
, 
v®ues
.
toA¼ay
(
Ãw
 
SŒšg
[v®ues.
size
()]), 
´ef
);

251 @
NÚNuÎ


252 
public
 
	gSŒšg
[] 
g‘SŒšgA¼ay
(@
SŒšgRes
 
keyResourûId
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

253  
g‘SŒšgA¼ay
(
r¡r
(
keyResourûId
), 
´ef
);

256 @
NÚNuÎ


257 
public
 
	gSŒšg
[] 
g‘SŒšgA¼ay
(
SŒšg
 
key
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

258 
	gLi¡
<
	gSŒšg
> 
	gli¡
 = 
g‘SŒšgLi¡OÃ
(
key
, 
gp
(
´ef
));

259  
	gli¡
.
toA¼ay
(
Ãw
 
SŒšg
[
li¡
.
size
()]);

263 
public
 
	gA¼ayLi¡
<
	gSŒšg
> 
g‘SŒšgLi¡
(@
SŒšgRes
 
keyResourûId
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

264  
g‘SŒšgLi¡OÃ
(
r¡r
(
keyResourûId
), 
gp
(
´ef
));

267 
public
 
	gA¼ayLi¡
<
	gSŒšg
> 
g‘SŒšgLi¡
(
SŒšg
 
key
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

268  
g‘SŒšgLi¡OÃ
(
key
, 
gp
(
´ef
));

274 
public
 
£tIÁ
(@
SŒšgRes
 
keyResourûId
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

275 
gp
(
´ef
).
ed™
().
putIÁ
(
r¡r
(
keyResourûId
), 
v®ue
).
­¶y
();

278 
public
 
£tIÁ
(
SŒšg
 
key
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

279 
gp
(
´ef
).
ed™
().
putIÁ
(
key
, 
v®ue
).
­¶y
();

282 
public
 
g‘IÁ
(@
SŒšgRes
 
keyResourûId
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

283  
g‘IÁ
(
r¡r
(
keyResourûId
), 
deçuÉV®ue
, 
´ef
);

286 
public
 
g‘IÁ
(
SŒšg
 
key
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

287 
	gŒy
 {

288  
gp
(
´ef
).
g‘IÁ
(
key
, 
deçuÉV®ue
);

289 } 
ÿtch
 (
CÏssCa¡Exû±iÚ
 
e
) {

290  
	gdeçuÉV®ue
;

294 
public
 
g‘IÁOfSŒšgP»f
(@
SŒšgRes
 
keyResId
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

295  
g‘IÁOfSŒšgP»f
(
r¡r
(
keyResId
), 
deçuÉV®ue
, 
gp
(
´ef
));

298 
public
 
g‘IÁOfSŒšgP»f
(
SŒšg
 
key
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

299 
SŒšg
 
	g¡rNum
 = 
g‘SŒšg
(
key
, 
IÁeg”
.
toSŒšg
(
deçuÉV®ue
), 
gp
(
´ef
));

300  
	gIÁeg”
.
v®ueOf
(
¡rNum
);

303 
´iv©e
 
£tIÁLi¡OÃ
(
SŒšg
 
key
, 
Li¡
<
IÁeg”
> 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
 
´ef
) {

304 
SŒšgBud”
 
	gsb
 = 
Ãw
 StringBuilder();

305 
IÁeg”
 
	gv®ue
 : 
v®ues
) {

306 
sb
.
­³nd
(
ARRAY_SEPARATOR
);

307 
	gsb
.
­³nd
(
v®ue
.
toSŒšg
());

309 
£tSŒšg
(
key
, 
sb
.
toSŒšg
().
»¶aûFœ¡
(
ARRAY_SEPARATOR
, ""), 
´ef
);

312 
´iv©e
 
	gA¼ayLi¡
<
	gIÁeg”
> 
g‘IÁLi¡OÃ
(
SŒšg
 
key
, 
fš®
 
Sh¬edP»ã»nûs
 
´ef
) {

313 
	gA¼ayLi¡
<
	gIÁeg”
> 
	g»t
 = 
Ãw
 
A¼ayLi¡
<>();

314 
SŒšg
 
	gv®ue
 = 
g‘SŒšg
(
key
, 
ARRAY_SEPARATOR
);

315 ià(
	gv®ue
.
equ®s
(
ARRAY_SEPARATOR
)) {

316  
	g»t
;

318 
SŒšg
 
	gs
 : 
v®ue
.
¥l™
(
ARRAY_SEPARATOR
)) {

319 
»t
.
add
(
IÁeg”
.
·r£IÁ
(
s
));

321  
	g»t
;

324 
public
 
£tIÁA¼ay
(@
SŒšgRes
 
keyResourûId
, 
IÁeg”
[] 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

325 
£tIÁA¼ay
(
r¡r
(
keyResourûId
), 
v®ues
, 
gp
(
´ef
));

328 
public
 
£tIÁA¼ay
(
SŒšg
 
key
, 
IÁeg”
[] 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

329 
£tIÁLi¡OÃ
(
key
, 
A¼ays
.
asLi¡
(
v®ues
), 
gp
(
´ef
));

332 
public
 
	gIÁeg”
[] 
g‘IÁA¼ay
(@
SŒšgRes
 
keyResourûId
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

333  
g‘IÁA¼ay
(
r¡r
(
keyResourûId
), 
gp
(
´ef
));

336 
public
 
	gIÁeg”
[] 
g‘IÁA¼ay
(
SŒšg
 
key
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

337 
	gLi¡
<
	gIÁeg”
> 
	gd©a
 = 
g‘IÁLi¡OÃ
(
key
, 
gp
(
´ef
));

338  
	gd©a
.
toA¼ay
(
Ãw
 
IÁeg”
[
d©a
.
size
()]);

342 
public
 
£tIÁLi¡
(@
SŒšgRes
 
keyResourûId
, 
Li¡
<
IÁeg”
> 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

343 
£tIÁLi¡OÃ
(
r¡r
(
keyResourûId
), 
v®ues
, 
gp
(
´ef
));

346 
public
 
£tIÁLi¡
(
SŒšg
 
key
, 
Li¡
<
IÁeg”
> 
v®ues
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

347 
£tIÁLi¡OÃ
(
key
, 
v®ues
, 
gp
(
´ef
));

350 
public
 
	gA¼ayLi¡
<
	gIÁeg”
> 
g‘IÁLi¡
(@
SŒšgRes
 
keyResourûId
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

351  
g‘IÁLi¡OÃ
(
r¡r
(
keyResourûId
), 
gp
(
´ef
));

354 
public
 
	gA¼ayLi¡
<
	gIÁeg”
> 
g‘IÁLi¡
(
SŒšg
 
key
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

355  
g‘IÁLi¡OÃ
(
key
, 
gp
(
´ef
));

362 
public
 
£tLÚg
(@
SŒšgRes
 
keyResourûId
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

363 
gp
(
´ef
).
ed™
().
putLÚg
(
r¡r
(
keyResourûId
), 
v®ue
).
­¶y
();

366 
public
 
£tLÚg
(
SŒšg
 
key
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

367 
gp
(
´ef
).
ed™
().
putLÚg
(
key
, 
v®ue
).
­¶y
();

370 
public
 
g‘LÚg
(@
SŒšgRes
 
keyResourûId
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

371  
g‘LÚg
(
r¡r
(
keyResourûId
), 
deçuÉV®ue
, 
´ef
);

374 
public
 
g‘LÚg
(
SŒšg
 
key
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

375 
	gŒy
 {

376  
gp
(
´ef
).
g‘LÚg
(
key
, 
deçuÉV®ue
);

377 } 
ÿtch
 (
CÏssCa¡Exû±iÚ
 
e
) {

378  
	gdeçuÉV®ue
;

385 
public
 
£tFlßt
(@
SŒšgRes
 
keyResourûId
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

386 
gp
(
´ef
).
ed™
().
putFlßt
(
r¡r
(
keyResourûId
), 
v®ue
).
­¶y
();

389 
public
 
£tFlßt
(
SŒšg
 
key
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

390 
gp
(
´ef
).
ed™
().
putFlßt
(
key
, 
v®ue
).
­¶y
();

393 
public
 
g‘Flßt
(@
SŒšgRes
 
keyResourûId
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

394  
g‘Flßt
(
r¡r
(
keyResourûId
), 
deçuÉV®ue
);

397 
public
 
g‘Flßt
(
SŒšg
 
key
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

398 
	gŒy
 {

399  
gp
(
´ef
).
g‘Flßt
(
key
, 
deçuÉV®ue
);

400 } 
ÿtch
 (
CÏssCa¡Exû±iÚ
 
e
) {

401  
	gdeçuÉV®ue
;

408 
public
 
£tDoubË
(@
SŒšgRes
 
keyResourûId
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

409 
£tLÚg
(
r¡r
(
keyResourûId
), 
DoubË
.
doubËToRawLÚgB™s
(
v®ue
));

412 
public
 
£tDoubË
(
SŒšg
 
key
, 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

413 
£tLÚg
(
key
, 
DoubË
.
doubËToRawLÚgB™s
(
v®ue
));

416 
public
 
g‘DoubË
(@
SŒšgRes
 
keyResourûId
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

417  
g‘DoubË
(
r¡r
(
keyResourûId
), 
deçuÉV®ue
, 
gp
(
´ef
));

420 
public
 
g‘DoubË
(
SŒšg
 
key
, 
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

421  
	gDoubË
.
lÚgB™sToDoubË
(
g‘LÚg
(
key
, 
DoubË
.
doubËToRawLÚgB™s
(
deçuÉV®ue
), 
gp
(
´ef
)));

427 
public
 
£tBoŞ
(@
SŒšgRes
 
keyResourûId
, 
boŞ—n
 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

428 
gp
(
´ef
).
ed™
().
putBoŞ—n
(
r¡r
(
keyResourûId
), 
v®ue
).
­¶y
();

431 
public
 
£tBoŞ
(
SŒšg
 
key
, 
boŞ—n
 
v®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

432 
gp
(
´ef
).
ed™
().
putBoŞ—n
(
key
, 
v®ue
).
­¶y
();

435 
public
 
boŞ—n
 
g‘BoŞ
(@
SŒšgRes
 
keyResourûId
, boŞ—À
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

436  
g‘BoŞ
(
r¡r
(
keyResourûId
), 
deçuÉV®ue
);

439 
public
 
boŞ—n
 
g‘BoŞ
(
SŒšg
 
key
, boŞ—À
deçuÉV®ue
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

440 
	gŒy
 {

441  
gp
(
´ef
).
g‘BoŞ—n
(
key
, 
deçuÉV®ue
);

442 } 
ÿtch
 (
CÏssCa¡Exû±iÚ
 
e
) {

443  
	gdeçuÉV®ue
;

450 
public
 
g‘CŞÜ
(
SŒšg
 
key
, @
CŞÜRes
 
deçuÉCŞÜ
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

451  
g‘IÁ
(
key
, 
rcŞÜ
(
deçuÉCŞÜ
));

454 
public
 
g‘CŞÜ
(@
SŒšgRes
 
keyResourûId
, @
CŞÜRes
 
deçuÉCŞÜ
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

455  
g‘CŞÜ
(
r¡r
(
keyResourûId
), 
deçuÉCŞÜ
);

461 @
Ov”ride


462 
public
 
SŒšg
 
g‘SŒšg
(SŒšg 
key
, SŒšg 
deçuÉV®ue
) {

463  
g‘SŒšg
(
key
, 
deçuÉV®ue
, 
_´efAµ
);

466 @
Ov”ride


467 
public
 
g‘IÁ
(
SŒšg
 
key
, 
deçuÉV®ue
) {

468  
g‘IÁ
(
key
, 
deçuÉV®ue
, 
_´efAµ
);

471 @
Ov”ride


472 
public
 
g‘LÚg
(
SŒšg
 
key
, 
deçuÉV®ue
) {

473  
g‘LÚg
(
key
, 
deçuÉV®ue
, 
_´efAµ
);

476 @
Ov”ride


477 
public
 
boŞ—n
 
g‘BoŞ
(
SŒšg
 
key
, boŞ—À
deçuÉV®ue
) {

478  
g‘BoŞ
(
key
, 
deçuÉV®ue
, 
_´efAµ
);

481 @
Ov”ride


482 
public
 
g‘Flßt
(
SŒšg
 
key
, 
deçuÉV®ue
) {

483  
g‘Flßt
(
key
, 
deçuÉV®ue
, 
_´efAµ
);

486 @
Ov”ride


487 
public
 
g‘DoubË
(
SŒšg
 
key
, 
deçuÉV®ue
) {

488  
g‘DoubË
(
key
, 
deçuÉV®ue
, 
_´efAµ
);

491 @
Ov”ride


492 
public
 
	gA¼ayLi¡
<
	gIÁeg”
> 
g‘IÁLi¡
(
SŒšg
 
key
) {

493  
g‘IÁLi¡
(
key
, 
_´efAµ
);

496 @
Ov”ride


497 
public
 
	gA¼ayLi¡
<
	gSŒšg
> 
g‘SŒšgLi¡
(
SŒšg
 
key
) {

498  
g‘SŒšgLi¡
(
key
, 
_´efAµ
);

501 @
Ov”ride


502 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tSŒšg
(
SŒšg
 
key
, SŒšg 
v®ue
) {

503 
£tSŒšg
(
key
, 
v®ue
, 
_´efAµ
);

504  
	gthis
;

507 @
Ov”ride


508 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tIÁ
(
SŒšg
 
key
, 
v®ue
) {

509 
£tIÁ
(
key
, 
v®ue
, 
_´efAµ
);

510  
	gthis
;

513 @
Ov”ride


514 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tLÚg
(
SŒšg
 
key
, 
v®ue
) {

515 
£tLÚg
(
key
, 
v®ue
, 
_´efAµ
);

516  
	gthis
;

519 @
Ov”ride


520 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tBoŞ
(
SŒšg
 
key
, 
boŞ—n
 
v®ue
) {

521 
£tBoŞ
(
key
, 
v®ue
, 
_´efAµ
);

522  
	gthis
;

525 @
Ov”ride


526 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tFlßt
(
SŒšg
 
key
, 
v®ue
) {

527 
£tFlßt
(
key
, 
v®ue
, 
_´efAµ
);

528  
	gthis
;

531 @
Ov”ride


532 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tDoubË
(
SŒšg
 
key
, 
v®ue
) {

533 
£tDoubË
(
key
, 
v®ue
, 
_´efAµ
);

534  
	gthis
;

537 @
Ov”ride


538 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tIÁLi¡
(
SŒšg
 
key
, 
Li¡
<
IÁeg”
> 
v®ue
) {

539 
£tIÁLi¡OÃ
(
key
, 
v®ue
, 
_´efAµ
);

540  
	gthis
;

543 @
Ov”ride


544 
public
 
Sh¬edP»ã»nûsPrİ”tyBack’d
 
£tSŒšgLi¡
(
SŒšg
 
key
, 
Li¡
<SŒšg> 
v®ue
) {

545 
£tSŒšgLi¡OÃ
(
key
, 
v®ue
, 
_´efAµ
);

546  
	gthis
;

549 
public
 
boŞ—n
 
cÚšs
(
SŒšg
 
key
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

550  
gp
(
´ef
).
cÚšs
(
key
);

557 
public
 
boŞ—n
 
isCu¼’tHourOfDayB‘w“n
(
begš
, 
’d
) {

558 
	gbegš
 = (
begš
 >= 23 || begin < 0) ? 0 : begin;

559 
	g’d
 = (
’d
 >= 23 ||ƒnd < 0) ? 0 :ƒnd;

560 
	gh
 = 
C®’d¬
.
g‘In¡ªû
().
g‘
(C®’d¬.
HOUR_OF_DAY
);

561  
	gh
 >ğ
begš
 && 
h
 <ğ
’d
;

567 
public
 
D©e
 
g‘D©eOfDaysAgo
(
days
) {

568 
C®’d¬
 
	gÿl
 = 
Ãw
 
G»gÜŸnC®’d¬
();

569 
	gÿl
.
add
(
C®’d¬
.
DATE
, -
days
);

570  
	gÿl
.
g‘Time
();

576 
public
 
boŞ—n
 
didDaysPas£dSšû
(
D©e
 
d©e
, 
days
) {

577 ià(
	gd©e
 =ğ
nuÎ
 || 
days
 < 0) {

578  
çl£
;

580  
	gd©e
.
befÜe
(
g‘D©eOfDaysAgo
(
days
));

583 
public
 
boŞ—n
 
aá”DaysTrue
(
SŒšg
 
key
, 
daysSšûLa¡Time
, 
fœ¡Time
, 
fš®
 
Sh¬edP»ã»nûs
... 
´ef
) {

584 
D©e
 
	gd
 = 
Ãw
 D©e(
Sy¡em
.
cu¼’tTimeMlis
());

585 ià(!
cÚšs
(
key
)) {

586 
	gd
 = 
g‘D©eOfDaysAgo
(
daysSšûLa¡Time
 - 
fœ¡Time
);

587 
£tLÚg
(
key
, 
d
.
g‘Time
());

588  
	gfœ¡Time
 < 1;

590 
	gd
 = 
Ãw
 
D©e
(
g‘LÚg
(
key
, 
d
.
g‘Time
()));

592 
boŞ—n
 
	gŒigg”
 = 
didDaysPas£dSšû
(
d
, 
daysSšûLa¡Time
);

593 ià(
	gŒigg”
) {

594 
£tLÚg
(
key
, 
Ãw
 
D©e
(
Sy¡em
.
cu¼’tTimeMlis
()).
g‘Time
());

596  
	gŒigg”
;

599 
public
 
ş—rDebugLog
() {

600 
	g_debugLog
 = "";

603 
public
 
SŒšg
 
g‘DebugLog
() {

604  
	g_debugLog
;

607 
public
 
synchrÚized
 
­³ndDebugLog
(
SŒšg
 
‹xt
) {

608 
	g_debugLog
 +ğ"[" + 
Ãw
 
D©e
().
toSŒšg
(è+ "] " + 
‹xt
 + "\n";

611 
public
 
boŞ—n
 
Ã
(
fš®
 
SŒšg
 
¡r
) {

612  
	g¡r
 !ğ
nuÎ
 && !
¡r
.
Œim
().
isEm±y
();

615 
public
 
boŞ—n
 
ãxi¡s
(
fš®
 
SŒšg
 
å
) {

616  
Ã
(
å
è&& (
Ãw
 
Fe
(å)).
exi¡s
();

	@app/src/main/java/net/gsantner/opoc/ui/AndroidSpinnerOnItemSelectedAdapter.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

13 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

14 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gAd­‹rV›w
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

18 
public
 
şass
 
AndroidSpšÃrOnI‹mS–eùedAd­‹r
 
im¶em’ts
 
	gAd­‹rV›w
.
	gOnI‹mS–eùedLi¡’”
 {

20 
´iv©e
 
fš®
 
	gC®lback
.
	ga1
<
	gIÁeg”
> 
	g_ÿÎback
;

22 
public
 
AndroidSpšÃrOnI‹mS–eùedAd­‹r
(
fš®
 
C®lback
.
a1
<
IÁeg”
> 
ÿÎback
) {

23 
	g_ÿÎback
 = 
ÿÎback
;

26 @
Ov”ride


27 
public
 
ÚI‹mS–eùed
(
Ad­‹rV›w
<?> 
·»Á
, 
V›w
 
v›w
, 
pos™iÚ
, 
id
) {

28 
	g_ÿÎback
.
ÿÎback
(
pos™iÚ
);

31 @
Ov”ride


32 
public
 
ÚNÙhšgS–eùed
(
Ad­‹rV›w
<?> 
·»Á
) {

33 
	g_ÿÎback
.
ÿÎback
(-1);

	@app/src/main/java/net/gsantner/opoc/ui/AudioRecordOmDialog.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

13 
impÜt
 
	gªdroid
.
	gMªiã¡
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

15 
impÜt
 
	gªdroid
.
	g­p
.
	gAË¹DŸlog
;

16 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

17 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gPackageMªag”
;

18 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

19 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gAudioFÜm©
;

20 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gMedŸPÏy”
;

21 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gMedŸRecÜd”
;

22 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

23 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

24 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gAùiv™yCom·t
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

26 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

27 
impÜt
 
	gªdroid
.
	gv›w
.
	gG¿v™y
;

28 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

29 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

30 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

31 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

32 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

34 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

35 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

37 
impÜt
 
	gjava
.
	gio
.
	gFe
;

38 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

39 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

40 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

41 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

42 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicBoŞ—n
;

43 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

45 
impÜt
 
	gom»cÜd”
.
	gAudioRecÜdCÚfig
;

46 
impÜt
 
	gom»cÜd”
.
	gOmRecÜd”
;

47 
impÜt
 
	gom»cÜd”
.
	gPuÎT¿n¥Üt
;

48 
impÜt
 
	gom»cÜd”
.
	gPuÎabËSourû
;

49 
impÜt
 
	gom»cÜd”
.
	gRecÜd”
;

59 @
Suµ»ssW¬nšgs
({"ResultOfMethodCallIgnored", "unused"})

60 
public
 cÏs 
	cAudioRecÜdOmDŸlog
 {

61 
public
 
showAudioRecÜdDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, @
SŒšgRes
 fš® 
t™ËResId
, fš® 
C®lback
.
a1
<
Fe
> 
»cÜdFšishedC®lbackW™hP©hToTempÜ¬yFe
) {

64 ià(
	mCÚ‹xtCom·t
.
checkS–fP”missiÚ
(
aùiv™y
, 
Mªiã¡
.
³rmissiÚ
.
RECORD_AUDIO
è!ğ
PackageMªag”
.
PERMISSION_GRANTED
) {

65 
Aùiv™yCom·t
.
»que¡P”missiÚs
(
aùiv™y
, 
Ãw
 
SŒšg
[]{
Mªiã¡
.
³rmissiÚ
.
RECORD_AUDIO
}, 200);

71 
fš®
 
SŒšg
 
	mEMOJI_MICROPHONE
 = "\uD83D\uDD34";

72 
fš®
 
SŒšg
 
	mEMOJI_STOP
 = "â­•";

73 
fš®
 
SŒšg
 
	mEMOJI_RESTART
 = 
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
 ? "\uD83D\uDD04" : 
EMOJI_MICROPHONE
;

74 
fš®
 
SŒšg
 
	mEMOJI_SPEAKER
 = "\uD83D\uDD0A";

76 
fš®
 
AtomicBoŞ—n
 
	misRecÜdšg
 = 
Ãw
 AtomicBoolean();

77 
fš®
 
AtomicBoŞ—n
 
	misRecÜdSavedOnû
 = 
Ãw
 AtomicBoolean();

78 
fš®
 
	mAtomicReã»nû
<
	mRecÜd”
> 
	m»cÜd”
 = 
Ãw
 
AtomicReã»nû
<>();

79 
fš®
 
	mAtomicReã»nû
<
	mMedŸPÏy”
> 
	mmedŸPÏy”
 = 
Ãw
 
AtomicReã»nû
<>();

80 
fš®
 
	mAtomicReã»nû
<
	mAË¹DŸlog
> 
	mdŸlog
 = 
Ãw
 
AtomicReã»nû
<>();

81 
fš®
 
	mAtomicReã»nû
<
	mLÚg
> 
	m¡¬tTime
 = 
Ãw
 
AtomicReã»nû
<>();

82 
fš®
 
Fe
 
	mTMP_FILE_RECORDING
 = 
Ãw
 Fe(
aùiv™y
.
g‘CacheDœ
(), "recording.wav");

83 ià(
	mTMP_FILE_RECORDING
.
exi¡s
()) {

84 
	mTMP_FILE_RECORDING
.
d–‘e
();

88 
fš®
 
	mC®lback
.
	ma2
<
	mBoŞ—n
, BoŞ—n> 
	m»cÜd”Mªag”
 = (
cbArgRe¡¬t
, 
	mcbArgStİ
) -> {

89 ià(
	mcbArgRe¡¬t
) {

90 
fš®
 
PuÎabËSourû
 
	mSRC_MICROPHONE
 = 
Ãw
 PuÎabËSourû.
DeçuÉ
Òew 
AudioRecÜdCÚfig
.DeçuÉ(
MedŸRecÜd”
.
AudioSourû
.
MIC
, 
AudioFÜm©
.
ENCODING_PCM_16BIT
, AudioFÜm©.
CHANNEL_IN_STEREO
, 44100));

91 
	m»cÜd”
.
£t
(
OmRecÜd”
.
wav
(
Ãw
 
PuÎT¿n¥Üt
.
DeçuÉ
(
SRC_MICROPHONE
), 
TMP_FILE_RECORDING
));

92 
	m»cÜd”
.
g‘
().
¡¬tRecÜdšg
();

93 
	m¡¬tTime
.
£t
(
Sy¡em
.
cu¼’tTimeMlis
());

94 } ià(
	mcbArgStİ
) {

95 
	mŒy
 {

96 
	m»cÜd”
.
g‘
().
¡İRecÜdšg
();

97 
	misRecÜdSavedOnû
.
£t
(
Œue
);

99 [] 
	mdiff
 = 
FeUts
.
g‘TimeDiffHMS
(
Sy¡em
.
cu¼’tTimeMlis
(), 
¡¬tTime
.
g‘
());

100 
	mdŸlog
.
g‘
().
£tMes§ge
(
SŒšg
.
fÜm©
(
LoÿË
.
g‘DeçuÉ
(), "%02d:%02d:%02d / % [.wav]", 
diff
[0], diff[1], diff[2], 
FeUts
.
g‘R—dabËFeSize
(
TMP_FILE_RECORDING
.
Ëngth
(), 
Œue
)));

101 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

108 
fš®
 
	mAË¹DŸlog
.
Bud”
 
	mdŸlogBud”
 = 
Ãw
 
AË¹DŸlog
.Bud”(
aùiv™y
);

109 
fš®
 
Lš—rLayout
 
	mÏyout
 = 
Ãw
 Lš—rLayout(
aùiv™y
);

110 
	mÏyout
.
£tOr›Á©iÚ
(
Lš—rLayout
.
HORIZONTAL
);

111 
	mÏyout
.
£tG¿v™y
(
G¿v™y
.
CENTER_HORIZONTAL
);

112 
fš®
 
TextV›w
 
	m¶aybackBu‰Ú
 = 
Ãw
 TextV›w(
aùiv™y
);

113 
fš®
 
TextV›w
 
	m»cÜdBu‰Ú
 = 
Ãw
 TextV›w(
aùiv™y
);

114 
fš®
 
V›w
 
	m£p1
 = 
Ãw
 V›w(
aùiv™y
);

115 
	m£p1
.
£tLayoutP¬ams
(
Ãw
 
Lš—rLayout
.
LayoutP¬ams
(100, 1));

118 
	m»cÜdBu‰Ú
.
£tTextCŞÜ
(
CŞÜ
.
BLACK
);

119 
	m»cÜdBu‰Ú
.
£tTextSize
(
Ty³dV®ue
.
COMPLEX_UNIT_SP
, 64);

120 
	m»cÜdBu‰Ú
.
£tG¿v™y
(
G¿v™y
.
CENTER_HORIZONTAL
);

121 
	m»cÜdBu‰Ú
.
£tText
(
EMOJI_MICROPHONE
);

122 
	m»cÜdBu‰Ú
.
£tOnClickLi¡’”
(
v
 -> {

123 ià(
isRecÜdšg
.
g‘
()) {

124 
»cÜd”Mªag”
.
ÿÎback
(
çl£
, 
Œue
);

126 
»cÜd”Mªag”
.
ÿÎback
(
Œue
, 
çl£
);

130 
isRecÜdšg
.
£t
(!isRecÜdšg.
g‘
());

131 
»cÜdBu‰Ú
.
£tText
(
isRecÜdšg
.
g‘
(è? 
EMOJI_STOP
 : 
EMOJI_RESTART
);

132 
¶aybackBu‰Ú
.
£tEÇbËd
(!
isRecÜdšg
.
g‘
());

135 
fš®
 
	mC®lback
.
a0
 
	m¶aybackStİ³dC®lback
 = () -> {

136 
»cÜdBu‰Ú
.
£tEÇbËd
(
Œue
);

137 ià(
	mmedŸPÏy”
.
g‘
(è!ğ
nuÎ
) {

138 
medŸPÏy”
.
g‘AndS‘
(
nuÎ
).
»Ëa£
();

140 
	m¶aybackBu‰Ú
.
£tText
(
EMOJI_SPEAKER
);

144 
	m¶aybackBu‰Ú
.
£tTextCŞÜ
(
CŞÜ
.
BLACK
);

145 
	m¶aybackBu‰Ú
.
£tEÇbËd
(
çl£
);

146 
	m¶aybackBu‰Ú
.
£tTextSize
(
Ty³dV®ue
.
COMPLEX_UNIT_SP
, 64);

147 
	m¶aybackBu‰Ú
.
£tG¿v™y
(
G¿v™y
.
CENTER_HORIZONTAL
);

148 
	m¶aybackBu‰Ú
.
£tText
(
EMOJI_SPEAKER
);

149 
	m¶aybackBu‰Ú
.
£tOnClickLi¡’”
(
v
 -> {

150 
fš®
 
boŞ—n
 
¡¬tPÏybackNow
 = 
medŸPÏy”
.
g‘
(è=ğ
nuÎ
;

151 
»cÜdBu‰Ú
.
£tEÇbËd
(
çl£
);

152 
¶aybackBu‰Ú
.
£tText
(
¡¬tPÏybackNow
 ? 
EMOJI_STOP
 : 
EMOJI_SPEAKER
);

153 ià(
¡¬tPÏybackNow
) {

154 
Œy
 {

155 
MedŸPÏy”
 
¶ay”
 = 
Ãw
 MediaPlayer();

156 
medŸPÏy”
.
£t
(
¶ay”
);

157 
¶ay”
.
£tD©aSourû
(
TMP_FILE_RECORDING
.
g‘AbsŞu‹P©h
());

158 
¶ay”
.
´•¬e
();

159 
¶ay”
.
¡¬t
();

160 
¶ay”
.
£tOnCom¶‘iÚLi¡’”
(
mp
 -> 
¶aybackStİ³dC®lback
.
ÿÎback
());

161 
¶ay”
.
£tLoİšg
(
çl£
);

162 } 
ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

165 
medŸPÏy”
.
g‘
().
¡İ
();

166 
¶aybackStİ³dC®lback
.
ÿÎback
();

172 
	mDŸlogIÁ”çû
.
OnClickLi¡’”
 
	mdŸlogOkAndCªûlLi¡’”
 = (
dŸlogIÁ”çû
, 
	mdŸlogBu‰ÚCa£
) -> {

173 
fš®
 
boŞ—n
 
	misSaveP»s£d
 = (
dŸlogBu‰ÚCa£
 =ğ
DŸlogIÁ”çû
.
BUTTON_POSITIVE
);

174 ià(
	misRecÜdSavedOnû
.
g‘
()) {

175 
	mŒy
 {

176 
	m»cÜd”
.
g‘
().
¡İRecÜdšg
();

177 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

179 ià(!
	misSaveP»s£d
) {

180 ià(
	mTMP_FILE_RECORDING
.
exi¡s
()) {

181 
	mTMP_FILE_RECORDING
.
d–‘e
();

183 } ià(
	m»cÜdFšishedC®lbackW™hP©hToTempÜ¬yFe
 !ğ
nuÎ
) {

184 
»cÜdFšishedC®lbackW™hP©hToTempÜ¬yFe
.
ÿÎback
(
TMP_FILE_RECORDING
);

187 
	mdŸlogIÁ”çû
.
dismiss
();

192 ià(
	mBud
.
	mVERSION
.
	mSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
O
) {

193 
¶aybackBu‰Ú
.
£tToŞtText
("Play„ecording / Stop…layback");

194 
	m»cÜdBu‰Ú
.
£tToŞtText
("Record Audio (Voice Note)");

199 
	mÏyout
.
addV›w
(
¶aybackBu‰Ú
);

200 
	mÏyout
.
addV›w
(
£p1
);

201 
	mÏyout
.
addV›w
(
»cÜdBu‰Ú
);

205 
	mdŸlogBud”


206 .
£tT™Ë
(
t™ËResId
)

207 .
£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, 
dŸlogOkAndCªûlLi¡’”
)

208 .
£tNeg©iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ÿnûl
, 
dŸlogOkAndCªûlLi¡’”
)

209 .
£tMes§ge
("00:00:00 / 0kB [.wav]")

210 .
£tV›w
(
Ïyout
);

211 
	mdŸlog
.
£t
(
dŸlogBud”
.
ü—‹
());

212 
Wšdow
 
	mw
;

213 
	mdŸlog
.
g‘
().
show
();

214 ià((
	mw
 = 
dŸlog
.
g‘
().
g‘Wšdow
()è!ğ
nuÎ
) {

215 
w
.
£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
, WindowManager.LayoutParams.WRAP_CONTENT);

216 
	mWšdowMªag”
.
LayoutP¬ams
 
	mwÍ
 = 
w
.
g‘A‰ribu‹s
();

217 
	mwÍ
.
	mg¿v™y
 = 
G¿v™y
.
BOTTOM
;

218 
	mw
.
£tA‰ribu‹s
(
wÍ
);

222 
public
 
Fe
 
	$g’”©eF’ame
(
Fe
 
»cÜdDœeùÜy
) {

223 
fš®
 
SŒšg
 
d©e¡r
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("yyyy-MM-dd'T'HH-mm-ss", 
LoÿË
.
ENGLISH
).
	`fÜm©
Òew 
	`D©e
());

224  
Ãw
 
	`Fe
(
»cÜdDœeùÜy
, 
d©e¡r
 + "-record.wav");

225 
	}
}

	@app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerAdapter.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

15 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

16 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

17 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

20 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gRecyş”V›w
;

21 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

22 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

23 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

24 
impÜt
 
	gªdroid
.
	g‹xt
.
	gfÜm©
.
	gD©eUts
;

25 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gSŒik‘hroughS·n
;

26 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

27 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

28 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

29 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gF‹r
;

30 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gF‹¿bË
;

31 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

32 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

33 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

34 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

36 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

37 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

38 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

40 
impÜt
 
	gjava
.
	gio
.
	gFe
;

41 
impÜt
 
	gjava
.
	gio
.
	gF’ameF‹r
;

42 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

43 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

44 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

45 
impÜt
 
	gjava
.
	gut
.
	gCom·¿tÜ
;

46 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

47 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

48 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

49 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

50 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

52 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

53 
impÜt
 
	gbu‰”kniã
.
	gBu‰”Kniã
;

55 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused"})

56 
public
 
şass
 
Fesy¡emV›w”Ad­‹r
 
ex‹nds
 
	gRecyş”V›w
.
	gAd­‹r
<
	gFesy¡emV›w”Ad­‹r
.
	gFesy¡emV›w”V›wHŞd”
> 
im¶em’ts
 
	gF‹¿bË
, 
	gV›w
.
	gOnClickLi¡’”
, V›w.
	gOnLÚgClickLi¡’”
, 
	gCom·¿tÜ
<
	gFe
>, 
	gF’ameF‹r
 {

60 
public
 
fš®
 
Fe
 
	gVIRTUAL_STORAGE_RECENTS
 = 
Ãw
 File("/storage/recent-files");

61 
public
 
fš®
 
Fe
 
	gVIRTUAL_STORAGE_FAVOURITE
 = 
Ãw
 File("/storage/favourite-files");

62 
public
 
fš®
 
Fe
 
	gVIRTUAL_STORAGE_POPULAR
 = 
Ãw
 File("/storage/popular-files");

63 
public
 
fš®
 
Fe
 
	gVIRTUAL_STORAGE_APP_DATA_PRIVATE
 = 
Ãw
 File("/storage/appdata-private");

64 
´iv©e
 
fš®
 
SŒik‘hroughS·n
 
	gSTRIKE_THROUGH_SPAN
 = 
Ãw
 StrikethroughSpan();

65 
public
 
fš®
 
SŒšg
 
	gEXTRA_CURRENT_FOLDER
 = "EXTRA_CURRENT_FOLDER";

66 
public
 
fš®
 
SŒšg
 
	gEXTRA_DOPT
 = "EXTRA_DOPT";

67 
public
 
fš®
 
SŒšg
 
	gEXTRA_RECYCLER_SCROLL_STATE
 = "EXTRA_RECYCLER_SCROLL_STATE";

72 
´iv©e
 
fš®
 
	gFesy¡emV›w”D©a
.
O±iÚs
 
	g_dİt
;

73 
´iv©e
 
fš®
 
	gLi¡
<
	gFe
> 
	g_ad­‹rD©a
;

74 
´iv©e
 
fš®
 
	gLi¡
<
	gFe
> 
	g_ad­‹rD©aF‹»d
;

75 
´iv©e
 
fš®
 
	gS‘
<
	gFe
> 
	g_cu¼’tS–eùiÚ
;

76 
´iv©e
 
Fe
 
	g_cu¼’tFŞd”
;

77 
´iv©e
 
fš®
 
CÚ‹xt
 
	g_cÚ‹xt
;

78 
´iv©e
 
SŒšgF‹r
 
	g_f‹r
;

79 
´iv©e
 
boŞ—n
 
	g_wasIn™
;

80 
´iv©e
 
fš®
 
	gHashM­
<
	gFe
, Fe> 
	g_vœtu®M­pšg
 = 
Ãw
 
HashM­
<>();

81 
´iv©e
 
fš®
 
Recyş”V›w
 
	g_»cyş”V›w
;

82 
´iv©e
 
fš®
 
Sh¬edP»ã»nûs
 
	g_´efAµ
;

88 
public
 
Fesy¡emV›w”Ad­‹r
(
Fesy¡emV›w”D©a
.
O±iÚs
 
İtiÚs
, 
CÚ‹xt
 
cÚ‹xt
) {

89 
this
(
İtiÚs
, 
cÚ‹xt
, 
nuÎ
);

92 
public
 
Fesy¡emV›w”Ad­‹r
(
Fesy¡emV›w”D©a
.
O±iÚs
 
İtiÚs
, 
CÚ‹xt
 
cÚ‹xt
, 
Recyş”V›w
 
»cyş”V›w
) {

93 
	g_dİt
 = 
İtiÚs
;

94 
	g_ad­‹rD©a
 = 
Ãw
 
A¼ayLi¡
<>();

95 
	g_ad­‹rD©aF‹»d
 = 
Ãw
 
A¼ayLi¡
<>();

96 
	g_cu¼’tS–eùiÚ
 = 
Ãw
 
HashS‘
<>();

97 
	g_cÚ‹xt
 = 
cÚ‹xt
.
g‘AµliÿtiÚCÚ‹xt
();

98 
lßdFŞd”
((
İtiÚs
.
¡¬tFŞd”
 !ğ
nuÎ
è? o±iÚs.¡¬tFŞd” : o±iÚs.
roÙFŞd”
);

99 
	g_»cyş”V›w
 = 
»cyş”V›w
;

100 
	g_´efAµ
 = 
_cÚ‹xt
.
g‘Sh¬edP»ã»nûs
("­p", 
CÚ‹xt
.
MODE_PRIVATE
);

102 
CÚ‹xtUts
 
	gcu
 = 
Ãw
 CÚ‹xtUts(
cÚ‹xt
);

103 ià(
	g_dİt
.
	g´im¬yCŞÜ
 == 0) {

104 
_dİt
.
´im¬yCŞÜ
 = 
cu
.
g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
COLOR
, "primary");

106 ià(
	g_dİt
.
	gacûÁCŞÜ
 == 0) {

107 
_dİt
.
acûÁCŞÜ
 = 
cu
.
g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
COLOR
, "accent");

109 ià(
	g_dİt
.
	g´im¬yTextCŞÜ
 == 0) {

110 
_dİt
.
´im¬yTextCŞÜ
 = 
cu
.
g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
COLOR
, "primary_text");

112 ià(
	g_dİt
.
	g£cÚd¬yTextCŞÜ
 == 0) {

113 
_dİt
.
£cÚd¬yTextCŞÜ
 = 
cu
.
g‘ResId
(
CÚ‹xtUts
.
ResTy³
.
COLOR
, "secondary_text");

115 ià(
	g_dİt
.
	gt™ËTextCŞÜ
 == 0) {

116 
_dİt
.
t™ËTextCŞÜ
 = _dİt.
´im¬yTextCŞÜ
;

120 @
	gNÚNuÎ


121 @
Ov”ride


122 
public
 
Fesy¡emV›w”V›wHŞd”
 
ÚC»©eV›wHŞd”
(@
NÚNuÎ
 
V›wGroup
 
·»Á
, 
v›wTy³
) {

123 
V›w
 
	gv
 = 
LayoutInæ©”
.
äom
(
·»Á
.
g‘CÚ‹xt
()).
šæ©e
(
R
.
Ïyout
.
İoc_fesy¡em_™em
,…¬’t, 
çl£
);

124 
	g_wasIn™
 = 
Œue
;

125  
Ãw
 
Fesy¡emV›w”V›wHŞd”
(
v
);

128 
public
 
boŞ—n
 
isCu¼’tFŞd”Em±y
() {

129  
	g_ad­‹rD©a
.
size
() < 2;

132 
public
 
boŞ—n
 
isFeWr™—bË
(
Fe
 
fe
, boŞ—À
isGoUp
) {

133  
	gfe
 !ğ
nuÎ
 && (
ÿnWr™e
(
fe
è|| 
isGoUp
 || 
_vœtu®M­pšg
.
cÚšsKey
(file));

136 @
	gOv”ride


137 @
Suµ»ssW¬nšgs
("ConstantConditions")

138 
public
 
ÚBšdV›wHŞd”
(@
NÚNuÎ
 
Fesy¡emV›w”V›wHŞd”
 
hŞd”
, 
pos™iÚ
) {

139 
Fe
 
	gfe_´e
 = 
_ad­‹rD©aF‹»d
.
g‘
(
pos™iÚ
);

140 ià(
	gfe_´e
 =ğ
nuÎ
) {

141 
hŞd”
.
t™Ë
.
£tText
("????");

144 
Ãw
 
CÚ‹xtUts
(
_cÚ‹xt
).
£tLoÿË
(
LoÿË
.
g‘DeçuÉ
()).
ä“CÚ‹xtRef
();

145 
fš®
 
Fe
 
	gfe_´e_P¬’t
 = 
fe_´e
.
g‘P¬’tFe
(è=ğ
nuÎ
 ? 
Ãw
 File("/") : file_pre.getParentFile();

146 
fš®
 
SŒšg
 
	gf’ame
 = 
fe_´e
.
g‘Name
();

147 ià(
	g_vœtu®M­pšg
.
cÚšsKey
(
fe_´e
)) {

148 
	gfe_´e
 = 
_vœtu®M­pšg
.
g‘
(
fe_´e
);

150 
fš®
 
Fe
 
	gfe
 = 
fe_´e
;

151 
fš®
 
Fe
 
	gfeP¬’t
 = 
fe
.
g‘P¬’tFe
(è=ğ
nuÎ
 ? 
Ãw
 File("/") : file.getParentFile();

152 
fš®
 
Fe
 
	gdesütiÚFe
 = 
fe
.
equ®s
(
_cu¼’tFŞd”
.
g‘P¬’tFe
()è? f: 
feP¬’t
;

153 
fš®
 
boŞ—n
 
	gisGoUp
 = 
fe
.
equ®s
(
_cu¼’tFŞd”
.
g‘P¬’tFe
());

154 
fš®
 
boŞ—n
 
	gisS–eùed
 = 
_cu¼’tS–eùiÚ
.
cÚšs
(
fe
);

155 
fš®
 
boŞ—n
 
	gisFavour™e
 = 
_dİt
.
çvour™eFes
 !ğ
nuÎ
 && _dİt.çvour™eFes.
cÚšs
(
fe
);

156 
fš®
 
boŞ—n
 
	gisPİuÏr
 = 
_dİt
.
pİuÏrFes
 !ğ
nuÎ
 && _dİt.pİuÏrFes.
cÚšs
(
fe
);

157 
fš®
 
	gdesütiÚRes
 = 
isS–eùed
 ? 
_dİt
.
cÚ‹ÁDesütiÚS–eùed
 : (
fe
.
isDœeùÜy
(è? _dİt.
cÚ‹ÁDesütiÚFŞd”
 : _dİt.
cÚ‹ÁDesütiÚFe
);

158 
SŒšg
 
	gt™ËText
 = 
f’ame
;

159 ià(
isCu¼’tFŞd”Vœtu®
(è&& "šdex.html".
equ®s
(
f’ame
)) {

160 
	gt™ËText
 +ğ" [" + 
feP¬’t
.
g‘Name
() + "]";

163 
	ghŞd”
.
	gt™Ë
.
£tText
(
isGoUp
 ? ".." : 
t™ËText
, 
TextV›w
.
BufãrTy³
.
SPANNABLE
);

164 
	ghŞd”
.
	gt™Ë
.
£tTextCŞÜ
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
_cÚ‹xt
, 
_dİt
.
´im¬yTextCŞÜ
));

165 ià(!
isFeWr™—bË
(
fe
, 
isGoUp
è&& 
	ghŞd”
.
	gt™Ë
.
Ëngth
() > 0) {

166 
	gŒy
 {

167 ((
	gS·ÂabË
è
	ghŞd”
.
	gt™Ë
.
g‘Text
()).
£tS·n
(
STRIKE_THROUGH_SPAN
, 0, 
hŞd”
.
t™Ë
.
Ëngth
(), 
S·Âed
.
SPAN_EXCLUSIVE_EXCLUSIVE
);

168 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

173 
	ghŞd”
.
	gdesütiÚ
.
£tText
(!
_dİt
.
descModtimeIn¡—dOfP¬’t
 || 
hŞd”
.
t™Ë
.
g‘Text
().
toSŒšg
().
equ®s
("..")

174 ? 
desütiÚFe
.
g‘AbsŞu‹P©h
(è: 
fÜm©FeDesütiÚ
(
fe
, 
_´efAµ
.
g‘SŒšg
("pref_key__file_description_format", "")));

175 
	ghŞd”
.
	gdesütiÚ
.
£tTextCŞÜ
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
_cÚ‹xt
, 
_dİt
.
£cÚd¬yTextCŞÜ
));

177 
	ghŞd”
.
	gimage
.
£tImageResourû
(
isS–eùed
 ? 
_dİt
.
£ËùedI‹mImage
 : (!
fe
.
isFe
(è? _dİt.
fŞd”Image
 : _dİt.
feImage
));

178 
	ghŞd”
.
	gimage
.
£tCŞÜF‹r
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
_cÚ‹xt
,

179 
isS–eùed
 ? 
_dİt
.
acûÁCŞÜ
 : _dİt.
£cÚd¬yTextCŞÜ
),

180 
ªdroid
.
g¿phics
.
PÜ‹rDuff
.
Mode
.
SRC_ATOP
);

181 ià(!
	gisS–eùed
 && 
	gisFavour™e
) {

182 
	ghŞd”
.
	gimage
.
£tCŞÜF‹r
(
CŞÜ
.
·r£CŞÜ
("#E3B51B"));

185 ià(
	g_dİt
.
	g™emSidePaddšg
 > 0) {

186 
	gdp
 = (è(
_dİt
.
™emSidePaddšg
 * 
_cÚ‹xt
.
g‘Resourûs
().
g‘Di¥ÏyM‘rics
().
d’s™y
);

187 
	ghŞd”
.
	g™emRoÙ
.
£tPaddšg
(
dp
, 
hŞd”
.
™emRoÙ
.
g‘PaddšgTİ
(), dp, hŞd”.™emRoÙ.
g‘PaddšgBÙtom
());

190 
	ghŞd”
.
	g™emRoÙ
.
£tCÚ‹ÁDesütiÚ
((
desütiÚRes
 !ğ0 ? (
_cÚ‹xt
.
g‘SŒšg
(desütiÚResè+ " "è: ""è+ 
hŞd”
.
t™Ë
.
g‘Text
().
toSŒšg
(è+ " " + hŞd”.
desütiÚ
.getText().toString());

193 
	ghŞd”
.
	gimage
.
£tOnLÚgClickLi¡’”
(
v›w
 -> {

194 
Tß¡
.
makeText
(
_cÚ‹xt
, 
fe
.
g‘AbsŞu‹P©h
(), Tß¡.
LENGTH_SHORT
).
show
();

195  
Œue
;

197 
	ghŞd”
.
	g™emRoÙ
.
£tTag
(
Ãw
 
TagCÚš”
(
fe
, 
pos™iÚ
));

198 
	ghŞd”
.
	g™emRoÙ
.
£tOnClickLi¡’”
(
this
);

199 
	ghŞd”
.
	g™emRoÙ
.
£tOnLÚgClickLi¡’”
(
this
);

202 
public
 
SŒšg
 
fÜm©FeDesütiÚ
(
fš®
 
Fe
 
fe
, SŒšg 
fÜm©
) {

203 ià(
	gTextUts
.
isEm±y
(
fÜm©
)) {

204  
	gD©eUts
.
fÜm©D©eTime
(
_cÚ‹xt
, 
fe
.
Ï¡Modif›d
(), (
D©eUts
.
FORMAT_SHOW_TIME
 | D©eUts.
FORMAT_SHOW_DATE
 | D©eUts.
FORMAT_SHOW_YEAR
 | D©eUts.
FORMAT_NUMERIC_DATE
));

206 
	gfÜm©
 = 
fÜm©
.
»¶aûAÎ
("FS(?=([^']*'[^']*')*[^']*$)", '\'' + 
FeUts
.
g‘HumªR—dabËBy‹CouÁSI
(
fe
.
Ëngth
()) + '\'');

207  
Ãw
 
Sim¶eD©eFÜm©
(
fÜm©
, 
LoÿË
.
g‘DeçuÉ
()).fÜm©(
fe
.
Ï¡Modif›d
());

211 
public
 
BundË
 
§veIn¡ªûS‹
(BundË 
outS‹
) {

212 
	goutS‹
 = 
outS‹
 =ğ
nuÎ
 ? 
Ãw
 
BundË
() : outState;

213 ià(
	g_cu¼’tFŞd”
 !ğ
nuÎ
) {

214 
outS‹
.
putSŒšg
(
EXTRA_CURRENT_FOLDER
, 
_cu¼’tFŞd”
.
g‘AbsŞu‹P©h
());

217 ià(
	g_»cyş”V›w
 !ğ
nuÎ
) {

218 ià(
_»cyş”V›w
.
g‘LayoutMªag”
(è!ğ
nuÎ
) {

219 
outS‹
.
putP¬ûÏbË
(
EXTRA_RECYCLER_SCROLL_STATE
, 
_»cyş”V›w
.
g‘LayoutMªag”
().
ÚSaveIn¡ªûS‹
());

222  
	goutS‹
;

225 
public
 
»¡ÜeSavedIn¡ªûS‹
(
BundË
 
§vedIn¡ªûS‹Arg
) {

226 
fš®
 
BundË
 
	g§vedIn¡ªûS‹
 = 
§vedIn¡ªûS‹Arg
 =ğ
nuÎ
 ? 
Ãw
 Bundle() : savedInstanceStateArg;

227 
Fe
 
	gf
;

228 
SŒšg
 
	gs
;

230 ià(
	g§vedIn¡ªûS‹
.
cÚšsKey
(
EXTRA_CURRENT_FOLDER
)) {

232 
	gf
 = 
Ãw
 
Fe
(
§vedIn¡ªûS‹
.
g‘SŒšg
(
EXTRA_CURRENT_FOLDER
));

233 
	gs
 = 
f
.
g‘AbsŞu‹P©h
();

235 
boŞ—n
 
	gok
 = 
f
.
isDœeùÜy
()

236 || 
_vœtu®M­pšg
.
cÚšsKey
(
Ãw
 
Fe
(
§vedIn¡ªûS‹
.
g‘SŒšg
(
EXTRA_CURRENT_FOLDER
)))

237 || 
VIRTUAL_STORAGE_APP_DATA_PRIVATE
.
g‘AbsŞu‹P©h
().
equ®s
(
s
)

238 || 
VIRTUAL_STORAGE_POPULAR
.
g‘AbsŞu‹P©h
().
equ®s
(
s
)

239 || 
VIRTUAL_STORAGE_RECENTS
.
g‘AbsŞu‹P©h
().
equ®s
(
s
)

240 || 
VIRTUAL_STORAGE_FAVOURITE
.
g‘AbsŞu‹P©h
().
equ®s
(
s
);

241 ià(
	gok
) {

242 
lßdFŞd”
(
f
);

246 ià(
	g§vedIn¡ªûS‹
.
cÚšsKey
(
EXTRA_RECYCLER_SCROLL_STATE
è&& 
	g_»cyş”V›w
.
g‘LayoutMªag”
(è!ğ
nuÎ
) {

247 
_»cyş”V›w
.
po¡D–ayed
(() -> {

248 
_»cyş”V›w
.
g‘LayoutMªag”
().
ÚRe¡ÜeIn¡ªûS‹
(
§vedIn¡ªûS‹
.
g‘P¬ûÏbË
(
EXTRA_RECYCLER_SCROLL_STATE
));

254 
public
 
»lßdCu¼’tFŞd”
() {

255 
»¡ÜeSavedIn¡ªûS‹
(
§veIn¡ªûS‹
(
nuÎ
));

258 
public
 
£tCu¼’tFŞd”
(
Fe
 
fŞd”
, 
boŞ—n
 
»lßd
) {

259 
	g_cu¼’tFŞd”
 = 
fŞd”
;

260 ià(
	g»lßd
) {

261 
»lßdCu¼’tFŞd”
();

265 
public
 
»cÚfigu»
() {

266 ià(
	g_dİt
.
	gli¡’”
 !ğ
nuÎ
) {

267 
_dİt
.
li¡’”
.
ÚFsV›w”CÚfig
(_dopt);

268 
»lßdCu¼’tFŞd”
();

272 
public
 
boŞ—n
 
isCu¼’tFŞd”Vœtu®
() {

273  
	g_cu¼’tFŞd”
 !ğ
nuÎ
 && (

274 
_cu¼’tFŞd”
.
equ®s
(
VIRTUAL_STORAGE_APP_DATA_PRIVATE
)

275 || 
_cu¼’tFŞd”
.
equ®s
(
VIRTUAL_STORAGE_FAVOURITE
)

276 || 
_cu¼’tFŞd”
.
equ®s
(
VIRTUAL_STORAGE_POPULAR
)

277 || 
_cu¼’tFŞd”
.
equ®s
(
VIRTUAL_STORAGE_RECENTS
)

278 || 
_cu¼’tFŞd”
.
equ®s
(
Ãw
 
Fe
("/storage"))

279 || 
_cu¼’tFŞd”
.
equ®s
(
Ãw
 
Fe
("/storage/self"))

280 || 
_cu¼’tFŞd”
.
equ®s
(
Ãw
 
Fe
("/storage/emulated"))

284 
public
 cÏs 
	cTagCÚš”
 {

285 
public
 
fš®
 
Fe
 
	gfe
;

286 
public
 
fš®
 
	gpos™iÚ
;

288 
public
 
TagCÚš”
(
Fe
 
fe_
, 
pos™iÚ_
) {

289 
	gfe
 = 
fe_
;

290 
	gpos™iÚ
 = 
pos™iÚ_
;

294 
public
 
Fe
 
	$g‘Cu¼’tFŞd”
() {

295  
_cu¼’tFŞd”
;

296 
	}
}

298 @
Ov”ride


299 
public
 
	$g‘I‹mCouÁ
() {

300  
_ad­‹rD©aF‹»d
.
	`size
();

301 
	}
}

303 @
Ov”ride


304 
public
 
F‹r
 
	$g‘F‹r
() {

305 ià(
_f‹r
 =ğ
nuÎ
) {

306 
_f‹r
 = 
Ãw
 
	`SŒšgF‹r
(
this
, 
_ad­‹rD©a
);

308  
_f‹r
;

309 
	}
}

311 
public
 
boŞ—n
 
	$isCu¼’tFŞd”Wr™—bË
() {

312  
	`ÿnWr™e
(
_cu¼’tFŞd”
);

313 
	}
}

315 @
	gOv”ride


316 @
Suµ»ssW¬nšgs
("UnnecessaryReturnStatement")

317 
public
 
	$ÚClick
(
V›w
 
v›w
) {

318 
v›w
.
	`g‘Id
()) {

319 
R
.
id
.
ui__fesy¡em_™em__roÙ
: {

321 
TagCÚš”
 
d©a
 = (TagCÚš”è
v›w
.
	`g‘Tag
();

322 ià(
d©a
 !ğ
nuÎ
 && d©a.
fe
 !=‚ull) {

323 
Fe
 
fe
 = 
d©a
.file;

324 ià(
_vœtu®M­pšg
.
	`cÚšsKey
(
fe
)) {

325 
fe
 = 
_vœtu®M­pšg
.
	`g‘
(
d©a
.file);

327 ià(
	`¬eI‹msS–eùed
()) {

329 ià(!
	`toggËS–eùiÚ
(
d©a
è&& 
fe
.
	`isDœeùÜy
()) {

330 
	`lßdFŞd”
(
fe
);

334 ià(
fe
.
	`isDœeùÜy
()) {

335 
	`lßdFŞd”
(
fe
);

336 } ià(
fe
.
	`isFe
()) {

337 
_dİt
.
li¡’”
.
	`ÚFsV›w”S–eùed
(_dİt.
»que¡Id
, 
fe
, 
nuÎ
);

338 } ià(
fe
.
	`equ®s
(
VIRTUAL_STORAGE_POPULAR
è|| fe.equ®s(
VIRTUAL_STORAGE_RECENTS
è|| fe.equ®s(
VIRTUAL_STORAGE_FAVOURITE
è|| fe.equ®s(
VIRTUAL_STORAGE_APP_DATA_PRIVATE
)) {

339 
	`lßdFŞd”
(
fe
);

345 
R
.
id
.
ui__fesy¡em_dŸlog__home
: {

346 
_cu¼’tS–eùiÚ
.
	`ş—r
();

347 
	`lßdFŞd”
(
_dİt
.
roÙFŞd”
);

350 
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ú_ok
: {

351 ià(
_dİt
.
doS–eùMuÉË
 && 
	`¬eI‹msS–eùed
()) {

352 
_dİt
.
li¡’”
.
	`ÚFsV›w”MuÉiS–eùed
(_dİt.
»que¡Id
,

353 
_cu¼’tS–eùiÚ
.
	`toA¼ay
(
Ãw
 
Fe
[_cu¼’tS–eùiÚ.
	`size
()]));

354 } ià(
_dİt
.
doS–eùFŞd”
 && (
_cu¼’tFŞd”
.
	`exi¡s
(è|| _cu¼’tFŞd”.
	`equ®s
(
VIRTUAL_STORAGE_RECENTS
è|| _cu¼’tFŞd”.equ®s(
VIRTUAL_STORAGE_POPULAR
è|| _cu¼’tFŞd”.equ®s(
VIRTUAL_STORAGE_APP_DATA_PRIVATE
))) {

355 
_dİt
.
li¡’”
.
	`ÚFsV›w”S–eùed
(_dİt.
»que¡Id
, 
_cu¼’tFŞd”
, 
nuÎ
);

360 
	}
}

362 
public
 
	$toggËS–eùiÚAÎ
() {

363 
i
 = 0; i < 
_ad­‹rD©aF‹»d
.
	`size
(); i++) {

364 
TagCÚš”
 
d©a
 = 
Ãw
 
	`TagCÚš”
(
_ad­‹rD©aF‹»d
.
	`g‘
(
i
), i);

365 
	`toggËS–eùiÚ
(
d©a
);

367 
	}
}

369 
public
 
	$un£ËùAÎ
() {

370 
i
 = 0; i < 
_ad­‹rD©aF‹»d
.
	`size
(); i++) {

371 
TagCÚš”
 
d©a
 = 
Ãw
 
	`TagCÚš”
(
_ad­‹rD©aF‹»d
.
	`g‘
(
i
), i);

372 ià(
_cu¼’tS–eùiÚ
.
	`cÚšs
(
d©a
.
fe
)) {

373 
_cu¼’tS–eùiÚ
.
	`»move
(
d©a
.
fe
);

374 
	`nÙifyI‹mChªged
(
d©a
.
pos™iÚ
);

377 
_dİt
.
li¡’”
.
	`ÚFsV›w”DoUiUpd©e
(
this
);

378 
	}
}

380 
public
 
boŞ—n
 
	$¬eI‹msS–eùed
() {

381  !
_cu¼’tS–eùiÚ
.
	`isEm±y
();

382 
	}
}

384 
public
 
	gS‘
<
	gFe
> 
	$g‘Cu¼’tS–eùiÚ
() {

385  
_cu¼’tS–eùiÚ
;

386 
	}
}

388 
public
 
boŞ—n
 
	$isFesOÆyS–eùed
() {

389 
Fe
 
f
 : 
_cu¼’tS–eùiÚ
) {

390 ià(
f
.
	`isDœeùÜy
()) {

391  
çl£
;

394  
Œue
;

395 
	}
}

397 
public
 
boŞ—n
 
	$toggËS–eùiÚ
(
TagCÚš”
 
d©a
) {

398 
boŞ—n
 
şickHªdËd
 = 
çl£
;

399 ià(
d©a
 !ğ
nuÎ
 && d©a.
fe
 !ğnuÎ && 
	`g‘Cu¼’tFŞd”
() !=‚ull) {

400 ià(
d©a
.
fe
.
	`isDœeùÜy
(è&& 
	`g‘Cu¼’tFŞd”
().
	`g‘P¬’tFe
(è!ğ
nuÎ
 && g‘Cu¼’tFŞd”().g‘P¬’tFe().
	`equ®s
(data.file)) {

402 
şickHªdËd
 = 
Œue
;

403 } ià(
_cu¼’tS–eùiÚ
.
	`cÚšs
(
d©a
.
fe
)) {

405 
_cu¼’tS–eùiÚ
.
	`»move
(
d©a
.
fe
);

406 
şickHªdËd
 = 
Œue
;

407 } ià(
_dİt
.
doS–eùMuÉË
) {

409 ià(
_dİt
.
doS–eùFe
 && !
d©a
.
fe
.
	`isDœeùÜy
()) {

411 
_cu¼’tS–eùiÚ
.
	`add
(
d©a
.
fe
);

412 
şickHªdËd
 = 
Œue
;

414 ià(
_dİt
.
doS–eùFŞd”
 && 
d©a
.
fe
.
	`isDœeùÜy
()) {

416 
_cu¼’tS–eùiÚ
.
	`add
(
d©a
.
fe
);

417 
şickHªdËd
 = 
Œue
;

422 
	`nÙifyI‹mChªged
(
d©a
.
pos™iÚ
);

423 
_dİt
.
li¡’”
.
	`ÚFsV›w”DoUiUpd©e
(
this
);

424  
şickHªdËd
;

425 
	}
}

427 
public
 
boŞ—n
 
	$goUp
() {

428 ià(
	`ÿnGoUp
()) {

429 ià(
_cu¼’tFŞd”
 !ğ
nuÎ
 && _cu¼’tFŞd”.
	`g‘AbsŞu‹P©h
(è!ğnuÎ && _cu¼’tFŞd”.
	`g‘P¬’tFe
(è!ğnuÎ && !_cu¼’tFŞd”.g‘P¬’tFe().g‘AbsŞu‹P©h().
	`equ®s
(_currentFolder.getAbsolutePath())) {

430 
	`un£ËùAÎ
();

431 
	`lßdFŞd”
(
_cu¼’tFŞd”
.
	`g‘P¬’tFe
());

432  
Œue
;

434  
çl£
;

436  
çl£
;

437 
	}
}

439 
public
 
boŞ—n
 
	$ÿnGoUp
() {

440  
	`ÿnGoUp
(
_cu¼’tFŞd”
);

441 
	}
}

443 
public
 
boŞ—n
 
	$ÿnGoUp
(
Fe
 
cu¼’tFŞd”
) {

444 
Fe
 
·»ÁFŞd”
 = 
_cu¼’tFŞd”
 !ğ
nuÎ
 ? _cu¼’tFŞd”.
	`g‘P¬’tFe
() :‚ull;

445  
·»ÁFŞd”
 !ğ
nuÎ
 && (!
_dİt
.
mu¡S¹W™hRoÙFŞd”
 ||…¬’tFŞd”.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(_dİt.
roÙFŞd”
.getAbsolutePath()));

446 
	}
}

448 @
Ov”ride


449 
public
 
boŞ—n
 
	$ÚLÚgClick
(
V›w
 
v›w
) {

450 
v›w
.
	`g‘Id
()) {

451 
R
.
id
.
ui__fesy¡em_™em__roÙ
: {

452 
TagCÚš”
 
d©a
 = (TagCÚš”è
v›w
.
	`g‘Tag
();

453 
	`toggËS–eùiÚ
(
d©a
);

454 
_dİt
.
li¡’”
.
	`ÚFsV›w”I‹mLÚgP»s£d
(
d©a
.
fe
, _dİt.
doS–eùMuÉË
);

455  
Œue
;

458  
çl£
;

459 
	}
}

461 
´iv©e
 
fš®
 
Objeù
 
	gLOAD_FOLDER_SYNC_OBJECT
 = 
Ãw
 Object();

463 
public
 
	$lßdFŞd”
(
fš®
 
Fe
 
fŞd”
) {

464 
fš®
 
HªdËr
 
hªdËr
 = 
Ãw
 
	`HªdËr
();

465 
_cu¼’tS–eùiÚ
.
	`ş—r
();

467 
Ãw
 
	`Th»ad
() {

468 @
Ov”ride


469 
public
 
	`run
() {

470 
	`synchrÚized
 (
LOAD_FOLDER_SYNC_OBJECT
) {

471 
_cu¼’tFŞd”
 = 
fŞd”
;

472 
_ad­‹rD©a
.
	`ş—r
();

473 
_vœtu®M­pšg
.
	`ş—r
();

474 
Fe
 
fe
;

475 
Fe
[] 
fes
 = 
nuÎ
;

477 ià(
_cu¼’tFŞd”
.
	`isDœeùÜy
()) {

478 
fes
 = 
_cu¼’tFŞd”
.
	`li¡Fes
(
Fesy¡emV›w”Ad­‹r
.
this
);

479 } ià(
_cu¼’tFŞd”
.
	`equ®s
(
VIRTUAL_STORAGE_RECENTS
)) {

480 
fes
 = 
_dİt
.
»ûÁFes
.
	`toA¼ay
(
Ãw
 
Fe
[0]);

481 } ià(
_cu¼’tFŞd”
.
	`equ®s
(
VIRTUAL_STORAGE_POPULAR
)) {

482 
fes
 = 
_dİt
.
pİuÏrFes
.
	`toA¼ay
(
Ãw
 
Fe
[0]);

483 } ià(
_cu¼’tFŞd”
.
	`equ®s
(
VIRTUAL_STORAGE_FAVOURITE
)) {

484 
fes
 = (
_dİt
.
çvour™eFes
 =ğ
nuÎ
 ?‚uÎ : _dİt.çvour™eFes.
	`toA¼ay
(
Ãw
 
Fe
[0]));

486 
fes
 = (fe =ğ
nuÎ
 ? 
Ãw
 
Fe
[0] : files);

488 
CŞËùiÚs
.
	`addAÎ
(
_ad­‹rD©a
, 
fes
);

490 ià(
fŞd”
.
	`g‘AbsŞu‹P©h
().
	`equ®s
("/storage/emulated")) {

491 
_ad­‹rD©a
.
	`add
(
Ãw
 
	`Fe
(
fŞd”
, "0"));

494 ià(
fŞd”
.
	`g‘AbsŞu‹P©h
().
	`equ®s
("/")) {

495 
_ad­‹rD©a
.
	`add
(
Ãw
 
	`Fe
(
fŞd”
, "storage"));

498 ià(
fŞd”
.
	`g‘AbsŞu‹P©h
().
	`equ®s
("/storage")) {

500 
i
 = 0; i < 10; i++) {

501 
fe
 = 
Ãw
 
	`Fe
("/¡Üage/emuÏ‹d/" + 
i
);

502 ià(
	`ÿnWr™e
(
fe
)) {

503 
Fe
 
»m­
 = 
Ãw
 
	`Fe
(
fŞd”
, "emuÏ‹d-" + 
i
);

504 
_vœtu®M­pšg
.
	`put
(
»m­
, 
fe
);

505 
_ad­‹rD©a
.
	`add
(
»m­
);

511 ià(
_dİt
.
»ûÁFes
 !ğ
nuÎ
) {

512 
_vœtu®M­pšg
.
	`put
(
VIRTUAL_STORAGE_RECENTS
, VIRTUAL_STORAGE_RECENTS);

513 
_ad­‹rD©a
.
	`add
(
VIRTUAL_STORAGE_RECENTS
);

515 ià(
_dİt
.
pİuÏrFes
 !ğ
nuÎ
) {

516 
_vœtu®M­pšg
.
	`put
(
VIRTUAL_STORAGE_POPULAR
, VIRTUAL_STORAGE_POPULAR);

517 
_ad­‹rD©a
.
	`add
(
VIRTUAL_STORAGE_POPULAR
);

519 ià(
_dİt
.
çvour™eFes
 !ğ
nuÎ
) {

520 
_vœtu®M­pšg
.
	`put
(
VIRTUAL_STORAGE_FAVOURITE
, VIRTUAL_STORAGE_FAVOURITE);

521 
_ad­‹rD©a
.
	`add
(
VIRTUAL_STORAGE_FAVOURITE
);

523 
Fe
 
­pD©aFŞd”
 = 
_cÚ‹xt
.
	`g‘FesDœ
();

524 ià(
­pD©aFŞd”
.
	`exi¡s
(è|| (!­pD©aFŞd”.exi¡s(è&&‡µD©aFŞd”.
	`mkdœ
())) {

525 
_vœtu®M­pšg
.
	`put
(
VIRTUAL_STORAGE_APP_DATA_PRIVATE
, 
­pD©aFŞd”
);

526 
_ad­‹rD©a
.
	`add
(
VIRTUAL_STORAGE_APP_DATA_PRIVATE
);

530 
Fe
 
ex‹º®FeDœ
 : 
CÚ‹xtCom·t
.
	`g‘Ex‹º®FesDœs
(
_cÚ‹xt
, 
nuÎ
)) {

531 
i
 = 0; i < 
_ad­‹rD©a
.
	`size
(); i++) {

532 
fe
 = 
_ad­‹rD©a
.
	`g‘
(
i
);

533 ià(!
	`ÿnWr™e
(
fe
è&& !fe.
	`g‘AbsŞu‹P©h
().
	`equ®s
("/"è&& 
ex‹º®FeDœ
 !ğ
nuÎ
 &&ƒx‹º®FeDœ.g‘AbsŞu‹P©h().
	`¡¬tsW™h
(file.getAbsolutePath())) {

534 
c
 = 0;

535 
ch
 : 
fe
.
	`g‘AbsŞu‹P©h
().
	`toCh¬A¼ay
()) {

536 ià(
ch
 == '/') {

537 
c
++;

540 ià(
c
 < 3) {

541 
Fe
 
»m­
 = 
Ãw
 
	`Fe
(
fe
.
	`g‘P¬’tFe
().
	`g‘AbsŞu‹P©h
(), "­pd©a-publiø(" + fe.
	`g‘Name
() + ")");

542 
_vœtu®M­pšg
.
	`put
(
»m­
, 
Ãw
 
	`Fe
(
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
()));

543 
_ad­‹rD©a
.
	`add
(
»m­
);

549 
Œy
 {

550 
CŞËùiÚs
.
	`sÜt
(
_ad­‹rD©a
, 
Fesy¡emV›w”Ad­‹r
.
this
);

551 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
ignÜed
) {

554 ià(
	`ÿnGoUp
(
_cu¼’tFŞd”
)) {

555 
_ad­‹rD©a
.
	`add
(0, 
_cu¼’tFŞd”
.
	`equ®s
(
Ãw
 
	`Fe
("/¡Üage/emuÏ‹d/0")è?‚ew Fe("/¡Üage/emuÏ‹d"è: _cu¼’tFŞd”.
	`g‘P¬’tFe
());

558 
hªdËr
.
	`po¡
(() -> {

559 
_f‹r
.
	`f‹r
(_f‹r.
_Ï¡F‹r
);

560 
	`nÙifyD©aS‘Chªged
();

561 ià(
_dİt
.
li¡’”
 !ğ
nuÎ
) {

562 
_dİt
.
li¡’”
.
	`ÚFsV›w”DoUiUpd©e
(
Fesy¡emV›w”Ad­‹r
.
this
);

567 }.
	`¡¬t
();

568 
	}
}

570 
´iv©e
 
boŞ—n
 
	$ÿnWr™e
(
Fe
 
fe
) {

571 ià(
fe
 !ğ
nuÎ
) {

572  
fe
.
	`ÿnWr™e
(è|| (
_dİt
.
mouÁedStÜageFŞd”
 !ğ
nuÎ
 && fe.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(_dopt.mountedStorageFolder.getAbsolutePath()));

574  
çl£
;

575 
	}
}

578 @
Ov”ride


579 
public
 
boŞ—n
 
	$acû±
(
Fe
 
dœ
, 
SŒšg
 
f’ame
) {

580 
fš®
 
Fe
 
f
 = 
Ãw
 
	`Fe
(
dœ
, 
f’ame
);

581 
fš®
 
boŞ—n
 
f‹rYes
 = 
f
.
	`isDœeùÜy
(è|| 
_dİt
.
feOv”®lF‹r
 =ğ
nuÎ
 || _dİt.feOv”®lF‹r.
	`­¶y
(f);

582 
fš®
 
boŞ—n
 
dÙYes
 = 
_dİt
.
showDÙFes
 || !
f’ame
.
	`¡¬tsW™h
(".");

583 
fš®
 
boŞ—n
 
£lFeYes
 = 
_dİt
.
doS–eùFe
 || 
f
.
	`isDœeùÜy
();

584  
f‹rYes
 && 
dÙYes
 && 
£lFeYes
;

585 
	}
}

587 
public
 
	gFesy¡emV›w”D©a
.
O±iÚs
 
	$g‘FsO±iÚs
() {

588  
_dİt
;

589 
	}
}

592 @
Ov”ride


593 
public
 
	$com·»
(
Fe
 
o1
, F
o2
) {

594 ià(
o1
 =ğ
nuÎ
 || 
o2
 ==‚ull) {

597 ià(
o1
.
	`isDœeùÜy
(è&& 
_dİt
.
fŞd”Fœ¡
)

598  
o2
.
	`isDœeùÜy
(è? 
o1
.
	`g‘Name
().
	`toLow”Ca£
(
LoÿË
.
	`g‘DeçuÉ
()).
	`com·»To
(o2.getName().toLowerCase(Locale.getDefault())) : -1;

599 ià(!
	`ÿnWr™e
(
o2
))

601 ià(
o2
.
	`isDœeùÜy
(è&& 
_dİt
.
fŞd”Fœ¡
)

603 ià(
_dİt
.
feCom·¿bË
 !ğ
nuÎ
) {

604 
v
 = 
_dİt
.
feCom·¿bË
.
	`com·»
(
o1
, 
o2
);

605 ià(
v
 != 0) {

606  
v
;

609  
o1
.
	`g‘Name
().
	`toLow”Ca£
(
LoÿË
.
	`g‘DeçuÉ
()).
	`com·»To
(
o2
.getName().toLowerCase(Locale.getDefault()));

610 
	}
}

612 
public
 
boŞ—n
 
	$isCu¼’tFŞd”Home
() {

613  
_cu¼’tFŞd”
 !ğ
nuÎ
 && 
_dİt
.
roÙFŞd”
 !ğnuÎ && _dİt.roÙFŞd”.
	`g‘AbsŞu‹P©h
().
	`equ®s
(_currentFolder.getAbsolutePath());

614 
	}
}

616 
public
 
boŞ—n
 
	$isVœtu®StÜage
(
Fe
 
fe
) {

617  
VIRTUAL_STORAGE_FAVOURITE
.
	`equ®s
(
fe
) ||

618 
VIRTUAL_STORAGE_APP_DATA_PRIVATE
.
	`equ®s
(
fe
) ||

619 
VIRTUAL_STORAGE_POPULAR
.
	`equ®s
(
fe
) ||

620 
VIRTUAL_STORAGE_RECENTS
.
	`equ®s
(
fe
)

622 
	}
}

629 
´iv©e
 şas 
	cSŒšgF‹r
 
ex‹nds
 
	gF‹r
 {

630 
´iv©e
 
Fesy¡emV›w”Ad­‹r
 
	g_ad­‹r
;

631 
´iv©e
 
fš®
 
	gLi¡
<
	gFe
> 
	g_Üigš®Li¡
;

632 
´iv©e
 
fš®
 
	gLi¡
<
	gFe
> 
	g_f‹»dLi¡
;

633 
public
 
Ch¬Sequ’û
 
	g_Ï¡F‹r
 = "";

635 
´iv©e
 
SŒšgF‹r
(
Fesy¡emV›w”Ad­‹r
 
ad­‹r
, 
Li¡
<
Fe
> 
ad­‹rD©a
) {

636 
su³r
();

637 
	g_ad­‹r
 = 
ad­‹r
;

638 
	g_Üigš®Li¡
 = 
ad­‹rD©a
;

639 
	g_f‹»dLi¡
 = 
Ãw
 
A¼ayLi¡
<>();

642 @
Ov”ride


643 
´Ùeùed
 
F‹rResuÉs
 
³rfÜmF‹ršg
(
Ch¬Sequ’û
 
cÚ¡¿št
) {

644 
fš®
 
F‹rResuÉs
 
	g»suÉs
 = 
Ãw
 FilterResults();

645 
	gcÚ¡¿št
 = 
cÚ¡¿št
.
toSŒšg
().
toLow”Ca£
(
LoÿË
.
g‘DeçuÉ
()).
Œim
();

646 
	g_f‹»dLi¡
.
ş—r
();

648 ià(
	gcÚ¡¿št
.
Ëngth
() == 0) {

649 
_f‹»dLi¡
.
addAÎ
(
_Üigš®Li¡
);

651 
Fe
 
	gfe
 : 
_Üigš®Li¡
) {

652 ià(
fe
.
g‘Name
().
toLow”Ca£
(
LoÿË
.
g‘DeçuÉ
()).
cÚšs
(
cÚ¡¿št
)) {

653 
_f‹»dLi¡
.
add
(
fe
);

658 
	g_Ï¡F‹r
 = 
cÚ¡¿št
;

659 
	g»suÉs
.
	gv®ues
 = 
_f‹»dLi¡
;

660 
	g»suÉs
.
	gcouÁ
 = 
_f‹»dLi¡
.
size
();

661  
	g»suÉs
;

664 @
	gOv”ride


665 @
Suµ»ssW¬nšgs
("unchecked")

666 
´Ùeùed
 
publishResuÉs
(
Ch¬Sequ’û
 
cÚ¡¿št
, 
F‹rResuÉs
 
»suÉs
) {

667 
	g_ad­‹r
.
	g_ad­‹rD©aF‹»d
.
ş—r
();

668 
	g_ad­‹r
.
	g_ad­‹rD©aF‹»d
.
addAÎ
((
A¼ayLi¡
<
Fe
>è
»suÉs
.
v®ues
);

669 
	g_ad­‹r
.
nÙifyD©aS‘Chªged
();

673 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused"})

674 
şass
 
Fesy¡emV›w”V›wHŞd”
 
ex‹nds
 
	gRecyş”V›w
.
	gV›wHŞd”
 {

678 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_™em__roÙ
)

679 
Lš—rLayout
 
	g™emRoÙ
;

680 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_™em__image
)

681 
ImageV›w
 
	gimage
;

682 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_™em__t™Ë
)

683 
TextV›w
 
	gt™Ë
;

684 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_™em__desütiÚ
)

685 
TextV›w
 
	gdesütiÚ
;

690 
Fesy¡emV›w”V›wHŞd”
(
V›w
 
row
) {

691 
su³r
(
row
);

692 
	gBu‰”Kniã
.
bšd
(
this
, 
row
);

	@app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerData.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

13 
impÜt
 
	gªdroid
.
	g¬ch
.
	gcÜe
.
	gut
.
	gFunùiÚ
;

14 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜRes
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gD¿wabËRes
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

19 
impÜt
 
	gjava
.
	gio
.
	gFe
;

20 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

21 
impÜt
 
	gjava
.
	gut
.
	gCom·¿tÜ
;

22 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

24 @
Suµ»ssW¬nšgs
({"unused", "WeakerAccess"})

25 
public
 cÏs 
	cFesy¡emV›w”D©a
 {

26 
public
 
š‹rçû
 
S–eùiÚLi¡’”
 
ex‹nds
 
	mS”ŸlizabË
 {

27 
ÚFsV›w”S–eùed
(
fš®
 
SŒšg
 
»que¡
, fš® 
Fe
 
fe
, fš® 
IÁeg”
 
lšeNumb”
);

29 
ÚFsV›w”MuÉiS–eùed
(
fš®
 
SŒšg
 
»que¡
, fš® 
Fe
... 
fes
);

31 
ÚFsV›w”NÙhšgS–eùed
(
fš®
 
SŒšg
 
»que¡
);

33 
ÚFsV›w”CÚfig
(
fš®
 
O±iÚs
 
dİt
);

35 
ÚFsV›w”DoUiUpd©e
(
fš®
 
Fesy¡emV›w”Ad­‹r
 
ad­‹r
);

37 
ÚFsV›w”I‹mLÚgP»s£d
(
fš®
 
Fe
 
fe
, 
boŞ—n
 
doS–eùMuÉË
);

40 
public
 şas 
	cO±iÚs
 
im¶em’ts
 
	gS”ŸlizabË
 {

41 
public
 
S–eùiÚLi¡’”
 
	gli¡’”
 = 
Ãw
 
S–eùiÚLi¡’”Ad­‹r
();

42 
public
 
Fe


43 
	groÙFŞd”
 = 
EnvœÚm’t
.
g‘Ex‹º®StÜageDœeùÜy
(),

44 
	gmouÁedStÜageFŞd”
 = 
nuÎ
,

45 
	g¡¬tFŞd”
 = 
nuÎ
;

46 
public
 
SŒšg
 
	g»que¡Id
 = "show_dialog";

49 
public
 
boŞ—n


50 
	gdoS–eùFŞd”
 = 
Œue
,

51 
	gdoS–eùFe
 = 
çl£
,

52 
	gdoS–eùMuÉË
 = 
çl£
;

54 
public
 
boŞ—n
 
	gmu¡S¹W™hRoÙFŞd”
 = 
Œue
,

55 
	gfŞd”Fœ¡
 = 
Œue
,

56 
	gdescModtimeIn¡—dOfP¬’t
 = 
çl£
,

57 
	gshowDÙFes
 = 
Œue
;

59 
public
 
	g™emSidePaddšg
 = 16;

62 
public
 
boŞ—n


63 
	gt™ËTextEÇbË
 = 
Œue
,

64 
	gutsB¬EÇbË
 = 
Œue
,

65 
	g£¬chEÇbË
 = 
Œue
,

66 
	gupBu‰ÚEÇbË
 = 
Œue
,

67 
	ghomeBu‰ÚEÇbË
 = 
Œue
,

68 
	gÿnûlBu‰ÚEÇbË
 = 
Œue
,

69 
	gokBu‰ÚEÇbË
 = 
Œue
;

71 
public
 
	gCom·¿tÜ
<
	gFe
> 
	gfeCom·¿bË
 = 
nuÎ
;

72 
public
 
	gFunùiÚ
<
	gFe
, 
	gBoŞ—n
> 
	gfeOv”®lF‹r
 = 
šput
 -> 
Œue
;

74 @
SŒšgRes


75 
public
 
	gÿnûlBu‰ÚText
 = 
ªdroid
.
R
.
¡ršg
.
ÿnûl
;

76 @
SŒšgRes


77 
public
 
	gokBu‰ÚText
 = 
ªdroid
.
R
.
¡ršg
.
ok
;

78 @
SŒšgRes


79 
public
 
	gt™ËText
 = 
ªdroid
.
R
.
¡ršg
.
uÁ™Ëd
;

80 @
SŒšgRes


81 
public
 
	g£¬chHšt
 = 
ªdroid
.
R
.
¡ršg
.
£¬ch_go
;

82 @
SŒšgRes


83 
public
 
	gcÚ‹ÁDesütiÚFŞd”
 = 0;

84 @
SŒšgRes


85 
public
 
	gcÚ‹ÁDesütiÚS–eùed
 = 0;

86 @
SŒšgRes


87 
public
 
	gcÚ‹ÁDesütiÚFe
 = 0;

88 @
D¿wabËRes


89 
public
 
	ghomeBu‰ÚImage
 = 
ªdroid
.
R
.
d¿wabË
.
¡¬_big_Ú
;

90 @
D¿wabËRes


91 
public
 
	g£¬chBu‰ÚImage
 = 
ªdroid
.
R
.
d¿wabË
.
ic_m’u_£¬ch
;

92 @
D¿wabËRes


93 
public
 
	gfŞd”Image
 = 
ªdroid
.
R
.
d¿wabË
.
ic_m’u_v›w
;

94 @
D¿wabËRes


95 
public
 
	g£ËùedI‹mImage
 = 
ªdroid
.
R
.
d¿wabË
.
checkbox_Ú_background
;

96 @
D¿wabËRes


97 
public
 
	gfeImage
 = 
ªdroid
.
R
.
d¿wabË
.
ic_m’u_ed™
;

98 @
CŞÜRes


99 
public
 
	gbackgroundCŞÜ
 = 
ªdroid
.
R
.
cŞÜ
.
background_light
;

100 @
CŞÜRes


101 
public
 
	g´im¬yCŞÜ
 = 0;

102 @
CŞÜRes


103 
public
 
	gacûÁCŞÜ
 = 0;

104 @
CŞÜRes


105 
public
 
	g´im¬yTextCŞÜ
 = 0;

106 @
CŞÜRes


107 
public
 
	g£cÚd¬yTextCŞÜ
 = 0;

108 @
CŞÜRes


109 
public
 
	gt™ËTextCŞÜ
 = 0;

111 
public
 
	gLi¡
<
	gFe
> 
	gçvour™eFes
, 
	g»ûÁFes
, 
	gpİuÏrFes
 = 
nuÎ
;

114 
public
 
şass
 
S–eùiÚLi¡’”Ad­‹r
 
im¶em’ts
 
	gS–eùiÚLi¡’”
, 
	gS”ŸlizabË
 {

115 @
Ov”ride


116 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

119 @
Ov”ride


120 
public
 
ÚFsV›w”MuÉiS–eùed
(
SŒšg
 
»que¡
, 
Fe
... 
fes
) {

123 @
Ov”ride


124 
public
 
ÚFsV›w”NÙhšgS–eùed
(
SŒšg
 
»que¡
) {

127 @
Ov”ride


128 
public
 
ÚFsV›w”CÚfig
(
O±iÚs
 
dİt
) {

132 @
Ov”ride


133 
public
 
ÚFsV›w”DoUiUpd©e
(
Fesy¡emV›w”Ad­‹r
 
ad­‹r
) {

137 @
Ov”ride


138 
public
 
ÚFsV›w”I‹mLÚgP»s£d
(
Fe
 
fe
, 
boŞ—n
 
doS–eùMuÉË
) {

	@app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerDialog.java

20 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

22 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

23 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

24 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜRes
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

26 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gDŸlogF¿gm’t
;

27 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

28 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gDivid”I‹mDecÜ©iÚ
;

29 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gLš—rLayoutMªag”
;

30 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gRecyş”V›w
;

31 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

32 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

33 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

34 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

35 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

36 
impÜt
 
	gªdroid
.
	gv›w
.
	gšputm‘hod
.
	gIÅutM‘hodMªag”
;

37 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

38 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

39 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

40 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

42 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

44 
impÜt
 
	gjava
.
	gio
.
	gFe
;

46 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

47 
impÜt
 
	gbu‰”kniã
.
	gBu‰”Kniã
;

48 
impÜt
 
	gbu‰”kniã
.
	gOnClick
;

49 
impÜt
 
	gbu‰”kniã
.
	gOnTextChªged
;

51 
public
 
şass
 
Fesy¡emV›w”DŸlog
 
ex‹nds
 
DŸlogF¿gm’t


52 
im¶em’ts
 
	gFesy¡emV›w”D©a
.
	gS–eùiÚLi¡’”
 {

56 
public
 
fš®
 
SŒšg
 
	gFRAGMENT_TAG
 = "FilesystemViewerCreator";

58 
public
 
Fesy¡emV›w”DŸlog
 
ÃwIn¡ªû
(
Fesy¡emV›w”D©a
.
O±iÚs
 
İtiÚs
) {

59 
Fesy¡emV›w”DŸlog
 
	gf
 = 
Ãw
 FilesystemViewerDialog();

60 
	gf
.
£tStyË
(
DŸlogF¿gm’t
.
STYLE_NO_TITLE
, 0);

61 
	gİtiÚs
.
	gli¡’”
.
ÚFsV›w”CÚfig
(
İtiÚs
);

62 
	gf
.
£tDŸlogO±iÚs
(
İtiÚs
);

63  
	gf
;

69 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__li¡
)

70 
Recyş”V›w
 
	g_»cyş”Li¡
;

72 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__t™Ë
)

73 
TextV›w
 
	g_dŸlogT™Ë
;

75 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ú_ÿnûl
)

76 
TextV›w
 
	g_bu‰ÚCªûl
;

78 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ú_ok
)

79 
TextV›w
 
	g_bu‰ÚOk
;

81 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__utb¬
)

82 
Lš—rLayout
 
	g_utB¬
;

84 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__bu‰Ús
)

85 
Lš—rLayout
 
	g_bu‰ÚB¬
;

87 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__home
)

88 
ImageV›w
 
	g_homeBu‰Ú
;

90 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__£¬ch_bu‰Ú
)

91 
ImageV›w
 
	g_bu‰ÚS—rch
;

93 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__£¬ch_ed™
)

94 
Ed™Text
 
	g_£¬chEd™
;

96 
´iv©e
 
Fesy¡emV›w”Ad­‹r
 
	g_fesy¡emV›w”Ad­‹r
;

97 
´iv©e
 
	gFesy¡emV›w”D©a
.
O±iÚs
 
	g_dİt
;

98 
´iv©e
 
	gFesy¡emV›w”D©a
.
S–eùiÚLi¡’”
 
	g_ÿÎback
;

103 @
Ov”ride


104 
public
 
V›w
 
ÚC»©eV›w
(
LayoutInæ©”
 
šæ©”
, 
V›wGroup
 
cÚš”
, 
BundË
 
§vedIn¡ªûS‹
) {

105 
V›w
 
	groÙ
 = 
šæ©”
.
šæ©e
(
R
.
Ïyout
.
İoc_fesy¡em_dŸlog
, 
cÚš”
, 
çl£
);

106 
	gBu‰”Kniã
.
bšd
(
this
, 
roÙ
);

108 ià(
g‘DŸlog
(è!ğ
nuÎ
 && g‘DŸlog().
g‘Wšdow
() !=‚ull) {

109 
g‘DŸlog
().
g‘Wšdow
().
£tSoáIÅutMode
(
WšdowMªag”
.
LayoutP¬ams
.
SOFT_INPUT_ADJUST_RESIZE
);

111  
	groÙ
;

114 @
Ov”ride


115 
public
 
ÚV›wC»©ed
(
V›w
 
roÙ
, @
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
) {

116 
	gsu³r
.
ÚV›wC»©ed
(
roÙ
, 
§vedIn¡ªûS‹
);

117 
CÚ‹xt
 
	gcÚ‹xt
 = 
g‘CÚ‹xt
();

118 ià(
	g_bu‰ÚCªûl
 =ğ
nuÎ
) {

119 
Bu‰”Kniã
.
bšd
(
this
, 
roÙ
);

120 ià(
	g_bu‰ÚCªûl
 =ğ
nuÎ
) {

121 
Sy¡em
.
”r
.
´šn
("E¼Ü:‡ˆ" + 
g‘CÏss
().
g‘Name
() + " :: Could‚ot bind UI");

125 ià(
	g_dİt
 =ğ
nuÎ
 || 
_bu‰ÚCªûl
 ==‚ull) {

126 
dismiss
();

130 
	g_bu‰ÚCªûl
.
£tVisib™y
(
_dİt
.
ÿnûlBu‰ÚEÇbË
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

131 
	g_bu‰ÚCªûl
.
£tTextCŞÜ
(
rcŞÜ
(
_dİt
.
acûÁCŞÜ
));

132 
	g_bu‰ÚCªûl
.
£tText
(
_dİt
.
ÿnûlBu‰ÚText
);

134 
	g_bu‰ÚOk
.
£tVisib™y
(
_dİt
.
okBu‰ÚEÇbË
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

135 
	g_bu‰ÚOk
.
£tTextCŞÜ
(
rcŞÜ
(
_dİt
.
acûÁCŞÜ
));

136 
	g_bu‰ÚOk
.
£tText
(
_dİt
.
okBu‰ÚText
);

138 
	g_dŸlogT™Ë
.
£tTextCŞÜ
(
rcŞÜ
(
_dİt
.
t™ËTextCŞÜ
));

139 
	g_dŸlogT™Ë
.
£tBackgroundCŞÜ
(
rcŞÜ
(
_dİt
.
´im¬yCŞÜ
));

140 
	g_dŸlogT™Ë
.
£tText
(
_dİt
.
t™ËText
);

141 
	g_dŸlogT™Ë
.
£tVisib™y
(
_dİt
.
t™ËTextEÇbË
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

143 
	g_homeBu‰Ú
.
£tImageResourû
(
_dİt
.
homeBu‰ÚImage
);

144 
	g_homeBu‰Ú
.
£tVisib™y
(
_dİt
.
homeBu‰ÚEÇbË
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

145 
	g_homeBu‰Ú
.
£tCŞÜF‹r
(
rcŞÜ
(
_dİt
.
´im¬yTextCŞÜ
), 
ªdroid
.
g¿phics
.
PÜ‹rDuff
.
Mode
.
SRC_ATOP
);

147 
	g_bu‰ÚS—rch
.
£tImageResourû
(
_dİt
.
£¬chBu‰ÚImage
);

148 
	g_bu‰ÚS—rch
.
£tVisib™y
(
_dİt
.
£¬chEÇbË
 ? 
V›w
.
VISIBLE
 : V›w.
GONE
);

149 
	g_bu‰ÚS—rch
.
£tCŞÜF‹r
(
rcŞÜ
(
_dİt
.
´im¬yTextCŞÜ
), 
ªdroid
.
g¿phics
.
PÜ‹rDuff
.
Mode
.
SRC_ATOP
);

151 
	g_£¬chEd™
.
£tHšt
(
_dİt
.
£¬chHšt
);

152 
	g_£¬chEd™
.
£tTextCŞÜ
(
rcŞÜ
(
_dİt
.
´im¬yTextCŞÜ
));

153 
	g_£¬chEd™
.
£tHštTextCŞÜ
(
rcŞÜ
(
_dİt
.
£cÚd¬yTextCŞÜ
));

155 
	groÙ
.
£tBackgroundCŞÜ
(
rcŞÜ
(
_dİt
.
backgroundCŞÜ
));

157 
Lš—rLayoutMªag”
 
	gÏm
 = (Lš—rLayoutMªag”è
_»cyş”Li¡
.
g‘LayoutMªag”
();

158 
Divid”I‹mDecÜ©iÚ
 
	gdivid”I‹mDecÜ©iÚ
 = 
Ãw
 Divid”I‹mDecÜ©iÚ(
g‘Aùiv™y
(), 
Ïm
.
g‘Or›Á©iÚ
());

159 
	g_»cyş”Li¡
.
addI‹mDecÜ©iÚ
(
divid”I‹mDecÜ©iÚ
);

161 
	g_fesy¡emV›w”Ad­‹r
 = 
Ãw
 
Fesy¡emV›w”Ad­‹r
(
_dİt
, 
cÚ‹xt
);

162 
	g_»cyş”Li¡
.
£tAd­‹r
(
_fesy¡emV›w”Ad­‹r
);

163 
	g_fesy¡emV›w”Ad­‹r
.
g‘F‹r
().
f‹r
("");

164 
ÚFsV›w”DoUiUpd©e
(
_fesy¡emV›w”Ad­‹r
);

167 
´iv©e
 
rcŞÜ
(@
CŞÜRes
 
cŞÜRes
) {

168  
	gCÚ‹xtCom·t
.
g‘CŞÜ
(
g‘Aùiv™y
(), 
cŞÜRes
);

171 
´iv©e
 
£tDŸlogO±iÚs
(
Fesy¡emV›w”D©a
.
O±iÚs
 
İtiÚs
) {

172 
	g_dİt
 = 
İtiÚs
;

173 
	g_ÿÎback
 = 
_dİt
.
li¡’”
;

174 
	g_dİt
.
	gli¡’”
 = 
this
;

175 
checkO±iÚs
();

178 @
OnTextChªged
(
v®ue
 = 
R
.
id
.
ui__fesy¡em_dŸlog__£¬ch_ed™
, 
ÿÎback
 = OnTextChªged.
C®lback
.
TEXT_CHANGED
)

179 
public
 
chªgeAd­‹rF‹r
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
, 
couÁ
) {

180 ià(
	g_fesy¡emV›w”Ad­‹r
 !ğ
nuÎ
) {

181 
_fesy¡emV›w”Ad­‹r
.
g‘F‹r
().
f‹r
(
s
.
toSŒšg
());

185 @
OnClick
({
R
.
id
.
ui__fesy¡em_dŸlog__home
, R.id.
ui__fesy¡em_dŸlog__£¬ch_bu‰Ú
, R.id.
ui__fesy¡em_dŸlog__bu‰Ú_ÿnûl
, R.id.
ui__fesy¡em_dŸlog__bu‰Ú_ok
})

186 
public
 
ÚClicked
(
V›w
 
v›w
) {

187 
	gv›w
.
g‘Id
()) {

188 
	gR
.
	gid
.
	gui__fesy¡em_dŸlog__bu‰Ú_ok
:

189 
R
.
id
.
ui__fesy¡em_dŸlog__home
: {

190 
_fesy¡emV›w”Ad­‹r
.
ÚClick
(
v›w
);

193 
	gR
.
	gid
.
	gui__fesy¡em_dŸlog__£¬ch_bu‰Ú
: {

194 
_bu‰ÚS—rch
.
£tVisib™y
(
V›w
.
GONE
);

195 
	g_£¬chEd™
.
£tVisib™y
(
V›w
.
VISIBLE
);

196 
	g_£¬chEd™
.
»que¡Focus
();

197 
IÅutM‘hodMªag”
 
	gimm
 = (IÅutM‘hodMªag”è
g‘CÚ‹xt
().
g‘Sy¡emS”viû
(
CÚ‹xt
.
INPUT_METHOD_SERVICE
);

198 
	gimm
.
showSoáIÅut
(
_£¬chEd™
, 
IÅutM‘hodMªag”
.
SHOW_IMPLICIT
);

201 
	gR
.
	gid
.
	gui__fesy¡em_dŸlog__bu‰Ú_ÿnûl
: {

202 
ÚFsV›w”NÙhšgS–eùed
(
_dİt
.
»que¡Id
);

209 
´iv©e
 
checkO±iÚs
() {

210 ià(
	g_dİt
.
	gdoS–eùFe
 && !_dİt.
	gdoS–eùMuÉË
) {

211 
	g_dİt
.
	gokBu‰ÚEÇbË
 = 
çl£
;

215 @
Ov”ride


216 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

217 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

218 
_ÿÎback
.
ÚFsV›w”S–eùed
(
_dİt
.
»que¡Id
, 
fe
, 
lšeNumb”
);

220 
dismiss
();

223 @
Ov”ride


224 
public
 
ÚFsV›w”MuÉiS–eùed
(
SŒšg
 
»que¡
, 
Fe
... 
fes
) {

225 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

226 
_ÿÎback
.
ÚFsV›w”MuÉiS–eùed
(
_dİt
.
»que¡Id
, 
fes
);

228 
dismiss
();

231 @
Ov”ride


232 
public
 
ÚFsV›w”NÙhšgS–eùed
(
SŒšg
 
»que¡
) {

233 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

234 
_ÿÎback
.
ÚFsV›w”NÙhšgS–eùed
(
_dİt
.
»que¡Id
);

236 
dismiss
();

239 @
Ov”ride


240 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

241 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

242 
_ÿÎback
.
ÚFsV›w”CÚfig
(
dİt
);

246 @
Ov”ride


247 
public
 
ÚFsV›w”DoUiUpd©e
(
Fesy¡emV›w”Ad­‹r
 
ad­‹r
) {

248 ià(
	g_dİt
.
	gdoS–eùMuÉË
 && _dİt.
	gdoS–eùFe
) {

249 
	g_bu‰ÚOk
.
£tVisib™y
(
ad­‹r
.
¬eI‹msS–eùed
(è? 
V›w
.
VISIBLE
 : V›w.
GONE
);

251 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

252 
_ÿÎback
.
ÚFsV›w”DoUiUpd©e
(
ad­‹r
);

256 @
Ov”ride


257 
public
 
ÚFsV›w”I‹mLÚgP»s£d
(
Fe
 
fe
, 
boŞ—n
 
doS–eùMuÉË
) {

258 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

259 
_ÿÎback
.
ÚFsV›w”I‹mLÚgP»s£d
(
fe
, 
doS–eùMuÉË
);

263 @
Ov”ride


264 
public
 
ÚS¹
() {

265 
	gsu³r
.
ÚS¹
();

266 
Wšdow
 
	gw
;

267 ià(
g‘DŸlog
(è!ğ
nuÎ
 && (
w
 = g‘DŸlog().
g‘Wšdow
()) !=‚ull) {

268 
w
.
£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
, WindowManager.LayoutParams.MATCH_PARENT);

	@app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerFragment.java

20 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

22 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

23 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

24 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

25 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

26 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

27 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

28 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gut
.
	gPaœ
;

29 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gwidg‘
.
	gSweReäeshLayout
;

30 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gDivid”I‹mDecÜ©iÚ
;

31 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gLš—rLayoutMªag”
;

32 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gRecyş”V›w
;

33 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

34 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

35 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uInæ©”
;

36 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

37 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

38 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

39 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

41 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

42 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

43 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFeInfoDŸlog
;

44 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

45 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

46 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gf£¬ch
.
	gS—rchEngše
;

47 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

48 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gCÚ‹xtUts
;

49 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gP”missiÚCheck”
;

50 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

51 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gaùiv™y
.
	gGsF¿gm’tBa£
;

52 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

54 
impÜt
 
	gjava
.
	gio
.
	gFe
;

55 
impÜt
 
	gjava
.
	gÏng
.
	g»f
.
	gW—kReã»nû
;

56 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

57 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

58 
impÜt
 
	gjava
.
	gut
.
	gCom·¿tÜ
;

59 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

60 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

61 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

63 
impÜt
 
	gbu‰”kniã
.
	gBšdV›w
;

64 
impÜt
 
	gbu‰”kniã
.
	gBu‰”Kniã
;

65 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gmod–
.
	gWrM¬kÜSšgËtÚ
;

66 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gui
.
	gWrCÚfœmDŸlog
;

67 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gui
.
	gWrR’ameDŸlog
;

69 
public
 
şass
 
Fesy¡emV›w”F¿gm’t
 
ex‹nds
 
GsF¿gm’tBa£


70 
im¶em’ts
 
	gFesy¡emV›w”D©a
.
	gS–eùiÚLi¡’”
 {

74 
public
 
fš®
 
SŒšg
 
	gFRAGMENT_TAG
 = "FilesystemViewerFragment";

76 
public
 
fš®
 
	gSORT_BY_NAME
 = 0;

77 
public
 
fš®
 
	gSORT_BY_DATE
 = 1;

78 
public
 
fš®
 
	gSORT_BY_FILESIZE
 = 2;

80 
public
 
Fesy¡emV›w”F¿gm’t
 
ÃwIn¡ªû
(
Fesy¡emV›w”D©a
.
O±iÚs
 
İtiÚs
) {

81  
Ãw
 
Fesy¡emV›w”F¿gm’t
();

87 @
BšdV›w
(
R
.
id
.
ui__fesy¡em_dŸlog__li¡
)

88 
Recyş”V›w
 
	g_»cyş”Li¡
;

90 @
BšdV›w
(
R
.
id
.
puÎ_to_»äesh
)

91 
public
 
SweReäeshLayout
 
	gswe
;

93 @
BšdV›w
(
R
.
id
.
em±y_hšt
)

94 
public
 
TextV›w
 
	g_em±yHšt
;

96 
´iv©e
 
Fesy¡emV›w”Ad­‹r
 
	g_fesy¡emV›w”Ad­‹r
;

97 
´iv©e
 
	gFesy¡emV›w”D©a
.
O±iÚs
 
	g_dİt
;

98 
´iv©e
 
	gFesy¡emV›w”D©a
.
S–eùiÚLi¡’”
 
	g_ÿÎback
;

99 
´iv©e
 
boŞ—n
 
	gfœ¡Resume
 = 
Œue
;

100 
´iv©e
 
AµS‘tšgs
 
	g_­pS‘tšgs
;

101 
´iv©e
 
CÚ‹xtUts
 
	g_cÚ‹xtUts
;

102 
´iv©e
 
M’u
 
	g_äagm’tM’u
;

103 
´iv©e
 
Sh¬eUt
 
	g_sh¬eUt
;

109 
public
 
š‹rçû
 
	gFesy¡emF¿gm’tO±iÚsLi¡’”
 {

110 
	gFesy¡emV›w”D©a
.
O±iÚs
 
g‘Fesy¡emF¿gm’tO±iÚs
(
Fesy¡emV›w”D©a
.O±iÚ 
exi¡šgO±iÚs
);

113 @
Ov”ride


114 
public
 
ÚV›wC»©ed
(
V›w
 
roÙ
, @
NuÎabË
 
BundË
 
§vedIn¡ªûS‹
) {

115 
	gsu³r
.
ÚV›wC»©ed
(
roÙ
, 
§vedIn¡ªûS‹
);

116 
CÚ‹xt
 
	gcÚ‹xt
 = 
g‘CÚ‹xt
();

117 
	gBu‰”Kniã
.
bšd
(
this
, 
roÙ
);

118 
	g_­pS‘tšgs
 = 
Ãw
 
AµS‘tšgs
(
roÙ
.
g‘CÚ‹xt
());

119 
	g_cÚ‹xtUts
 = 
Ãw
 
CÚ‹xtUts
(
roÙ
.
g‘CÚ‹xt
());

120 
	g_sh¬eUt
 = 
Ãw
 
Sh¬eUt
(
roÙ
.
g‘CÚ‹xt
());

122 ià(!(
g‘Aùiv™y
(è
š¡ªûof
 
	gFesy¡emF¿gm’tO±iÚsLi¡’”
)) {

123 
throw
 
Ãw
 
RuÁimeExû±iÚ
("E¼Ü: " + 
g‘Aùiv™y
().
g‘CÏss
().
g‘Name
() + " doesn't implement FilesystemFragmentOptionsListener");

125 
£tDŸlogO±iÚs
(((
Fesy¡emF¿gm’tO±iÚsLi¡’”
è
g‘Aùiv™y
()).
g‘Fesy¡emF¿gm’tO±iÚs
(
_dİt
));

127 
Lš—rLayoutMªag”
 
	gÏm
 = (Lš—rLayoutMªag”è
_»cyş”Li¡
.
g‘LayoutMªag”
();

128 
Divid”I‹mDecÜ©iÚ
 
	gdivid”I‹mDecÜ©iÚ
 = 
Ãw
 Divid”I‹mDecÜ©iÚ(
g‘Aùiv™y
(), 
Ïm
.
g‘Or›Á©iÚ
());

129 
	g_»cyş”Li¡
.
addI‹mDecÜ©iÚ
(
divid”I‹mDecÜ©iÚ
);

130 
	g_´eviousNÙebookDœeùÜy
 = 
_­pS‘tšgs
.
g‘NÙebookDœeùÜyAsSŒ
();

132 
	g_fesy¡emV›w”Ad­‹r
 = 
Ãw
 
Fesy¡emV›w”Ad­‹r
(
_dİt
, 
cÚ‹xt
, 
_»cyş”Li¡
);

133 
	g_»cyş”Li¡
.
£tAd­‹r
(
_fesy¡emV›w”Ad­‹r
);

134 
	g_fesy¡emV›w”Ad­‹r
.
g‘F‹r
().
f‹r
("");

135 
ÚFsV›w”DoUiUpd©e
(
_fesy¡emV›w”Ad­‹r
);

137 
	gswe
.
£tOnReäeshLi¡’”
(() -> {

138 
_fesy¡emV›w”Ad­‹r
.
»lßdCu¼’tFŞd”
();

139 
swe
.
£tReäeshšg
(
çl£
);

142 
	g_fesy¡emV›w”Ad­‹r
.
»¡ÜeSavedIn¡ªûS‹
(
§vedIn¡ªûS‹
);

144 ià(
	gS—rchEngše
.
	gisS—rchExecutšg
) {

145 
	gS—rchEngše
.
	gaùiv™y
.
£t
(
Ãw
 
W—kReã»nû
<>(
g‘Aùiv™y
()));

150 @
Ov”ride


151 
public
 
SŒšg
 
g‘F¿gm’tTag
() {

155 @
Ov”ride


156 
´Ùeùed
 
g‘LayoutResId
() {

157  
	gR
.
	gÏyout
.
	gİoc_fesy¡em_äagm’t
;

160 
´iv©e
 
£tDŸlogO±iÚs
(
Fesy¡emV›w”D©a
.
O±iÚs
 
İtiÚs
) {

161 
	g_dİt
 = 
İtiÚs
;

162 
	g_ÿÎback
 = 
_dİt
.
li¡’”
;

163 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

164 
_ÿÎback
.
ÚFsV›w”CÚfig
(
_dİt
);

166 
	g_dİt
.
	gli¡’”
 = 
this
;

167 
checkO±iÚs
();

170 
public
 
ÚClicked
(
V›w
 
v›w
) {

171 
	gv›w
.
g‘Id
()) {

172 
	gR
.
	gid
.
	gui__fesy¡em_dŸlog__bu‰Ú_ok
:

173 
R
.
id
.
ui__fesy¡em_dŸlog__home
: {

174 
_fesy¡emV›w”Ad­‹r
.
ÚClick
(
v›w
);

177 
	gR
.
	gid
.
	gui__fesy¡em_dŸlog__bu‰Ú_ÿnûl
: {

178 
ÚFsV›w”NÙhšgS–eùed
(
_dİt
.
»que¡Id
);

185 
´iv©e
 
checkO±iÚs
() {

186 ià(
	g_dİt
.
	gdoS–eùFe
 && !_dİt.
	gdoS–eùMuÉË
) {

187 
	g_dİt
.
	gokBu‰ÚEÇbË
 = 
çl£
;

192 @
Ov”ride


193 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

194 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

195 
_ÿÎback
.
ÚFsV›w”S–eùed
(
_dİt
.
»que¡Id
, 
fe
, 
lšeNumb”
);

199 @
Ov”ride


200 
public
 
ÚFsV›w”MuÉiS–eùed
(
SŒšg
 
»que¡
, 
Fe
... 
fes
) {

201 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

202 
_ÿÎback
.
ÚFsV›w”MuÉiS–eùed
(
_dİt
.
»que¡Id
, 
fes
);

206 @
Ov”ride


207 
public
 
ÚFsV›w”NÙhšgS–eùed
(
SŒšg
 
»que¡
) {

208 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

209 
_ÿÎback
.
ÚFsV›w”NÙhšgS–eùed
(
_dİt
.
»que¡Id
);

213 @
Ov”ride


214 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

215 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

216 
_ÿÎback
.
ÚFsV›w”CÚfig
(
dİt
);

220 @
Ov”ride


221 
public
 
ÚFsV›w”DoUiUpd©e
(
Fesy¡emV›w”Ad­‹r
 
ad­‹r
) {

222 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

223 
_ÿÎback
.
ÚFsV›w”DoUiUpd©e
(
ad­‹r
);

226 
upd©eM’uI‹ms
();

227 
	g_em±yHšt
.
po¡D–ayed
((è-> 
_em±yHšt
.
£tVisib™y
(
ad­‹r
.
isCu¼’tFŞd”Em±y
(è? 
V›w
.
VISIBLE
 : V›w.
GONE
), 200);

228 
	g_»cyş”Li¡
.
po¡D–ayed
(
this
::
upd©eM’uI‹ms
, 1000);

231 
´iv©e
 
upd©eM’uI‹ms
() {

232 
fš®
 
SŒšg
 
	gcurF•©h
 = (
g‘Cu¼’tFŞd”
(è!ğ
nuÎ
 ? g‘Cu¼’tFŞd”(è: 
Ãw
 
Fe
("/")).
g‘AbsŞu‹P©h
();

233 
fš®
 
boŞ—n
 
	g£lMuÉi1
 = 
_dİt
.
doS–eùMuÉË
 && 
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
().
size
() == 1;

234 
fš®
 
boŞ—n
 
	g£lMuÉiMÜe
 = 
_dİt
.
doS–eùMuÉË
 && 
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
().
size
() > 1;

235 
fš®
 
boŞ—n
 
	g£lFesOÆy
 = 
_fesy¡emV›w”Ad­‹r
.
isFesOÆyS–eùed
();

236 
fš®
 
	gS‘
<
	gFe
> 
	g£lFes
 = 
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
();

239 
boŞ—n
 
	gisFavour™e
 = 
çl£
;

240 
boŞ—n
 
	g£lTextFesOÆy
 = 
Œue
;

241 
boŞ—n
 
	g£lWr™abË
 = (!
curF•©h
.
equ®s
("/storage") && !curFilepath.equals("/storage/emulated"));

242 ià(
	g£lMuÉi1
) {

243 
Fe
 
	gçvour™e
 : 
_dİt
.
çvour™eFes
 =ğ
nuÎ
 ? 
Ãw
 
A¼ayLi¡
<File>() : _dopt.favouriteFiles) {

244 ià(
£lFes
.
cÚšs
(
çvour™e
)) {

245 
isFavour™e
 = 
Œue
;

250 
Fe
 
	gf
 : 
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
()) {

251 
£lTextFesOÆy
 = (£lTextFesOÆy && 
TextFÜm©
.
isTextFe
(
f
));

252 
	g£lWr™abË
 = (
£lWr™abË
 && 
f
.
ÿnWr™e
());

255 ià(
	g_äagm’tM’u
 !ğ
nuÎ
 && 
_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_d–‘e_£Ëùed_™ems
) !=‚ull) {

256 
_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_£¬ch
).
£tVisibË
(
£lFes
.
isEm±y
(è&& !
_fesy¡emV›w”Ad­‹r
.
isCu¼’tFŞd”Vœtu®
());

257 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_d–‘e_£Ëùed_™ems
).
£tVisibË
((
£lMuÉi1
 || 
£lMuÉiMÜe
è&& 
£lWr™abË
);

258 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_»Çme_£Ëùed_™em
).
£tVisibË
(
£lMuÉi1
 && 
£lWr™abË
);

259 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_šfo_£Ëùed_™em
).
£tVisibË
(
£lMuÉi1
);

260 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_move_£Ëùed_™ems
).
£tVisibË
((
£lMuÉi1
 || 
£lMuÉiMÜe
è&& 
£lWr™abË
 && !
_sh¬eUt
.
isUnd”StÜageAcûssFŞd”
(
g‘Cu¼’tFŞd”
()));

261 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_cİy_£Ëùed_™ems
).
£tVisibË
((
£lMuÉi1
 || 
£lMuÉiMÜe
è&& 
£lWr™abË
 && !
_sh¬eUt
.
isUnd”StÜageAcûssFŞd”
(
g‘Cu¼’tFŞd”
()));

262 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_sh¬e_fes
).
£tVisibË
(
£lFesOÆy
 && (
£lMuÉi1
 || 
£lMuÉiMÜe
è&& !
_sh¬eUt
.
isUnd”StÜageAcûssFŞd”
(
g‘Cu¼’tFŞd”
()));

263 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_go_to
).
£tVisibË
(!
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
());

264 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_sÜt
).
£tVisibË
(!
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
());

265 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_impÜt
).
£tVisibË
(!
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
(è&& !_fesy¡emV›w”Ad­‹r.
isCu¼’tFŞd”Vœtu®
());

266 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_£‰šgs
).
£tVisibË
(!
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
());

267 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_çvour™e
).
£tVisibË
(
£lMuÉi1
 && !
isFavour™e
);

268 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_çvour™e_»move
).
£tVisibË
(
£lMuÉi1
 && 
isFavour™e
);

269 
	g_äagm’tM’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_fs_cİy_to_şbßrd
).
£tVisibË
(
£lMuÉi1
 && 
£lTextFesOÆy
);

273 @
Ov”ride


274 
public
 
ÚFsV›w”I‹mLÚgP»s£d
(
Fe
 
fe
, 
boŞ—n
 
doS–eùMuÉË
) {

275 ià(
	g_ÿÎback
 !ğ
nuÎ
) {

276 
_ÿÎback
.
ÚFsV›w”I‹mLÚgP»s£d
(
fe
, 
doS–eùMuÉË
);

280 @
Ov”ride


281 
public
 
boŞ—n
 
ÚBackP»s£d
() {

282 ià(
	g_fesy¡emV›w”Ad­‹r
.
ÿnGoUp
(è&& !_fesy¡emV›w”Ad­‹r.
isCu¼’tFŞd”Home
()) {

283 
	g_fesy¡emV›w”Ad­‹r
.
goUp
();

284  
	gŒue
;

286  
	gsu³r
.
ÚBackP»s£d
();

289 
public
 
»lßdCu¼’tFŞd”
() {

290 
	g_fesy¡emV›w”Ad­‹r
.
un£ËùAÎ
();

291 
	g_fesy¡emV›w”Ad­‹r
.
»lßdCu¼’tFŞd”
();

292 
ÚFsV›w”DoUiUpd©e
(
_fesy¡emV›w”Ad­‹r
);

295 
public
 
Fe
 
g‘Cu¼’tFŞd”
() {

296  
	g_fesy¡emV›w”Ad­‹r
 !ğ
nuÎ
 ? 
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tFŞd”
() :‚ull;

299 @
Ov”ride


300 
public
 
ÚSaveIn¡ªûS‹
(@
NÚNuÎ
 
BundË
 
outS‹
) {

301 
	goutS‹
 = 
_fesy¡emV›w”Ad­‹r
.
§veIn¡ªûS‹
(
outS‹
);

302 
	gsu³r
.
ÚSaveIn¡ªûS‹
(
outS‹
);

305 
´iv©e
 
SŒšg
 
	g_´eviousNÙebookDœeùÜy
;

307 @
Ov”ride


308 
public
 
ÚResume
() {

309 
	gsu³r
.
ÚResume
();

310 ià(!
	g_­pS‘tšgs
.
g‘NÙebookDœeùÜyAsSŒ
().
equ®s
(
_´eviousNÙebookDœeùÜy
)) {

311 
	g_dİt
.
	groÙFŞd”
 = 
_­pS‘tšgs
.
g‘NÙebookDœeùÜy
();

312 
	g_fesy¡emV›w”Ad­‹r
.
£tCu¼’tFŞd”
(
_dİt
.
roÙFŞd”
, 
çl£
);

315 ià(!
	gfœ¡Resume
) {

316 ià(
	g_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tFŞd”
(è!ğ
nuÎ
) {

317 
_fesy¡emV›w”Ad­‹r
.
»lßdCu¼’tFŞd”
();

321 
ÚFsV›w”DoUiUpd©e
(
_fesy¡emV›w”Ad­‹r
);

322 
	gfœ¡Resume
 = 
çl£
;

326 @
Ov”ride


327 
public
 
ÚC»©eO±iÚsM’u
(
M’u
 
m’u
, 
M’uInæ©”
 
šæ©”
) {

328 
	gsu³r
.
ÚC»©eO±iÚsM’u
(
m’u
, 
šæ©”
);

329 
	gšæ©”
.
šæ©e
(
R
.
m’u
.
fesy¡em__m’u
, menu);

330 
CÚ‹xtUts
 
	gcu
 = CÚ‹xtUts.
g‘
();

331 
	gcu
.
tštM’uI‹ms
(
m’u
, 
Œue
, 
CŞÜ
.
WHITE
);

332 
	gcu
.
£tSubM’uIcÚsVisibl™y
(
m’u
, 
Œue
);

334 
M’uI‹m
 
	g™em
;

335 ià((
	g™em
 = 
m’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_fŞd”_fœ¡
)è!ğ
nuÎ
) {

336 
™em
.
£tChecked
(
_­pS‘tšgs
.
isFesy¡emLi¡FŞd”Fœ¡
());

338 ià((
	g™em
 = 
m’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_sÜt_»v”£
)è!ğ
nuÎ
) {

339 
™em
.
£tChecked
(
_­pS‘tšgs
.
isSÜtRev”£
());

341 ià((
	g™em
 = 
m’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_show_dÙfes
)è!ğ
nuÎ
) {

342 
™em
.
£tChecked
(
_­pS‘tšgs
.
isShowDÙFes
());

344 
	gM’uI‹m
[] 
	gsÜtBy
 = 
Ãw
 
M’uI‹m
[]{
m’u
.
fšdI‹m
(
R
.
id
.
aùiÚ_sÜt_by_Çme
), m’u.fšdI‹m(R.id.
aùiÚ_sÜt_by_d©e
), m’u.fšdI‹m(R.id.
aùiÚ_sÜt_by_fesize
),};

345 
	gi
 = 0; i < 
	gsÜtBy
.
	gËngth
; i++) {

346 ià(
	gsÜtBy
[
i
] !ğ
nuÎ
) {

347 ià(
_­pS‘tšgs
.
g‘SÜtM‘hod
(è=ğ
i
) {

348 
sÜtBy
[
i
].
£tChecked
(
Œue
);

354 
	gLi¡
<
	gPaœ
<
	gFe
, 
	gSŒšg
>> 
	gsdÿrdFŞd”s
 = 
_cÚ‹xtUts
.
g‘AµD©aPublicDœs
(
çl£
, 
Œue
,rue);

355 [] 
	gsdÿrdResIds
 = {
R
.
id
.
aùiÚ_go_to_­pd©a_sdÿrd_1
, R.id.
aùiÚ_go_to_­pd©a_sdÿrd_2
};

356 
	gi
 = 0; i < 
	gsdÿrdResIds
.
	gËngth
 && i < 
	gsdÿrdFŞd”s
.
size
(); i++) {

357 
	g™em
 = 
m’u
.
fšdI‹m
(
sdÿrdResIds
[
i
]);

358 
	g™em
.
£tT™Ë
(
™em
.
g‘T™Ë
().
toSŒšg
().
»¶aûFœ¡
("[)]\\s*$", " " + 
sdÿrdFŞd”s
.
g‘
(
i
).
£cÚd
) + ")");

359 
	g™em
.
£tVisibË
(
Œue
);

361 
	g_äagm’tM’u
 = 
m’u
;

362 
upd©eM’uI‹ms
();

365 
public
 
Fesy¡emV›w”Ad­‹r
 
g‘Ad­‹r
() {

366  
	g_fesy¡emV›w”Ad­‹r
;

369 @
Ov”ride


370 
public
 
boŞ—n
 
ÚO±iÚsI‹mS–eùed
(
M’uI‹m
 
™em
) {

371 
P”missiÚCheck”
 
	g³rmc
 = 
Ãw
 P”missiÚCheck”(
g‘Aùiv™y
());

372 
	gLi¡
<
	gPaœ
<
	gFe
, 
	gSŒšg
>> 
	g­pD©aPublicDœs
 = 
_cÚ‹xtUts
.
g‘AµD©aPublicDœs
(
çl£
, 
Œue
, false);

374 
Fe
 
	gfŞd”ToLßd
 = 
nuÎ
;

376 
	g™em
.
g‘I‹mId
()) {

377 
	gR
.
	gid
.
	gaùiÚ_sÜt_by_Çme
: {

378 
™em
.
£tChecked
(
Œue
);

379 
	g_­pS‘tšgs
.
£tSÜtM‘hod
(
SORT_BY_NAME
);

380 
sÜtAd­‹r
();

381  
	gŒue
;

383 
	gR
.
	gid
.
	gaùiÚ_sÜt_by_d©e
: {

384 
™em
.
£tChecked
(
Œue
);

385 
	g_­pS‘tšgs
.
£tSÜtM‘hod
(
SORT_BY_DATE
);

386 
sÜtAd­‹r
();

387  
	gŒue
;

389 
	gR
.
	gid
.
	gaùiÚ_sÜt_by_fesize
: {

390 
™em
.
£tChecked
(
Œue
);

391 
	g_­pS‘tšgs
.
£tSÜtM‘hod
(
SORT_BY_FILESIZE
);

392 
sÜtAd­‹r
();

393  
	gŒue
;

395 
	gR
.
	gid
.
	gaùiÚ_sÜt_»v”£
: {

396 
™em
.
£tChecked
(!™em.
isChecked
());

397 
	g_­pS‘tšgs
.
£tSÜtRev”£
(
™em
.
isChecked
());

398 
sÜtAd­‹r
();

399  
	gŒue
;

401 
	gR
.
	gid
.
	gaùiÚ_show_dÙfes
: {

402 
™em
.
£tChecked
(!™em.
isChecked
());

403 
	g_­pS‘tšgs
.
£tShowDÙFes
(
™em
.
isChecked
());

404 
	g_dİt
.
	gshowDÙFes
 = 
™em
.
isChecked
();

405 
»lßdCu¼’tFŞd”
();

406  
	gŒue
;

408 
	gR
.
	gid
.
	gaùiÚ_impÜt
: {

409 ià(
³rmc
.
mkdœIfStÜageP”missiÚG¿Áed
()) {

410 
showImpÜtDŸlog
();

412  
	gŒue
;

414 
	gR
.
	gid
.
	gaùiÚ_£¬ch
: {

415 
execu‹S—rchAùiÚ
();

417  
	gŒue
;

419 
	gR
.
	gid
.
	gaùiÚ_fŞd”_fœ¡
: {

420 
™em
.
£tChecked
(!™em.
isChecked
());

421 
	g_­pS‘tšgs
.
£tFesy¡emLi¡FŞd”Fœ¡
(
™em
.
isChecked
());

422 
	g_fesy¡emV›w”Ad­‹r
.
»lßdCu¼’tFŞd”
();

423 
sÜtAd­‹r
();

424  
	gŒue
;

426 
	gR
.
	gid
.
	gaùiÚ_go_to_home
:

427 
R
.
id
.
aùiÚ_go_to_pİuÏr_fes
:

428 
R
.
id
.
aùiÚ_go_to_»ûÁ_fes
:

429 
R
.
id
.
aùiÚ_go_to_çvour™e_fes
:

430 
R
.
id
.
aùiÚ_go_to_­pd©a_´iv©e
:

431 
R
.
id
.
aùiÚ_go_to_¡Üage
:

432 
R
.
id
.
aùiÚ_go_to_­pd©a_sdÿrd_1
:

433 
R
.
id
.
aùiÚ_go_to_­pd©a_sdÿrd_2
:

434 
R
.
id
.
aùiÚ_go_to_­pd©a_public
: {

435 
fŞd”ToLßd
 = 
_­pS‘tšgs
.
g‘FŞd”ToLßdByM’uId
(
™em
.
g‘I‹mId
());

438 
	gR
.
	gid
.
	gaùiÚ_çvour™e
:

439 
R
.
id
.
aùiÚ_çvour™e_»move
: {

440 ià(
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
()) {

441 
_­pS‘tšgs
.
toggËFavour™eFe
(
Ãw
 
A¼ayLi¡
<>(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
()).
g‘
(0));

442 
	g_dİt
.
	gçvour™eFes
 = 
_­pS‘tšgs
.
g‘Favour™eFes
();

443 
upd©eM’uI‹ms
();

445  
	gŒue
;

447 
	gR
.
	gid
.
	gaùiÚ_d–‘e_£Ëùed_™ems
: {

448 
askFÜD–‘šgFesRecursive
((
cÚfœmed
, 
d©a
) -> {

449 ià(
cÚfœmed
) {

450 
RuÂabË
 
d–‘”
 = () -> {

451 
WrM¬kÜSšgËtÚ
.
g‘In¡ªû
().
d–‘eS–eùedI‹ms
(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
(), 
g‘CÚ‹xt
());

452 
_»cyş”Li¡
.
po¡
(() -> {

453 
_fesy¡emV›w”Ad­‹r
.
un£ËùAÎ
();

454 
_fesy¡emV›w”Ad­‹r
.
»lßdCu¼’tFŞd”
();

457 
Ãw
 
Th»ad
(
d–‘”
).
¡¬t
();

460  
	gŒue
;

463 
	gR
.
	gid
.
	gaùiÚ_move_£Ëùed_™ems
: {

464 
askFÜMoveOrCİy
(
Œue
);

465  
	gŒue
;

467 
	gR
.
	gid
.
	gaùiÚ_cİy_£Ëùed_™ems
: {

468 
askFÜMoveOrCİy
(
çl£
);

469  
	gŒue
;

472 
	gR
.
	gid
.
	gaùiÚ_sh¬e_fes
: {

473 
Sh¬eUt
 
s
 = 
Ãw
 Sh¬eUt(
g‘CÚ‹xt
());

474 
	gs
.
sh¬eSŒ—mMuÉË
(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
(), "*/*");

475 
	g_fesy¡emV›w”Ad­‹r
.
un£ËùAÎ
();

476 
	g_fesy¡emV›w”Ad­‹r
.
»lßdCu¼’tFŞd”
();

477 
	gs
.
ä“CÚ‹xtRef
();

478  
	gŒue
;

481 
	gR
.
	gid
.
	gaùiÚ_šfo_£Ëùed_™em
: {

482 ià(
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
()) {

483 
Fe
 
fe
 = 
Ãw
 
A¼ayLi¡
<>(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
()).
g‘
(0);

484 
	gFeInfoDŸlog
.
show
(
fe
, 
g‘F¿gm’tMªag”
());

486  
	gŒue
;

489 
	gR
.
	gid
.
	gaùiÚ_»Çme_£Ëùed_™em
: {

490 ià(
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
()) {

491 
Fe
 
fe
 = 
Ãw
 
A¼ayLi¡
<>(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
()).
g‘
(0);

492 
WrR’ameDŸlog
 
	g»ÇmeDŸlog
 = WrR’ameDŸlog.
ÃwIn¡ªû
(
fe
, 
»ÇmedFe
 -> 
»lßdCu¼’tFŞd”
());

493 
	g»ÇmeDŸlog
.
show
(
g‘F¿gm’tMªag”
(), 
WrR’ameDŸlog
.
FRAGMENT_TAG
);

495  
	gŒue
;

498 
	gR
.
	gid
.
	gaùiÚ_fs_cİy_to_şbßrd
: {

499 ià(
_fesy¡emV›w”Ad­‹r
.
¬eI‹msS–eùed
()) {

500 
Fe
 
fe
 = 
Ãw
 
A¼ayLi¡
<>(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
()).
g‘
(0);

501 ià(
	gTextFÜm©
.
isTextFe
(
fe
)) {

502 
	g_sh¬eUt
.
£tClbßrd
(
FeUts
.
»adTextFeFa¡
(
fe
));

503 
	gTß¡
.
makeText
(
g‘CÚ‹xt
(), 
R
.
¡ršg
.
şbßrd
, 
Tß¡
.
LENGTH_SHORT
).
show
();

504 
	g_fesy¡emV›w”Ad­‹r
.
un£ËùAÎ
();

507  
	gŒue
;

511 ià(
	gfŞd”ToLßd
 !ğ
nuÎ
) {

512 
_fesy¡emV›w”Ad­‹r
.
£tCu¼’tFŞd”
(
fŞd”ToLßd
, 
Œue
);

513 
	gTß¡
.
makeText
(
g‘CÚ‹xt
(), 
fŞd”ToLßd
.
g‘AbsŞu‹P©h
(), 
Tß¡
.
LENGTH_SHORT
).
show
();

514  
	gŒue
;

517  
	gçl£
;

520 
´iv©e
 
execu‹S—rchAùiÚ
() {

521 ià(
Ãw
 
P”missiÚCheck”
(
g‘Aùiv™y
()).
doIfExtStÜageP”missiÚG¿Áed
()) {

522 
fš®
 
Fe
 
	gcu¼’tFŞd”
 = 
g‘Cu¼’tFŞd”
();

523 
	gS—rchOrCu¡omTextDŸlogC»©Ü
.
showS—rchFesDŸlog
(
g‘Aùiv™y
(), 
cu¼’tFŞd”
, (
»lFeP©h
, 
lšeNumb”
) -> {

524 
Fe
 
lßd
 = 
Ãw
 Fe(
cu¼’tFŞd”
, 
»lFeP©h
);

525 ià(
lßd
.
isDœeùÜy
()) {

526 
_fesy¡emV›w”Ad­‹r
.
lßdFŞd”
(
lßd
);

528 
ÚFsV›w”S–eùed
("", 
lßd
, 
lšeNumb”
);

534 
public
 
	gCom·¿tÜ
<
	gFe
> 
sÜtFŞd”
(
Li¡
<
Fe
> 
fesToSÜt
) {

535 
fš®
 
	gsÜtM‘hod
 = 
AµS‘tšgs
.
g‘
().
g‘SÜtM‘hod
();

536 
fš®
 
boŞ—n
 
	gsÜtRev”£
 = 
AµS‘tšgs
.
g‘
().
isSÜtRev”£
();

538 
fš®
 
	gCom·¿tÜ
<
	gFe
> 
	gcom·¿tÜ
 = (
cu¼’t
, 
	gÙh”
) -> {

539 ià(
	gsÜtRev”£
) {

540 
Fe
 
	gsw­
 = 
cu¼’t
;

541 
	gcu¼’t
 = 
Ùh”
;

542 
	gÙh”
 = 
sw­
;

545 
	gsÜtM‘hod
) {

546 
	gSORT_BY_NAME
:

547  
Ãw
 
Fe
(
cu¼’t
.
g‘AbsŞu‹P©h
().
toLow”Ca£
()).
com·»To
(

548 
Ãw
 
Fe
(
Ùh”
.
g‘AbsŞu‹P©h
().
toLow”Ca£
()));

549 
	gSORT_BY_DATE
:

550  
LÚg
.
com·»
(
Ùh”
.
Ï¡Modif›d
(), 
cu¼’t
.lastModified());

551 
	gSORT_BY_FILESIZE
:

552 ià(
cu¼’t
.
isDœeùÜy
(è&& 
Ùh”
.isDirectory()) {

553  
Ùh”
.
li¡
().
Ëngth
 - 
cu¼’t
.list().length;

555  
	gLÚg
.
com·»
(
Ùh”
.
Ëngth
(), 
cu¼’t
.length());

557  
	gcu¼’t
.
com·»To
(
Ùh”
);

560 ià(
	gfesToSÜt
 !ğ
nuÎ
) {

561 
Œy
 {

562 
CŞËùiÚs
.
sÜt
(
fesToSÜt
, 
com·¿tÜ
);

563 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

567  
	gcom·¿tÜ
;

570 
public
 
sÜtAd­‹r
() {

571 
	g_dİt
.
	gfeCom·¿bË
 = 
sÜtFŞd”
(
nuÎ
);

572 
	g_dİt
.
	gfŞd”Fœ¡
 = 
_­pS‘tšgs
.
isFesy¡emLi¡FŞd”Fœ¡
();

573 
»lßdCu¼’tFŞd”
();

576 
public
 
ş—rS–eùiÚ
() {

577 
	g_fesy¡emV›w”Ad­‹r
.
un£ËùAÎ
();

582 
public
 
askFÜD–‘šgFesRecursive
(
WrCÚfœmDŸlog
.
CÚfœmDŸlogC®lback
 
cÚfœmC®lback
) {

583 
fš®
 
	gA¼ayLi¡
<
	gFe
> 
	g™emsToD–‘e
 = 
Ãw
 
A¼ayLi¡
<>(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
());

584 
SŒšgBud”
 
	gmes§ge
 = 
Ãw
 SŒšgBud”(
SŒšg
.
fÜm©
(
g‘SŒšg
(
R
.
¡ršg
.
do_you_»®ly_wªt_to_d–‘e_this_w™h¬g
), 
g‘Resourûs
().
g‘Quªt™ySŒšg
(R.
¶u¿ls
.
docum’ts
, 
™emsToD–‘e
.
size
())) + "\n\n");

586 
Fe
 
	gf
 : 
™emsToD–‘e
) {

587 
mes§ge
.
­³nd
("\n").­³nd(
f
.
g‘AbsŞu‹P©h
());

590 
WrCÚfœmDŸlog
 
	gcÚfœmDŸlog
 = WrCÚfœmDŸlog.
ÃwIn¡ªû
(
g‘SŒšg
(
R
.
¡ršg
.
cÚfœm_d–‘e
), 
mes§ge
.
toSŒšg
(), 
™emsToD–‘e
, 
cÚfœmC®lback
);

591 
	gcÚfœmDŸlog
.
show
(
g‘Aùiv™y
().
g‘SuµÜtF¿gm’tMªag”
(), 
WrCÚfœmDŸlog
.
FRAGMENT_TAG
);

594 
´iv©e
 
askFÜMoveOrCİy
(
fš®
 
boŞ—n
 
isMove
) {

595 
fš®
 
	gLi¡
<
	gFe
> 
	gfes
 = 
Ãw
 
A¼ayLi¡
<>(
_fesy¡emV›w”Ad­‹r
.
g‘Cu¼’tS–eùiÚ
());

596 
	gFesy¡emV›w”C»©Ü
.
showFŞd”DŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

597 
´iv©e
 
Fesy¡emV›w”D©a
.
O±iÚs
 
_dİtMoC
;

599 @
Ov”ride


600 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
IÁeg”
 
lšeNumb”
) {

601 
su³r
.
ÚFsV›w”S–eùed
(
»que¡
, 
fe
, 
nuÎ
);

602 
WrM¬kÜSšgËtÚ
.
g‘In¡ªû
().
moveOrCİyS–eùed
(
fes
, 
fe
, 
g‘Aùiv™y
(), 
isMove
);

603 
_fesy¡emV›w”Ad­‹r
.
un£ËùAÎ
();

604 
_fesy¡emV›w”Ad­‹r
.
»lßdCu¼’tFŞd”
();

607 @
Ov”ride


608 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

609 
_dİtMoC
 = 
dİt
;

610 
_dİtMoC
.
t™ËText
 = 
isMove
 ? 
R
.
¡ršg
.
move
 : R.¡ršg.
cİy
;

611 
_dİtMoC
.
roÙFŞd”
 = 
_­pS‘tšgs
.
g‘NÙebookDœeùÜy
();

612 
_dİtMoC
.
¡¬tFŞd”
 = 
g‘Cu¼’tFŞd”
();

614 
fš®
 
S‘
<
SŒšg
> 
£lS‘
 = 
Ãw
 
HashS‘
<>();

615 
fš®
 
Fe
 
f
 : 
fes
) {

616 
£lS‘
.
add
(
f
.
g‘AbsŞu‹P©h
());

618 
_dİtMoC
.
feOv”®lF‹r
 = (
‹¡
è-> !
£lS‘
.
cÚšs
Ñe¡.
g‘AbsŞu‹P©h
());

621 @
Suµ»ssLšt
("SetTextI18n")

622 @
Ov”ride


623 
public
 
ÚFsV›w”DoUiUpd©e
(
Fesy¡emV›w”Ad­‹r
 
ad­‹r
) {

624 ià(
_dİtMoC
.
li¡’”
 
š¡ªûof
 
Fesy¡emV›w”DŸlog
) {

625 
fš®
 
TextV›w
 
t™ËV›w
 = ((
Fesy¡emV›w”DŸlog
è
_dİtMoC
.
li¡’”
).
_dŸlogT™Ë
;

626 ià(
t™ËV›w
 !ğ
nuÎ
) {

627 
t™ËV›w
.
£tText
(
SŒšg
.
fÜm©
("% â†’ %s",™ËV›w.
g‘CÚ‹xt
().
g‘SŒšg
(
isMove
 ? 
R
.
¡ršg
.
move
 : R.¡ršg.
cİy
), 
ad­‹r
.
g‘Cu¼’tFŞd”
().
g‘Name
()));

631 }, 
g‘Aùiv™y
().
g‘SuµÜtF¿gm’tMªag”
(), getActivity());

634 
´iv©e
 
showImpÜtDŸlog
() {

635 
	gFesy¡emV›w”C»©Ü
.
showFeDŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
S–eùiÚLi¡’”Ad­‹r
() {

636 @
Ov”ride


637 
public
 
ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

638 
impÜtFe
(
fe
);

639 
»lßdCu¼’tFŞd”
();

642 @
Ov”ride


643 
public
 
ÚFsV›w”MuÉiS–eùed
(
SŒšg
 
»que¡
, 
Fe
... 
fes
) {

644 
Fe
 
fe
 : 
fes
) {

645 
impÜtFe
(
fe
);

647 
»lßdCu¼’tFŞd”
();

650 @
Ov”ride


651 
public
 
ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

652 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
impÜt_äom_deviû
;

653 
dİt
.
doS–eùMuÉË
 = 
Œue
;

654 
dİt
.
doS–eùFe
 = 
Œue
;

655 
dİt
.
doS–eùFŞd”
 = 
Œue
;

657 }, 
g‘F¿gm’tMªag”
(), 
g‘Aùiv™y
(), 
nuÎ
);

660 
´iv©e
 
impÜtFe
(
fš®
 
Fe
 
fe
) {

661 ià(
Ãw
 
Fe
(
g‘Cu¼’tFŞd”
().
g‘AbsŞu‹P©h
(), 
fe
.
g‘Name
()).
exi¡s
()) {

662 
SŒšg
 
	gmes§ge
 = 
g‘SŒšg
(
R
.
¡ršg
.
fe_®»ady_exi¡s_ov”w”™e
è+ "\n[" + 
fe
.
g‘Name
() + "]";

664 
WrCÚfœmDŸlog
 
	gd
 = WrCÚfœmDŸlog.
ÃwIn¡ªû
(

665 
g‘SŒšg
(
R
.
¡ršg
.
cÚfœm_ov”wr™e
), 
mes§ge
, 
fe
, (
cÚfœmed
, 
d©a
) -> {

666 ià(
cÚfœmed
) {

667 
impÜtFeToCu¼’tDœeùÜy
(
g‘Aùiv™y
(), 
fe
);

670 ià(
g‘F¿gm’tMªag”
(è!ğ
nuÎ
) {

671 
d
.
show
(
g‘F¿gm’tMªag”
(), 
WrCÚfœmDŸlog
.
FRAGMENT_TAG
);

675 
impÜtFeToCu¼’tDœeùÜy
(
g‘Aùiv™y
(), 
fe
);

679 
´iv©e
 
impÜtFeToCu¼’tDœeùÜy
(
CÚ‹xt
 
cÚ‹xt
, 
Fe
 
sourûFe
) {

680 
	gFeUts
.
cİyFe
(
sourûFe
, 
Ãw
 
Fe
(
g‘Cu¼’tFŞd”
().
g‘AbsŞu‹P©h
(), sourûFe.
g‘Name
()));

681 
	gTß¡
.
makeText
(
cÚ‹xt
, 
g‘SŒšg
(
R
.
¡ršg
.
impÜt_
è+ ": " + 
sourûFe
.
g‘Name
(), 
Tß¡
.
LENGTH_LONG
).
show
();

684 @
Ov”ride


685 
public
 
£tU£rVisibËHšt
(
boŞ—n
 
isVisibËToU£r
) {

686 
	gsu³r
.
£tU£rVisibËHšt
(
isVisibËToU£r
);

687 ià(
	gisVisibËToU£r
 && 
g‘Cu¼’tFŞd”
(è!ğ
nuÎ
 && !
TextUts
.
isEm±y
(g‘Cu¼’tFŞd”().
g‘Name
()è&& 
g‘ToŞb¬
() !=‚ull) {

688 
g‘ToŞb¬
().
£tT™Ë
(
g‘Cu¼’tFŞd”
().
g‘Name
());

689 
»lßdCu¼’tFŞd”
();

	@app/src/main/java/net/gsantner/opoc/ui/LinearSplitLayout.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gCÚfigu¿tiÚ
;

15 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

18 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

19 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

20 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

21 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

30 @
Suµ»ssW¬nšgs
("unused")

31 
public
 cÏs 
	cLš—rS¶™Layout
 
ex‹nds
 
	mLš—rLayout
 {

33 
´iv©e
 
	$upd©eLayoutMode
(
V›w
 
v
, 
V›wGroup
.
LayoutP¬ams
 
giv’P¬ams
) {

34 
boŞ—n
 
isInPÜŒa™
 = 
	`g‘CÚ‹xt
().
	`g‘Resourûs
().
	`g‘CÚfigu¿tiÚ
().
Ü›Á©iÚ
 =ğ
CÚfigu¿tiÚ
.
ORIENTATION_PORTRAIT
;

35 
Lš—rLayout
.
LayoutP¬ams
 
·¿ms
 = (Lš—rLayout.LayoutP¬amsè
giv’P¬ams
;

36 
	`£tOr›Á©iÚ
(
isInPÜŒa™
 ? 
VERTICAL
 : 
HORIZONTAL
);

38 ià(
·¿ms
 =ğ
nuÎ
) {

39 
·¿ms
 = 
v
.
	`g‘LayoutP¬ams
(è!ğ
nuÎ
 ? ((
Lš—rLayout
.
LayoutP¬ams
èv.g‘LayoutP¬ams()è: 
	`g’”©eDeçuÉLayoutP¬ams
();

41 
·¿ms
.
width
 = 
isInPÜŒa™
 ? 
V›wGroup
.
LayoutP¬ams
.
MATCH_PARENT
 : 0;

42 
·¿ms
.
height
 = 
isInPÜŒa™
 ? 0 : 
V›wGroup
.
LayoutP¬ams
.
MATCH_PARENT
;

43 
v
.
	`£tLayoutP¬ams
(
·¿ms
);

46 
public
 
	$Lš—rS¶™Layout
(
CÚ‹xt
 
cÚ‹xt
) {

47 
	`su³r
(
cÚ‹xt
);

48 
	}
}

50 
public
 
Lš—rS¶™Layout
(
CÚ‹xt
 
cÚ‹xt
, @
NuÎabË
 
A‰ribu‹S‘
 
©Œs
) {

51 
su³r
(
cÚ‹xt
, 
©Œs
);

54 
public
 
Lš—rS¶™Layout
(
CÚ‹xt
 
cÚ‹xt
, @
NuÎabË
 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

55 
su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

58 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
LOLLIPOP
)

59 
public
 
	$Lš—rS¶™Layout
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
, 
defStyËRes
) {

60 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
, 
defStyËRes
);

61 
	}
}

63 @
Ov”ride


64 
public
 
	$addV›w
(
V›w
 
chd
) {

65 ià(
	`g‘ChdCouÁ
() > 1) {

66 
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("LinearSplitLayout can host onlywo direct children");

68 
	`upd©eLayoutMode
(
chd
, 
nuÎ
);

69 
su³r
.
	`addV›w
(
chd
);

70 
	}
}

72 @
Ov”ride


73 
public
 
	$addV›w
(
V›w
 
chd
, 
šdex
) {

74 ià(
	`g‘ChdCouÁ
() > 1) {

75 
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("LinearSplitLayout can host onlywo direct children");

77 
	`upd©eLayoutMode
(
chd
, 
nuÎ
);

78 
su³r
.
	`addV›w
(
chd
, 
šdex
);

79 
	}
}

81 @
Ov”ride


82 
public
 
	$addV›w
(
V›w
 
chd
, 
width
, 
height
) {

83 ià(
	`g‘ChdCouÁ
() > 1) {

84 
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("LinearSplitLayout can host onlywo direct children");

86 
	`upd©eLayoutMode
(
chd
, 
nuÎ
);

87 
su³r
.
	`addV›w
(
chd
, 
width
, 
height
);

88 
	}
}

90 @
Ov”ride


91 
public
 
	$addV›w
(
V›w
 
chd
, 
V›wGroup
.
LayoutP¬ams
 
·¿ms
) {

92 ià(
	`g‘ChdCouÁ
() > 1) {

93 
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("LinearSplitLayout can host onlywo direct children");

95 
	`upd©eLayoutMode
(
chd
, chd.
	`g‘LayoutP¬ams
());

96 
su³r
.
	`addV›w
(
chd
, 
·¿ms
);

97 
	}
}

99 @
Ov”ride


100 
public
 
	$addV›w
(
V›w
 
chd
, 
šdex
, 
V›wGroup
.
LayoutP¬ams
 
·¿ms
) {

101 ià(
	`g‘ChdCouÁ
() > 1) {

102 
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("LinearSplitLayout can host onlywo direct children");

104 
	`upd©eLayoutMode
(
chd
, 
·¿ms
);

105 
su³r
.
	`addV›w
(
chd
, 
šdex
, 
·¿ms
);

106 
	}
}

	@app/src/main/java/net/gsantner/opoc/ui/SearchOrCustomTextDialog.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
;

13 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

15 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

16 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

17 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gCŞÜS‹Li¡
;

18 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

19 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

20 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

21 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜIÁ
;

22 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gD¿wabËRes
;

23 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gLayoutRes
;

24 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

26 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

27 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

28 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gAµCom·tEd™Text
;

29 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gToŞtCom·t
;

30 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutTy³
;

31 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

32 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabËSŒšg
;

33 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

34 
impÜt
 
	gªdroid
.
	gv›w
.
	gG¿v™y
;

35 
impÜt
 
	gªdroid
.
	gv›w
.
	gKeyEv’t
;

36 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

37 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

38 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

39 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

40 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

41 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gA¼ayAd­‹r
;

42 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBu‰Ú
;

43 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gCheckabË
;

44 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gF‹r
;

45 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

46 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

47 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLi¡V›w
;

48 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

50 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gªdroid
.
	gdummy
.
	gTextW©ch”Dummy
;

51 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

52 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
;

54 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

55 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

56 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

57 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

58 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

59 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

60 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

62 @
Suµ»ssLšt
("SetTextI18n")

63 
public
 cÏs 
	cS—rchOrCu¡omTextDŸlog
 {

65 
public
 şas 
	cDŸlogO±iÚs
 {

68 @
NuÎabË


69 
public
 
	mC®lback
.
	ma1
<
	mSŒšg
> 
	mÿÎback
 = 
nuÎ
;

73 @
NuÎabË


74 
public
 
	mC®lback
.
	ma1
<
	mLi¡
<
	mIÁeg”
>> 
	mpos™iÚC®lback
 = 
nuÎ
;

76 
public
 
boŞ—n
 
	misMuÉiS–eùEÇbËd
 = 
çl£
;

77 
public
 
	mLi¡
<? 
ex‹nds
 
	mCh¬Sequ’û
> 
	md©a
 = 
nuÎ
;

78 
public
 
	mLi¡
<? 
ex‹nds
 
	mCh¬Sequ’û
> 
	mhighlightD©a
 = 
nuÎ
;

79 
public
 
	mLi¡
<
	mIÁeg”
> 
	micÚsFÜD©a
;

80 
public
 
SŒšg
 
	mmes§geText
 = "";

81 
public
 
SŒšg
 
	mdeçuÉText
 = "";

82 
public
 
boŞ—n
 
	misS—rchEÇbËd
 = 
Œue
;

83 
public
 
boŞ—n
 
	misD¬kDŸlog
 = 
çl£
;

84 
public
 
	mdŸlogWidthDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
;

85 
public
 
	mdŸlogHeightDp
 = 
WšdowMªag”
.
LayoutP¬ams
.
WRAP_CONTENT
;

86 
public
 
	mg¿v™y
 = 
G¿v™y
.
NO_GRAVITY
;

87 
public
 
	m£¬chIÅutTy³
 = 
IÅutTy³
.
TYPE_TEXT_FLAG_NO_SUGGESTIONS
;

88 
public
 
boŞ—n
 
	m£¬chIsRegex
 = 
çl£
;

89 
public
 
	mC®lback
.
	ma1
<
	mS·ÂabË
> 
	mhighligh‹r
 = 
nuÎ
;

90 
public
 
SŒšg
 
	mexŒaF‹r
 = 
nuÎ
;

91 
public
 
	mLi¡
<
	mIÁeg”
> 
	m´eS–eùed
 = 
nuÎ
;

93 
public
 
	mC®lback
.
a0
 
	mÃuŒ®Bu‰ÚC®lback
 = 
nuÎ
;

95 @
CŞÜIÁ


96 
public
 
	m‹xtCŞÜ
 = 0xFF000000;

97 @
CŞÜIÁ


98 
public
 
	mhighlightCŞÜ
 = 0xFF00FF00;

99 @
SŒšgRes


100 
public
 
	mÿnûlBu‰ÚText
 = 
ªdroid
.
R
.
¡ršg
.
ÿnûl
;

101 @
SŒšgRes


102 
public
 
	mÃuŒ®Bu‰ÚText
 = 0;

103 @
SŒšgRes


104 
public
 
	mokBu‰ÚText
 = 
ªdroid
.
R
.
¡ršg
.
ok
;

105 @
SŒšgRes


106 
public
 
	mt™ËText
 = 0;

107 @
SŒšgRes


108 
public
 
	m£¬chHštText
 = 
ªdroid
.
R
.
¡ršg
.
£¬ch_go
;

109 @
D¿wabËRes


110 
public
 
	mş—rIÅutIcÚ
 = 
ªdroid
.
R
.
d¿wabË
.
ic_šput_d–‘e
;

113 
´iv©e
 
şass
 
Ad­‹r
 
ex‹nds
 
	gA¼ayAd­‹r
<
	gIÁeg”
> {

114 @
LayoutRes


115 
´iv©e
 
fš®
 
	g_Ïyout
;

116 
´iv©e
 
fš®
 
	g_ÏyoutHeight
;

117 
´iv©e
 
fš®
 
LayoutInæ©”
 
	g_šæ©”
;

118 
´iv©e
 
fš®
 
DŸlogO±iÚs
 
	g_dİt
;

119 
´iv©e
 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	g_f‹»dI‹ms
;

120 
´iv©e
 
fš®
 
	gS‘
<
	gIÁeg”
> 
	g_£ËùedI‹ms
;

121 
´iv©e
 
fš®
 
P©‹º
 
	g_exŒaP©‹º
;

123 
public
 
Ad­‹r
 
ü—‹
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
DŸlogO±iÚs
 
dİt
) {

124  
Ãw
 
Ad­‹r
(
cÚ‹xt
, 
dİt
, dİt.
isMuÉiS–eùEÇbËd
 ? 
ªdroid
.
R
.
Ïyout
.
sim¶e_li¡_™em_muÉË_choiû
 :‡ndroid.R.Ïyout.
sim¶e_li¡_™em_1
,‚ew 
A¼ayLi¡
<>());

127 
´iv©e
 
Ad­‹r
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
DŸlogO±iÚs
 
dİt
, fš® 
Ïyout
, fš® 
Li¡
<
IÁeg”
> 
f‹»dI‹ms
) {

128 
su³r
(
cÚ‹xt
, 
Ïyout
, 
f‹»dI‹ms
);

129 
	g_Ïyout
 = 
Ïyout
;

130 
	g_f‹»dI‹ms
 = 
f‹»dI‹ms
;

131 
	g_šæ©”
 = 
LayoutInæ©”
.
äom
(
cÚ‹xt
);

132 
	g_dİt
 = 
dİt
;

133 
	g_exŒaP©‹º
 = (
_dİt
.
exŒaF‹r
 =ğ
nuÎ
 ?‚uÎ : 
P©‹º
.
compe
(_dopt.extraFilter));

134 
	g_£ËùedI‹ms
 = 
Ãw
 
HashS‘
<>(
_dİt
.
´eS–eùed
 !ğ
nuÎ
 ? _dİt.´eS–eùed : 
CŞËùiÚs
.
em±yLi¡
());

135 
CÚ‹xtUts
 
	gcu
 = 
Ãw
 CÚ‹xtUts(
cÚ‹xt
);

136 
	g_ÏyoutHeight
 = (è
cu
.
cÚv”tDpToPx
(36);

137 
	gcu
.
ä“CÚ‹xtRef
();

140 @
	gNÚNuÎ


141 @
Ov”ride


142 
public
 
V›w
 
g‘V›w
(
pos
, @
NuÎabË
 V›w 
cÚv”tV›w
, @
NÚNuÎ
 
V›wGroup
 
·»Á
) {

143 
fš®
 
	gšdex
 = 
g‘I‹m
(
pos
);

145 
fš®
 
TextV›w
 
	g‹xtV›w
;

146 ià(
	gcÚv”tV›w
 =ğ
nuÎ
) {

147 
‹xtV›w
 = (
TextV›w
è
_šæ©”
.
šæ©e
(
_Ïyout
, 
·»Á
, 
çl£
);

148 
	g‹xtV›w
.
£tLayoutP¬ams
(
Ãw
 
Lš—rLayout
.
LayoutP¬ams
(Lš—rLayout.LayoutP¬ams.
MATCH_PARENT
, Lš—rLayout.LayoutP¬ams.
WRAP_CONTENT
));

149 
	g‹xtV›w
.
£tMšHeight
(
_ÏyoutHeight
);

151 
	g‹xtV›w
 = (
TextV›w
è
cÚv”tV›w
;

154 ià(
‹xtV›w
 
š¡ªûof
 
	gCheckabË
) {

155 ((
	gCheckabË
è
	g‹xtV›w
).
£tChecked
(
_£ËùedI‹ms
.
cÚšs
(
šdex
));

158 ià(
	gšdex
 >ğ0 && 
_dİt
.
icÚsFÜD©a
 !ğ
nuÎ
 && 
šdex
 < _dİt.icÚsFÜD©a.
size
(è&& _dİt.icÚsFÜD©a.
g‘
(index) != 0) {

159 
‹xtV›w
.
£tCompoundD¿wabËsW™hIÁršsicBounds
(
_dİt
.
icÚsFÜD©a
.
g‘
(
šdex
), 0, 0, 0);

160 
	g‹xtV›w
.
£tCompoundD¿wabËPaddšg
(32);

161 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
M
) {

162 
‹xtV›w
.
£tCompoundD¿wabËTštLi¡
(
CŞÜS‹Li¡
.
v®ueOf
(
_dİt
.
isD¬kDŸlog
 ? 
CŞÜ
.
WHITE
 : CŞÜ.
BLACK
));

165 
	g‹xtV›w
.
£tCompoundD¿wabËsW™hIÁršsicBounds
(0, 0, 0, 0);

168 
fš®
 
Ch¬Sequ’û
 
	g‹xt
 = 
_dİt
.
d©a
.
g‘
(
šdex
).
toSŒšg
();

169 ià(
	g_dİt
.
	ghighlightD©a
 !ğ
nuÎ
) {

170 
fš®
 
boŞ—n
 
hl
 = 
_dİt
.
highlightD©a
.
cÚšs
(
‹xt
);

171 
	g‹xtV›w
.
£tTextCŞÜ
(
hl
 ? 
_dİt
.
highlightCŞÜ
 : _dİt.
‹xtCŞÜ
);

172 
	g‹xtV›w
.
£tTy³çû
(
nuÎ
, 
hl
 ? 
Ty³çû
.
BOLD
 : Ty³çû.
NORMAL
);

175 ià(
	g_dİt
.
	ghighligh‹r
 !ğ
nuÎ
) {

176 
S·ÂabË
 
s
 = 
Ãw
 
S·ÂabËSŒšg
(
‹xt
);

177 
	g_dİt
.
	ghighligh‹r
.
ÿÎback
(
s
);

178 
	g‹xtV›w
.
£tText
(
s
);

180 
	g‹xtV›w
.
£tText
(
‹xt
);

183  
	g‹xtV›w
;

186 @
	gNÚNuÎ


187 @
Ov”ride


188 
public
 
F‹r
 
g‘F‹r
() {

189  
Ãw
 
F‹r
() {

190 @
Suµ»ssW¬nšgs
("unchecked")

191 @
Ov”ride


192 
´Ùeùed
 
publishResuÉs
(
fš®
 
Ch¬Sequ’û
 
cÚ¡¿št
, fš® 
F‹rResuÉs
 
»suÉs
) {

193 
	g_f‹»dI‹ms
.
ş—r
();

194 
	g_f‹»dI‹ms
.
addAÎ
((
Li¡
<
IÁeg”
>è
»suÉs
.
v®ues
);

195 
nÙifyD©aS‘Chªged
();

198 @
Ov”ride


199 
´Ùeùed
 
F‹rResuÉs
 
³rfÜmF‹ršg
(
fš®
 
Ch¬Sequ’û
 
cÚ¡¿št
) {

200 
fš®
 
	gLi¡
<
	gIÁeg”
> 
	g»sLi¡
 = 
Ãw
 
A¼ayLi¡
<>();

202 ià(
	g_dİt
.
	gd©a
 !ğ
nuÎ
) {

203 
fš®
 
SŒšg
 
f
 = 
cÚ¡¿št
.
toSŒšg
();

204 
fš®
 
boŞ—n
 
	gem±yS—rch
 = 
f
.
isEm±y
();

205 
	gi
 = 0; i < 
	g_dİt
.
	gd©a
.
size
(); i++) {

206 
fš®
 
SŒšg
 
	g¡r
 = 
_dİt
.
d©a
.
g‘
(
i
).
toSŒšg
();

207 
fš®
 
boŞ—n
 
	gm©chExŒa
 = (
_exŒaP©‹º
 =ğ
nuÎ
è|| _exŒaP©‹º.
m©ch”
(
¡r
).
fšd
();

208 
fš®
 
LoÿË
 
	gloÿË
 = LoÿË.
g‘DeçuÉ
();

209 
fš®
 
boŞ—n
 
	gm©chNÜm®
 = 
¡r
.
toLow”Ca£
(
loÿË
).
cÚšs
(
f
.toLowerCase(locale));

210 
fš®
 
boŞ—n
 
	gm©chRegex
 = 
_dİt
.
£¬chIsRegex
 && (
¡r
.
m©ches
(
f
));

211 ià(
	gm©chExŒa
 && (
	gm©chNÜm®
 || 
	gm©chRegex
 || 
	gem±yS—rch
)) {

212 
	g»sLi¡
.
add
(
i
);

217 
fš®
 
F‹rResuÉs
 
	g»s
 = 
Ãw
 FilterResults();

218 
	g»s
.
	gv®ues
 = 
»sLi¡
;

219 
	g»s
.
	gcouÁ
 = 
»sLi¡
.
size
();

220  
	g»s
;

226 
public
 
	$showMuÉiChoiûDŸlogW™hS—rchF‹rUI
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
DŸlogO±iÚs
 
dİt
) {

227 
fš®
 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
aùiv™y
, 
dİt
.
isD¬kDŸlog


228 ? 
ªdroid
.
suµÜt
.
v7
.
­pcom·t
.
R
.
¡yË
.
Theme_AµCom·t_DŸlog


229 : 
ªdroid
.
suµÜt
.
v7
.
­pcom·t
.
R
.
¡yË
.
Theme_AµCom·t_Light_DŸlog


231 
fš®
 
Ad­‹r
 
li¡Ad­‹r
 = Ad­‹r.
	`ü—‹
(
aùiv™y
, 
dİt
);

233 
fš®
 
AµCom·tEd™Text
 
£¬chEd™Text
 = 
Ãw
 
	`AµCom·tEd™Text
(
aùiv™y
);

234 
£¬chEd™Text
.
	`£tText
(
dİt
.
deçuÉText
);

235 
£¬chEd™Text
.
	`£tSšgËLše
(
Œue
);

236 
£¬chEd™Text
.
	`£tMaxLšes
(1);

237 
£¬chEd™Text
.
	`£tTextCŞÜ
(
dİt
.
‹xtCŞÜ
);

238 
£¬chEd™Text
.
	`£tHštTextCŞÜ
((
dİt
.
‹xtCŞÜ
 & 0x00FFFFFF) | 0x99000000);

239 
£¬chEd™Text
.
	`£tHšt
(
dİt
.
£¬chHštText
);

240 
£¬chEd™Text
.
	`£tIÅutTy³
(
dİt
.
£¬chIÅutTy³
 =ğ0 ? s—rchEd™Text.
	`g‘IÅutTy³
() : dopt.searchInputType);

241 
£¬chEd™Text
.
	`addTextChªgedLi¡’”
(
TextW©ch”Dummy
.
	`aá”
((
cbEd™abË
è-> 
li¡Ad­‹r
.
	`g‘F‹r
().
	`f‹r
(cbEditable)));

243 
fš®
 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
aùiv™y
);

244 
fš®
 
m¬gš
 = (è
cu
.
	`cÚv”tDpToPx
(8);

245 
cu
.
	`ä“CÚ‹xtRef
();

247 
fš®
 
Lš—rLayout
 
£¬chLayout
 = 
Ãw
 
	`Lš—rLayout
(
aùiv™y
);

248 
£¬chLayout
.
	`£tOr›Á©iÚ
(
Lš—rLayout
.
HORIZONTAL
);

250 
Lš—rLayout
.
LayoutP¬ams
 
Í
;

251 
Í
 = 
Ãw
 
Lš—rLayout
.
	`LayoutP¬ams
(Lš—rLayout.
LayoutP¬ams
.
WRAP_CONTENT
, Lš—rLayout.LayoutP¬ams.
MATCH_PARENT
, 1);

252 
Í
.
g¿v™y
 = 
G¿v™y
.
START
 | G¿v™y.
BOTTOM
;

253 
£¬chLayout
.
	`addV›w
(
£¬chEd™Text
, 
Í
);

256 
fš®
 
ImageV›w
 
ş—rBu‰Ú
 = 
Ãw
 
	`ImageV›w
(
aùiv™y
);

257 
ş—rBu‰Ú
.
	`£tImageResourû
(
dİt
.
ş—rIÅutIcÚ
);

258 
ToŞtCom·t
.
	`£tToŞtText
(
ş—rBu‰Ú
, 
aùiv™y
.
	`g‘SŒšg
(
ªdroid
.
R
.
¡ršg
.
ÿnûl
));

259 
ş—rBu‰Ú
.
	`£tCŞÜF‹r
(
dİt
.
isD¬kDŸlog
 ? 
CŞÜ
.
WHITE
 : CŞÜ.
	`·r£CŞÜ
("#ff505050"));

260 
Í
 = 
Ãw
 
Lš—rLayout
.
	`LayoutP¬ams
(Lš—rLayout.
LayoutP¬ams
.
WRAP_CONTENT
, Lš—rLayout.LayoutP¬ams.
MATCH_PARENT
, 0);

261 
Í
.
g¿v™y
 = 
G¿v™y
.
END
 | G¿v™y.
CENTER_VERTICAL
;

262 
Í
.
	`£tM¬gšs
(
m¬gš
, 0, () (margin * 1.5), 0);

263 
£¬chLayout
.
	`addV›w
(
ş—rBu‰Ú
, 
Í
);

264 
ş—rBu‰Ú
.
	`£tOnClickLi¡’”
((
v
è-> 
£¬chEd™Text
.
	`£tText
(""));

266 
fš®
 
Li¡V›w
 
li¡V›w
 = 
Ãw
 
	`Li¡V›w
(
aùiv™y
);

267 
fš®
 
Lš—rLayout
 
lš—rLayout
 = 
Ãw
 
	`Lš—rLayout
(
aùiv™y
);

268 
li¡V›w
.
	`£tAd­‹r
(
li¡Ad­‹r
);

269 
li¡V›w
.
	`£tVisib™y
(
dİt
.
d©a
 !ğ
nuÎ
 && !dİt.d©a.
	`isEm±y
(è? 
V›w
.
VISIBLE
 : V›w.
GONE
);

270 
lš—rLayout
.
	`£tOr›Á©iÚ
(
Lš—rLayout
.
VERTICAL
);

272 ià(
dİt
.
isS—rchEÇbËd
) {

273 
Í
 = 
Ãw
 
Lš—rLayout
.
	`LayoutP¬ams
(Lš—rLayout.
LayoutP¬ams
.
MATCH_PARENT
, Lš—rLayout.LayoutP¬ams.
WRAP_CONTENT
);

274 
Í
.
	`£tM¬gšs
(
m¬gš
, margin / 2, margin, margin / 2);

275 
lš—rLayout
.
	`addV›w
(
£¬chLayout
, 
Í
);

278 
fš®
 
Lš—rLayout
.
LayoutP¬ams
 
ÏyoutP¬ams
 = 
Ãw
 Lš—rLayout.
	`LayoutP¬ams
(Lš—rLayout.LayoutP¬ams.
MATCH_PARENT
, 0);

279 
ÏyoutP¬ams
.
weight
 = 1;

280 
lš—rLayout
.
	`addV›w
(
li¡V›w
, 
ÏyoutP¬ams
);

281 ià(!
TextUts
.
	`isEm±y
(
dİt
.
mes§geText
)) {

282 
dŸlogBud”
.
	`£tMes§ge
(
dİt
.
mes§geText
);

285 
dŸlogBud”
.
	`£tV›w
(
lš—rLayout
)

286 .
	`£tOnCªûlLi¡’”
(
nuÎ
)

287 .
	`£tNeg©iveBu‰Ú
(
dİt
.
ÿnûlBu‰ÚText
, (
dŸlogIÁ”çû
, 
i
è-> dŸlogIÁ”çû.
	`dismiss
());

289 ià(
dİt
.
t™ËText
 != 0) {

290 
dŸlogBud”
.
	`£tT™Ë
(
dİt
.
t™ËText
);

294 ià((
dİt
.
isS—rchEÇbËd
 && dİt.
ÿÎback
 !ğ
nuÎ
è|| (dİt.
isMuÉiS–eùEÇbËd
)) {

295 
dŸlogBud”
.
	`£tPos™iveBu‰Ú
(
dİt
.
okBu‰ÚText
, (
dŸlogIÁ”çû
, 
i
) -> {

296 
fš®
 
SŒšg
 
£¬chText
 = 
dİt
.
isS—rchEÇbËd
 ? 
£¬chEd™Text
.
	`g‘Text
().
	`toSŒšg
(è: 
nuÎ
;

297 ià(
dİt
.
pos™iÚC®lback
 !ğ
nuÎ
 && !
li¡Ad­‹r
.
_£ËùedI‹ms
.
	`isEm±y
()) {

298 
fš®
 
Li¡
<
IÁeg”
> 
£l
 = 
Ãw
 
A¼ayLi¡
<>(
li¡Ad­‹r
.
_£ËùedI‹ms
);

299 
CŞËùiÚs
.
	`sÜt
(
£l
);

300 
dİt
.
pos™iÚC®lback
.
	`ÿÎback
(
£l
);

301 } ià(
dİt
.
ÿÎback
 !ğ
nuÎ
 && !
TextUts
.
	`isEm±y
(
£¬chText
)) {

302 
dİt
.
ÿÎback
.
	`ÿÎback
(
£¬chText
);

308 ià(
dİt
.
ÃuŒ®Bu‰ÚC®lback
 !ğ
nuÎ
 && dİt.
ÃuŒ®Bu‰ÚText
 != 0) {

309 
dŸlogBud”
.
	`£tNeuŒ®Bu‰Ú
(
dİt
.
ÃuŒ®Bu‰ÚText
, (
dŸlogIÁ”çû
, 
i
) -> {

310 
dİt
.
ÃuŒ®Bu‰ÚC®lback
.
	`ÿÎback
();

314 
fš®
 
AË¹DŸlog
 
dŸlog
 = 
dŸlogBud”
.
	`ü—‹
();

316 
£¬chEd™Text
.
	`£tOnKeyLi¡’”
((
keyV›w
, 
keyCode
, 
keyEv’t
) -> {

317 ià((
keyEv’t
.
	`g‘AùiÚ
(è=ğ
KeyEv’t
.
ACTION_DOWN
è&& (
keyCode
 =ğKeyEv’t.
KEYCODE_ENTER
)) {

318 
dŸlog
.
	`dismiss
();

319 ià(
dİt
.
ÿÎback
 !ğ
nuÎ
 && !
TextUts
.
	`isEm±y
(
£¬chEd™Text
.
	`g‘Text
().
	`toSŒšg
())) {

320 
dİt
.
ÿÎback
.
	`ÿÎback
(
£¬chEd™Text
.
	`g‘Text
().
	`toSŒšg
());

322  
Œue
;

324  
çl£
;

327 
Wšdow
 
w
;

328 ià((
w
 = 
dŸlog
.
	`g‘Wšdow
()è!ğ
nuÎ
 && 
dİt
.
isS—rchEÇbËd
) {

329 
w
.
	`£tSoáIÅutMode
(
WšdowMªag”
.
LayoutP¬ams
.
SOFT_INPUT_ADJUST_RESIZE
 | WšdowMªag”.LayoutP¬ams.
SOFT_INPUT_STATE_ALWAYS_VISIBLE
);

331 
dŸlog
.
	`show
();

332 ià((
w
 = 
dŸlog
.
	`g‘Wšdow
()è!ğ
nuÎ
) {

333 
ds_w
 = 
dİt
.
dŸlogWidthDp
 < 100 ? dİt.dŸlogWidthD°: ((è(dİt.dŸlogWidthD°* 
aùiv™y
.
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
().
d’s™y
));

334 
ds_h
 = 
dİt
.
dŸlogHeightDp
 < 100 ? dİt.dŸlogHeightD°: ((è(dİt.dŸlogHeightD°* 
aùiv™y
.
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
().
d’s™y
));

335 
w
.
	`£tLayout
(
ds_w
, 
ds_h
);

338 ià((
w
 = 
dŸlog
.
	`g‘Wšdow
()è!ğ
nuÎ
 && 
dİt
.
g¿v™y
 !ğ
G¿v™y
.
NO_GRAVITY
) {

339 
WšdowMªag”
.
LayoutP¬ams
 
wÍ
 = 
w
.
	`g‘A‰ribu‹s
();

340 
wÍ
.
g¿v™y
 = 
dİt
.gravity;

341 
w
.
	`£tA‰ribu‹s
(
wÍ
);

344 ià(
dİt
.
isS—rchEÇbËd
) {

345 
£¬chEd™Text
.
	`»que¡Focus
();

347 ià(
dİt
.
deçuÉText
 !ğ
nuÎ
) {

348 
li¡Ad­‹r
.
	`g‘F‹r
().
	`f‹r
(
£¬chEd™Text
.
	`g‘Text
());

352 
fš®
 
C®lback
.
b1
<
IÁeg”
> 
dœeùAùiv©e
 = (
pos™iÚ
) -> {

353 
fš®
 
šdex
 = 
li¡Ad­‹r
.
_f‹»dI‹ms
.
	`g‘
(
pos™iÚ
);

354 
dŸlog
.
	`dismiss
();

355 ià(
dİt
.
ÿÎback
 !ğ
nuÎ
) {

356 
dİt
.
ÿÎback
.
	`ÿÎback
(dİt.
d©a
.
	`g‘
(
šdex
).
	`toSŒšg
());

358 ià(
dİt
.
pos™iÚC®lback
 !ğ
nuÎ
) {

359 
dİt
.
pos™iÚC®lback
.
	`ÿÎback
(
CŞËùiÚs
.
	`sšgËtÚLi¡
(
šdex
));

361  
Œue
;

365 
fš®
 
Bu‰Ú
 
okBu‰Ú
 = 
dŸlog
.
	`g‘Bu‰Ú
(
DŸlog
.
BUTTON_POSITIVE
);

366 
fš®
 
SŒšg
 
okText
 = 
aùiv™y
.
	`g‘SŒšg
(
dİt
.
okBu‰ÚText
è+ (dİt.
isMuÉiS–eùEÇbËd
 ? " (%d)" : "");

367 
fš®
 
C®lback
.
a0
 
£tOkBu‰ÚS‹
 = () -> {

368 
okBu‰Ú
.
	`£tText
(
okText
.
	`»¶aû
("%d", 
IÁeg”
.
	`toSŒšg
(
li¡Ad­‹r
.
_£ËùedI‹ms
.
	`size
())));

372 
£tOkBu‰ÚS‹
.
	`ÿÎback
();

375 
li¡V›w
.
	`£tOnI‹mClickLi¡’”
((
·»Á
, 
‹xtV›w
, 
pos
, 
id
) -> {

376 ià(
dİt
.
isMuÉiS–eùEÇbËd
) {

377 
fš®
 
šdex
 = 
li¡Ad­‹r
.
_f‹»dI‹ms
.
	`g‘
(
pos
);

378 ià(
li¡Ad­‹r
.
_£ËùedI‹ms
.
	`cÚšs
(
šdex
)) {

379 
li¡Ad­‹r
.
_£ËùedI‹ms
.
	`»move
(
šdex
);

381 
li¡Ad­‹r
.
_£ËùedI‹ms
.
	`add
(
šdex
);

383 ià(
‹xtV›w
 
š¡ªûof
 
CheckabË
) {

384 ((
CheckabË
è
‹xtV›w
).
	`£tChecked
(
li¡Ad­‹r
.
_£ËùedI‹ms
.
	`cÚšs
(
šdex
));

386 
£tOkBu‰ÚS‹
.
	`ÿÎback
();

388 
dœeùAùiv©e
.
	`ÿÎback
(
pos
);

393 
li¡V›w
.
	`£tOnI‹mLÚgClickLi¡’”
((
·»Á
, 
v›w
, 
pos
, 
id
è-> 
dœeùAùiv©e
.
	`ÿÎback
(pos));

394 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/ActivityUtils.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™yMªag”
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gAùiv™yNÙFoundExû±iÚ
;

16 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCompÚ’tName
;

17 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

18 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gPackageMªag”
;

21 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gTy³dA¼ay
;

22 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

23 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

24 
impÜt
 
	gªdroid
.
	g´ovid”
.
	gC®’d¬CÚŒaù
;

25 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜIÁ
;

26 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

27 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gdesign
.
	gwidg‘
.
	gSÇckb¬
;

28 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

29 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

30 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	gwidg‘
.
	gAµCom·tTextV›w
;

31 
impÜt
 
	gªdroid
.
	g‹xt
.
	gHtml
;

32 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabËSŒšg
;

33 
impÜt
 
	gªdroid
.
	g‹xt
.
	gm‘hod
.
	gLškMovem’tM‘hod
;

34 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

35 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

36 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

37 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

38 
impÜt
 
	gªdroid
.
	gv›w
.
	gšputm‘hod
.
	gIÅutM‘hodMªag”
;

39 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

40 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gSüŞlV›w
;

42 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

45 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused", "SameParameterValue", "SpellCheckingInspection", "rawtypes", "UnusedReturnValue"})

46 
public
 
şass
 
Aùiv™yUts
 
ex‹nds
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gCÚ‹xtUts
 {

50 
´Ùeùed
 
Aùiv™y
 
	g_aùiv™y
;

52 
public
 
Aùiv™yUts
(
fš®
 
Aùiv™y
 
aùiv™y
) {

53 
su³r
(
aùiv™y
);

54 
	g_aùiv™y
 = 
aùiv™y
;

57 @
Ov”ride


58 
public
 
ä“CÚ‹xtRef
() {

59 
	gsu³r
.
ä“CÚ‹xtRef
();

60 
	g_aùiv™y
 = 
nuÎ
;

74 
public
 
ªim©eToAùiv™y
(
CÏss
 
to
, 
BoŞ—n
 
fšishFromAùiv™y
, 
IÁeg”
 
»que¡Code
) {

75 
ªim©eToAùiv™y
(
Ãw
 
IÁ’t
(
_aùiv™y
, 
to
), 
fšishFromAùiv™y
, 
»que¡Code
);

86 
public
 
ªim©eToAùiv™y
(
IÁ’t
 
š‹Á
, 
BoŞ—n
 
fšishFromAùiv™y
, 
IÁeg”
 
»que¡Code
) {

87 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_NO_ANIMATION
);

88 ià(
	g»que¡Code
 !ğ
nuÎ
) {

89 
_aùiv™y
.
¡¬tAùiv™yFÜResuÉ
(
š‹Á
, 
»que¡Code
);

91 
	g_aùiv™y
.
¡¬tAùiv™y
(
š‹Á
);

94 
	g_aùiv™y
.
ov”rideP’dšgT¿ns™iÚ
(
g‘ResId
(
ResTy³
.
DIMEN
, "fadein"), getResId(ResType.DIMEN, "fadeout"));

95 ià(
	gfšishFromAùiv™y
 !ğ
nuÎ
 && 
fšishFromAùiv™y
) {

96 
_aùiv™y
.
fšish
();

101 
public
 
SÇckb¬
 
showSÇckB¬
(@
SŒšgRes
 
¡ršgResId
, 
boŞ—n
 
showLÚg
) {

102 
SÇckb¬
 
	gs
 = SÇckb¬.
make
(
_aùiv™y
.
fšdV›wById
(
ªdroid
.
R
.
id
.
cÚ‹Á
), 
¡ršgResId
,

103 
showLÚg
 ? 
SÇckb¬
.
LENGTH_LONG
 : SÇckb¬.
LENGTH_SHORT
);

104 
	gs
.
show
();

105  
	gs
;

108 
public
 
showSÇckB¬
(@
SŒšgRes
 
¡ršgResId
, 
boŞ—n
 
showLÚg
, @SŒšgRe 
aùiÚResId
, 
V›w
.
OnClickLi¡’”
 
li¡’”
) {

109 
	gSÇckb¬
.
make
(
_aùiv™y
.
fšdV›wById
(
ªdroid
.
R
.
id
.
cÚ‹Á
), 
¡ršgResId
,

110 
showLÚg
 ? 
SÇckb¬
.
LENGTH_LONG
 : SÇckb¬.
LENGTH_SHORT
)

111 .
£tAùiÚ
(
aùiÚResId
, 
li¡’”
)

112 .
show
();

115 
public
 
Aùiv™yUts
 
£tSoáKeybßrdVisibe
(
boŞ—n
 
visibË
, 
V›w
... 
ed™V›w
) {

116 
fš®
 
Aùiv™y
 
	gaùiv™y
 = 
_aùiv™y
;

117 ià(
	gaùiv™y
 !ğ
nuÎ
) {

118 
fš®
 
V›w
 
v
 = (
ed™V›w
 !ğ
nuÎ
 &&ƒd™V›w.
Ëngth
 > 0è? (ed™V›w[0]è: (
aùiv™y
.
g‘Cu¼’tFocus
(è!ğnuÎ &&‡ùiv™y.g‘Cu¼’tFocus().
g‘WšdowTok’
() !=‚ull ?‡ctivity.getCurrentFocus() :‚ull);

119 
fš®
 
IÅutM‘hodMªag”
 
	gimm
 = (IÅutM‘hodMªag”è
aùiv™y
.
g‘Sy¡emS”viû
(
Aùiv™y
.
INPUT_METHOD_SERVICE
);

120 ià(
	gv
 !ğ
nuÎ
 && 
imm
 !=‚ull) {

121 
RuÂabË
 
r
 = () -> {

122 ià(
visibË
) {

123 
v
.
»que¡Focus
();

124 
	gimm
.
showSoáIÅut
(
v
, 
IÅutM‘hodMªag”
.
SHOW_FORCED
);

126 
	gimm
.
hideSoáIÅutFromWšdow
(
v
.
g‘WšdowTok’
(), 0);

129 
	gr
.
run
();

130 
	gd
 : 
Ãw
 []{100, 350}) {

131 
	gv
.
po¡D–ayed
(
r
, 
d
);

135  
	gthis
;

138 
public
 
Aùiv™yUts
 
hideSoáKeybßrd
() {

139 ià(
	g_aùiv™y
 !ğ
nuÎ
) {

140 
IÅutM‘hodMªag”
 
imm
 = (IÅutM‘hodMªag”è
_aùiv™y
.
g‘Sy¡emS”viû
(
Aùiv™y
.
INPUT_METHOD_SERVICE
);

141 ià(
	gimm
 !ğ
nuÎ
 && 
_aùiv™y
.
g‘Cu¼’tFocus
(è!ğnuÎ && _aùiv™y.g‘Cu¼’tFocus().
g‘WšdowTok’
() !=‚ull) {

142 
imm
.
hideSoáIÅutFromWšdow
(
_aùiv™y
.
g‘Cu¼’tFocus
().
g‘WšdowTok’
(), 0);

145  
	gthis
;

148 
public
 
Aùiv™yUts
 
showSoáKeybßrd
() {

149 ià(
	g_aùiv™y
 !ğ
nuÎ
) {

150 
IÅutM‘hodMªag”
 
imm
 = (IÅutM‘hodMªag”è
_aùiv™y
.
g‘Sy¡emS”viû
(
Aùiv™y
.
INPUT_METHOD_SERVICE
);

151 ià(
	gimm
 !ğ
nuÎ
 && 
_aùiv™y
.
g‘Cu¼’tFocus
(è!ğnuÎ && _aùiv™y.g‘Cu¼’tFocus().
g‘WšdowTok’
() !=‚ull) {

152 
showSoáKeybßrd
(
_aùiv™y
.
g‘Cu¼’tFocus
());

155  
	gthis
;

159 
public
 
Aùiv™yUts
 
showSoáKeybßrd
(
V›w
 
‹xtIÅutV›w
) {

160 ià(
	g_aùiv™y
 !ğ
nuÎ
) {

161 
IÅutM‘hodMªag”
 
imm
 = (IÅutM‘hodMªag”è
_aùiv™y
.
g‘Sy¡emS”viû
(
Aùiv™y
.
INPUT_METHOD_SERVICE
);

162 ià(
	gimm
 !ğ
nuÎ
 && 
‹xtIÅutV›w
 !=‚ull) {

163 
imm
.
showSoáIÅut
(
‹xtIÅutV›w
, 
IÅutM‘hodMªag”
.
SHOW_FORCED
);

166  
	gthis
;

169 
public
 
showDŸlogW™hHtmlTextV›w
(@
SŒšgRes
 
»sT™ËId
, 
SŒšg
 
html
) {

170 
showDŸlogW™hHtmlTextV›w
(
»sT™ËId
, 
html
, 
Œue
, 
nuÎ
);

173 
public
 
showDŸlogW™hHtmlTextV›w
(@
SŒšgRes
 
»sT™ËId
, 
SŒšg
 
‹xt
, 
boŞ—n
 
isHtml
, 
DŸlogIÁ”çû
.
OnDismissLi¡’”
 
dismis£dLi¡’”
) {

174 
SüŞlV›w
 
	gsüŞl
 = 
Ãw
 SüŞlV›w(
_cÚ‹xt
);

175 
AµCom·tTextV›w
 
	g‹xtV›w
 = 
Ãw
 AµCom·tTextV›w(
_cÚ‹xt
);

176 
	g·ddšg
 = (è
Ty³dV®ue
.
­¶yDim’siÚ
(Ty³dV®ue.
COMPLEX_UNIT_DIP
, 16, 
_cÚ‹xt
.
g‘Resourûs
().
g‘Di¥ÏyM‘rics
());

178 
	gsüŞl
.
£tPaddšg
(
·ddšg
, 0,…adding, 0);

179 
	gsüŞl
.
addV›w
(
‹xtV›w
);

180 
	g‹xtV›w
.
£tMovem’tM‘hod
(
Ãw
 
LškMovem’tM‘hod
());

181 
	g‹xtV›w
.
£tText
(
isHtml
 ? 
Ãw
 
S·ÂabËSŒšg
(
Html
.
äomHtml
(
‹xt
)) :ext);

182 
	g‹xtV›w
.
£tTextSize
(
Ty³dV®ue
.
COMPLEX_UNIT_DIP
, 17);

184 
	gAË¹DŸlog
.
Bud”
 
	gdŸlog
 = 
Ãw
 
AË¹DŸlog
.Bud”(
_cÚ‹xt
)

185 .
£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, 
nuÎ
).
£tOnDismissLi¡’”
(
dismis£dLi¡’”
)

186 .
£tV›w
(
süŞl
);

187 ià(
	g»sT™ËId
 != 0) {

188 
dŸlog
.
£tT™Ë
(
»sT™ËId
);

190 
dŸlogFuÎWidth
(
dŸlog
.
show
(), 
Œue
, 
çl£
);

193 
public
 
showDŸlogW™hRawFeInWebV›w
(
SŒšg
 
feInRaw
, @
SŒšgRes
 
»sT™ËId
) {

194 
WebV›w
 
	gwv
 = 
Ãw
 WebV›w(
_cÚ‹xt
);

195 
	gwv
.
lßdU¾
("fe:///ªdroid_»s/¿w/" + 
feInRaw
);

196 
	gAË¹DŸlog
.
Bud”
 
	gdŸlog
 = 
Ãw
 
AË¹DŸlog
.Bud”(
_cÚ‹xt
)

197 .
£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ok
, 
nuÎ
)

198 .
£tT™Ë
(
»sT™ËId
)

199 .
£tV›w
(
wv
);

200 
dŸlogFuÎWidth
(
dŸlog
.
show
(), 
Œue
, 
çl£
);

204 
public
 
Aùiv™yUts
 
toggËStusb¬Visib™y
(
boŞ—n
... 
İtiÚ®FÜûVisibË
) {

205 
	gWšdowMªag”
.
LayoutP¬ams
 
	g©Œs
 = 
_aùiv™y
.
g‘Wšdow
().
g‘A‰ribu‹s
();

206 
	gæag
 = 
WšdowMªag”
.
LayoutP¬ams
.
FLAG_FULLSCREEN
;

207 ià(
	gİtiÚ®FÜûVisibË
.
	gËngth
 == 0) {

208 
©Œs
.
æags
 ^ğ
æag
;

209 } ià(
	gİtiÚ®FÜûVisibË
.
	gËngth
 =ğ1 && 
İtiÚ®FÜûVisibË
[0]) {

210 
©Œs
.
æags
 &ğ~
æag
;

212 
	g©Œs
.
	gæags
 |ğ
æag
;

214 
	g_aùiv™y
.
g‘Wšdow
().
£tA‰ribu‹s
(
©Œs
);

215  
	gthis
;

218 
public
 
Aùiv™yUts
 
showGoogËPÏyEÁryFÜThisAµ
() {

219 
SŒšg
 
	gpkgId
 = "d‘as?id=" + 
_aùiv™y
.
g‘PackageName
();

220 
IÁ’t
 
	ggoToM¬k‘
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_VIEW
, 
Uri
.
·r£
("m¬k‘://" + 
pkgId
));

221 
	ggoToM¬k‘
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_NO_HISTORY
 |

222 (
Bud
.
VERSION
.
SDK_INT
 >ğ21 ? 
IÁ’t
.
FLAG_ACTIVITY_NEW_DOCUMENT
 : IÁ’t.
FLAG_ACTIVITY_CLEAR_WHEN_TASK_RESET
) |

223 
IÁ’t
.
FLAG_ACTIVITY_MULTIPLE_TASK
);

224 
	gŒy
 {

225 
	g_aùiv™y
.
¡¬tAùiv™y
(
goToM¬k‘
);

226 } 
ÿtch
 (
Aùiv™yNÙFoundExû±iÚ
 
e
) {

227 
	g_aùiv™y
.
¡¬tAùiv™y
(
Ãw
 
IÁ’t
(IÁ’t.
ACTION_VIEW
,

228 
Uri
.
·r£
("h‰ps://¶ay.googË.com/¡Üe/­ps/" + 
pkgId
)));

230  
	gthis
;

233 
public
 
Aùiv™yUts
 
£tStusb¬CŞÜ
(
cŞÜ
, 
boŞ—n
... 
äomRes
) {

234 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
LOLLIPOP
) {

235 ià(
äomRes
 !ğ
nuÎ
 && fromRes.
Ëngth
 > 0 && fromRes[0]) {

236 
cŞÜ
 = 
CÚ‹xtCom·t
.
g‘CŞÜ
(
_cÚ‹xt
, color);

239 
	g_aùiv™y
.
g‘Wšdow
().
£tStusB¬CŞÜ
(
cŞÜ
);

241  
	gthis
;

244 
public
 
Aùiv™yUts
 
£tLaunch”Aùiv™yEÇbËd
(
CÏss
 
aùiv™yCÏss
, 
boŞ—n
 
’abË
) {

245 
	gŒy
 {

246 
CompÚ’tName
 
	gcompÚ’t
 = 
Ãw
 CompÚ’tName(
_cÚ‹xt
, 
aùiv™yCÏss
);

247 
	g_cÚ‹xt
.
g‘PackageMªag”
().
£tCompÚ’tEÇbËdS‘tšg
(
compÚ’t
, 
’abË
 ? 
PackageMªag”
.
COMPONENT_ENABLED_STATE_ENABLED
 : PackageMªag”.
COMPONENT_ENABLED_STATE_DISABLED
, PackageMªag”.
DONT_KILL_APP
);

248 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

250  
	gthis
;

253 
public
 
boŞ—n
 
isLaunch”EÇbËd
(
CÏss
 
aùiv™yCÏss
) {

254 
	gŒy
 {

255 
CompÚ’tName
 
	gcompÚ’t
 = 
Ãw
 CompÚ’tName(
_cÚ‹xt
, 
aùiv™yCÏss
);

256  
	g_cÚ‹xt
.
g‘PackageMªag”
().
g‘CompÚ’tEÇbËdS‘tšg
(
compÚ’t
è!ğ
PackageMªag”
.
COMPONENT_ENABLED_STATE_DISABLED
;

257 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

259  
	gçl£
;

262 @
CŞÜIÁ


263 
public
 
IÁeg”
 
g‘Cu¼’tPrim¬yCŞÜ
() {

264 
Ty³dV®ue
 
	gty³dV®ue
 = 
Ãw
 TypedValue();

265 
	g_cÚ‹xt
.
g‘Theme
().
»sŞveA‰ribu‹
(
g‘ResId
(
ResTy³
.
ATTR
, "cŞÜPrim¬y"), 
ty³dV®ue
, 
Œue
);

266  
	gty³dV®ue
.
	gd©a
;

269 @
CŞÜIÁ


270 
public
 
IÁeg”
 
g‘Cu¼’tPrim¬yD¬kCŞÜ
() {

271 
Ty³dV®ue
 
	gty³dV®ue
 = 
Ãw
 TypedValue();

272 
	g_cÚ‹xt
.
g‘Theme
().
»sŞveA‰ribu‹
(
g‘ResId
(
ResTy³
.
ATTR
, "cŞÜPrim¬yD¬k"), 
ty³dV®ue
, 
Œue
);

273  
	gty³dV®ue
.
	gd©a
;

276 @
CŞÜIÁ


277 
public
 
IÁeg”
 
g‘Cu¼’tAcûÁCŞÜ
() {

278 
Ty³dV®ue
 
	gty³dV®ue
 = 
Ãw
 TypedValue();

279 
	g_cÚ‹xt
.
g‘Theme
().
»sŞveA‰ribu‹
(
g‘ResId
(
ResTy³
.
ATTR
, "cŞÜAcûÁ"), 
ty³dV®ue
, 
Œue
);

280  
	gty³dV®ue
.
	gd©a
;

283 @
CŞÜIÁ


284 
public
 
IÁeg”
 
g‘Aùiv™yBackgroundCŞÜ
() {

285 
Ty³dA¼ay
 
	g¬¿y
 = 
_aùiv™y
.
g‘Theme
().
obšStyËdA‰ribu‹s
(
Ãw
 []{

286 
ªdroid
.
R
.
©Œ
.
cŞÜBackground
,

288 
	gc
 = 
¬¿y
.
g‘CŞÜ
(0, 0xFF0000);

289 
	g¬¿y
.
»cyşe
();

290  
	gc
;

293 
public
 
Aùiv™yUts
 
¡¬tC®’d¬Aµ
() {

294 
	gUri
.
Bud”
 
	gbud”
 = 
C®’d¬CÚŒaù
.
CONTENT_URI
.
budUpÚ
();

295 
	gbud”
.
­³ndP©h
("time");

296 
	gbud”
.
­³ndP©h
(
LÚg
.
toSŒšg
(
Sy¡em
.
cu¼’tTimeMlis
()));

297 
IÁ’t
 
	gš‹Á
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_VIEW
, 
bud”
.
bud
());

298 
	g_aùiv™y
.
¡¬tAùiv™y
(
š‹Á
);

299  
	gthis
;

305 
public
 
boŞ—n
 
isInS¶™Sü“nMode
() {

306 ià(
	gBud
.
	gVERSION
.
	gSDK_INT
 >ğ
Bud
.
VERSION_CODES
.
N
) {

307  
_aùiv™y
.
isInMuÉiWšdowMode
();

309  
	gçl£
;

317 
public
 
dŸlogFuÎWidth
(
AË¹DŸlog
 
dŸlog
, 
boŞ—n
 
fuÎWidth
, boŞ—À
showKeybßrd
) {

318 
	gŒy
 {

319 
Wšdow
 
	gw
;

320 ià(
	gdŸlog
 !ğ
nuÎ
 && (
w
 = 
dŸlog
.
g‘Wšdow
()) !=‚ull) {

321 ià(
fuÎWidth
) {

322 
w
.
£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
, WšdowMªag”.LayoutP¬ams.
WRAP_CONTENT
);

324 ià(
	gshowKeybßrd
) {

325 
	gw
.
£tSoáIÅutMode
(
WšdowMªag”
.
LayoutP¬ams
.
SOFT_INPUT_STATE_ALWAYS_VISIBLE
);

328 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

333 
public
 
Aùiv™yUts
 
»moveAùiv™yFromHi¡Üy
() {

334 
	gŒy
 {

335 
Aùiv™yMªag”
 
	gam
 = (Aùiv™yMªag”è
_aùiv™y
.
g‘Sy¡emS”viû
(
CÚ‹xt
.
ACTIVITY_SERVICE
);

336 ià(
	gam
 !ğ
nuÎ
 && 
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 >ğªdroid.os.Bud.
VERSION_CODES
.
LOLLIPOP
) {

337 
Li¡
<
Aùiv™yMªag”
.
AµTask
> 
sks
 = 
am
.
g‘AµTasks
();

338 ià(
	gsks
 !ğ
nuÎ
 && !
sks
.
isEm±y
()) {

339 
sks
.
g‘
(0).
£tExşudeFromReûÁs
(
Œue
);

343 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

345  
	gthis
;

	@app/src/main/java/net/gsantner/opoc/util/BackupUtils.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

12 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

16 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

17 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	g´eã»nû
.
	gSh¬edP»ã»nûsPrİ”tyBack’d
;

21 
impÜt
 
	gÜg
.
	gjsÚ
.
	gJSONA¼ay
;

22 
impÜt
 
	gÜg
.
	gjsÚ
.
	gJSONObjeù
;

24 
impÜt
 
	gjava
.
	gio
.
	gFe
;

25 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

26 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

27 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

28 
impÜt
 
	gjava
.
	gut
.
	gHashS‘
;

29 
impÜt
 
	gjava
.
	gut
.
	gI‹¿tÜ
;

30 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

31 
impÜt
 
	gjava
.
	gut
.
	gM­
;

32 
impÜt
 
	gjava
.
	gut
.
	gS‘
;

33 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

38 @
Suµ»ssW¬nšgs
("ResultOfMethodCallIgnored")

39 
public
 cÏs 
	cBackupUts
 {

40 
´Ùeùed
 
fš®
 
SŒšg
 
	mLOG_PREFIX
 = 
BackupUts
.
şass
.
g‘Sim¶eName
();

41 
´Ùeùed
 
fš®
 
SŒšg
 
	mFIELD_BACKUP_METADATA
 = "__BACKUP_METADATA__";

43 
´iv©e
 
fš®
 
	mP©‹º
[] 
	mPREF_EXCLUDE_PATTERNS
 = {

44 
P©‹º
.
compe
("^(?!PREF_PREFIX_).*·sswÜd.*$", P©‹º.
MULTILINE
 | P©‹º.
CASE_INSENSITIVE
),

45 
P©‹º
.
compe
(
FIELD_BACKUP_METADATA
, P©‹º.
MULTILINE
),

53 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘P»fNamesToBackup
() {

54 
A¼ayLi¡
<
SŒšg
> 
´efNames
 = 
Ãw
 ArrayList<>();

55 
´efNames
.
	`add
(
nuÎ
);

56 
´efNames
.
	`add
(
Sh¬edP»ã»nûsPrİ”tyBack’d
.
SHARED_PREF_APP
);

57  
´efNames
;

58 
	}
}

67 
public
 
Fe
 
	$g’”©eBackupF•©h
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
Fe
 
rg‘FŞd”
) {

68 
fš®
 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
cÚ‹xt
);

69 
Œy
 {

70 
fš®
 
SŒšg
 
­pName
 = 
cu
.
	`r¡r
("­p_Çme_»®").
	`toLow”Ca£
().
	`»¶aûAÎ
("\\s", "");

71  
Ãw
 
	`Fe
(
rg‘FŞd”
, 
Sh¬eUt
.
	`g‘F’ameW™hTime¡amp
("BACKUP_" + 
­pName
, 
nuÎ
, ".json"));

72 } 
fš®ly
 {

73 
cu
.
	`ä“CÚ‹xtRef
();

75 
	}
}

77 
public
 
SŒšg
 
	$g‘P»fName
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
SŒšg
 
¿w
) {

78  !
TextUts
.
	`isEm±y
(
¿w
è?„aw : (
cÚ‹xt
.
	`g‘PackageName
() + "_preferences");

79 
	}
}

87 
public
 
boŞ—n
 
	$isP»fKeyAÎowBackup
(
fš®
 
SŒšg
 
key
) {

88 
fš®
 
P©‹º
 
•
 : 
PREF_EXCLUDE_PATTERNS
) {

89 ià(
•
.
	`m©ch”
(
key
).
	`m©ches
()) {

90  
çl£
;

93  
Œue
;

94 
	}
}

103 
public
 
makeBackup
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
Li¡
<
SŒšg
> 
´efNamesToBackup
, fš® 
Fe
 
rg‘JsÚFe
) {

104 
fš®
 
CÚ‹xtUts
 
	gcu
 = 
Ãw
 CÚ‹xtUts(
cÚ‹xt
);

105 
	gŒy
 {

106 
fš®
 
JSONObjeù
 
	gjsÚRoÙ
 = 
Ãw
 JSONObject();

109 
fš®
 
D©e
 
	gnow
 = 
Ãw
 Date();

110 
fš®
 
JSONObjeù
 
	gjsÚM‘ad©a
 = 
Ãw
 JSONObjeùÒew 
GashM­
<
SŒšg
, SŒšg>().
lßd
(

111 "BACKUP_DATE", 
SŒšg
.
fÜm©
("% ::: %d", 
now
.
toSŒšg
(),‚ow.
g‘Time
()),

112 "APPLICATION_ID_MANIFEST", 
cu
.
g‘PackageIdMªiã¡
(),

113 "EXPORT_ANDROID_DEVICE_VERSION", 
CÚ‹xtUts
.
g‘AndroidV”siÚ
(),

114 "ISOURCE", 
cu
.
g‘AµIn¡®ÏtiÚSourû
(),

116 ).
d©a
());

117 
fš®
 
SŒšg
 
	gf›ld
 : 
cu
.
g‘BudCÚfigF›lds
()) {

118 
fš®
 
Objeù
 
v
 = 
cu
.
g‘BudCÚfigV®ue
(
f›ld
);

119 ià(
	gv
 !ğ
nuÎ
 && !
v
.
g‘CÏss
().
isA¼ay
()) {

120 
jsÚM‘ad©a
.
put
(
f›ld
, 
cu
.
g‘BudCÚfigV®ue
(field));

125 
SŒšg
 
	g´efName
 : 
´efNamesToBackup
) {

126 
´efName
 = 
g‘P»fName
(
cÚ‹xt
,…refName);

127 
fš®
 
Sh¬edP»ã»nûs
 
	g´ef
 = 
cÚ‹xt
.
g‘Sh¬edP»ã»nûs
(
´efName
, 
CÚ‹xt
.
MODE_PRIVATE
);

128 
fš®
 
	gM­
<
	gSŒšg
, ?> 
	g´efKeyV®ues
 = 
´ef
.
g‘AÎ
();

129 
fš®
 
JSONObjeù
 
	gjsÚFromP»f
 = 
Ãw
 JSONObject();

130 
fš®
 
SŒšg
 
	g´efKey
 : 
´efKeyV®ues
.
keyS‘
()) {

131 ià(
isP»fKeyAÎowBackup
(
´efKey
)) {

132 
fš®
 
Objeù
 
´efV®ue
 = 
´efKeyV®ues
.
g‘
(
´efKey
);

133 ià((
´efV®ue
 
š¡ªûof
 
	gIÁeg”
) ||

134 (
´efV®ue
 
š¡ªûof
 
	gLÚg
) ||

135 (
´efV®ue
 
š¡ªûof
 
	gFlßt
) ||

136 (
´efV®ue
 
š¡ªûof
 
	gSŒšg
) ||

137 (
´efV®ue
 
š¡ªûof
 
	gBoŞ—n
)) {

138 
	gjsÚFromP»f
.
put
(
´efKey
, 
´efV®ue
);

139 } ià(
´efV®ue
 
š¡ªûof
 
	gS‘
) {

140 
fš®
 
JSONA¼ay
 
	gjsÚA¼ay
 = 
Ãw
 JSONArray();

141 
fš®
 
SŒšg
 
	gs
 : 
´ef
.
g‘SŒšgS‘
(
´efKey
, 
Ãw
 
HashS‘
<>())) {

142 
	gjsÚA¼ay
.
put
(
s
);

144 
	gjsÚFromP»f
.
put
(
´efKey
, 
jsÚA¼ay
);

146 
	gLog
.
w
(
LOG_PREFIX
, "Unhandled backupype");

150 ià(
	gjsÚFromP»f
.
Ëngth
() > 0) {

151 
	gjsÚRoÙ
.
put
(
´efName
, 
jsÚFromP»f
);

154 
	gjsÚRoÙ
.
put
(
FIELD_BACKUP_METADATA
, 
jsÚM‘ad©a
);

155 
fš®
 
FeWr™”
 
	gfe
 = 
Ãw
 FeWr™”(
rg‘JsÚFe
);

156 
	gfe
.
wr™e
(
jsÚRoÙ
.
toSŒšg
(2));

157 
	gfe
.
æush
();

158 
	gfe
.
şo£
();

159 
	gTß¡
.
makeText
(
cÚ‹xt
, "âœ”ï¸ " + 
rg‘JsÚFe
.
g‘Name
(), 
Tß¡
.
LENGTH_SHORT
).
show
();

160 } 
ÿtch
 (
Exû±iÚ
 
e
) {

162 ià(
	grg‘JsÚFe
.
exi¡s
()) {

163 
	grg‘JsÚFe
.
d–‘e
();

165 
	gLog
.
e
(
LOG_PREFIX
,ƒ.
g‘Mes§ge
());

166 
	gTß¡
.
makeText
(
cÚ‹xt
, 
cu
.
r¡r
("çed_to_ü—‹_backup", 
Œue
), 
Tß¡
.
LENGTH_SHORT
).
show
();

167 } 
	gfš®ly
 {

168 
	gcu
.
ä“CÚ‹xtRef
();

178 @
Suµ»ssLšt
("ApplySharedPref")

179 
public
 
	$lßdBackup
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
Fe
 
backupFeCÚššgJsÚ
) {

180 
Œy
 {

181 
fš®
 
JSONObjeù
 
jsÚ
 = 
Ãw
 
	`JSONObjeù
(
FeUts
.
	`»adTextFeFa¡
(
backupFeCÚššgJsÚ
));

182 
fš®
 
Li¡
<
Sh¬edP»ã»nûs
.
Ed™Ü
> 
ed™Üs
 = 
Ãw
 
A¼ayLi¡
<>();

183 
I‹¿tÜ
<
SŒšg
> 
™
 = 
jsÚ
.
	`keys
(); it.
	`hasNext
(); ) {

184 
fš®
 
SŒšg
 
´efName
 = 
™
.
	`Ãxt
();

185 
fš®
 
Sh¬edP»ã»nûs
 
¥
 = 
cÚ‹xt
.
	`g‘Sh¬edP»ã»nûs
(
´efName
, 
CÚ‹xt
.
MODE_PRIVATE
);

186 
fš®
 
Sh¬edP»ã»nûs
.
Ed™Ü
 
ed™
 = 
¥
.
	`ed™
();

187 
fš®
 
Objeù
 
_´ef
 = 
jsÚ
.
	`g‘
(
´efName
);

188 ià(
_´ef
 
š¡ªûof
 
JSONObjeù
) {

189 
fš®
 
JSONObjeù
 
´efJsÚ
 = (JSONObjeùè
_´ef
;

190 
I‹¿tÜ
<
SŒšg
> 
p™
 = 
´efJsÚ
.
	`keys
();…™.
	`hasNext
(); ) {

191 
fš®
 
SŒšg
 
key
 = 
p™
.
	`Ãxt
();

192 ià(
	`isP»fKeyAÎowBackup
(
key
)) {

193 
fš®
 
Objeù
 
v®ue
 = 
´efJsÚ
.
	`g‘
(
key
);

194 ià(
v®ue
 
š¡ªûof
 
IÁeg”
) {

195 
ed™
.
	`putIÁ
(
key
, (
IÁeg”
è
v®ue
);

196 } ià(
v®ue
 
š¡ªûof
 
LÚg
) {

197 
ed™
.
	`putLÚg
(
key
, (
LÚg
è
v®ue
);

198 } ià(
v®ue
 
š¡ªûof
 
Flßt
) {

199 
ed™
.
	`putFlßt
(
key
, (
Flßt
è
v®ue
);

200 } ià(
v®ue
 
š¡ªûof
 
SŒšg
) {

201 
ed™
.
	`putSŒšg
(
key
, (
SŒšg
è
v®ue
);

202 } ià(
v®ue
 
š¡ªûof
 
BoŞ—n
) {

203 
ed™
.
	`putBoŞ—n
(
key
, (
BoŞ—n
è
v®ue
);

204 } ià(
v®ue
 
š¡ªûof
 
JSONA¼ay
) {

205 
fš®
 
S‘
<
SŒšg
> 
ss
 = 
Ãw
 
HashS‘
<>();

206 
i
 = 0; i < ((
JSONA¼ay
è
v®ue
).
	`Ëngth
(); i++) {

207 
ss
.
	`add
(((
JSONA¼ay
è
v®ue
).
	`g‘SŒšg
(
i
));

209 
ed™
.
	`putSŒšgS‘
(
key
, 
ss
);

211 
Log
.
	`w
(
LOG_PREFIX
, "Unhandled backupype");

215 
ed™Üs
.
	`add
(
ed™
);

218 
fš®
 
Sh¬edP»ã»nûs
.
Ed™Ü
 
ed™
 : 
ed™Üs
) {

219 
ed™
.
	`comm™
();

221 
Sy¡em
.
	`ex™
(0);

222 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

223 
fš®
 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
cÚ‹xt
);

224 
Tß¡
.
	`makeText
(
cÚ‹xt
, 
cu
.
	`r¡r
("çed_to_»¡Üe_£‰šgs_äom_backup", 
Œue
), Tß¡.
LENGTH_SHORT
).
	`show
();

225 
cu
.
	`ä“CÚ‹xtRef
();

227 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/Callback.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 @
Suµ»ssW¬nšgs
("unused")

14 
public
 cÏs 
	cC®lback
 {

16 
public
 
š‹rçû
 
	ma0
 {

17 
ÿÎback
();

20 
public
 
š‹rçû
 
	ga1
<
	gA
> {

21 
ÿÎback
(
A
 
¬g1
);

24 
public
 
š‹rçû
 
	ga2
<
	gA
, 
	gB
> {

25 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
);

28 
public
 
š‹rçû
 
	ga3
<
	gA
, 
	gB
, 
	gC
> {

29 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
);

32 
public
 
š‹rçû
 
	ga4
<
	gA
, 
	gB
, 
	gC
, 
	gD
> {

33 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
, 
D
 
¬g4
);

36 
public
 
š‹rçû
 
	ga5
<
	gA
, 
	gB
, 
	gC
, 
	gD
, 
	gE
> {

37 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
, 
D
 
¬g4
, 
E
 
¬g5
);

40 
public
 
š‹rçû
 
	gb0
 {

41 
boŞ—n
 
ÿÎback
();

44 
public
 
š‹rçû
 
	gb1
<
	gA
> {

45 
boŞ—n
 
ÿÎback
(
A
 
¬g1
);

48 
public
 
š‹rçû
 
	gb2
<
	gA
, 
	gB
> {

49 
boŞ—n
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
);

52 
public
 
š‹rçû
 
	gb3
<
	gA
, 
	gB
, 
	gC
> {

53 
boŞ—n
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
);

56 
public
 
š‹rçû
 
	gb4
<
	gA
, 
	gB
, 
	gC
, 
	gD
> {

57 
boŞ—n
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
, 
D
 
¬g4
);

60 
public
 
š‹rçû
 
	gb5
<
	gA
, 
	gB
, 
	gC
, 
	gD
, 
	gE
> {

61 
boŞ—n
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
, 
D
 
¬g4
, 
E
 
¬g5
);

64 
public
 
š‹rçû
 
	gs0
 {

65 
SŒšg
 
ÿÎback
();

68 
public
 
š‹rçû
 
	gs1
<
	gA
> {

69 
SŒšg
 
ÿÎback
(
A
 
¬g1
);

72 
public
 
š‹rçû
 
	gs2
<
	gA
, 
	gB
> {

73 
SŒšg
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
);

76 
public
 
š‹rçû
 
	gs3
<
	gA
, 
	gB
, 
	gC
> {

77 
SŒšg
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
);

80 
public
 
š‹rçû
 
	gs4
<
	gA
, 
	gB
, 
	gC
, 
	gD
> {

81 
SŒšg
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
, 
D
 
¬g4
);

84 
public
 
š‹rçû
 
	gs5
<
	gA
, 
	gB
, 
	gC
, 
	gD
, 
	gE
> {

85 
SŒšg
 
ÿÎback
(
A
 
¬g1
, 
B
 
¬g2
, 
C
 
¬g3
, 
D
 
¬g4
, 
E
 
¬g5
);

	@app/src/main/java/net/gsantner/opoc/util/ContextUtils.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

15 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™yMªag”
;

16 
impÜt
 
	gªdroid
.
	g­p
.
	gAÏrmMªag”
;

17 
impÜt
 
	gªdroid
.
	g­p
.
	gP’dšgIÁ’t
;

18 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gAùiv™yNÙFoundExû±iÚ
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹ÁResŞv”
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

21 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

22 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gPackageInfo
;

23 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gPackageMªag”
;

24 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gProvid”Info
;

25 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gCÚfigu¿tiÚ
;

26 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

27 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­
;

28 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­FaùÜy
;

29 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

30 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

31 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gM©rix
;

32 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

33 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gReù
;

34 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gAd­tiveIcÚD¿wabË
;

35 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gB™m­D¿wabË
;

36 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gD¿wabË
;

37 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gVeùÜD¿wabË
;

38 
impÜt
 
	gªdroid
.
	gmedŸ
.
	gMedŸSÿÂ”CÚÃùiÚ
;

39 
impÜt
 
	gªdroid
.
	gÃt
.
	gCÚÃùiv™yMªag”
;

40 
impÜt
 
	gªdroid
.
	gÃt
.
	gN‘wÜkInfo
;

41 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

42 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

43 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

44 
impÜt
 
	gªdroid
.
	gos
.
	gSy¡emClock
;

45 
impÜt
 
	gªdroid
.
	gos
.
	gVib¿tiÚEfãù
;

46 
impÜt
 
	gªdroid
.
	gos
.
	gVib¿tÜ
;

47 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜIÁ
;

48 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gCŞÜRes
;

49 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gD¿wabËRes
;

50 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

51 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRawRes
;

52 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

53 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gg¿phics
.
	gd¿wabË
.
	gVeùÜD¿wabËCom·t
;

54 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gAùiv™yMªag”Com·t
;

55 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

56 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gg¿phics
.
	gd¿wabË
.
	gD¿wabËCom·t
;

57 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g‹xt
.
	gTextUtsCom·t
;

58 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gut
.
	gPaœ
;

59 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gv›w
.
	gV›wCom·t
;

60 
impÜt
 
	gªdroid
.
	g‹xt
.
	gHtml
;

61 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

62 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabËSŒšg
;

63 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·Âed
;

64 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

65 
impÜt
 
	gªdroid
.
	g‹xt
.
	gm‘hod
.
	gLškMovem’tM‘hod
;

66 
impÜt
 
	gªdroid
.
	gut
.
	gDi¥ÏyM‘rics
;

67 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

68 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’u
;

69 
impÜt
 
	gªdroid
.
	gv›w
.
	gM’uI‹m
;

70 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

71 
impÜt
 
	gªdroid
.
	gv›w
.
	gSurçû
;

72 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

73 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

74 
impÜt
 
	gªdroid
.
	gwebk™
.
	gMimeTy³M­
;

75 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

76 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

78 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gfÜm©
.
	gm¬kdown
.
	gSim¶eM¬kdownP¬£r
;

80 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

81 
impÜt
 
	gjava
.
	gio
.
	gFe
;

82 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

83 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

84 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—mR—d”
;

85 
impÜt
 
	gjava
.
	gÏng
.
	g»æeù
.
	gF›ld
;

86 
impÜt
 
	gjava
.
	gÏng
.
	g»æeù
.
	gM‘hod
;

87 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

88 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

89 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

90 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

92 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
.
	gVIBRATOR_SERVICE
;

93 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
.
	gFLAG_ACTIVITY_NEW_TASK
;

94 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­
.
	gCom´essFÜm©
;

96 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused", "SameParameterValue", "ObsoleteSdkInt", "deprecation", "SpellCheckingInspection", "TryFinallyCanBeTryWithResources", "UnusedAssignment", "UnusedReturnValue"})

97 
public
 cÏs 
	cCÚ‹xtUts
 {

101 
´Ùeùed
 
CÚ‹xt
 
	m_cÚ‹xt
;

103 
public
 
	$CÚ‹xtUts
(
CÚ‹xt
 
cÚ‹xt
) {

104 
_cÚ‹xt
 = 
cÚ‹xt
;

107 
public
 
CÚ‹xt
 
	$cÚ‹xt
() {

108  
_cÚ‹xt
;

109 
	}
}

111 
public
 
	$ä“CÚ‹xtRef
() {

112 
_cÚ‹xt
 = 
nuÎ
;

113 
	}
}

118 
public
 
	eResTy³
 {

119 
	gID
, 
	gBOOL
, 
	gINTEGER
, 
	gCOLOR
, 
	gSTRING
, 
	gARRAY
, 
	gDRAWABLE
, 
	gPLURALS
,

120 
	gANIM
, 
	gATTR
, 
	gDIMEN
, 
	gLAYOUT
, 
	gMENU
, 
	gRAW
, 
	gSTYLE
, 
	gXML
,

128 
public
 
	$g‘ResId
(
fš®
 
ResTy³
 
»sTy³
, fš® 
SŒšg
 
Çme
) {

129 
Œy
 {

130  
_cÚ‹xt
.
	`g‘Resourûs
().
	`g‘Id’tif›r
(
Çme
, 
»sTy³
.
	`Çme
().
	`toLow”Ca£
(), _cÚ‹xt.
	`g‘PackageName
());

131 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

134 
	}
}

139 
public
 
SŒšg
 
r¡r
(@
SŒšgRes
 
fš®
 
¡rResId
) {

140 
	gŒy
 {

141  
	g_cÚ‹xt
.
g‘SŒšg
(
¡rResId
);

142 } 
ÿtch
 (
Exû±iÚ
 
e
) {

143  
	gnuÎ
;

150 
public
 
SŒšg
 
	$r¡r
(
fš®
 
SŒšg
 
¡rResKey
, 
Objeù
... 
a0g‘ResKeyAsF®lback
) {

151 
Œy
 {

152  
	`r¡r
(
	`g‘ResId
(
ResTy³
.
STRING
, 
¡rResKey
));

153 } 
	`ÿtch
 (
Resourûs
.
NÙFoundExû±iÚ
 
e
) {

154  
a0g‘ResKeyAsF®lback
 !ğ
nuÎ
 &&‡0g‘ResKeyAsF®lback.
Ëngth
 > 0 ? 
¡rResKey
 :‚ull;

156 
	}
}

161 
public
 
D¿wabË
 
rd¿wabË
(@
D¿wabËRes
 
fš®
 
»sId
) {

162 
	gŒy
 {

163  
	gCÚ‹xtCom·t
.
g‘D¿wabË
(
_cÚ‹xt
, 
»sId
);

164 } 
ÿtch
 (
Exû±iÚ
 
e
) {

165  
	gnuÎ
;

172 
public
 
rcŞÜ
(@
CŞÜRes
 
fš®
 
»sId
) {

173 ià(
	g»sId
 == 0) {

174 
Log
.
e
(
g‘CÏss
().
g‘Name
(), "ContextUtils::rcolor:„esId is 0!");

175  
	gCŞÜ
.
	gBLACK
;

177  
	gCÚ‹xtCom·t
.
g‘CŞÜ
(
_cÚ‹xt
, 
»sId
);

187 
public
 
boŞ—n
 
	$¬eRessourûsAvaabË
(
fš®
 
ResTy³
 
»sTy³
, fš® 
SŒšg
... 
»sIdsTextu®
) {

188 
SŒšg
 
Çme
 : 
»sIdsTextu®
) {

189 ià(
	`g‘ResId
(
»sTy³
, 
Çme
) == 0) {

190  
çl£
;

193  
Œue
;

194 
	}
}

202 
public
 
SŒšg
 
	$cŞÜToHexSŒšg
(
fš®
 
štCŞÜ
, fš® 
boŞ—n
... 
w™hAÍha
) {

203 
boŞ—n
 
a
 = 
w™hAÍha
 !ğ
nuÎ
 && w™hAÍha.
Ëngth
 >= 1 && withAlpha[0];

204  
SŒšg
.
	`fÜm©
(
a
 ? "#%08X" : "#%06X", (¨? 0xFFFFFFFF : 0xFFFFFFè& 
štCŞÜ
);

205 
	}
}

207 
public
 
SŒšg
 
	$g‘AndroidV”siÚ
() {

208  
Bud
.
VERSION
.
RELEASE
 + " (" + Bud.VERSION.
SDK_INT
 + ")";

209 
	}
}

211 
public
 
SŒšg
 
	$g‘AµV”siÚName
() {

212 
PackageMªag”
 
mªag”
 = 
_cÚ‹xt
.
	`g‘PackageMªag”
();

213 
Œy
 {

214 
PackageInfo
 
šfo
 = 
mªag”
.
	`g‘PackageInfo
(
	`g‘PackageIdMªiã¡
(), 0);

215  
šfo
.
v”siÚName
;

216 } 
	`ÿtch
 (
PackageMªag”
.
NameNÙFoundExû±iÚ
 
e
) {

217 
Œy
 {

218 
PackageInfo
 
šfo
 = 
mªag”
.
	`g‘PackageInfo
(
	`g‘PackageIdR—l
(), 0);

219  
šfo
.
v”siÚName
;

220 } 
	`ÿtch
 (
PackageMªag”
.
NameNÙFoundExû±iÚ
 
ignÜed
) {

224 
	}
}

226 
public
 
SŒšg
 
	$g‘AµIn¡®ÏtiÚSourû
() {

227 
SŒšg
 
¤c
 = 
nuÎ
;

228 
Œy
 {

229 
¤c
 = 
_cÚ‹xt
.
	`g‘PackageMªag”
().
	`g‘In¡®ËrPackageName
(
	`g‘PackageIdMªiã¡
());

230 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

232 ià(
¤c
 =ğ
nuÎ
 || src.
	`Œim
().
	`isEm±y
()) {

234 } ià(
¤c
.
	`toLow”Ca£
().
	`cÚšs
(".amazon.")) {

237 
¤c
) {

256  
¤c
;

257 
	}
}

263 
public
 
CÚ‹xtUts
 
	$İ’Web·geInEx‹º®Brow£r
(
fš®
 
SŒšg
 
u¾
) {

264 
Œy
 {

265 
Uri
 
uri
 = Uri.
	`·r£
(
u¾
);

266 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_VIEW
, 
uri
);

267 
š‹Á
.
	`addFÏgs
(
FLAG_ACTIVITY_NEW_TASK
);

268 
_cÚ‹xt
.
	`¡¬tAùiv™y
(
š‹Á
);

269 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

270 
e
.
	`´štSckT¿û
();

272  
this
;

273 
	}
}

278 
public
 
SŒšg
 
	$g‘PackageIdMªiã¡
() {

279 
SŒšg
 
pkg
 = 
	`r¡r
("manifest_package_id");

280  !
TextUts
.
	`isEm±y
(
pkg
è?…kg : 
_cÚ‹xt
.
	`g‘PackageName
();

281 
	}
}

286 
public
 
SŒšg
 
	$g‘PackageIdR—l
() {

287  
_cÚ‹xt
.
	`g‘PackageName
();

288 
	}
}

298 
public
 
Objeù
 
	$g‘BudCÚfigV®ue
(
fš®
 
SŒšg
 
f›ldName
) {

299 
fš®
 
SŒšg
 
pkg
 = 
	`g‘PackageIdMªiã¡
() + ".BuildConfig";

300 
Œy
 {

301 
CÏss
<?> 
c
 = CÏss.
	`fÜName
(
pkg
);

302  
c
.
	`g‘F›ld
(
f›ldName
).
	`g‘
(
nuÎ
);

303 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

304 
e
.
	`´štSckT¿û
();

306  
nuÎ
;

307 
	}
}

309 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘BudCÚfigF›lds
() {

310 
fš®
 
SŒšg
 
pkg
 = 
	`g‘PackageIdMªiã¡
() + ".BuildConfig";

311 
fš®
 
Li¡
<
SŒšg
> 
f›lds
 = 
Ãw
 
A¼ayLi¡
<>();

312 
Œy
 {

313 
F›ld
 
f
 : 
CÏss
.
	`fÜName
(
pkg
).
	`g‘F›lds
()) {

314 
f›lds
.
	`add
(
f
.
	`g‘Name
());

316 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

317 
e
.
	`´štSckT¿û
();

319  
f›lds
;

320 
	}
}

325 
public
 
BoŞ—n
 
	$bcboŞ
(
fš®
 
SŒšg
 
f›ldName
, fš® 
BoŞ—n
 
deçuÉV®ue
) {

326 
Objeù
 
f›ld
 = 
	`g‘BudCÚfigV®ue
(
f›ldName
);

327 ià(
f›ld
 
š¡ªûof
 
BoŞ—n
) {

328  (
BoŞ—n
è
f›ld
;

330  
deçuÉV®ue
;

331 
	}
}

336 
public
 
SŒšg
 
	$bc¡r
(
fš®
 
SŒšg
 
f›ldName
, fš® SŒšg 
deçuÉV®ue
) {

337 
Objeù
 
f›ld
 = 
	`g‘BudCÚfigV®ue
(
f›ldName
);

338 ià(
f›ld
 
š¡ªûof
 
SŒšg
) {

339  (
SŒšg
è
f›ld
;

341  
deçuÉV®ue
;

342 
	}
}

347 
public
 
IÁeg”
 
	$bcšt
(
fš®
 
SŒšg
 
f›ldName
, fš® 
deçuÉV®ue
) {

348 
Objeù
 
f›ld
 = 
	`g‘BudCÚfigV®ue
(
f›ldName
);

349 ià(
f›ld
 
š¡ªûof
 
IÁeg”
) {

350  (
IÁeg”
è
f›ld
;

352  
deçuÉV®ue
;

353 
	}
}

358 
public
 
boŞ—n
 
	$isGoogËPÏyBud
() {

359  
	`bcboŞ
("IS_GPLAY_BUILD", 
Œue
);

360 
	}
}

365 
public
 
boŞ—n
 
	$isFossBud
() {

366  
	`bcboŞ
("IS_FOSS_BUILD", 
çl£
);

367 
	}
}

373 
public
 
showDÚ©eB™cošReque¡
(@
SŒšgRes
 
fš®
 
¤B™cošId
, @SŒšgRe fš® 
¤B™cošAmouÁ
, @SŒšgRe fš® 
¤B™cošMes§ge
, @SŒšgRe fš® 
¤AÉ”ÇtiveDÚ©eU¾
) {

374 ià(!
isGoogËPÏyBud
()) {

375 
SŒšg
 
	gbtcUri
 = SŒšg.
fÜm©
("bitcoin:%s?amount=%s&label=%s&message=%s",

376 
r¡r
(
¤B™cošId
),„¡r(
¤B™cošAmouÁ
),

377 
r¡r
(
¤B™cošMes§ge
),„str(srBitcoinMessage));

378 
IÁ’t
 
	gš‹Á
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_VIEW
);

379 
	gš‹Á
.
£tD©a
(
Uri
.
·r£
(
btcUri
));

380 
	gš‹Á
.
addFÏgs
(
FLAG_ACTIVITY_NEW_TASK
);

381 
	gŒy
 {

382 
	g_cÚ‹xt
.
¡¬tAùiv™y
(
š‹Á
);

383 } 
ÿtch
 (
Aùiv™yNÙFoundExû±iÚ
 
e
) {

384 
İ’Web·geInEx‹º®Brow£r
(
r¡r
(
¤AÉ”ÇtiveDÚ©eU¾
));

389 
public
 
SŒšg
 
»adTextfeFromRawRes
(@
RawRes
 
¿wResId
, SŒšg 
lšeP»fix
, SŒšg 
lšePo¡fix
) {

390 
SŒšgBud”
 
	gsb
 = 
Ãw
 StringBuilder();

391 
Bufã»dR—d”
 
	gbr
 = 
nuÎ
;

392 
SŒšg
 
	glše
;

394 
	glšeP»fix
 = 
lšeP»fix
 =ğ
nuÎ
 ? "" :†inePrefix;

395 
	glšePo¡fix
 = 
lšePo¡fix
 =ğ
nuÎ
 ? "" :†inePostfix;

397 
	gŒy
 {

398 
	gbr
 = 
Ãw
 
Bufã»dR—d”
Òew 
IÅutSŒ—mR—d”
(
_cÚ‹xt
.
g‘Resourûs
().
İ’RawResourû
(
¿wResId
)));

399 (
	glše
 = 
br
.
»adLše
()è!ğ
nuÎ
) {

400 
sb
.
­³nd
(
lšeP»fix
);

401 
	gsb
.
­³nd
(
lše
);

402 
	gsb
.
­³nd
(
lšePo¡fix
);

403 
	gsb
.
­³nd
("\n");

405 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

406 } 
	gfš®ly
 {

407 ià(
	gbr
 !ğ
nuÎ
) {

408 
Œy
 {

409 
br
.
şo£
();

410 } 
ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

414  
	gsb
.
toSŒšg
();

422 
public
 
boŞ—n
 
	$isCÚÃùedToIÁ”Ãt
() {

423 
Œy
 {

424 
CÚÃùiv™yMªag”
 
cÚ
 = (CÚÃùiv™yMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
CONNECTIVITY_SERVICE
);

425 @
	`Suµ»ssLšt
("MissšgP”missiÚ"è
N‘wÜkInfo
 
aùiveN‘Info
 =

426 
cÚ
 =ğ
nuÎ
 ?‚uÎ : cÚ.
	`g‘AùiveN‘wÜkInfo
();

427  
aùiveN‘Info
 !ğ
nuÎ
 &&‡ùiveN‘Info.
	`isCÚÃùedOrCÚÃùšg
();

428 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

429 
throw
 
Ãw
 
	`RuÁimeExû±iÚ
("Error: Developer forgoto declare‡…ermission");

431 
	}
}

436 
public
 
boŞ—n
 
	$isAµIn¡®Ëd
(
SŒšg
 
·ckageName
) {

437 
Œy
 {

438 
PackageMªag”
 
pm
 = 
_cÚ‹xt
.
	`g‘AµliÿtiÚCÚ‹xt
().
	`g‘PackageMªag”
();

439 
pm
.
	`g‘PackageInfo
(
·ckageName
, 
PackageMªag”
.
GET_ACTIVITIES
);

440  
Œue
;

441 } 
	`ÿtch
 (
PackageMªag”
.
NameNÙFoundExû±iÚ
 
e
) {

442  
çl£
;

444 
	}
}

449 
public
 
	$»¡¬tAµ
(
CÏss
 
şassToS¹
) {

450 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
_cÚ‹xt
, 
şassToS¹
);

451 
P’dšgIÁ’t
 
³ndi
 = P’dšgIÁ’t.
	`g‘Aùiv™y
(
_cÚ‹xt
, 555, 
š‹Á
, P’dšgIÁ’t.
FLAG_CANCEL_CURRENT
);

452 
AÏrmMªag”
 
mgr
 = (AÏrmMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
ALARM_SERVICE
);

453 ià(
_cÚ‹xt
 
š¡ªûof
 
Aùiv™y
) {

454 ((
Aùiv™y
è
_cÚ‹xt
).
	`fšish
();

456 ià(
mgr
 !ğ
nuÎ
) {

457 
mgr
.
	`£t
(
AÏrmMªag”
.
RTC
, 
Sy¡em
.
	`cu¼’tTimeMlis
(è+ 100, 
³ndi
);

459 
š‹Á
.
	`addFÏgs
(
FLAG_ACTIVITY_NEW_TASK
);

460 
_cÚ‹xt
.
	`¡¬tAùiv™y
(
š‹Á
);

462 
RuÁime
.
	`g‘RuÁime
().
	`ex™
(0);

463 
	}
}

469 
public
 
SŒšg
 
lßdM¬kdownFÜTextV›wFromRaw
(@
RawRes
 
¿wMdFe
, SŒšg 
´•’d
) {

470 
	gŒy
 {

471  
Ãw
 
Sim¶eM¬kdownP¬£r
()

472 .
·r£
(
_cÚ‹xt
.
g‘Resourûs
().
İ’RawResourû
(
¿wMdFe
),

473 
´•’d
, 
Sim¶eM¬kdownP¬£r
.
FILTER_ANDROID_TEXTVIEW
)

474 .
»¶aûCŞÜ
("#000001", 
rcŞÜ
(
g‘ResId
(
ResTy³
.
COLOR
, "accent")))

475 .
»moveMuÉiNewlšes
().
»¶aûBuÎ‘Ch¬aù”
("*").
g‘Html
();

476 } 
ÿtch
 (
IOExû±iÚ
 
e
) {

477 
	ge
.
´štSckT¿û
();

486 
public
 
	$£tHtmlToTextV›w
(
TextV›w
 
‹xtV›w
, 
SŒšg
 
html
) {

487 
‹xtV›w
.
	`£tMovem’tM‘hod
(
LškMovem’tM‘hod
.
	`g‘In¡ªû
());

488 
‹xtV›w
.
	`£tText
(
Ãw
 
	`S·ÂabËSŒšg
(
	`htmlToS·Âed
(
html
)));

489 
	}
}

494 
public
 
	$g‘E¡im©edSü“nSizeInches
() {

495 
Di¥ÏyM‘rics
 
dm
 = 
_cÚ‹xt
.
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
();

497 
ÿlc
 = 
dm
.
d’s™y
 * 160d;

498 
x
 = 
M©h
.
	`pow
(
dm
.
widthPix–s
 / 
ÿlc
, 2);

499 
y
 = 
M©h
.
	`pow
(
dm
.
heightPix–s
 / 
ÿlc
, 2);

500 
ÿlc
 = 
M©h
.
	`sq¹
(
x
 + 
y
) * 1.16;

501  
M©h
.
	`mš
(12, M©h.
	`max
(4, 
ÿlc
));

502 
	}
}

507 
public
 
boŞ—n
 
	$isInPÜŒa™Mode
() {

508  
_cÚ‹xt
.
	`g‘Resourûs
().
	`g‘CÚfigu¿tiÚ
().
Ü›Á©iÚ
 =ğ
CÚfigu¿tiÚ
.
ORIENTATION_PORTRAIT
;

509 
	}
}

515 
public
 
LoÿË
 
	$g‘LoÿËByAndroidCode
(
SŒšg
 
ªdroidLC
) {

516 ià(!
TextUts
.
	`isEm±y
(
ªdroidLC
)) {

517  
ªdroidLC
.
	`cÚšs
("-r")

518 ? 
Ãw
 
	`LoÿË
(
ªdroidLC
.
	`sub¡ršg
(0, 2),‡ndroidLC.substring(4, 6))

519 : 
Ãw
 
	`LoÿË
(
ªdroidLC
);

521  
Resourûs
.
	`g‘Sy¡em
().
	`g‘CÚfigu¿tiÚ
().
loÿË
;

522 
	}
}

529 
public
 
	$£tAµLªguage
(
fš®
 
SŒšg
 
ªdroidLC
) {

530 
LoÿË
 
loÿË
 = 
	`g‘LoÿËByAndroidCode
(
ªdroidLC
);

531 
loÿË
 = (loÿË !ğ
nuÎ
 && !
ªdroidLC
.
	`isEm±y
()è?†oÿË : 
Resourûs
.
	`g‘Sy¡em
().
	`g‘CÚfigu¿tiÚ
().locale;

532 
	`£tLoÿË
(
loÿË
);

533 
	}
}

535 
public
 
CÚ‹xtUts
 
	$£tLoÿË
(
fš®
 
LoÿË
 
loÿË
) {

536 
CÚfigu¿tiÚ
 
cÚfig
 = 
_cÚ‹xt
.
	`g‘Resourûs
().
	`g‘CÚfigu¿tiÚ
();

537 
cÚfig
.
loÿË
 = (loÿË !ğ
nuÎ
 ?†oÿË : 
Resourûs
.
	`g‘Sy¡em
().
	`g‘CÚfigu¿tiÚ
().locale);

538 
_cÚ‹xt
.
	`g‘Resourûs
().
	`upd©eCÚfigu¿tiÚ
(
cÚfig
, 
nuÎ
);

539 
LoÿË
.
	`£tDeçuÉ
(
loÿË
);

540  
this
;

541 
	}
}

547 
public
 
boŞ—n
 
shouldCŞÜOnTİBeLight
(@
CŞÜIÁ
 
fš®
 
cŞÜOnBÙtomIÁ
) {

548  186 > (((0.299 * 
	gCŞÜ
.
»d
(
cŞÜOnBÙtomIÁ
))

549 + ((0.587 * 
	gCŞÜ
.
g»’
(
cŞÜOnBÙtomIÁ
))

550 + (0.114 * 
	gCŞÜ
.
blue
(
cŞÜOnBÙtomIÁ
)))));

556 
public
 
S·Âed
 
	$htmlToS·Âed
(
fš®
 
SŒšg
 
html
) {

557 
S·Âed
 
»suÉ
;

558 ià(
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 >ğªdroid.os.Bud.
VERSION_CODES
.
N
) {

559 
»suÉ
 = 
Html
.
	`äomHtml
(
html
, Html.
FROM_HTML_MODE_LEGACY
);

561 
»suÉ
 = 
Html
.
	`äomHtml
(
html
);

563  
»suÉ
;

564 
	}
}

569 
public
 
	$cÚv”tPxToDp
(
fš®
 
px
) {

570  
px
 / 
_cÚ‹xt
.
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
().
d’s™y
;

571 
	}
}

576 
public
 
	$cÚv”tDpToPx
(
fš®
 
dp
) {

577  
dp
 * 
_cÚ‹xt
.
	`g‘Resourûs
().
	`g‘Di¥ÏyM‘rics
().
d’s™y
;

578 
	}
}

583 @
Suµ»ssW¬nšgs
("StatementWithEmptyBody")

584 
public
 
Fe
 
	$g‘AµD©aPriv©eDœ
() {

585 
Fe
 
fesDœ
;

586 
Œy
 {

587 
fesDœ
 = 
Ãw
 
	`Fe
Òew Fe(
_cÚ‹xt
.
	`g‘PackageMªag”
().
	`g‘PackageInfo
(
	`g‘PackageIdR—l
(), 0).
­¶iÿtiÚInfo
.
d©aDœ
), "files");

588 } 
	`ÿtch
 (
PackageMªag”
.
NameNÙFoundExû±iÚ
 
e
) {

589 
fesDœ
 = 
_cÚ‹xt
.
	`g‘FesDœ
();

591 ià(!
fesDœ
.
	`exi¡s
(è&& fesDœ.
	`mkdœs
()) ;

592  
fesDœ
;

593 
	}
}

598 @
Suµ»ssW¬nšgs
("StatementWithEmptyBody")

599 
public
 
	gLi¡
<
	gPaœ
<
	gFe
, 
	gSŒšg
>> 
	$g‘AµD©aPublicDœs
(
boŞ—n
 
š‹º®StÜageFŞd”
, boŞ—À
sdÿrdFŞd”s
, boŞ—À
¡ÜageNameW™houtTy³
) {

600 
Li¡
<
Paœ
<
Fe
, 
SŒšg
>> 
dœs
 = 
Ãw
 
A¼ayLi¡
<>();

601 
Fe
 
ex‹º®FeDœ
 : 
CÚ‹xtCom·t
.
	`g‘Ex‹º®FesDœs
(
_cÚ‹xt
, 
nuÎ
)) {

602 ià(
ex‹º®FeDœ
 =ğ
nuÎ
 || 
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
() ==‚ull) {

605 
boŞ—n
 
isIÁ
 = 
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().getAbsolutePath());

606 
boŞ—n
 
add
 = (
š‹º®StÜageFŞd”
 && 
isIÁ
è|| (
sdÿrdFŞd”s
 && !isInt);

607 ià(
add
) {

608 
dœs
.
	`add
(
Ãw
 
Paœ
<>(
ex‹º®FeDœ
, 
	`g‘StÜageName
Óx‹º®FeDœ, 
¡ÜageNameW™houtTy³
)));

609 ià(!
ex‹º®FeDœ
.
	`exi¡s
(è&&ƒx‹º®FeDœ.
	`mkdœs
()) ;

612  
dœs
;

613 
	}
}

615 
public
 
SŒšg
 
	$g‘StÜageName
(
fš®
 
Fe
 
ex‹º®FeDœ
, fš® 
boŞ—n
 
¡ÜageNameW™houtTy³
) {

616 
boŞ—n
 
isIÁ
 = 
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().getAbsolutePath());

618 
SŒšg
[] 
¥l™
 = 
ex‹º®FeDœ
.
	`g‘AbsŞu‹P©h
().
	`¥l™
("/");

619 ià(
¥l™
.
Ëngth
 > 2) {

620  
isIÁ
 ? (
¡ÜageNameW™houtTy³
 ? "IÁ”ÇÈStÜage" : ""è: (¡ÜageNameW™houtTy³ ? 
¥l™
[2] : ("SD Card (" + split[2] + ")"));

624 
	}
}

626 
public
 
	gLi¡
<
	gPaœ
<
	gFe
, 
	gSŒšg
>> 
	$g‘StÜages
(
fš®
 
boŞ—n
 
š‹º®StÜageFŞd”
, fš® boŞ—À
sdÿrdFŞd”s
) {

627 
Li¡
<
Paœ
<
Fe
, 
SŒšg
>> 
¡Üages
 = 
Ãw
 
A¼ayLi¡
<>();

628 
Paœ
<
Fe
, 
SŒšg
> 
·œ
 : 
	`g‘AµD©aPublicDœs
(
š‹º®StÜageFŞd”
, 
sdÿrdFŞd”s
, 
Œue
)) {

629 ià(
·œ
.
fœ¡
 !ğ
nuÎ
 &&…aœ.fœ¡.
	`g‘AbsŞu‹P©h
().
	`Ï¡IndexOf
("/Android/data") > 0) {

630 
Œy
 {

631 
¡Üages
.
	`add
(
Ãw
 
Paœ
<>Òew 
	`Fe
(
·œ
.
fœ¡
.
	`g‘CªÚiÿlP©h
().
	`»¶aûFœ¡
("/Android/d©a.*", "")),…aœ.
£cÚd
));

632 } 
	`ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

636  
¡Üages
;

637 
	}
}

639 
public
 
Fe
 
	$g‘StÜageRoÙFŞd”
(
fš®
 
Fe
 
fe
) {

640 
SŒšg
 
f•©h
;

641 
Œy
 {

642 
f•©h
 = 
fe
.
	`g‘CªÚiÿlP©h
();

643 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

644  
nuÎ
;

646 
Paœ
<
Fe
, 
SŒšg
> 
¡Üage
 : 
	`g‘StÜages
(
çl£
, 
Œue
)) {

648 ià(
f•©h
.
	`¡¬tsW™h
(
¡Üage
.
fœ¡
.
	`g‘AbsŞu‹P©h
())) {

649  
¡Üage
.
fœ¡
;

652  
nuÎ
;

653 
	}
}

660 
public
 
	$medŸSÿÂ”SÿnFe
(
fš®
 
Fe
... 
fes
) {

661 ià(
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 > 19) {

662 
SŒšg
[] 
·ths
 = 
Ãw
 SŒšg[
fes
.
Ëngth
];

663 
i
 = 0; i < 
fes
.
Ëngth
; i++) {

664 
·ths
[
i
] = 
fes
[i].
	`g‘AbsŞu‹P©h
();

666 
MedŸSÿÂ”CÚÃùiÚ
.
	`sÿnFe
(
_cÚ‹xt
, 
·ths
, 
nuÎ
,‚ull);

668 
Fe
 
fe
 : 
fes
) {

669 
_cÚ‹xt
.
	`£ndBrßdÿ¡
(
Ãw
 
	`IÁ’t
(
IÁ’t
.
ACTION_MEDIA_SCANNER_SCAN_FILE
, 
Uri
.
	`äomFe
(
fe
)));

672 
	}
}

677 
public
 
£tD¿wabËW™hCŞÜToImageV›w
(
ImageV›w
 
imageV›w
, @
D¿wabËRes
 
d¿wabËResId
, @
CŞÜRes
 
cŞÜResId
) {

678 
	gimageV›w
.
£tImageResourû
(
d¿wabËResId
);

679 
	gimageV›w
.
£tCŞÜF‹r
(
CÚ‹xtCom·t
.
g‘CŞÜ
(
imageV›w
.
g‘CÚ‹xt
(), 
cŞÜResId
));

685 
public
 
B™m­
 
	$d¿wabËToB™m­
(
D¿wabË
 
d¿wabË
) {

686 
B™m­
 
b™m­
 = 
nuÎ
;

687 ià(
d¿wabË
 
š¡ªûof
 
VeùÜD¿wabËCom·t


688 || (
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
 && 
d¿wabË
 
š¡ªûof
 
VeùÜD¿wabË
)

689 || ((
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
O
 && 
d¿wabË
 
š¡ªûof
 
Ad­tiveIcÚD¿wabË
))) {

691 ià(
Bud
.
VERSION
.
SDK_INT
 < Bud.
VERSION_CODES
.
LOLLIPOP
) {

692 
d¿wabË
 = (
D¿wabËCom·t
.
	`w¿p
(d¿wabË)).
	`mu‹
();

695 
b™m­
 = 
B™m­
.
	`ü—‹B™m­
(
d¿wabË
.
	`g‘IÁršsicWidth
(),

696 
d¿wabË
.
	`g‘IÁršsicHeight
(), 
B™m­
.
CÚfig
.
ARGB_8888
);

697 
Cªvas
 
ÿnvas
 = 
Ãw
 
	`Cªvas
(
b™m­
);

698 
d¿wabË
.
	`£tBounds
(0, 0, 
ÿnvas
.
	`g‘Width
(), cªvas.
	`g‘Height
());

699 
d¿wabË
.
	`d¿w
(
ÿnvas
);

700 } ià(
d¿wabË
 
š¡ªûof
 
B™m­D¿wabË
) {

701 
b™m­
 = ((
B™m­D¿wabË
è
d¿wabË
).
	`g‘B™m­
();

703  
b™m­
;

704 
	}
}

709 
public
 
B™m­
 
d¿wabËToB™m­
(@
D¿wabËRes
 
fš®
 
d¿wabËId
) {

710 
	gŒy
 {

711  
d¿wabËToB™m­
(
CÚ‹xtCom·t
.
g‘D¿wabË
(
_cÚ‹xt
, 
d¿wabËId
));

712 } 
ÿtch
 (
Exû±iÚ
 
e
) {

713  
	gnuÎ
;

722 
public
 
B™m­
 
	$lßdImageFromFesy¡em
(
fš®
 
Fe
 
imageP©h
, fš® 
maxDim’
) {

723 
B™m­FaùÜy
.
O±iÚs
 
İtiÚs
 = 
Ãw
 B™m­FaùÜy.
	`O±iÚs
();

724 
İtiÚs
.
šJu¡DecodeBounds
 = 
Œue
;

725 
B™m­FaùÜy
.
	`decodeFe
(
imageP©h
.
	`g‘AbsŞu‹P©h
(), 
İtiÚs
);

726 
İtiÚs
.
šSam¶eSize
 = 
	`ÿlcuÏ‹InSam¶eSize
(İtiÚs, 
maxDim’
);

727 
İtiÚs
.
šJu¡DecodeBounds
 = 
çl£
;

728  
B™m­FaùÜy
.
	`decodeFe
(
imageP©h
.
	`g‘AbsŞu‹P©h
(), 
İtiÚs
);

729 
	}
}

738 
public
 
	$ÿlcuÏ‹InSam¶eSize
(
fš®
 
B™m­FaùÜy
.
O±iÚs
 
İtiÚs
, fš® 
maxDim’
) {

740 
height
 = 
İtiÚs
.
outHeight
;

741 
width
 = 
İtiÚs
.
outWidth
;

742 
šSam¶eSize
 = 1;

744 ià(
M©h
.
	`max
(
height
, 
width
è> 
maxDim’
) {

745 
šSam¶eSize
 = 
M©h
.
	`round
(1à* M©h.
	`max
(
height
, 
width
è/ 
maxDim’
);

747  
šSam¶eSize
;

748 
	}
}

754 
public
 
B™m­
 
	$sÿËB™m­
(
fš®
 
B™m­
 
b™m­
, fš® 
maxDim’
) {

755 
picSize
 = 
M©h
.
	`mš
(
b™m­
.
	`g‘Height
(), b™m­.
	`g‘Width
());

756 
sÿË
 = 1.à* 
maxDim’
 / 
picSize
;

757 
M©rix
 
m©rix
 = 
Ãw
 
	`M©rix
();

758 
m©rix
.
	`po¡SÿË
(
sÿË
, scale);

759  
B™m­
.
	`ü—‹B™m­
(
b™m­
, 0, 0, b™m­.
	`g‘Width
(), b™m­.
	`g‘Height
(), 
m©rix
, 
Œue
);

760 
	}
}

769 
public
 
boŞ—n
 
	$wr™eImageToFe
(
fš®
 
Fe
 
rg‘Fe
, fš® 
B™m­
 
image
, 
IÁeg”
... 
a0qu®™y
) {

770 
fš®
 
qu®™y
 = (
a0qu®™y
 !ğ
nuÎ
 &&‡0qu®™y.
Ëngth
 > 0 &&‡0quality[0] >= 0 &&‡0quality[0] <= 100) ?‡0quality[0] : 70;

771 
fš®
 
SŒšg
 
lc
 = 
rg‘Fe
.
	`g‘AbsŞu‹P©h
().
	`toLow”Ca£
(
LoÿË
.
ROOT
);

772 
fš®
 
Com´essFÜm©
 
fÜm©
 = 
lc
.
	`’dsW™h
(".webp"è? Com´essFÜm©.
WEBP
 : (lc.’dsW™h(".²g"è? Com´essFÜm©.
PNG
 : Com´essFÜm©.
JPEG
);

774 
boŞ—n
 
ok
 = 
çl£
;

775 
Fe
 
fŞd”
 = 
Ãw
 
	`Fe
(
rg‘Fe
.
	`g‘P¬’t
());

776 ià(
fŞd”
.
	`exi¡s
(è|| fŞd”.
	`mkdœs
()) {

777 
FeOuutSŒ—m
 
¡»am
 = 
nuÎ
;

778 
Œy
 {

779 
¡»am
 = 
Ãw
 
	`FeOuutSŒ—m
(
rg‘Fe
);

780 
image
.
	`com´ess
(
fÜm©
, 
qu®™y
, 
¡»am
);

781 
ok
 = 
Œue
;

782 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

783 } 
fš®ly
 {

784 
Œy
 {

785 ià(
¡»am
 !ğ
nuÎ
) {

786 
¡»am
.
	`şo£
();

788 } 
	`ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

792 
Œy
 {

793 
image
.
	`»cyşe
();

794 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

796  
ok
;

797 
	}
}

803 
public
 
B™m­
 
d¿wTextOnD¿wabË
(@
D¿wabËRes
 
fš®
 
d¿wabËRes
, fš® 
SŒšg
 
‹xt
, fš® 
‹xtSize
) {

804 
Resourûs
 
	g»sourûs
 = 
_cÚ‹xt
.
g‘Resourûs
();

805 
	gsÿË
 = 
»sourûs
.
g‘Di¥ÏyM‘rics
().
d’s™y
;

806 
B™m­
 
	gb™m­
 = 
d¿wabËToB™m­
(
d¿wabËRes
);

808 
	gb™m­
 = 
b™m­
.
cİy
(b™m­.
g‘CÚfig
(), 
Œue
);

809 
Cªvas
 
	gÿnvas
 = 
Ãw
 Cªvas(
b™m­
);

810 
Pašt
 
	g·št
 = 
Ãw
 Pašt(Pašt.
ANTI_ALIAS_FLAG
);

811 
	g·št
.
£tCŞÜ
(
CŞÜ
.
rgb
(61, 61, 61));

812 
	g·št
.
£tTextSize
((è(
‹xtSize
 * 
sÿË
));

813 
	g·št
.
£tShadowLay”
(1f, 0f, 1f, 
CŞÜ
.
WHITE
);

815 
Reù
 
	gbounds
 = 
Ãw
 Rect();

816 
	g·št
.
g‘TextBounds
(
‹xt
, 0,ext.
Ëngth
(), 
bounds
);

817 
	gx
 = (
b™m­
.
g‘Width
(è- 
bounds
.
width
()) / 2;

818 
	gy
 = (
b™m­
.
g‘Height
(è+ 
bounds
.
height
()) / 2;

819 
	gÿnvas
.
d¿wText
(
‹xt
, 
x
, 
y
, 
·št
);

821  
	gb™m­
;

827 @
Suµ»ssW¬nšgs
("ConstantConditions")

828 
public
 
tštM’uI‹ms
(
fš®
 
M’u
 
m’u
, fš® 
boŞ—n
 
»cur£
, @
CŞÜIÁ
 fš® 
icÚCŞÜ
) {

829 
	gi
 = 0; i < 
	gm’u
.
size
(); i++) {

830 
M’uI‹m
 
	g™em
 = 
m’u
.
g‘I‹m
(
i
);

831 
	gŒy
 {

832 
tštD¿wabË
(
™em
.
g‘IcÚ
(), 
icÚCŞÜ
);

833 ià(
	g™em
.
hasSubM’u
(è&& 
	g»cur£
) {

834 
tštM’uI‹ms
(
™em
.
g‘SubM’u
(), 
»cur£
, 
icÚCŞÜ
);

836 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

845 
public
 
D¿wabË
 
tštD¿wabË
(@
D¿wabËRes
 
fš®
 
d¿wabËRes
, @
CŞÜIÁ
 fš® 
cŞÜ
) {

846  
tštD¿wabË
(
rd¿wabË
(
d¿wabËRes
), 
cŞÜ
);

852 
public
 
D¿wabË
 
tštD¿wabË
(@
NuÎabË
 D¿wabË 
d¿wabË
, @
CŞÜIÁ
 
fš®
 
cŞÜ
) {

853 ià(
	gd¿wabË
 !ğ
nuÎ
) {

854 
d¿wabË
 = 
D¿wabËCom·t
.
w¿p
(drawable);

855 
	gD¿wabËCom·t
.
£tTšt
(
d¿wabË
.
mu‹
(), 
cŞÜ
);

857  
	gd¿wabË
;

864 
public
 
	$£tSubM’uIcÚsVisibl™y
(
fš®
 
M’u
 
m’u
, fš® 
boŞ—n
 
visibË
) {

865 ià(
TextUtsCom·t
.
	`g‘LayoutDœeùiÚFromLoÿË
(
LoÿË
.
	`g‘DeçuÉ
()è=ğ
V›wCom·t
.
LAYOUT_DIRECTION_RTL
) {

868 ià(
m’u
.
	`g‘CÏss
().
	`g‘Sim¶eName
().
	`equ®s
("MenuBuilder")) {

869 
Œy
 {

870 @
	`Suµ»ssLšt
("Priv©eApi"è
M‘hod
 
m
 = 
m’u
.
	`g‘CÏss
().
	`g‘Deş¬edM‘hod
("£tO±iÚ®IcÚsVisibË", 
BoŞ—n
.
TYPE
);

871 
m
.
	`£tAcûssibË
(
Œue
);

872 
m
.
	`švoke
(
m’u
, 
visibË
);

873 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

874 
Log
.
	`d
(
	`g‘CÏss
().
	`g‘Name
(), "Error: 'setSubMenuIconsVisiblity'‚ot supported onhis device");

877 
	}
}

880 
public
 
SŒšg
 
	$g‘LoÿlizedD©eFÜm©
() {

881  ((
Sim¶eD©eFÜm©
è
ªdroid
.
‹xt
.
fÜm©
.
D©eFÜm©
.
	`g‘D©eFÜm©
(
_cÚ‹xt
)).
	`toP©‹º
();

882 
	}
}

884 
public
 
SŒšg
 
	$g‘LoÿlizedTimeFÜm©
() {

885  ((
Sim¶eD©eFÜm©
è
ªdroid
.
‹xt
.
fÜm©
.
D©eFÜm©
.
	`g‘TimeFÜm©
(
_cÚ‹xt
)).
	`toP©‹º
();

886 
	}
}

888 
public
 
SŒšg
 
	$g‘LoÿlizedD©eTimeFÜm©
() {

889  
	`g‘LoÿlizedD©eFÜm©
(è+ " " + 
	`g‘LoÿlizedTimeFÜm©
();

890 
	}
}

895 @
Suµ»ssW¬nšgs
("Convert2Lambda")

896 
public
 
fš®
 
IÅutF‹r
 
	gINPUTFILTER_FILENAME
 = 
Ãw
 
	$IÅutF‹r
() {

897 
public
 
Ch¬Sequ’û
 
	`f‹r
(Ch¬Sequ’û 
¤c
, 
¡¬t
, 
’d
, 
S·Âed
 
de¡
, 
d¡¬t
, 
d’d
) {

898 ià(
¤c
.
	`Ëngth
(è< 1è 
nuÎ
;

899 
Ï¡
 = 
¤c
.
	`ch¬At
(¤c.
	`Ëngth
() - 1);

900 
SŒšg
 
Ëg®
 = "|\\?*<\":>[]/'";

901 ià(
Ëg®
.
	`šdexOf
(
Ï¡
è> -1è 
¤c
.
	`subSequ’û
(0, src.
	`Ëngth
() - 1);

902  
nuÎ
;

904 
	}
};

912 
public
 şas 
	cDoTouchV›w
 
im¶em’ts
 
	gRuÂabË
 {

913 
V›w
 
	g_v›w
;

915 
public
 
DoTouchV›w
(
V›w
 
v›w
) {

916 
	g_v›w
 = 
v›w
;

919 @
Ov”ride


920 
public
 
run
() {

921 
	g_v›w
.
di¥©chTouchEv’t
(
MÙiÚEv’t
.
obš
(
Sy¡emClock
.
u±imeMlis
(), Sy¡emClock.u±imeMlis(), MÙiÚEv’t.
ACTION_DOWN
, 0, 0, 0));

922 
	g_v›w
.
di¥©chTouchEv’t
(
MÙiÚEv’t
.
obš
(
Sy¡emClock
.
u±imeMlis
(), Sy¡emClock.u±imeMlis(), MÙiÚEv’t.
ACTION_UP
, 0, 0, 0));

927 
public
 
SŒšg
 
	$g‘MimeTy³
(
fš®
 
Fe
 
fe
) {

928  
	`g‘MimeTy³
(
Uri
.
	`äomFe
(
fe
));

929 
	}
}

936 
public
 
SŒšg
 
	$g‘MimeTy³
(
fš®
 
Uri
 
uri
) {

937 
SŒšg
 
mimeTy³
 = 
nuÎ
;

938 ià(
CÚ‹ÁResŞv”
.
SCHEME_CONTENT
.
	`equ®s
(
uri
.
	`g‘Scheme
())) {

939 
CÚ‹ÁResŞv”
 
ü
 = 
_cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
();

940 
mimeTy³
 = 
ü
.
	`g‘Ty³
(
uri
);

942 
SŒšg
 
f’ame
 = 
uri
.
	`toSŒšg
();

943 ià(
f’ame
.
	`’dsW™h
(".jenc")) {

944 
f’ame
 = f’ame.
	`»¶aû
(".jenc", "");

946 
SŒšg
 
ext
 = 
MimeTy³M­
.
	`g‘FeEx‹nsiÚFromU¾
(
f’ame
);

947 
mimeTy³
 = 
MimeTy³M­
.
	`g‘SšgËtÚ
().
	`g‘MimeTy³FromEx‹nsiÚ
(
ext
.
	`toLow”Ca£
());

950 ià(
TextUts
.
	`isEm±y
(
mimeTy³
)) {

951 
ext
) {

959 
mimeTy³
 = "text/markdown";

963 
mimeTy³
 = "text/yaml";

966 
mimeTy³
 = "text/json";

969 
mimeTy³
 = "text/plain";

975 ià(
TextUts
.
	`isEm±y
(
mimeTy³
)) {

976 
mimeTy³
 = "*/*";

978  
mimeTy³
;

979 
	}
}

981 
public
 
IÁeg”
 
	$·r£CŞÜ
(
fš®
 
SŒšg
 
cŞÜ¡r
) {

982 ià(
cŞÜ¡r
 =ğ
nuÎ
 || cŞÜ¡r.
	`Œim
().
	`isEm±y
()) {

983  
nuÎ
;

985 
Œy
 {

986  
CŞÜ
.
	`·r£CŞÜ
(
cŞÜ¡r
);

987 } 
	`ÿtch
 (
IÎeg®Argum’tExû±iÚ
 
ignÜed
) {

988  
nuÎ
;

990 
	}
}

992 
public
 
boŞ—n
 
	$isDeviûGoodH¬dw¬e
() {

993 
Œy
 {

994 
Aùiv™yMªag”
 
aùiv™yMªag”
 = (Aùiv™yMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
ACTIVITY_SERVICE
);

995  !
Aùiv™yMªag”Com·t
.
	`isLowRamDeviû
(
aùiv™yMªag”
) &&

996 
RuÁime
.
	`g‘RuÁime
().
	`avaabËProûssÜs
() >= 4 &&

997 
aùiv™yMªag”
.
	`g‘MemÜyCÏss
() >= 128;

998 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

999  
Œue
;

1001 
	}
}

1005 @
Suµ»ssW¬nšgs
("UnnecessaryReturnStatement")

1006 @
Suµ»ssLšt
("MissingPermission")

1007 
public
 
	$vib¿‹
(
fš®
 ... 
ms
) {

1008 
ms_v
 = 
ms
 !ğ
nuÎ
 && ms.
Ëngth
 > 0 ? ms[0] : 50;

1009 
Vib¿tÜ
 
vib¿tÜ
 = ((Vib¿tÜè
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
VIBRATOR_SERVICE
));

1010 ià(
vib¿tÜ
 =ğ
nuÎ
) {

1012 } ià(
Bud
.
VERSION
.
SDK_INT
 >= 26) {

1013 
vib¿tÜ
.
	`vib¿‹
(
Vib¿tiÚEfãù
.
	`ü—‹OÃShÙ
(
ms_v
, Vib¿tiÚEfãù.
DEFAULT_AMPLITUDE
));

1015 
vib¿tÜ
.
	`vib¿‹
(
ms_v
);

1017 
	}
}

1024 @
Suµ»ssLšt
("MissingPermission")

1025 
public
 
boŞ—n
 
	$isWifiCÚÃùed
(
boŞ—n
... 
’abËdOÆy
) {

1026 
fš®
 
boŞ—n
 
doEÇbËdCheckOÆy
 = 
’abËdOÆy
 !ğ
nuÎ
 &&ƒÇbËdOÆy.
Ëngth
 > 0 &&ƒnabledOnly[0];

1027 
fš®
 
CÚÃùiv™yMªag”
 
cÚÃùiv™yMªag”
 = (CÚÃùiv™yMªag”è
_cÚ‹xt
.
	`g‘AµliÿtiÚCÚ‹xt
().
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
CONNECTIVITY_SERVICE
);

1028 
fš®
 
N‘wÜkInfo
 
wifiInfo
 = 
cÚÃùiv™yMªag”
.
	`g‘N‘wÜkInfo
(
CÚÃùiv™yMªag”
.
TYPE_WIFI
);

1029  
wifiInfo
 !ğ
nuÎ
 && (
doEÇbËdCheckOÆy
 ? wifiInfo.
	`isAvaabË
(è: wifiInfo.
	`isCÚÃùed
());

1030 
	}
}

1033 
public
 
boŞ—n
 
	$isDeviûOr›Á©iÚPÜŒa™
() {

1034 
fš®
 
rÙ©iÚ
 = ((
WšdowMªag”
è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
WINDOW_SERVICE
)).
	`g‘DeçuÉDi¥Ïy
().
	`g‘Or›Á©iÚ
();

1035  (
rÙ©iÚ
 =ğ
Surçû
.
ROTATION_0
è|| (rÙ©iÚ =ğSurçû.
ROTATION_180
);

1036 
	}
}

1039 
public
 
	gLi¡
<
	gProvid”Info
> 
	$g‘Provid”sInfos
() {

1040 
fš®
 
Li¡
<
Provid”Info
> 
´ovid”s
 = 
Ãw
 
A¼ayLi¡
<>();

1041 
fš®
 
Provid”Info
 
šfo
 : 
_cÚ‹xt
.
	`g‘PackageMªag”
().
	`qu”yCÚ‹ÁProvid”s
(
nuÎ
, 0, 0)) {

1042 ià(
šfo
.
­¶iÿtiÚInfo
.
uid
 =ğ
_cÚ‹xt
.
	`g‘AµliÿtiÚInfo
().uid) {

1043 
´ovid”s
.
	`add
(
šfo
);

1046  
´ovid”s
;

1047 
	}
}

1049 
public
 
SŒšg
 
	$g‘FeProvid”
() {

1050 
fš®
 
Provid”Info
 
šfo
 : 
	`g‘Provid”sInfos
()) {

1051 ià(
šfo
.
Çme
.
	`toLow”Ca£
().
	`cÚšs
("fileprovider")) {

1052  
šfo
.
authÜ™y
;

1055  
nuÎ
;

1056 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/CoolExperimentalStuff.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gAË¹DŸlog
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

16 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

17 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

18 
impÜt
 
	gªdroid
.
	gv›w
.
	gG¿v™y
;

19 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

20 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdow
;

21 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

22 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gBu‰Ú
;

23 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

24 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

26 
impÜt
 
	gcom
.
	gg™hub
.
	gm”kdut
.
	gBookSeùiÚ
;

27 
impÜt
 
	gcom
.
	gg™hub
.
	gm”kdut
.
	gR—d”
;

28 
impÜt
 
	gcom
.
	gg™hub
.
	gm”kdut
.
	gexû±iÚ
.
	gOutOfPagesExû±iÚ
;

29 
impÜt
 
	gcom
.
	gg™hub
.
	gm”kdut
.
	gexû±iÚ
.
	gR—dšgExû±iÚ
;

31 
impÜt
 
	gjava
.
	gio
.
	gFe
;

32 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

33 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicReã»nû
;

36 
public
 cÏs 
	cCoŞEx³rim’lStuff
 {

38 
public
 
SŒšg
 
	$cÚv”tEpubToText
(
fš®
 
Fe
 
f•©h
, fš® 
SŒšg
 
Œª¦©edSŒšgFÜPage
) {

40 
fš®
 
SŒšgBud”
 
sb
 = 
Ãw
 
	`SŒšgBud”
();

41 
fš®
 
R—d”
 
»ad”
 = 
Ãw
 
	`R—d”
();

42 
»ad”
.
	`£tMaxCÚ‹ÁP”SeùiÚ
(1000);

43 
»ad”
.
	`£tIsInşudšgTextCÚ‹Á
(
Œue
);

44 
Œy
 {

45 
»ad”
.
	`£tFuÎCÚ‹Á
(
f•©h
.
	`g‘AbsŞu‹P©h
());

46 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

49 
·geIndex
 = 0;

50 
boŞ—n
 
hasMÜeCÚ‹Á
 = 
Œue
; hasMoreContent; ) {

51 
BookSeùiÚ
 
bookSeùiÚ
 = 
nuÎ
;

52 
Œy
 {

53 
bookSeùiÚ
 = 
»ad”
.
	`»adSeùiÚ
(
·geIndex
);

54 } 
	`ÿtch
 (
R—dšgExû±iÚ
 
e
) {

55 
hasMÜeCÚ‹Á
 = 
çl£
;

56 } 
	`ÿtch
 (
OutOfPagesExû±iÚ
 
e
) {

57 
hasMÜeCÚ‹Á
 = 
çl£
;

59 
·geIndex
++;

60 ià(
bookSeùiÚ
 !ğ
nuÎ
) {

61 
SŒšg
 
·geLab–
 = 
bookSeùiÚ
.
	`g‘Lab–
();

62 
·geLab–
 = "\n\n## " + ((!
TextUts
.
	`isEm±y
ÕageLab–è&& !·geLab–.
	`equ®s
("nuÎ")è?…ageLab– : (
Œª¦©edSŒšgFÜPage
 + (
·geIndex
 + 1))) + "\n\n";

63 
SŒšg
 
·geText
 = 
bookSeùiÚ
.
	`g‘SeùiÚTextCÚ‹Á
();

64 ià(
·geText
.
	`Ëngth
() > 300) {

65 
sb
.
	`­³nd
(
·geLab–
);

67 
sb
.
	`­³nd
(
·geText
);

70  
sb
.
	`toSŒšg
().
	`»¶aû
("&nb¥;", " ").
	`»¶aûAÎ
("[ ]{4,}", " ").replace(" ", " \n\n");

74 
public
 
	$showS³edR—dDŸlog
(
fš®
 
Aùiv™y
 
aùiv™y
, fš® 
SŒšg
 
‹xt
) {

77 
fš®
 
AtomicReã»nû
<
AË¹DŸlog
> 
dŸlog
 = 
Ãw
 AtomicReference<>();

78 
fš®
 
AtomicReã»nû
<
LÚg
> 
wpm
 = 
Ãw
 AtomicReference<>(() (1000 * 60 / 300));

79 
fš®
 
AtomicReã»nû
<
SŒšg
> 
di¥ÏySŒšg
 = 
Ãw
 AtomicReference<>();

80 
fš®
 
AtomicReã»nû
<
IÁeg”
> 
‹xtPos
 = 
Ãw
 AtomicReference<>(0);

84 
fš®
 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
 = 
Ãw
 AË¹DŸlog.
	`Bud”
(
aùiv™y
);

85 
fš®
 
Lš—rLayout
 
Ïyout
 = 
Ãw
 
	`Lš—rLayout
(
aùiv™y
);

86 
Ïyout
.
	`£tOr›Á©iÚ
(
Lš—rLayout
.
VERTICAL
);

87 
Ïyout
.
	`£tG¿v™y
(
G¿v™y
.
CENTER_HORIZONTAL
);

88 
fš®
 
V›w
 
£p1
 = 
Ãw
 
	`V›w
(
aùiv™y
);

89 
£p1
.
	`£tLayoutP¬ams
(
Ãw
 
Lš—rLayout
.
	`LayoutP¬ams
(100, 1));

90 
fš®
 
TextV›w
 
cu¼’tWÜdTextShow”
 = 
Ãw
 
	`TextV›w
(
aùiv™y
);

92 
fš®
 
Bu‰Ú
 
bu‰ÚMoveWÜds
 = 
Ãw
 
	`Bu‰Ú
(
aùiv™y
);

93 
bu‰ÚMoveWÜds
.
	`£tText
("+100 words (click)\n-100†ong click swipe down");

94 
bu‰ÚMoveWÜds
.
	`£tOnClickLi¡’”
(
v
 -> 
‹xtPos
.
	`£t
(
M©h
.
	`max
(0, M©h.
	`mš
(
‹xt
.
	`Ëngth
(è- 2,extPos.
	`g‘
() + 100))));

95 
bu‰ÚMoveWÜds
.
	`£tOnLÚgClickLi¡’”
(
v
 -> {

96 
‹xtPos
.
	`£t
(
M©h
.
	`max
(0,extPos.
	`g‘
() - 100));

97  
çl£
;

100 
fš®
 
TextV›w
 
‹xtV›wTextDi¥Ïy
 = 
Ãw
 
	`TextV›w
(
aùiv™y
);

101 
‹xtV›wTextDi¥Ïy
.
	`£tTextSize
(
Ty³dV®ue
.
COMPLEX_UNIT_SP
, 72);

102 
‹xtV›wTextDi¥Ïy
.
	`£tG¿v™y
(
G¿v™y
.
CENTER
);

103 
‹xtV›wTextDi¥Ïy
.
	`£tLayoutP¬ams
(
Ãw
 
Lš—rLayout
.
	`LayoutP¬ams
(Lš—rLayout.
LayoutP¬ams
.
MATCH_PARENT
, LinearLayout.LayoutParams.MATCH_PARENT));

104 
‹xtV›wTextDi¥Ïy
.
	`£tMšHeight
((è
Ãw
 
	`CÚ‹xtUts
(
aùiv™y
).
	`cÚv”tDpToPx
(1000));

105 
RuÂabË
 
upd©eV›wOnUi
 = () -> {

106 
‹xtV›wTextDi¥Ïy
.
	`£tText
(
di¥ÏySŒšg
.
	`g‘
());

107 
cu¼’tWÜdTextShow”
.
	`£tText
(
SŒšg
.
	`fÜm©
(
LoÿË
.
ENGLISH
, "WÜd: %d", 
‹xtPos
.
	`g‘
() + 1));

110 
Th»ad
 
s
 = 
Ãw
 
	`Th»ad
() {

111 @
Ov”ride


112 
public
 
	`run
() {

113 
Œy
 {

114 
Th»ad
.
	`¦“p
(2000);

115 
SŒšg
[] 
¡rs
 = 
‹xt
.
	`»¶aûAÎ
("[^\\p{L}\\p{Nd}]+", "\n").»¶aûAÎ("\\s+", "\n").
	`¥l™
("\n");

116 
‹xtPos
.
	`£t
(0);extPos.
	`g‘
(è< 
¡rs
.
Ëngth
;extPos.set(textPos.get() + 1)) {

117 
di¥ÏySŒšg
.
	`£t
(
¡rs
[
‹xtPos
.
	`g‘
()]);

118 
‹xtV›wTextDi¥Ïy
.
	`po¡
(
upd©eV›wOnUi
);

119 
Th»ad
.
	`¦“p
(
wpm
.
	`g‘
());

122 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

126 
s
.
	`¡¬t
();

131 
DŸlogIÁ”çû
.
OnClickLi¡’”
 
dŸlogOkAndCªûlLi¡’”
 = (
dŸlogIÁ”çû
, 
dŸlogBu‰ÚCa£
) -> {

132 
dŸlogIÁ”çû
.
	`dismiss
();

137 
Ïyout
.
	`addV›w
(
bu‰ÚMoveWÜds
);

138 
Ïyout
.
	`addV›w
(
cu¼’tWÜdTextShow”
);

139 
Ïyout
.
	`addV›w
(
‹xtV›wTextDi¥Ïy
);

143 
dŸlogBud”


144 .
	`£tNeg©iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ÿnûl
, 
dŸlogOkAndCªûlLi¡’”
)

145 .
	`£tV›w
(
Ïyout
);

146 
dŸlog
.
	`£t
(
dŸlogBud”
.
	`ü—‹
());

147 
Wšdow
 
w
;

148 
dŸlog
.
	`g‘
().
	`show
();

149 ià((
w
 = 
dŸlog
.
	`g‘
().
	`g‘Wšdow
()è!ğ
nuÎ
) {

150 
w
.
	`£tLayout
(
WšdowMªag”
.
LayoutP¬ams
.
MATCH_PARENT
, WindowManager.LayoutParams.MATCH_PARENT);

152 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/FileUtils.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

14 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

16 
impÜt
 
	gjava
.
	gio
.
	gBufã»dIÅutSŒ—m
;

17 
impÜt
 
	gjava
.
	gio
.
	gBufã»dOuutSŒ—m
;

18 
impÜt
 
	gjava
.
	gio
.
	gBufã»dR—d”
;

19 
impÜt
 
	gjava
.
	gio
.
	gBufã»dWr™”
;

20 
impÜt
 
	gjava
.
	gio
.
	gBy‹A¼ayOuutSŒ—m
;

21 
impÜt
 
	gjava
.
	gio
.
	gD©aIÅutSŒ—m
;

22 
impÜt
 
	gjava
.
	gio
.
	gFe
;

23 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

24 
impÜt
 
	gjava
.
	gio
.
	gFeNÙFoundExû±iÚ
;

25 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

26 
impÜt
 
	gjava
.
	gio
.
	gFeR—d”
;

27 
impÜt
 
	gjava
.
	gio
.
	gFeWr™”
;

28 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

29 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

30 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—mR—d”
;

31 
impÜt
 
	gjava
.
	gio
.
	gOuutSŒ—m
;

32 
impÜt
 
	gjava
.
	gÃt
.
	gURLCÚÃùiÚ
;

33 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

34 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©SymbŞs
;

35 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

36 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

37 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

38 
impÜt
 
	gjava
.
	gut
.
	gUUID
;

39 
impÜt
 
	gjava
.
	gut
.
	gcÚcu¼’t
.
	g©omic
.
	gAtomicIÁeg”
;

40 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

42 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused", "SameParameterValue", "SpellCheckingInspection", "deprecation", "TryFinallyCanBeTryWithResources"})

43 
public
 cÏs 
	cFeUts
 {

45 
´iv©e
 
fš®
 
	mBUFFER_SIZE
 = 4096;

47 
public
 
SŒšg
 
	$»adTextFeFa¡
(
fš®
 
Fe
 
fe
) {

48 
Œy
 {

49  
Ãw
 
	`SŒšg
(
	`»adClo£SŒ—mW™hSize
Òew 
	`FeIÅutSŒ—m
(
fe
), (èfe.
	`Ëngth
()));

50 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

51 
Sy¡em
.
”r
.
	`´šn
("»adTextFeFa¡: F" + 
fe
 + "‚ot found.");

56 
public
 
by‹
[] 
	$»adClo£SŒ—mW™hSize
(
fš®
 
IÅutSŒ—m
 
¡»am
, 
size
) {

57 
by‹
[] 
d©a
 = 
Ãw
 by‹[
size
];

58 
	`Œy
 (
D©aIÅutSŒ—m
 
dis
 = 
Ãw
 
	`D©aIÅutSŒ—m
(
¡»am
)) {

59 
dis
.
	`»adFuÎy
(
d©a
);

60 } 
	`ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

62  
d©a
;

63 
	}
}

65 
public
 
SŒšg
 
	$»adTextFe
(
fš®
 
Fe
 
fe
) {

66 
Œy
 {

67  
	`»adClo£TextSŒ—m
(
Ãw
 
	`FeIÅutSŒ—m
(
fe
));

68 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

69 
Sy¡em
.
”r
.
	`´šn
("»adTextFe: F" + 
fe
 + "‚ot found.");

73 
	}
}

75 
public
 
SŒšg
 
	$»adClo£TextSŒ—m
(
fš®
 
IÅutSŒ—m
 
¡»am
) {

76  
	`»adClo£TextSŒ—m
(
¡»am
, 
Œue
).
	`g‘
(0);

77 
	}
}

79 
public
 
	gLi¡
<
	gSŒšg
> 
	$»adClo£TextSŒ—m
(
fš®
 
IÅutSŒ—m
 
¡»am
, 
boŞ—n
 
cÚÿtToOÃSŒšg
) {

80 
fš®
 
A¼ayLi¡
<
SŒšg
> 
lšes
 = 
Ãw
 ArrayList<>();

81 
Bufã»dR—d”
 
»ad”
 = 
nuÎ
;

82 
SŒšg
 
lše
 = "";

83 
Œy
 {

84 
SŒšgBud”
 
sb
 = 
Ãw
 
	`SŒšgBud”
();

85 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
¡»am
));

87 (
lše
 = 
»ad”
.
	`»adLše
()è!ğ
nuÎ
) {

88 ià(
cÚÿtToOÃSŒšg
) {

89 
sb
.
	`­³nd
(
lše
).append('\n');

91 
lšes
.
	`add
(
lše
);

94 
lše
 = 
sb
.
	`toSŒšg
();

95 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

96 
e
.
	`´štSckT¿û
();

97 } 
fš®ly
 {

98 ià(
»ad”
 !ğ
nuÎ
) {

99 
Œy
 {

100 
»ad”
.
	`şo£
();

101 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

102 
e
.
	`´štSckT¿û
();

106 ià(
cÚÿtToOÃSŒšg
) {

107 
lšes
.
	`ş—r
();

108 
lšes
.
	`add
(
lše
);

110  
lšes
;

111 
	}
}

113 
public
 
	gby‹
[] 
	$»adBš¬yFe
(
fš®
 
Fe
 
fe
) {

114 
Œy
 {

115  
	`»adClo£Bš¬ySŒ—m
(
Ãw
 
	`FeIÅutSŒ—m
(
fe
), (èfe.
	`Ëngth
());

116 } 
	`ÿtch
 (
FeNÙFoundExû±iÚ
 
e
) {

117 
Sy¡em
.
”r
.
	`´šn
("»adBš¬yFe: F" + 
fe
 + "‚ot found.");

120  
Ãw
 
by‹
[0];

121 
	}
}

123 
public
 
	gby‹
[] 
	$»adClo£Bš¬ySŒ—m
(
fš®
 
IÅutSŒ—m
 
¡»am
, 
by‹CouÁ
) {

124 
fš®
 
A¼ayLi¡
<
SŒšg
> 
lšes
 = 
Ãw
 ArrayList<>();

125 
Bufã»dIÅutSŒ—m
 
»ad”
 = 
nuÎ
;

126 
by‹
[] 
buf
 = 
Ãw
 by‹[
by‹CouÁ
];

127 
tÙ®By‹sR—d
 = 0;

128 
Œy
 {

129 
»ad”
 = 
Ãw
 
	`Bufã»dIÅutSŒ—m
(
¡»am
);

130 
tÙ®By‹sR—d
 < 
by‹CouÁ
) {

131 
by‹sR—d
 = 
»ad”
.
	`»ad
(
buf
, 
tÙ®By‹sR—d
, 
by‹CouÁ
 -otalBytesRead);

132 ià(
by‹sR—d
 > 0) {

133 
tÙ®By‹sR—d
 =Ù®By‹sR—d + 
by‹sR—d
;

136 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

137 
e
.
	`´štSckT¿û
();

138 } 
fš®ly
 {

139 ià(
»ad”
 !ğ
nuÎ
) {

140 
Œy
 {

141 
»ad”
.
	`şo£
();

142 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

143 
e
.
	`´štSckT¿û
();

147  
buf
;

148 
	}
}

151 
public
 
	gby‹
[] 
	$»adClo£Bš¬ySŒ—m
(
fš®
 
IÅutSŒ—m
 
¡»am
) {

152 
By‹A¼ayOuutSŒ—m
 
baos
 = 
Ãw
 
	`By‹A¼ayOuutSŒ—m
();

153 
Œy
 {

154 
by‹
[] 
bufãr
 = 
Ãw
 by‹[
BUFFER_SIZE
];

155 
»ad
;

156 (
»ad
 = 
¡»am
.
	`»ad
(
bufãr
)) != -1) {

157 
baos
.
	`wr™e
(
bufãr
, 0, 
»ad
);

159 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

160 
e
.
	`´štSckT¿û
();

161 } 
fš®ly
 {

162 ià(
¡»am
 !ğ
nuÎ
) {

163 
Œy
 {

164 
¡»am
.
	`şo£
();

165 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

166 
e
.
	`´štSckT¿û
();

170  
baos
.
	`toBy‹A¼ay
();

171 
	}
}

173 
public
 
boŞ—n
 
	$wr™eFe
(
fš®
 
Fe
 
fe
, 
by‹
[] 
d©a
) {

174 
Œy
 {

175 
OuutSŒ—m
 
ouut
 = 
nuÎ
;

176 
Œy
 {

177 
ouut
 = 
Ãw
 
	`Bufã»dOuutSŒ—m
Òew 
	`FeOuutSŒ—m
(
fe
));

178 
ouut
.
	`wr™e
(
d©a
);

179 
ouut
.
	`æush
();

180  
Œue
;

181 } 
fš®ly
 {

182 ià(
ouut
 !ğ
nuÎ
) {

183 
ouut
.
	`şo£
();

186 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

187  
çl£
;

189 
	}
}

191 
public
 
boŞ—n
 
	$wr™eFe
(
fš®
 
Fe
 
fe
, fš® 
SŒšg
 
cÚ‹Á
) {

192 
Bufã»dWr™”
 
wr™”
 = 
nuÎ
;

193 
Œy
 {

194 ià(!
fe
.
	`g‘P¬’tFe
().
	`isDœeùÜy
(è&& !fe.g‘P¬’tFe().
	`mkdœs
())

195  
çl£
;

197 
wr™”
 = 
Ãw
 
	`Bufã»dWr™”
Òew 
	`FeWr™”
(
fe
));

198 
wr™”
.
	`wr™e
(
cÚ‹Á
);

199 
wr™”
.
	`æush
();

200  
Œue
;

201 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

202 
e
.
	`´štSckT¿û
();

203  
çl£
;

204 } 
fš®ly
 {

205 ià(
wr™”
 !ğ
nuÎ
) {

206 
Œy
 {

207 
wr™”
.
	`şo£
();

208 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

209 
e
.
	`´štSckT¿û
();

213 
	}
}

215 
public
 
boŞ—n
 
	$cİyFe
(
fš®
 
Fe
 
¤c
, fš® F
d¡
) {

217 ià(
¤c
.
	`Ëngth
() == 0) {

218  
	`touch
(
d¡
);

221 
IÅutSŒ—m
 
is
 = 
nuÎ
;

222 
FeOuutSŒ—m
 
os
 = 
nuÎ
;

223 
Œy
 {

224 
Œy
 {

225 
is
 = 
Ãw
 
	`FeIÅutSŒ—m
(
¤c
);

226 
os
 = 
Ãw
 
	`FeOuutSŒ—m
(
d¡
);

227 
by‹
[] 
buf
 = 
Ãw
 by‹[
BUFFER_SIZE
];

228 
Ën
;

229 (
Ën
 = 
is
.
	`»ad
(
buf
)) > 0) {

230 
os
.
	`wr™e
(
buf
, 0, 
Ën
);

232  
Œue
;

233 } 
fš®ly
 {

234 ià(
is
 !ğ
nuÎ
) {

235 
is
.
	`şo£
();

237 ià(
os
 !ğ
nuÎ
) {

238 
os
.
	`şo£
();

241 } 
	`ÿtch
 (
IOExû±iÚ
 
ex
) {

242  
çl£
;

244 
	}
}

246 
public
 
boŞ—n
 
	$cİyFe
(
fš®
 
Fe
 
¤c
, fš® 
FeOuutSŒ—m
 
os
) {

247 
IÅutSŒ—m
 
is
 = 
nuÎ
;

248 
Œy
 {

249 
Œy
 {

250 
is
 = 
Ãw
 
	`FeIÅutSŒ—m
(
¤c
);

251 
by‹
[] 
buf
 = 
Ãw
 by‹[
BUFFER_SIZE
];

252 
Ën
;

253 (
Ën
 = 
is
.
	`»ad
(
buf
)) > 0) {

254 
os
.
	`wr™e
(
buf
, 0, 
Ën
);

256  
Œue
;

257 } 
fš®ly
 {

258 ià(
is
 !ğ
nuÎ
) {

259 
is
.
	`şo£
();

261 ià(
os
 !ğ
nuÎ
) {

262 
os
.
	`şo£
();

265 } 
	`ÿtch
 (
IOExû±iÚ
 
ex
) {

266  
çl£
;

268 
	}
}

274 
public
 
	$feCÚšs
(
Fe
 
fe
, 
SŒšg
... 
ÃedËs
) {

275 
Œy
 {

276 
FeIÅutSŒ—m
 
š
 = 
Ãw
 
	`FeIÅutSŒ—m
(
fe
);

278 
i
;

279 
SŒšg
 
lše
;

280 
Bufã»dR—d”
 
»ad”
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`IÅutSŒ—mR—d”
(
š
));

281 (
lše
 = 
»ad”
.
	`»adLše
()è!ğ
nuÎ
) {

282 
i
 = 0; i !ğ
ÃedËs
.
Ëngth
; ++i)

283 ià(
lše
.
	`toLow”Ca£
(
LoÿË
.
ROOT
).
	`cÚšs
(
ÃedËs
[
i
])) {

284  
i
;

288 
š
.
	`şo£
();

289 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

290 
e
.
	`´štSckT¿û
();

294 
	}
}

296 
public
 
boŞ—n
 
	$d–‘eRecursive
(
fš®
 
Fe
 
fe
) {

297 
boŞ—n
 
ok
 = 
Œue
;

298 ià(
fe
.
	`exi¡s
()) {

299 ià(
fe
.
	`isDœeùÜy
()) {

300 
Fe
 
chd
 : 
fe
.
	`li¡Fes
())

301 
ok
 &ğ
	`d–‘eRecursive
(
chd
);

303 
ok
 &ğ
fe
.
	`d–‘e
();

305  
ok
;

306 
	}
}

309 
public
 
boŞ—n
 
	$hasEx‹nsiÚ
(
SŒšg
 
¡r
, SŒšg... 
ex‹nsiÚs
) {

310 
SŒšg
 
lc
 = 
¡r
.
	`toLow”Ca£
(
LoÿË
.
ROOT
);

311 
SŒšg
 
ex‹nsiÚ
 : 
ex‹nsiÚs
) {

312 ià(
lc
.
	`’dsW™h
("." + 
ex‹nsiÚ
.
	`toLow”Ca£
(
LoÿË
.
ROOT
))) {

313  
Œue
;

316  
çl£
;

317 
	}
}

319 
public
 
boŞ—n
 
	$»ÇmeFe
(
Fe
 
¤cFe
, F
de¡Fe
) {

320 ià(
¤cFe
.
	`g‘AbsŞu‹P©h
().
	`equ®s
(
de¡Fe
.getAbsolutePath())) {

321  
çl£
;

325 ià(
¤cFe
.
	`g‘P¬’t
().
	`equ®s
(
de¡Fe
.g‘P¬’t()è&& srcFe.
	`g‘Name
().
	`toLow”Ca£
(
LoÿË
.
	`g‘DeçuÉ
()).equals(destFile.getName().toLowerCase(Locale.getDefault()))) {

326 
Fe
 
tmpFe
 = 
Ãw
 
	`Fe
(
de¡Fe
.
	`g‘P¬’t
(), 
UUID
.
	`¿ndomUUID
().
	`g‘L—¡SignifiÿÁB™s
() + ".tmp");

327 ià(!
tmpFe
.
	`exi¡s
()) {

328 
	`»ÇmeFe
(
¤cFe
, 
tmpFe
);

329 
¤cFe
 = 
tmpFe
;

333 ià(!
¤cFe
.
	`»ÇmeTo
(
de¡Fe
)) {

334 ià(
	`cİyFe
(
¤cFe
, 
de¡Fe
è&& !¤cFe.
	`d–‘e
()) {

335 ià(!
de¡Fe
.
	`d–‘e
()) {

336  
çl£
;

338  
çl£
;

341  
Œue
;

342 
	}
}

344 @
Suµ»ssW¬nšgs
("ResultOfMethodCallIgnored")

345 
public
 
boŞ—n
 
	$»ÇmeFeInSameFŞd”
(
Fe
 
¤cFe
, 
SŒšg
 
de¡F’ame
) {

346  
	`»ÇmeFe
(
¤cFe
, 
Ãw
 
	`Fe
(¤cFe.
	`g‘P¬’t
(), 
de¡F’ame
));

347 
	}
}

349 
public
 
boŞ—n
 
	$touch
(
Fe
 
fe
) {

350 
Œy
 {

351 ià(!
fe
.
	`exi¡s
()) {

352 
Ãw
 
	`FeOuutSŒ—m
(
fe
).
	`şo£
();

354  
fe
.
	`£tLa¡Modif›d
(
Sy¡em
.
	`cu¼’tTimeMlis
());

355 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

356  
çl£
;

358 
	}
}

361 
public
 
SŒšg
 
	$»ÏtiveP©h
(
Fe
 
¤c
, F
de¡
) {

362 
Œy
 {

363 
SŒšg
[] 
¤cS¶™
 = (
¤c
.
	`isDœeùÜy
(è? srø: src.
	`g‘P¬’tFe
()).
	`g‘CªÚiÿlP©h
().
	`¥l™
(
P©‹º
.
	`quÙe
(
Fe
.
£·¿tÜ
));

364 
SŒšg
[] 
de¡S¶™
 = 
de¡
.
	`g‘CªÚiÿlP©h
().
	`¥l™
(
P©‹º
.
	`quÙe
(
Fe
.
£·¿tÜ
));

365 
SŒšgBud”
 
sb
 = 
Ãw
 
	`SŒšgBud”
();

366 
i
 = 0;

368 ; 
i
 < 
de¡S¶™
.
Ëngth
 && i < 
¤cS¶™
.length; ++i) {

369 ià(!
de¡S¶™
[
i
].
	`equ®s
(
¤cS¶™
[i]))

372 ià(
i
 !ğ
¤cS¶™
.
Ëngth
) {

373 
iUµ”Dœ
 = 
i
; iUµ”Dœ < 
¤cS¶™
.
Ëngth
; ++iUpperDir) {

374 
sb
.
	`­³nd
("..");

375 
sb
.
	`­³nd
(
Fe
.
£·¿tÜ
);

378 ; 
i
 < 
de¡S¶™
.
Ëngth
; ++i) {

379 
sb
.
	`­³nd
(
de¡S¶™
[
i
]);

380 
sb
.
	`­³nd
(
Fe
.
£·¿tÜ
);

382 ià(!
de¡
.
	`g‘P©h
().
	`’dsW™h
("/") && !dest.getPath().endsWith("\\")) {

383 
sb
.
	`d–‘e
(sb.
	`Ëngth
(è- 
Fe
.
£·¿tÜ
.length(), sb.length());

385  
sb
.
	`toSŒšg
();

386 } 
	`ÿtch
 (
IOExû±iÚ
 | 
NuÎPoš‹rExû±iÚ
 
exû±iÚ
) {

387  
nuÎ
;

389 
	}
}

394 
public
 
SŒšg
 
	$g‘MimeTy³
(
Fe
 
fe
) {

395 
SŒšg
 
guess
 = 
nuÎ
;

396 ià(
fe
 !ğ
nuÎ
) {

397 ià(
fe
.
	`exi¡s
(è&& fe.
	`isFe
()) {

398 
IÅutSŒ—m
 
is
 = 
nuÎ
;

399 
Œy
 {

400 
is
 = 
Ãw
 
	`Bufã»dIÅutSŒ—m
Òew 
	`FeIÅutSŒ—m
(
fe
));

401 
guess
 = 
URLCÚÃùiÚ
.
	`guessCÚ‹ÁTy³FromSŒ—m
(
is
);

402 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

403 } 
fš®ly
 {

404 ià(
is
 !ğ
nuÎ
) {

405 
Œy
 {

406 
is
.
	`şo£
();

407 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

413 
SŒšg
 
f’ame
 = 
fe
.
	`g‘Name
().
	`»¶aû
(".jenc", "");

414 
dÙ
 = 
f’ame
.
	`Ï¡IndexOf
(".") + 1;

415 ià(
dÙ
 > 0 && dÙ < 
f’ame
.
	`Ëngth
()) {

416 
f’ame
.
	`sub¡ršg
(
dÙ
)) {

424 
guess
 = "text/markdown";

427 
guess
 = "text/plain";

430 
guess
 = "image/webp";

434 
guess
 = "image/jpeg";

437 
guess
 = "image/png";

442 ià(
TextUts
.
	`isEm±y
(
guess
)) {

443 
guess
 = 
URLCÚÃùiÚ
.
	`guessCÚ‹ÁTy³FromName
(
f’ame
);

447  
TextUts
.
	`isEm±y
(
guess
) ? "*/*" : guess;

448 
	}
}

450 
public
 
boŞ—n
 
	$isTextFe
(
Fe
 
fe
) {

451 
SŒšg
 
mime
 = 
	`g‘MimeTy³
(
fe
);

452  
mime
 !ğ
nuÎ
 && mime.
	`¡¬tsW™h
("text/");

453 
	}
}

459 
public
 
	$»Œ›veTextFeSumm¬y
(
Fe
 
fe
, 
AtomicIÁeg”
 
numCh¬aù”s
, AtomicIÁeg” 
numLšes
, AtomicIÁeg” 
numWÜds
) {

460 
Bufã»dR—d”
 
br
 = 
nuÎ
;

461 
Œy
 {

462 
br
 = 
Ãw
 
	`Bufã»dR—d”
Òew 
	`FeR—d”
(
fe
));

463 
SŒšg
 
lše
;

464 (
lše
 = 
br
.
	`»adLše
()è!ğ
nuÎ
) {

465 
numLšes
.
	`g‘AndInüem’t
();

466 
numCh¬aù”s
.
	`g‘AndS‘
ÒumCh¬aù”s.
	`g‘
(è+ 
lše
.
	`Ëngth
());

467 ià(!
lše
.
	`equ®s
("")) {

468 
numWÜds
.
	`g‘AndS‘
ÒumWÜds.
	`g‘
(è+ 
lše
.
	`¥l™
("\\s+").
Ëngth
);

471 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

472 
e
.
	`´štSckT¿û
();

473 
numCh¬aù”s
.
	`£t
(-1);

474 
numLšes
.
	`£t
(-1);

475 
numWÜds
.
	`£t
(-1);

476 } 
fš®ly
 {

477 ià(
br
 !ğ
nuÎ
) {

478 
Œy
 {

479 
br
.
	`şo£
();

480 } 
	`ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

484 
	}
}

490 
public
 
SŒšg
 
	$g‘R—dabËFeSize
(
size
, 
boŞ—n
 
abb»vŸtiÚ
) {

491 ià(
size
 <= 0) {

494 
SŒšg
[] 
un™s
 = 
abb»vŸtiÚ
 ? 
Ãw
 String[]{"B", "kB", "MB", "GB", "TB"} :‚ew String[]{"Bytes", "Kilobytes", "Megabytes", "Gigabytes", "Terabytes"};

495 
un™
 = (è(
M©h
.
	`log10
(
size
) / Math.log10(1024));

496  
Ãw
 
	`Decim®FÜm©
("#,##0.#", 
Decim®FÜm©SymbŞs
.
	`g‘In¡ªû
(
LoÿË
.
ENGLISH
)).
	`fÜm©
(
size
 / 
M©h
.
	`pow
(1024, 
un™
)è+ " " + 
un™s
[unit];

497 
	}
}

499 
public
 [] 
	$g‘TimeDiffHMS
(
now
, 
·¡
) {

500 [] 
»t
 = 
Ãw
 [3];

501 
diff
 = 
M©h
.
	`abs
(
now
 - 
·¡
);

502 
»t
[0] = (è(
diff
 / (1000 * 60 * 60));

503 
»t
[1] = (è(
diff
 / (1000 * 60)) % 60;

504 
»t
[2] = (è(
diff
 / 1000) % 60;

505  
»t
;

506 
	}
}

508 
public
 
SŒšg
 
	$g‘HumªR—dabËBy‹CouÁSI
(
fš®
 
by‹s
) {

509 ià(
by‹s
 < 1000) {

510  
SŒšg
.
	`fÜm©
(
LoÿË
.
	`g‘DeçuÉ
(), "%d%s", 
by‹s
, "B");

511 } ià(
by‹s
 < 1000000) {

512  
SŒšg
.
	`fÜm©
(
LoÿË
.
	`g‘DeçuÉ
(), "%.2f%s", (
by‹s
 / 1000f), "KB");

513 } ià(
by‹s
 < 1000000000) {

514  
SŒšg
.
	`fÜm©
(
LoÿË
.
	`g‘DeçuÉ
(), "%.2f%s", (
by‹s
 / 1000000f), "MB");

515 } ià(
by‹s
 < 1000000000000L) {

516  
SŒšg
.
	`fÜm©
(
LoÿË
.
	`g‘DeçuÉ
(), "%.2f%s", (
by‹s
 / 1000000000f), "GB");

518  
SŒšg
.
	`fÜm©
(
LoÿË
.
	`g‘DeçuÉ
(), "%.2f%s", (
by‹s
 / 1000000000000f), "TB");

520 
	}
}

522 
public
 
Fe
 
	$još
(
Fe
 
fe
, 
SŒšg
... 
chdSegm’ts
) {

523 
fš®
 
SŒšg
 
s
 : 
chdSegm’ts
 !ğ
nuÎ
 ? chdSegm’t : 
Ãw
 String[0]) {

524 
fe
 = 
Ãw
 
	`Fe
(fe, 
s
);

526  
fe
;

527 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/GashMap.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

8 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

10 @
Suµ»ssW¬nšgs
({"unchecked", "UnusedReturnValue", "WeakerAccess", "unused"})

11 
public
 
şass
 
	gGashM­
<
	gK
, 
	gV
> {

12 
´iv©e
 
fš®
 
	gHashM­
<
	gK
, 
	gV
> 
	g_d©a
 = 
Ãw
 
HashM­
<>();

13 
´iv©e
 
V
 
	g_deçuÉV®ue
 = 
nuÎ
;

16 
public
 
	gGashM­
<
	gK
, 
	gV
> 
lßd
(
Objeù
... 
keysAndV®ues2—ch
) {

17 
	g_d©a
.
ş—r
();

18 ià(
	gkeysAndV®ues2—ch
 !ğ
nuÎ
 && 
keysAndV®ues2—ch
.
Ëngth
 >= 2) {

19 
i
 = 0; 
	gi
 + 1 < 
	gkeysAndV®ues2—ch
.
	gËngth
; i += 2) {

20 
_d©a
.
put
((
K
è
keysAndV®ues2—ch
[
i
], (
V
) keysAndValues2each[i + 1]);

21 ià(
	gi
 =ğ0 && 
_deçuÉV®ue
 =ğ
nuÎ
) {

22 
_deçuÉV®ue
 = (
V
è
keysAndV®ues2—ch
[
i
 + 1];

26  
	gthis
;

29 
public
 
V
 
g‘OrDeçuÉ
(
K
 
key
) {

30  
	g_d©a
.
cÚšsKey
(
key
è? _d©a.
g‘
(keyè: 
_deçuÉV®ue
;

33 
public
 
V
 
g‘OrDeçuÉ
(
K
 
key
, V 
d
) {

34 
w™hDeçuÉ
(
d
);

35  
	g_d©a
.
cÚšsKey
(
key
è? _d©a.
g‘
(keyè: 
_deçuÉV®ue
;

38 
public
 
	gHashM­
<
	gK
, 
	gV
> 
d©a
() {

39  
	g_d©a
;

42 
public
 
	gGashM­
<
	gK
, 
	gV
> 
w™hDeçuÉ
(
V
 
d
) {

43 
	g_deçuÉV®ue
 = 
d
;

44  
	gthis
;

	@app/src/main/java/net/gsantner/opoc/util/NanoProfiler.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©
;

14 
impÜt
 
	gjava
.
	g‹xt
.
	gDecim®FÜm©SymbŞs
;

15 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

20 
public
 cÏs 
	cNªoProf”
 {

21 
´iv©e
 
fš®
 
Decim®FÜm©
 
	mfÜm©‹r
 = 
Ãw
 Decim®FÜm©("000000000.0000000", 
Decim®FÜm©SymbŞs
.
g‘In¡ªû
(
LoÿË
.
ENGLISH
));

22 
´iv©e
 
	m_´ofšgGroupV®ue
 = 0;

23 
´iv©e
 
	m_groupCouÁ
 = 0;

24 
´iv©e
 
boŞ—n
 
	m_´of”EÇbËd
 = 
Œue
;

25 
´iv©e
 
	m_´ofšgV®ue
 = -1;

26 
´iv©e
 
SŒšg
 
	m_‹xt
;

27 
´iv©e
 
SŒšg
 
	m_debugText
 = "";

29 
public
 
NªoProf”
 
	$£tEÇbËd
(
boŞ—n
 
’abËd
) {

30 
_´of”EÇbËd
 = 
’abËd
;

31  
this
;

34 
public
 
SŒšg
 
	$»£tDebugText
() {

35 
SŒšg
 
‹xt
 = 
_debugText
;

36 
_debugText
 = "";

37  
‹xt
;

38 
	}
}

40 
public
 
	$¡¬t
(
boŞ—n
 
šü—£GroupCouÁ”
, 
SŒšg
... 
İtiÚ®Text
) {

41 ià(
_´of”EÇbËd
) {

42 ià(
šü—£GroupCouÁ”
) {

43 
_groupCouÁ
++;

44 
_´ofšgGroupV®ue
 = 0;

46 
_‹xt
 = 
İtiÚ®Text
 !ğ
nuÎ
 && o±iÚ®Text.
Ëngth
 == 1 ? optionalText[0] : "action";

47 
_´ofšgV®ue
 = 
Sy¡em
.
	`ÇnoTime
();

49 
	}
}

51 
public
 
	$»¡¬t
(
SŒšg
... 
İtiÚ®Text
) {

52 
	`’d
();

53 
	`¡¬t
(
çl£
, 
İtiÚ®Text
);

54 
	}
}

56 
public
 
	$´štProfšgGroup
() {

57 ià(
_´of”EÇbËd
) {

58 
SŒšg
 
‹xt
 = 
fÜm©‹r
.
	`fÜm©
(
_´ofšgGroupV®ue
 / 1000f).
	`»¶aûAÎ
("\\G0", " "è+ " [ms] fÜ Grou°" + 
_groupCouÁ
;

59 
‹xt
 = "NªoProf”::: " + 
_groupCouÁ
 +ext;

60 
_debugText
 +ğ
‹xt
 + "\n";

61 
Sy¡em
.
out
.
	`´šn
(
‹xt
);

63 
	}
}

65 
public
 
	$’d
() {

66 
now
 = 
Sy¡em
.
	`ÇnoTime
();

67 ià(
_´of”EÇbËd
) {

68 
_´ofšgV®ue
 = 
now
 - _profilingValue;

69 
_´ofšgGroupV®ue
 +ğ
_´ofšgV®ue
 / 1000f;

70 
SŒšg
 
‹xt
 = 
fÜm©‹r
.
	`fÜm©
(
_´ofšgV®ue
 / 1000f).
	`»¶aûAÎ
("\\G0", " "è+ " [Âµs] fÜ " + 
_‹xt
;

71 
‹xt
 = "NªoProf”::: " + 
_groupCouÁ
 +ext;

72 
_debugText
 +ğ
‹xt
 + "\n";

73 
Sy¡em
.
out
.
	`´šn
(
‹xt
);

75 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/NetworkUtils.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gÜg
.
	gjsÚ
.
	gJSONObjeù
;

15 
impÜt
 
	gjava
.
	gio
.
	gFe
;

16 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

17 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

18 
impÜt
 
	gjava
.
	gio
.
	gIÅutSŒ—m
;

19 
impÜt
 
	gjava
.
	gio
.
	gOuutSŒ—m
;

20 
impÜt
 
	gjava
.
	gio
.
	gUnsuµÜ‹dEncodšgExû±iÚ
;

21 
impÜt
 
	gjava
.
	gÃt
.
	gH‰pURLCÚÃùiÚ
;

22 
impÜt
 
	gjava
.
	gÃt
.
	gM®fÜmedURLExû±iÚ
;

23 
impÜt
 
	gjava
.
	gÃt
.
	gURL
;

24 
impÜt
 
	gjava
.
	gÃt
.
	gURLDecod”
;

25 
impÜt
 
	gjava
.
	gÃt
.
	gURLEncod”
;

26 
impÜt
 
	gjava
.
	gnio
.
	gch¬£t
.
	gCh¬£t
;

27 
impÜt
 
	gjava
.
	gut
.
	gHashM­
;

28 
impÜt
 
	gjava
.
	gut
.
	gM­
;

30 @
Suµ»ssW¬nšgs
({"WeakerAccess", "unused", "SameParameterValue", "SpellCheckingInspection", "deprecation"})

31 
public
 cÏs 
	cN‘wÜkUts
 {

32 
´iv©e
 
fš®
 
SŒšg
 
	mUTF8
 = "UTF-8";

33 
public
 
fš®
 
SŒšg
 
	mGET
 = "GET";

34 
public
 
fš®
 
SŒšg
 
	mPOST
 = "POST";

35 
public
 
fš®
 
SŒšg
 
	mPATCH
 = "PATCH";

37 
´iv©e
 
fš®
 
	mBUFFER_SIZE
 = 4096;

41 
public
 
boŞ—n
 
	$dowÆßdFe
(
fš®
 
SŒšg
 
u¾
, fš® 
Fe
 
out
) {

42  
	`dowÆßdFe
(
u¾
, 
out
, 
nuÎ
);

45 
public
 
boŞ—n
 
	`dowÆßdFe
(
fš®
 
SŒšg
 
u¾
, fš® 
Fe
 
out
, fš® 
C®lback
.
a1
<
Flßt
> 
´og»ssC®lback
) {

46 
Œy
 {

47  
	`dowÆßdFe
(
Ãw
 
	`URL
(
u¾
), 
out
, 
´og»ssC®lback
);

48 } 
	`ÿtch
 (
M®fÜmedURLExû±iÚ
 
e
) {

50 
e
.
	`´štSckT¿û
();

51  
çl£
;

53 
	}
}

55 
public
 
boŞ—n
 
dowÆßdFe
(
fš®
 
URL
 
u¾
, fš® 
Fe
 
outFe
, fš® 
C®lback
.
a1
<
Flßt
> 
´og»ssC®lback
) {

56  
dowÆßdFe
(
u¾
, 
outFe
, 
nuÎ
, 
´og»ssC®lback
);

59 
public
 
boŞ—n
 
dowÆßdFe
(
fš®
 
URL
 
u¾
, fš® 
Fe
 
outFe
, 
H‰pURLCÚÃùiÚ
 
cÚÃùiÚ
, fš® 
C®lback
.
a1
<
Flßt
> 
´og»ssC®lback
) {

60 
IÅutSŒ—m
 
	gšput
 = 
nuÎ
;

61 
OuutSŒ—m
 
	gouut
 = 
nuÎ
;

62 
	gŒy
 {

63 ià(
	gcÚÃùiÚ
 =ğ
nuÎ
) {

64 
cÚÃùiÚ
 = (
H‰pURLCÚÃùiÚ
è
u¾
.
İ’CÚÃùiÚ
();

66 
	gcÚÃùiÚ
.
cÚÃù
();

67 
	gšput
 = 
cÚÃùiÚ
.
g‘Re¥Ú£Code
(è< 
H‰pURLCÚÃùiÚ
.
HTTP_BAD_REQUEST


68 ? 
cÚÃùiÚ
.
g‘IÅutSŒ—m
(è: cÚÃùiÚ.
g‘E¼ÜSŒ—m
();

71 ià(!
	goutFe
.
g‘P¬’tFe
().
isDœeùÜy
())

72 ià(!
	goutFe
.
g‘P¬’tFe
().
mkdœs
())

73  
	gçl£
;

74 
	gouut
 = 
Ãw
 
FeOuutSŒ—m
(
outFe
);

76 
	gcouÁ
;

77 
	gwr™‹n
 = 0;

78 
fš®
 
	gšvL’gth
 = 1à/ 
cÚÃùiÚ
.
g‘CÚ‹ÁL’gth
();

80 
	gby‹
[] 
	gd©a
 = 
Ãw
 
by‹
[
BUFFER_SIZE
];

81 (
	gcouÁ
 = 
šput
.
»ad
(
d©a
)) != -1) {

82 
ouut
.
wr™e
(
d©a
, 0, 
couÁ
);

83 ià(
	gšvL’gth
 !ğ-1à&& 
´og»ssC®lback
 !ğ
nuÎ
) {

84 
wr™‹n
 +ğ
couÁ
;

85 
	g´og»ssC®lback
.
ÿÎback
(
wr™‹n
 * 
švL’gth
);

89  
	gŒue
;

90 } 
ÿtch
 (
IOExû±iÚ
 
e
) {

91 
	ge
.
´štSckT¿û
();

92  
	gçl£
;

93 } 
	gfš®ly
 {

94 
	gŒy
 {

95 ià(
	gouut
 !ğ
nuÎ
)

96 
ouut
.
şo£
();

97 ià(
	gšput
 !ğ
nuÎ
)

98 
šput
.
şo£
();

99 } 
ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

101 ià(
	gcÚÃùiÚ
 !ğ
nuÎ
)

102 
cÚÃùiÚ
.
discÚÃù
();

107 
public
 
SŒšg
 
	$³rfÜmC®l
(
fš®
 
SŒšg
 
u¾
, fš® SŒšg 
m‘hod
) {

108 
Œy
 {

109  
	`³rfÜmC®l
(
Ãw
 
	`URL
(
u¾
), 
m‘hod
, "");

110 } 
	`ÿtch
 (
M®fÜmedURLExû±iÚ
 
e
) {

111 
e
.
	`´štSckT¿û
();

114 
	}
}

116 
public
 
SŒšg
 
	$³rfÜmC®l
(
fš®
 
SŒšg
 
u¾
, fš® SŒšg 
m‘hod
, fš® SŒšg 
d©a
) {

117 
Œy
 {

118  
	`³rfÜmC®l
(
Ãw
 
	`URL
(
u¾
), 
m‘hod
, 
d©a
);

119 } 
	`ÿtch
 (
M®fÜmedURLExû±iÚ
 
e
) {

120 
e
.
	`´štSckT¿û
();

123 
	}
}

126 
public
 
SŒšg
 
³rfÜmC®l
(
fš®
 SŒšg 
u¾
, fš® SŒšg 
m‘hod
, fš® 
HashM­
<SŒšg, SŒšg> 
·¿ms
) {

127 
	gŒy
 {

128  
³rfÜmC®l
(
Ãw
 
URL
(
u¾
), 
m‘hod
, 
’codeQu”y
(
·¿ms
));

129 } 
ÿtch
 (
UnsuµÜ‹dEncodšgExû±iÚ
 | 
M®fÜmedURLExû±iÚ
 
e
) {

130 
	ge
.
´štSckT¿û
();

136 
public
 
SŒšg
 
	$³rfÜmC®l
(
fš®
 
SŒšg
 
u¾
, fš® 
JSONObjeù
 
jsÚ
) {

137  
	`³rfÜmC®l
(
u¾
, 
POST
, 
jsÚ
);

138 
	}
}

140 
public
 
SŒšg
 
	$³rfÜmC®l
(
fš®
 
SŒšg
 
u¾
, fš® SŒšg 
m‘hod
, fš® 
JSONObjeù
 
jsÚ
) {

141 
Œy
 {

142  
	`³rfÜmC®l
(
Ãw
 
	`URL
(
u¾
), 
m‘hod
, 
jsÚ
.
	`toSŒšg
());

143 } 
	`ÿtch
 (
M®fÜmedURLExû±iÚ
 
e
) {

144 
e
.
	`´štSckT¿û
();

147 
	}
}

149 
´iv©e
 
SŒšg
 
	$³rfÜmC®l
(
fš®
 
URL
 
u¾
, fš® 
SŒšg
 
m‘hod
, fš® SŒšg 
d©a
) {

150  
	`³rfÜmC®l
(
u¾
, 
m‘hod
, 
d©a
, 
nuÎ
);

151 
	}
}

153 @
Suµ»ssW¬nšgs
("CharsetObjectCanBeUsed")

154 
´iv©e
 
SŒšg
 
	$³rfÜmC®l
(
fš®
 
URL
 
u¾
, fš® 
SŒšg
 
m‘hod
, fš® SŒšg 
d©a
, fš® 
H‰pURLCÚÃùiÚ
 
exi¡šgCÚÃùiÚ
) {

155 
Œy
 {

156 
fš®
 
H‰pURLCÚÃùiÚ
 
cÚÃùiÚ
 = 
exi¡šgCÚÃùiÚ
 !ğ
nuÎ


157 ? 
exi¡šgCÚÃùiÚ
 : (
H‰pURLCÚÃùiÚ
è
u¾
.
	`İ’CÚÃùiÚ
();

158 
cÚÃùiÚ
.
	`£tReque¡M‘hod
(
m‘hod
);

159 
cÚÃùiÚ
.
	`£tDoIÅut
(
Œue
);

161 ià(
d©a
 !ğ
nuÎ
 && !d©a.
	`isEm±y
()) {

162 
cÚÃùiÚ
.
	`£tDoOuut
(
Œue
);

163 
fš®
 
OuutSŒ—m
 
ouut
 = 
cÚÃùiÚ
.
	`g‘OuutSŒ—m
();

164 
ouut
.
	`wr™e
(
d©a
.
	`g‘By‹s
(
Ch¬£t
.
	`fÜName
("UTF-8")));

165 
ouut
.
	`æush
();

166 
ouut
.
	`şo£
();

169 
IÅutSŒ—m
 
šput
 = 
cÚÃùiÚ
.
	`g‘Re¥Ú£Code
(è< 
H‰pURLCÚÃùiÚ
.
HTTP_BAD_REQUEST


170 ? 
cÚÃùiÚ
.
	`g‘IÅutSŒ—m
(è: cÚÃùiÚ.
	`g‘E¼ÜSŒ—m
();

172  
FeUts
.
	`»adClo£TextSŒ—m
(
cÚÃùiÚ
.
	`g‘IÅutSŒ—m
());

173 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

174 
e
.
	`´štSckT¿û
();

177 
	}
}

179 
´iv©e
 
SŒšg
 
’codeQu”y
(
fš®
 
HashM­
<SŒšg, SŒšg> 
·¿ms
è
throws
 
	gUnsuµÜ‹dEncodšgExû±iÚ
 {

180 
fš®
 
SŒšgBud”
 
	g»suÉ
 = 
Ãw
 StringBuilder();

181 
boŞ—n
 
	gfœ¡
 = 
Œue
;

182 
	gM­
.
	gEÁry
<
	gSŒšg
, SŒšg> 
	g’Œy
 : 
·¿ms
.
’ŒyS‘
()) {

183 ià(
fœ¡
èfœ¡ = 
çl£
;

184 
	g»suÉ
.
­³nd
("&");

186 
	g»suÉ
.
­³nd
(
URLEncod”
.
’code
(
’Œy
.
g‘Key
(), 
UTF8
));

187 
	g»suÉ
.
­³nd
("=");

188 
	g»suÉ
.
­³nd
(
URLEncod”
.
’code
(
’Œy
.
g‘V®ue
(), 
UTF8
));

191  
	g»suÉ
.
toSŒšg
();

194 
public
 
	gHashM­
<
	gSŒšg
, SŒšg> 
	$g‘D©aM­
(
fš®
 
SŒšg
 
qu”y
) {

195 
fš®
 
HashM­
<
SŒšg
, SŒšg> 
»suÉ
 = 
Ãw
 HashMap<>();

196 
fš®
 
SŒšgBud”
 
sb
 = 
Ãw
 
	`SŒšgBud”
();

197 
SŒšg
 
Çme
 = "";

199 
Œy
 {

200 
i
 = 0; i < 
qu”y
.
	`Ëngth
(); i++) {

201 
c
 = 
qu”y
.
	`ch¬At
(
i
);

202 
c
) {

204 
Çme
 = 
URLDecod”
.
	`decode
(
sb
.
	`toSŒšg
(), 
UTF8
);

205 
sb
.
	`£tL’gth
(0);

208 
»suÉ
.
	`put
(
Çme
, 
URLDecod”
.
	`decode
(
sb
.
	`toSŒšg
(), 
UTF8
));

209 
sb
.
	`£tL’gth
(0);

212 
sb
.
	`­³nd
(
c
);

216 ià(!
Çme
.
	`isEm±y
())

217 
»suÉ
.
	`put
(
Çme
, 
URLDecod”
.
	`decode
(
sb
.
	`toSŒšg
(), 
UTF8
));

218 } 
	`ÿtch
 (
UnsuµÜ‹dEncodšgExû±iÚ
 
e
) {

219 
e
.
	`´štSckT¿û
();

222  
»suÉ
;

223 
	}
}

225 
public
 
h‰pG‘Async
(
fš®
 
SŒšg
 
u¾
, fš® 
C®lback
.
a1
<SŒšg> 
ÿÎback
) {

226 
Ãw
 
Th»ad
(() -> {

227 
Œy
 {

228 
SŒšg
 
c
 = 
N‘wÜkUts
.
³rfÜmC®l
(
u¾
, 
GET
);

229 
ÿÎback
.ÿÎback(
c
);

230 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

232 }).
¡¬t
();

	@app/src/main/java/net/gsantner/opoc/util/PermissionChecker.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	gMªiã¡
;

14 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gPackageMªag”
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gAùiv™yCom·t
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

20 
impÜt
 
	gjava
.
	gio
.
	gFe
;

22 @
Suµ»ssW¬nšgs
({"unused", "WeakerAccess"})

23 
public
 cÏs 
	cP”missiÚCheck”
 {

24 
´Ùeùed
 
fš®
 
	mCODE_PERMISSION_EXTERNAL_STORAGE
 = 4000;

26 
´Ùeùed
 
Aùiv™y
 
	m_aùiv™y
;

28 
public
 
	$P”missiÚCheck”
(
Aùiv™y
 
aùiv™y
) {

29 
_aùiv™y
 = 
aùiv™y
;

32 
public
 
boŞ—n
 
	$doIfExtStÜageP”missiÚG¿Áed
(
SŒšg
... 
İtiÚ®Tß¡Mes§geFÜKnowšgWhyN“ded
) {

33 ià(
CÚ‹xtCom·t
.
	`checkS–fP”missiÚ
(
_aùiv™y
, 
Mªiã¡
.
³rmissiÚ
.
WRITE_EXTERNAL_STORAGE
è!ğ
PackageMªag”
.
PERMISSION_GRANTED
) {

35 ià(
İtiÚ®Tß¡Mes§geFÜKnowšgWhyN“ded
 !ğ
nuÎ
 && o±iÚ®Tß¡Mes§geFÜKnowšgWhyN“ded.
Ëngth
 > 0 && optionalToastMessageForKnowingWhyNeeded[0] !=‚ull) {

36 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
_aùiv™y
)

37 .
	`£tMes§ge
(
İtiÚ®Tß¡Mes§geFÜKnowšgWhyN“ded
[0])

38 .
	`£tCªûÏbË
(
çl£
)

39 .
	`£tNeg©iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
no
, 
nuÎ
)

40 .
	`£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
yes
, (
dŸlog
, 
which
) -> {

41 ià(
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 >= 23) {

42 
Aùiv™yCom·t
.
	`»que¡P”missiÚs
(
_aùiv™y
, 
Ãw
 
SŒšg
[]{
Mªiã¡
.
³rmissiÚ
.
WRITE_EXTERNAL_STORAGE
}, 
CODE_PERMISSION_EXTERNAL_STORAGE
);

45 .
	`show
();

46  
çl£
;

48 
Aùiv™yCom·t
.
	`»que¡P”missiÚs
(
_aùiv™y
, 
Ãw
 
SŒšg
[]{
Mªiã¡
.
³rmissiÚ
.
WRITE_EXTERNAL_STORAGE
}, 
CODE_PERMISSION_EXTERNAL_STORAGE
);

49  
çl£
;

51  
Œue
;

52 
	}
}

54 
public
 
boŞ—n
 
	$checkP”missiÚResuÉ
(
»que¡Code
, 
SŒšg
[] 
³rmissiÚs
, [] 
g¿ÁResuÉs
) {

55 ià(
g¿ÁResuÉs
.
Ëngth
 > 0) {

56 
»que¡Code
) {

57 
CODE_PERMISSION_EXTERNAL_STORAGE
: {

58 ià(
g¿ÁResuÉs
[0] =ğ
PackageMªag”
.
PERMISSION_GRANTED
) {

59  
Œue
;

64  
çl£
;

65 
	}
}

67 
public
 
boŞ—n
 
	$mkdœIfStÜageP”missiÚG¿Áed
(
Fe
 
dœ
) {

68  
	`doIfExtStÜageP”missiÚG¿Áed
(è&& (
dœ
.
	`exi¡s
(è|| dœ.
	`mkdœs
());

69 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/ShareUtil.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

13 
impÜt
 
	gªdroid
.
	gMªiã¡
;

14 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

15 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

16 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gAùiv™yNÙFoundExû±iÚ
;

17 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gBrßdÿ¡Reûiv”
;

18 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gClD©a
;

19 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

20 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

21 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’tF‹r
;

22 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gPackageMªag”
;

23 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gpm
.
	gResŞveInfo
;

24 
impÜt
 
	gªdroid
.
	gd©aba£
.
	gCursÜ
;

25 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­
;

26 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

27 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

28 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

29 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

30 
impÜt
 
	gªdroid
.
	gos
.
	gEnvœÚm’t
;

31 
impÜt
 
	gªdroid
.
	gos
.
	gHªdËr
;

32 
impÜt
 
	gªdroid
.
	gos
.
	gP¬ûlFeDesütÜ
;

33 
impÜt
 
	gªdroid
.
	g´št
.
	gPrštA‰ribu‹s
;

34 
impÜt
 
	gªdroid
.
	g´št
.
	gPrštDocum’tAd­‹r
;

35 
impÜt
 
	gªdroid
.
	g´št
.
	gPrštJob
;

36 
impÜt
 
	gªdroid
.
	g´št
.
	gPrštMªag”
;

37 
impÜt
 
	gªdroid
.
	g´ovid”
.
	gC®’d¬CÚŒaù
;

38 
impÜt
 
	gªdroid
.
	g´ovid”
.
	gMedŸStÜe
;

39 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gD¿wabËRes
;

40 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNuÎabË
;

41 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

42 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

43 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gAùiv™yCom·t
;

44 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

45 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gFeProvid”
;

46 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gLoÿlBrßdÿ¡Mªag”
;

47 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gpm
.
	gShÜtcutInfoCom·t
;

48 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gpm
.
	gShÜtcutMªag”Com·t
;

49 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gg¿phics
.
	gd¿wabË
.
	gIcÚCom·t
;

50 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g´ovid”
.
	gDocum’tFe
;

51 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gut
.
	gPaœ
;

52 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

53 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûMªag”
;

54 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

55 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

56 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

57 
impÜt
 
	gªdroid
.
	gwebk™
.
	gWebV›w
;

58 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

59 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

61 
impÜt
 
	gjava
.
	gio
.
	gFe
;

62 
impÜt
 
	gjava
.
	gio
.
	gFeDesütÜ
;

63 
impÜt
 
	gjava
.
	gio
.
	gFeIÅutSŒ—m
;

64 
impÜt
 
	gjava
.
	gio
.
	gFeOuutSŒ—m
;

65 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

66 
impÜt
 
	gjava
.
	g‹xt
.
	gSim¶eD©eFÜm©
;

67 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

68 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

69 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

70 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

71 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

72 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

74 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
.
	gRESULT_OK
;

81 @
Suµ»ssW¬nšgs
({"UnusedReturnValue", "WeakerAccess", "SameParameterValue", "unused", "deprecation", "ConstantConditions", "ObsoleteSdkInt", "SpellCheckingInspection", "JavadocReference", "ConstantLocale"})

82 
public
 cÏs 
	cSh¬eUt
 {

83 
public
 
fš®
 
SŒšg
 
	mEXTRA_FILEPATH
 = "real_file_path_2";

84 
public
 
fš®
 
Sim¶eD©eFÜm©
 
	mSDF_RFC3339_ISH
 = 
Ãw
 Sim¶eD©eFÜm©("yyyy-MM-dd'T'HH-mm-ss", 
LoÿË
.
g‘DeçuÉ
());

85 
public
 
fš®
 
Sim¶eD©eFÜm©
 
	mSDF_IMAGES
 = 
Ãw
 Sim¶eD©eFÜm©("yyyyMMdd-HHmmss", 
LoÿË
.
g‘DeçuÉ
());

86 
public
 
fš®
 
SŒšg
 
	mMIME_TEXT_PLAIN
 = "text/plain";

87 
public
 
fš®
 
SŒšg
 
	mPREF_KEY__SAF_TREE_URI
 = "pref_key__saf_tree_uri";

89 
public
 
fš®
 
	mREQUEST_CAMERA_PICTURE
 = 50001;

90 
public
 
fš®
 
	mREQUEST_PICK_PICTURE
 = 50002;

91 
public
 
fš®
 
	mREQUEST_SAF
 = 50003;

93 
public
 
fš®
 
	mMIN_OVERWRITE_LENGTH
 = 5;

95 
´Ùeùed
 
SŒšg
 
	m_Ï¡Cam”aPiùu»F•©h
;

97 
´Ùeùed
 
CÚ‹xt
 
	m_cÚ‹xt
;

98 
´Ùeùed
 
SŒšg
 
	m_choo£rT™Ë
;

100 
public
 
	$Sh¬eUt
(
fš®
 
CÚ‹xt
 
cÚ‹xt
) {

101 
_cÚ‹xt
 = 
cÚ‹xt
;

102 
_choo£rT™Ë
 = "â¥";

105 
public
 
	$£tCÚ‹xt
(
fš®
 
CÚ‹xt
 
c
) {

106 
_cÚ‹xt
 = 
c
;

107 
	}
}

109 
public
 
	$ä“CÚ‹xtRef
() {

110 
_cÚ‹xt
 = 
nuÎ
;

111 
	}
}

113 
public
 
SŒšg
 
	$g‘FeProvid”AuthÜ™y
() {

114 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
);

115 
fš®
 
SŒšg
 
´ovid”
 = 
cu
.
	`g‘FeProvid”
();

116 
cu
.
	`ä“CÚ‹xtRef
();

117 ià(
TextUts
.
	`isEm±y
(
´ovid”
)) {

118 
throw
 
Ãw
 
	`RuÁimeExû±iÚ
("Error‡t ShareUtil.getFileProviderAuthority(): No FileProvider‡uthority…rovided");

120  
´ovid”
;

121 
	}
}

124 
public
 
Sh¬eUt
 
	$£tChoo£rT™Ë
(
fš®
 
SŒšg
 
t™Ë
) {

125 
_choo£rT™Ë
 = 
t™Ë
;

126  
this
;

127 
	}
}

135 
public
 
Uri
 
	$g‘UriByFeProvid”AuthÜ™y
(
fš®
 
Fe
 
fe
) {

136  
FeProvid”
.
	`g‘UriFÜFe
(
_cÚ‹xt
, 
	`g‘FeProvid”AuthÜ™y
(), 
fe
);

137 
	}
}

145 
public
 
	$showChoo£r
(
fš®
 
IÁ’t
 
š‹Á
, fš® 
SŒšg
 
choo£rText
) {

146 
Œy
 {

147 
_cÚ‹xt
.
	`¡¬tAùiv™y
(
IÁ’t
.
	`ü—‹Choo£r
(
š‹Á
, 
choo£rText
 !ğ
nuÎ
 ? choo£rTexˆ: 
_choo£rT™Ë
));

148 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

150 
	}
}

161 
public
 
ü—‹Launch”DesktİShÜtcut
(
fš®
 
IÁ’t
 
š‹Á
, @
D¿wabËRes
 fš® 
icÚRes
, fš® 
SŒšg
 
t™Ë
) {

162 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_NEW_TASK
);

163 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_CLEAR_TOP
);

164 ià(
	gš‹Á
.
g‘AùiÚ
(è=ğ
nuÎ
) {

165 
š‹Á
.
£tAùiÚ
(
IÁ’t
.
ACTION_VIEW
);

168 
ShÜtcutInfoCom·t
 
	gshÜtcut
 = 
Ãw
 ShÜtcutInfoCom·t.
Bud”
(
_cÚ‹xt
, 
LÚg
.
toSŒšg
Òew 
Rªdom
().
ÃxtLÚg
()))

169 .
£tIÁ’t
(
š‹Á
)

170 .
£tIcÚ
(
IcÚCom·t
.
ü—‹W™hResourû
(
_cÚ‹xt
, 
icÚRes
))

171 .
£tShÜtLab–
(
t™Ë
)

172 .
£tLÚgLab–
(
t™Ë
)

173 .
bud
();

174 
	gShÜtcutMªag”Com·t
.
»que¡PšShÜtcut
(
_cÚ‹xt
, 
shÜtcut
, 
nuÎ
);

186 
public
 
ü—‹Launch”DesktİShÜtcutLegacy
(
fš®
 
IÁ’t
 
š‹Á
, @
D¿wabËRes
 fš® 
icÚRes
, fš® 
SŒšg
 
t™Ë
) {

187 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_NEW_TASK
);

188 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_ACTIVITY_CLEAR_TOP
);

189 ià(
	gš‹Á
.
g‘AùiÚ
(è=ğ
nuÎ
) {

190 
š‹Á
.
£tAùiÚ
(
IÁ’t
.
ACTION_VIEW
);

193 
IÁ’t
 
	gü—tiÚIÁ’t
 = 
Ãw
 Intent("com.android.launcher.action.INSTALL_SHORTCUT");

194 
	gü—tiÚIÁ’t
.
putExŒa
("du¶iÿ‹", 
Œue
);

195 
	gü—tiÚIÁ’t
.
putExŒa
(
IÁ’t
.
EXTRA_SHORTCUT_INTENT
, 
š‹Á
);

196 
	gü—tiÚIÁ’t
.
putExŒa
(
IÁ’t
.
EXTRA_SHORTCUT_NAME
, 
t™Ë
);

197 
	gü—tiÚIÁ’t
.
putExŒa
(
IÁ’t
.
EXTRA_SHORTCUT_ICON_RESOURCE
, IÁ’t.
ShÜtcutIcÚResourû
.
äomCÚ‹xt
(
_cÚ‹xt
, 
icÚRes
));

198 
	g_cÚ‹xt
.
£ndBrßdÿ¡
(
ü—tiÚIÁ’t
);

207 
public
 
sh¬eText
(
fš®
 
SŒšg
 
‹xt
, @
NuÎabË
 fš® SŒšg 
mimeTy³
) {

208 
IÁ’t
 
	gš‹Á
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_SEND
);

209 
	gš‹Á
.
putExŒa
(
IÁ’t
.
EXTRA_TEXT
, 
‹xt
);

210 
	gš‹Á
.
£tTy³
(
mimeTy³
 !ğ
nuÎ
 ? mimeTy³ : 
MIME_TEXT_PLAIN
);

211 
showChoo£r
(
š‹Á
, 
nuÎ
);

220 
public
 
boŞ—n
 
	$sh¬eSŒ—m
(
fš®
 
Fe
 
fe
, fš® 
SŒšg
 
mimeTy³
) {

221 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_SEND
);

222 
š‹Á
.
	`putExŒa
(
EXTRA_FILEPATH
, 
fe
.
	`g‘AbsŞu‹P©h
());

223 
š‹Á
.
	`£tTy³
(
mimeTy³
);

225 
Œy
 {

226 
Uri
 
feUri
 = 
FeProvid”
.
	`g‘UriFÜFe
(
_cÚ‹xt
, 
	`g‘FeProvid”AuthÜ™y
(), 
fe
);

227 
š‹Á
.
	`putExŒa
(
IÁ’t
.
EXTRA_STREAM
, 
feUri
);

228 
	`showChoo£r
(
š‹Á
, 
nuÎ
);

229  
Œue
;

230 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

232  
çl£
;

233 
	}
}

241 
public
 
boŞ—n
 
sh¬eSŒ—mMuÉË
(
fš®
 
CŞËùiÚ
<
Fe
> 
fes
, fš® 
SŒšg
 
mimeTy³
) {

242 
	gA¼ayLi¡
<
	gUri
> 
	guris
 = 
Ãw
 
A¼ayLi¡
<>();

243 
Fe
 
	gfe
 : 
fes
) {

244 
Fe
 
uri
 = 
Ãw
 Fe(
fe
.
toSŒšg
());

245 
	guris
.
add
(
FeProvid”
.
g‘UriFÜFe
(
_cÚ‹xt
, 
g‘FeProvid”AuthÜ™y
(), 
fe
));

248 
	gŒy
 {

249 
IÁ’t
 
	gš‹Á
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_SEND_MULTIPLE
);

250 
	gš‹Á
.
£tTy³
(
mimeTy³
);

251 
	gš‹Á
.
putP¬ûÏbËA¼ayLi¡ExŒa
(
IÁ’t
.
EXTRA_STREAM
, 
uris
);

252 
showChoo£r
(
š‹Á
, 
nuÎ
);

253  
	gŒue
;

254 } 
ÿtch
 (
Exû±iÚ
 
e
) {

255  
	gçl£
;

262 
public
 
boŞ—n
 
ü—‹C®’d¬Aµoštm’t
(@
NuÎabË
 
fš®
 
SŒšg
 
t™Ë
, @NuÎabË fš® SŒšg 
desütiÚ
, @NuÎabË fš® SŒšg 
loÿtiÚ
, @NuÎabË fš® 
LÚg
... 
¡¬tAndEndTime
) {

263 
IÁ’t
 
	gš‹Á
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_INSERT
).
£tD©a
(
C®’d¬CÚŒaù
.
Ev’ts
.
CONTENT_URI
);

264 ià(
	gt™Ë
 !ğ
nuÎ
) {

265 
š‹Á
.
putExŒa
(
C®’d¬CÚŒaù
.
Ev’ts
.
TITLE
, 
t™Ë
);

267 ià(
	gdesütiÚ
 !ğ
nuÎ
) {

268 
š‹Á
.
putExŒa
(
C®’d¬CÚŒaù
.
Ev’ts
.
DESCRIPTION
, (
desütiÚ
.
Ëngth
(è> 800 ? desütiÚ.
sub¡ršg
(0, 800) : description));

270 ià(
	gloÿtiÚ
 !ğ
nuÎ
) {

271 
š‹Á
.
putExŒa
(
C®’d¬CÚŒaù
.
Ev’ts
.
EVENT_LOCATION
, 
loÿtiÚ
);

273 ià(
	g¡¬tAndEndTime
 !ğ
nuÎ
) {

274 ià(
¡¬tAndEndTime
.
Ëngth
 > 0 && startAndEndTime[0] > 0) {

275 
š‹Á
.
putExŒa
(
C®’d¬CÚŒaù
.
EXTRA_EVENT_BEGIN_TIME
, 
¡¬tAndEndTime
[0]);

277 ià(
	g¡¬tAndEndTime
.
	gËngth
 > 1 && startAndEndTime[1] > 0) {

278 
	gš‹Á
.
putExŒa
(
C®’d¬CÚŒaù
.
EXTRA_EVENT_END_TIME
, 
¡¬tAndEndTime
[1]);

282 
	gŒy
 {

283 
	g_cÚ‹xt
.
¡¬tAùiv™y
(
š‹Á
);

284  
	gŒue
;

285 } 
ÿtch
 (
Aùiv™yNÙFoundExû±iÚ
 
e
) {

286  
	gçl£
;

295 
public
 
boŞ—n
 
v›wFeInOth”Aµ
(
fš®
 
Fe
 
fe
, @
NuÎabË
 fš® 
SŒšg
 
ty³
) {

297 
Uri
 
	gfeUri
 = 
nuÎ
;

298 
	gŒy
 {

299 
	gfeUri
 = 
FeProvid”
.
g‘UriFÜFe
(
_cÚ‹xt
, 
g‘FeProvid”AuthÜ™y
(), 
fe
);

300 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

301 
	gŒy
 {

302 
	gfeUri
 = 
Uri
.
äomFe
(
fe
);

303 } 
ÿtch
 (
Exû±iÚ
 
ignÜed2
) {

307 ià(
	gfeUri
 !ğ
nuÎ
) {

308 
IÁ’t
 
š‹Á
 = 
Ãw
 IÁ’t(IÁ’t.
ACTION_VIEW
);

309 
	gš‹Á
.
putExŒa
(
IÁ’t
.
EXTRA_STREAM
, 
feUri
);

310 
	gš‹Á
.
£tD©a
(
feUri
);

311 
	gš‹Á
.
putExŒa
(
EXTRA_FILEPATH
, 
fe
.
g‘AbsŞu‹P©h
());

312 
	gš‹Á
.
addFÏgs
(
IÁ’t
.
FLAG_GRANT_READ_URI_PERMISSION
);

313 
	gš‹Á
.
£tD©aAndTy³
(
feUri
, 
ty³
);

314 
showChoo£r
(
š‹Á
, 
nuÎ
);

315  
	gŒue
;

317  
	gçl£
;

328 
public
 
boŞ—n
 
	$»que¡ApkIn¡®ÏtiÚ
(
fš®
 
Fe
 
fe
) {

329 ià(
fe
 =ğ
nuÎ
 || !fe.
	`g‘Name
().
	`toLow”Ca£
().
	`’dsW™h
(".apk")) {

330  
çl£
;

333 
Uri
 
feUri
 = 
nuÎ
;

334 
Œy
 {

335 
feUri
 = 
FeProvid”
.
	`g‘UriFÜFe
(
_cÚ‹xt
, 
	`g‘FeProvid”AuthÜ™y
(), 
fe
);

336 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

337 
Œy
 {

338 
feUri
 = 
Uri
.
	`äomFe
(
fe
);

339 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed2
) {

343 ià(
feUri
 !ğ
nuÎ
) {

344 
fš®
 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
N
 ? IÁ’t.
ACTION_INSTALL_PACKAGE
 : IÁ’t.
ACTION_VIEW
)

345 .
	`£tFÏgs
(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
N
 ? 
IÁ’t
.
FLAG_GRANT_READ_URI_PERMISSION
 : IÁ’t.
FLAG_ACTIVITY_NEW_TASK
)

346 .
	`£tD©aAndTy³
(
feUri
, "application/vnd.android.package-archive");

347 
_cÚ‹xt
.
	`¡¬tAùiv™y
(
š‹Á
);

348  
Œue
;

350  
çl£
;

351 
	}
}

362 
public
 
boŞ—n
 
	$sh¬eImage
(
fš®
 
B™m­
 
b™m­
, fš® 
IÁeg”
... 
qu®™y
) {

363 
Œy
 {

364 
Fe
 
fe
 = 
Ãw
 
	`Fe
(
_cÚ‹xt
.
	`g‘CacheDœ
(), 
	`g‘F’ameW™hTime¡amp
());

365 ià(
b™m­
 !ğ
nuÎ
 && 
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
).
	`wr™eImageToFe
(
fe
, b™m­, 
qu®™y
)) {

366 
SŒšg
 
x
 = 
FeUts
.
	`g‘MimeTy³
(
fe
);

367 
	`sh¬eSŒ—m
(
fe
, 
FeUts
.
	`g‘MimeTy³
(file));

368  
Œue
;

370 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

372  
çl£
;

373 
	}
}

385 
public
 
SŒšg
 
	$g‘F’ameW™hTime¡amp
(
SŒšg
... 
A0´efixA1po¡fixA2ext
) {

386 
fš®
 
SŒšg
 
´efix
 = (((
A0´efixA1po¡fixA2ext
 !ğ
nuÎ
 && A0´efixA1po¡fixA2ext.
Ëngth
 > 0 && !
TextUts
.
	`isEm±y
(A0´efixA1po¡fixA2ext[0])è? A0´efixA1po¡fixA2ext[0] : "Sü“nshÙ"è+ "_").
	`Œim
().
	`»¶aûFœ¡
("^_$", "");

387 
fš®
 
SŒšg
 
po¡fix
 = ("_" + ((
A0´efixA1po¡fixA2ext
 !ğ
nuÎ
 && A0´efixA1po¡fixA2ext.
Ëngth
 > 1 && !
TextUts
.
	`isEm±y
(A0´efixA1po¡fixA2ext[1])è? A0´efixA1po¡fixA2ext[1] : "")).
	`Œim
().
	`»¶aûFœ¡
("^_$", "");

388 
fš®
 
SŒšg
 
ext
 = (
A0´efixA1po¡fixA2ext
 !ğ
nuÎ
 && A0´efixA1po¡fixA2ext.
Ëngth
 > 2 && !
TextUts
.
	`isEm±y
(A0prefixA1postfixA2ext[2])) ? A0prefixA1postfixA2ext[2] : "jpg";

389  
SŒšg
.
	`fÜm©
("%s%s%s.%s", 
´efix
.
	`Œim
(), 
SDF_IMAGES
.fÜm©(
Ãw
 
	`D©e
()), 
po¡fix
.Œim(), 
ext
.
	`toLow”Ca£
().
	`»¶aû
(".", "").replace("jpeg", "jpg"));

390 
	}
}

399 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
KITKAT
)

400 
public
 
PrštJob
 
	$´št
(
fš®
 
WebV›w
 
webv›w
, fš® 
SŒšg
 
jobName
, fš® 
boŞ—n
... 
Ïndsÿ³
) {

401 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
KITKAT
) {

402 
fš®
 
PrštDocum’tAd­‹r
 
´štAd­‹r
;

403 
fš®
 
PrštMªag”
 
´štMªag”
 = (PrštMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
PRINT_SERVICE
);

404 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
LOLLIPOP
) {

405 
´štAd­‹r
 = 
webv›w
.
	`ü—‹PrštDocum’tAd­‹r
(
jobName
);

407 
´štAd­‹r
 = 
webv›w
.
	`ü—‹PrštDocum’tAd­‹r
();

409 
fš®
 
PrštA‰ribu‹s
.
Bud”
 
©Œib
 = 
Ãw
 PrštA‰ribu‹s.
	`Bud”
();

410 ià(
Ïndsÿ³
 !ğ
nuÎ
 &&†ªdsÿ³.
Ëngth
 > 0 &&†andscape[0]) {

411 
©Œib
.
	`£tMedŸSize
(
Ãw
 
PrštA‰ribu‹s
.
	`MedŸSize
("ISO_A4", "android", 11690, 8270));

412 
©Œib
.
	`£tMšM¬gšs
(
Ãw
 
PrštA‰ribu‹s
.
	`M¬gšs
(0, 0, 0, 0));

414 ià(
´štMªag”
 !ğ
nuÎ
) {

415 
Œy
 {

416  
´štMªag”
.
	`´št
(
jobName
, 
´štAd­‹r
, 
©Œib
.
	`bud
());

417 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

421 
Log
.
	`e
(
	`g‘CÏss
().
	`g‘Name
(), "ERROR: Method called onoo†ow Android API version");

423  
nuÎ
;

424 
	}
}

430 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
KITKAT
)

431 
public
 
PrštJob
 
	$ü—‹Pdf
(
fš®
 
WebV›w
 
webv›w
, fš® 
SŒšg
 
jobName
) {

432  
	`´št
(
webv›w
, 
jobName
);

433 
	}
}

442 @
NuÎabË


443 
public
 
B™m­
 
	$g‘B™m­FromWebV›w
(
fš®
 
WebV›w
 
webV›w
, fš® 
boŞ—n
... 
a0fuÎ·ge
) {

444 
Œy
 {

446 ià(
a0fuÎ·ge
 !ğ
nuÎ
 &&‡0fuÎ·ge.
Ëngth
 > 0 &&‡0fullpage[0]) {

447 
widthM—su»S³c
 = 
V›w
.
M—su»S³c
.
	`makeM—su»S³c
(V›w.M—su»S³c.
UNSPECIFIED
, View.MeasureSpec.UNSPECIFIED);

448 
heightM—su»S³c
 = 
V›w
.
M—su»S³c
.
	`makeM—su»S³c
(0, V›w.M—su»S³c.
UNSPECIFIED
);

449 
webV›w
.
	`m—su»
(
widthM—su»S³c
, 
heightM—su»S³c
);

450 
webV›w
.
	`Ïyout
(0, 0, webV›w.
	`g‘M—su»dWidth
(), webV›w.
	`g‘M—su»dHeight
());

454 
webV›w
.
	`budD¿wšgCache
();

457 
B™m­
 
b™m­
 = B™m­.
	`ü—‹B™m­
(
webV›w
.
	`g‘M—su»dWidth
(), webV›w.
	`g‘M—su»dHeight
(), B™m­.
CÚfig
.
ARGB_8888
);

458 
Cªvas
 
ÿnvas
 = 
Ãw
 
	`Cªvas
(
b™m­
);

459 
ÿnvas
.
	`d¿wB™m­
(
b™m­
, 0, b™m­.
	`g‘Height
(), 
Ãw
 
	`Pašt
());

461 
webV›w
.
	`d¿w
(
ÿnvas
);

462 
webV›w
.
	`de¡royD¿wšgCache
();

464  
b™m­
;

465 } 
	`ÿtch
 (
Exû±iÚ
 | 
OutOfMemÜyE¼Ü
 
e
) {

466 
e
.
	`´štSckT¿û
();

467  
nuÎ
;

469 
	}
}

476 
public
 
boŞ—n
 
	$£tClbßrd
(
fš®
 
Ch¬Sequ’û
 
‹xt
) {

477 ià(
Bud
.
VERSION
.
SDK_INT
 < Bud.
VERSION_CODES
.
HONEYCOMB
) {

478 
ªdroid
.
‹xt
.
ClbßrdMªag”
 
cm
 = (×ndroid.‹xt.ClbßrdMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
CLIPBOARD_SERVICE
));

479 ià(
cm
 !ğ
nuÎ
) {

480 
cm
.
	`£tText
(
‹xt
);

481  
Œue
;

484 
ªdroid
.
cÚ‹Á
.
ClbßrdMªag”
 
cm
 = (×ndroid.cÚ‹Á.ClbßrdMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
CLIPBOARD_SERVICE
));

485 ià(
cm
 !ğ
nuÎ
) {

486 
ClD©a
 
ş
 = ClD©a.
	`ÃwPÏšText
(
_cÚ‹xt
.
	`g‘PackageName
(), 
‹xt
);

487 
Œy
 {

488 
cm
.
	`£tPrim¬yCl
(
ş
);

489 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

491  
Œue
;

494  
çl£
;

495 
	}
}

500 
public
 
	gLi¡
<
	gSŒšg
> 
	$g‘Clbßrd
() {

501 
Li¡
<
SŒšg
> 
ş³r
 = 
Ãw
 
A¼ayLi¡
<>();

502 ià(
Bud
.
VERSION
.
SDK_INT
 < Bud.
VERSION_CODES
.
HONEYCOMB
) {

503 
ªdroid
.
‹xt
.
ClbßrdMªag”
 
cm
 = (×ndroid.‹xt.ClbßrdMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
CLIPBOARD_SERVICE
));

504 ià(
cm
 !ğ
nuÎ
 && !
TextUts
.
	`isEm±y
(cm.
	`g‘Text
())) {

505 
ş³r
.
	`add
(
cm
.
	`g‘Text
().
	`toSŒšg
());

508 
ªdroid
.
cÚ‹Á
.
ClbßrdMªag”
 
cm
 = (×ndroid.cÚ‹Á.ClbßrdMªag”è
_cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
CLIPBOARD_SERVICE
));

509 ià(
cm
 !ğ
nuÎ
 && cm.
	`hasPrim¬yCl
()) {

510 
ClD©a
 
d©a
 = 
cm
.
	`g‘Prim¬yCl
();

511 
i
 = 0; 
d©a
 !ğ
nuÎ
 && i < d©a.
	`g‘I‹mCouÁ
() && i < data.getItemCount(); i++) {

512 
ClD©a
.
I‹m
 
™em
 = 
d©a
.
	`g‘I‹mAt
(
i
);

513 ià(
™em
 !ğ
nuÎ
 && !
TextUts
.
	`isEm±y
(™em.
	`g‘Text
())) {

514 
ş³r
.
	`add
(
d©a
.
	`g‘I‹mAt
(
i
).
	`g‘Text
().
	`toSŒšg
());

519  
ş³r
;

520 
	}
}

532 
public
 
·¡eOnHa¡ebš
(
fš®
 
SŒšg
 
‹xt
, fš® 
C®lback
.
a2
<
BoŞ—n
, SŒšg> 
ÿÎback
, fš® SŒšg... 
£rv”OrNÙhšg
) {

533 
fš®
 
HªdËr
 
	ghªdËr
 = 
Ãw
 Handler();

534 
fš®
 
SŒšg
 
	g£rv”
 = (
£rv”OrNÙhšg
 !ğ
nuÎ
 && s”v”OrNÙhšg.
Ëngth
 > 0 && serverOrNothing[0] !=‚ull)

535 ? 
£rv”OrNÙhšg
[0] : "https://hastebin.com";

536 
Ãw
 
Th»ad
() {

537 
public
 
run
() {

539 
SŒšg
 
	g»t
 = 
N‘wÜkUts
.
³rfÜmC®l
(
£rv”
 + "/docum’ts", N‘wÜkUts.
POST
, 
‹xt
);

540 
fš®
 
SŒšg
 
	gkey
 = (
»t
.
Ëngth
(è> 15è?„‘.
¥l™
("\"")[3] : "";

541 
	ghªdËr
.
po¡
((è-> 
ÿÎback
.ÿÎback(!
key
.
isEm±y
(), 
£rv”
 + "/" + key));

543 }.
¡¬t
();

554 
public
 
	$d¿áEma
(
fš®
 
SŒšg
 
subjeù
, fš® SŒšg 
body
, fš® SŒšg... 
to
) {

555 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_SENDTO
);

556 
š‹Á
.
	`£tD©a
(
Uri
.
	`·r£
("mailto:"));

557 ià(
subjeù
 !ğ
nuÎ
) {

558 
š‹Á
.
	`putExŒa
(
IÁ’t
.
EXTRA_SUBJECT
, 
subjeù
);

560 ià(
body
 !ğ
nuÎ
) {

561 
š‹Á
.
	`putExŒa
(
IÁ’t
.
EXTRA_TEXT
, 
body
);

563 ià(
to
 !ğ
nuÎ
 &&o.
Ëngth
 > 0 &&o[0] !=‚ull) {

564 
š‹Á
.
	`putExŒa
(
IÁ’t
.
EXTRA_EMAIL
, 
to
);

566 
	`showChoo£r
(
š‹Á
, 
nuÎ
);

567 
	}
}

575 
public
 
Fe
 
	$exŒaùFeFromIÁ’t
(
fš®
 
IÁ’t
 
»ûivšgIÁ’t
) {

576 
SŒšg
 
aùiÚ
 = 
»ûivšgIÁ’t
.
	`g‘AùiÚ
();

577 
SŒšg
 
ty³
 = 
»ûivšgIÁ’t
.
	`g‘Ty³
();

578 
Fe
 
tmpf
;

579 
SŒšg
 
tmps
;

580 
SŒšg
 
feSŒ
;

582 ià((
IÁ’t
.
ACTION_VIEW
.
	`equ®s
(
aùiÚ
è|| IÁ’t.
ACTION_EDIT
.equ®s×ùiÚ)è|| IÁ’t.
ACTION_SEND
.equals(action)) {

584 ià(
»ûivšgIÁ’t
.
	`hasExŒa
((
tmps
 = 
EXTRA_FILEPATH
))) {

585  
Ãw
 
	`Fe
(
»ûivšgIÁ’t
.
	`g‘SŒšgExŒa
(
tmps
));

589 
Uri
 
feUri
 = 
»ûivšgIÁ’t
.
	`g‘D©a
();

590 ià(
feUri
 !ğ
nuÎ
 && (
feSŒ
 = feUri.
	`toSŒšg
()) !=‚ull) {

592 ià(
feSŒ
.
	`¡¬tsW™h
("file://")) {

593  
Ãw
 
	`Fe
(
feUri
.
	`g‘P©h
());

595 ià(
feSŒ
.
	`¡¬tsW™h
((
tmps
 = "content://"))) {

596 
feSŒ
 = feSŒ.
	`sub¡ršg
(
tmps
.
	`Ëngth
());

597 
SŒšg
 
feProvid”
 = 
feSŒ
.
	`sub¡ršg
(0, feSŒ.
	`šdexOf
("/"));

598 
feSŒ
 = feSŒ.
	`sub¡ršg
(
feProvid”
.
	`Ëngth
() + 1);

601 ià(
feSŒ
.
	`¡¬tsW™h
("storage/")) {

602 
feSŒ
 = "/" + fileStr;

605 
SŒšg
 
´efix
 : 
Ãw
 String[]{"file", "document", "root_files", "name"}) {

606 ià(
feSŒ
.
	`¡¬tsW™h
(
´efix
)) {

607 
feSŒ
 = feSŒ.
	`sub¡ršg
(
´efix
.
	`Ëngth
());

612 
SŒšg
 
´efix
 : 
Ãw
 String[]{"external/", "media/", "storage_root/"}) {

613 ià(
feSŒ
.
	`¡¬tsW™h
((
tmps
 = 
´efix
))) {

614 
Fe
 
f
 = 
Ãw
 
	`Fe
(
Uri
.
	`decode
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().
	`g‘AbsŞu‹P©h
(è+ "/" + 
feSŒ
.
	`sub¡ršg
(
tmps
.
	`Ëngth
())));

615 ià(
f
.
	`exi¡s
()) {

616  
f
;

622 
SŒšg
 
å
 : 
Ãw
 String[]{"org.nextcloud.files", "org.nextcloud.beta.files", "org.owncloud.files"}) {

623 ià(
feProvid”
.
	`equ®s
(
å
è&& 
feSŒ
.
	`¡¬tsW™h
(
tmps
 = "external_files/")) {

624  
Ãw
 
	`Fe
(
Uri
.
	`decode
("/¡Üage/" + 
feSŒ
.
	`sub¡ršg
(
tmps
.
	`Ëngth
())));

628 ià(
feProvid”
.
	`equ®s
("com.ªdroid.ex‹º®¡Üage.docum’ts"è&& 
feSŒ
.
	`¡¬tsW™h
(
tmps
 = "/primary%3A")) {

629  
Ãw
 
	`Fe
(
Uri
.
	`decode
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().
	`g‘AbsŞu‹P©h
(è+ "/" + 
feSŒ
.
	`sub¡ršg
(
tmps
.
	`Ëngth
())));

632 ià(
feProvid”
.
	`equ®s
("com.mi.ªdroid.glob®F“x¶Ü”.my´ovid”"è&& 
feSŒ
.
	`¡¬tsW™h
(
tmps
 = "external_files")) {

633  
Ãw
 
	`Fe
(
Uri
.
	`decode
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().
	`g‘AbsŞu‹P©h
(è+ 
feSŒ
.
	`sub¡ršg
(
tmps
.
	`Ëngth
())));

636 ià(
feSŒ
.
	`¡¬tsW™h
(
tmps
 = "external_files/")) {

637 
SŒšg
 
´efix
 : 
Ãw
 SŒšg[]{
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().
	`g‘AbsŞu‹P©h
(), "/storage", ""}) {

638 
Fe
 
f
 = 
Ãw
 
	`Fe
(
Uri
.
	`decode
(
´efix
 + "/" + 
feSŒ
.
	`sub¡ršg
(
tmps
.
	`Ëngth
())));

639 ià(
f
.
	`exi¡s
()) {

640  
f
;

647 ià(
feSŒ
.
	`¡¬tsW™h
("/") || fileStr.startsWith("%2F")) {

648 
tmpf
 = 
Ãw
 
	`Fe
(
Uri
.
	`decode
(
feSŒ
));

649 ià(
tmpf
.
	`exi¡s
()) {

650  
tmpf
;

651 } ià((
tmpf
 = 
Ãw
 
	`Fe
(
feSŒ
)).
	`exi¡s
()) {

652  
tmpf
;

657 
feUri
 = 
»ûivšgIÁ’t
.
	`g‘P¬ûÏbËExŒa
(
IÁ’t
.
EXTRA_STREAM
);

658 ià(
feUri
 !ğ
nuÎ
 && !
TextUts
.
	`isEm±y
(
tmps
 = feUri.
	`g‘P©h
()è&&mps.
	`¡¬tsW™h
("/"è&& (
tmpf
 = 
Ãw
 
	`Fe
Ñmps)).
	`exi¡s
()) {

659  
tmpf
;

662  
nuÎ
;

663 
	}
}

671 
public
 
	$»que¡G®ËryPiùu»
() {

672 ià(!(
_cÚ‹xt
 
š¡ªûof
 
Aùiv™y
)) {

673 
throw
 
Ãw
 
	`RuÁimeExû±iÚ
("Error: ShareUtil.requestGalleryPicture‚eeds‡n Activity Context.");

675 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_PICK
, 
MedŸStÜe
.
Images
.
MedŸ
.
EXTERNAL_CONTENT_URI
);

676 
Œy
 {

677 ((
Aùiv™y
è
_cÚ‹xt
).
	`¡¬tAùiv™yFÜResuÉ
(
š‹Á
, 
REQUEST_PICK_PICTURE
);

678 } 
	`ÿtch
 (
Exû±iÚ
 
ex
) {

679 
Tß¡
.
	`makeText
(
_cÚ‹xt
, "NØg®Ëry‡µ in¡®Ëd!", Tß¡.
LENGTH_SHORT
).
	`show
();

681 
	}
}

683 
public
 
SŒšg
 
	$exŒaùFeFromIÁ’tSŒ
(
fš®
 
IÁ’t
 
»ûivšgIÁ’t
) {

684 
Fe
 
f
 = 
	`exŒaùFeFromIÁ’t
(
»ûivšgIÁ’t
);

685  
f
 !ğ
nuÎ
 ? f.
	`g‘AbsŞu‹P©h
() :‚ull;

686 
	}
}

698 @
Suµ»ssW¬nšgs
("RegExpRedundantEscape")

699 
public
 
SŒšg
 
	$»que¡Cam”aPiùu»
(
fš®
 
Fe
 
rg‘
) {

700 ià(!(
_cÚ‹xt
 
š¡ªûof
 
Aùiv™y
)) {

701 
throw
 
Ãw
 
	`RuÁimeExû±iÚ
("Error: ShareUtil.requestCameraPicture‚eeds‡n Activity Context.");

703 
SŒšg
 
ÿm”aPiùu»F•©h
 = 
nuÎ
;

704 
IÁ’t
 
kePiùu»IÁ’t
 = 
Ãw
 
	`IÁ’t
(
MedŸStÜe
.
ACTION_IMAGE_CAPTURE
);

705 ià(
kePiùu»IÁ’t
.
	`»sŞveAùiv™y
(
_cÚ‹xt
.
	`g‘PackageMªag”
()è!ğ
nuÎ
) {

706 
Fe
 
phÙoFe
;

707 
Œy
 {

709 ià(
rg‘
 !ğ
nuÎ
 && !rg‘.
	`isDœeùÜy
()) {

710 
phÙoFe
 = 
rg‘
;

712 
Sim¶eD©eFÜm©
 
sdf
 = 
Ãw
 
	`Sim¶eD©eFÜm©
("yyyy-MM-dd'T'HH-mm-ss", 
LoÿË
.
ENGLISH
);

713 
Fe
 
¡ÜageDœ
 = 
rg‘
 !ğ
nuÎ
 ?¬g‘ : 
Ãw
 
	`Fe
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜagePublicDœeùÜy
(EnvœÚm’t.
DIRECTORY_DCIM
), "Camera");

714 
SŒšg
 
imageFeName
 = ((
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
).
	`r¡r
("­p_Çme")).
	`»¶aûAÎ
("[^a-zA-Z0-9\\.\\-]", "_"è+ "_").
	`»¶aû
("__", "_"è+ 
sdf
.
	`fÜm©
Òew 
	`D©e
());

715 
phÙoFe
 = 
Ãw
 
	`Fe
(
¡ÜageDœ
, 
imageFeName
 + ".jpg");

716 ià(!
phÙoFe
.
	`g‘P¬’tFe
().
	`exi¡s
(è&& !phÙoFe.g‘P¬’tFe().
	`mkdœs
()) {

717 
phÙoFe
 = 
Fe
.
	`ü—‹TempFe
(
imageFeName
 + "_", ".jpg", 
¡ÜageDœ
);

722 ià(!
phÙoFe
.
	`g‘P¬’tFe
().
	`exi¡s
(è&&…hÙoFe.g‘P¬’tFe().
	`mkdœs
()) ;

725 
ÿm”aPiùu»F•©h
 = 
phÙoFe
.
	`g‘AbsŞu‹P©h
();

726 } 
	`ÿtch
 (
IOExû±iÚ
 
ex
) {

727  
nuÎ
;

731 ià(
phÙoFe
 !ğ
nuÎ
) {

732 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
N
) {

733 
Uri
 
uri
 = 
FeProvid”
.
	`g‘UriFÜFe
(
_cÚ‹xt
, 
	`g‘FeProvid”AuthÜ™y
(), 
phÙoFe
);

734 
kePiùu»IÁ’t
.
	`putExŒa
(
MedŸStÜe
.
EXTRA_OUTPUT
, 
uri
);

736 
kePiùu»IÁ’t
.
	`putExŒa
(
MedŸStÜe
.
EXTRA_OUTPUT
, 
Uri
.
	`äomFe
(
phÙoFe
));

738 ((
Aùiv™y
è
_cÚ‹xt
).
	`¡¬tAùiv™yFÜResuÉ
(
kePiùu»IÁ’t
, 
REQUEST_CAMERA_PICTURE
);

741 
_Ï¡Cam”aPiùu»F•©h
 = 
ÿm”aPiùu»F•©h
;

742  
ÿm”aPiùu»F•©h
;

743 
	}
}

750 @
Suµ»ssLšt
("ApplySharedPref")

751 
public
 
Objeù
 
	$exŒaùResuÉFromAùiv™yResuÉ
(
fš®
 
»que¡Code
, fš® 
»suÉCode
, fš® 
IÁ’t
 
d©a
, fš® 
Aùiv™y
... 
aùiv™yOrNuÎ
) {

752 
Aùiv™y
 
aùiv™y
 = 
	`g»edyG‘Aùiv™y
(
aùiv™yOrNuÎ
);

753 
»que¡Code
) {

754 
REQUEST_CAMERA_PICTURE
: {

755 
SŒšg
 
piùu»P©h
 = (
»suÉCode
 =ğ
RESULT_OK
è? 
_Ï¡Cam”aPiùu»F•©h
 : 
nuÎ
;

756 ià(
piùu»P©h
 !ğ
nuÎ
) {

757 
	`£ndLoÿlBrßdÿ¡W™hSŒšgExŒa
(
REQUEST_CAMERA_PICTURE
 + "", 
EXTRA_FILEPATH
, 
piùu»P©h
);

759  
piùu»P©h
;

761 
REQUEST_PICK_PICTURE
: {

762 ià(
»suÉCode
 =ğ
RESULT_OK
 && 
d©a
 !ğ
nuÎ
) {

763 
Uri
 
£ËùedImage
 = 
d©a
.
	`g‘D©a
();

764 
SŒšg
[] 
feP©hCŞumn
 = {
MedŸStÜe
.
Images
.
MedŸ
.
DATA
};

765 
SŒšg
 
piùu»P©h
 = 
nuÎ
;

767 
CursÜ
 
cursÜ
 = 
_cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`qu”y
(
£ËùedImage
, 
feP©hCŞumn
, 
nuÎ
,‚ull,‚ull);

768 ià(
cursÜ
 !ğ
nuÎ
 && cursÜ.
	`moveToFœ¡
()) {

769 
SŒšg
 
cŞumn
 : 
feP©hCŞumn
) {

770 
curCŞIndex
 = 
cursÜ
.
	`g‘CŞumnIndex
(
cŞumn
);

771 ià(
curCŞIndex
 == -1) {

774 
piùu»P©h
 = 
cursÜ
.
	`g‘SŒšg
(
curCŞIndex
);

775 ià(!
TextUts
.
	`isEm±y
(
piùu»P©h
)) {

779 
cursÜ
.
	`şo£
();

783 
d©a
.
	`£tAùiÚ
(
IÁ’t
.
ACTION_VIEW
);

784 
piùu»P©h
 =…iùu»P©h !ğ
nuÎ
 ?…iùu»P©h : 
	`exŒaùFeFromIÁ’tSŒ
(
d©a
);

787 ià(
piùu»P©h
 =ğ
nuÎ
 && 
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
KITKAT
) {

788 
Œy
 {

789 
P¬ûlFeDesütÜ
 
·rûlFeDesütÜ
 = 
_cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`İ’FeDesütÜ
(
£ËùedImage
, "r");

790 ià(
·rûlFeDesütÜ
 !ğ
nuÎ
) {

791 
FeDesütÜ
 
feDesütÜ
 = 
·rûlFeDesütÜ
.
	`g‘FeDesütÜ
();

792 
FeIÅutSŒ—m
 
šput
 = 
Ãw
 
	`FeIÅutSŒ—m
(
feDesütÜ
);

795 
piùu»P©h
 = 
Fe
.
	`ü—‹TempFe
("image", "tmp", 
_cÚ‹xt
.
	`g‘CacheDœ
()).
	`g‘AbsŞu‹P©h
();

796 
FeUts
.
	`wr™eFe
(
Ãw
 
	`Fe
(
piùu»P©h
), FeUts.
	`»adClo£Bš¬ySŒ—m
(
šput
));

798 } 
	`ÿtch
 (
IOExû±iÚ
 
ignÜed
) {

804 ià(
piùu»P©h
 !ğ
nuÎ
) {

805 
	`£ndLoÿlBrßdÿ¡W™hSŒšgExŒa
(
REQUEST_CAMERA_PICTURE
 + "", 
EXTRA_FILEPATH
, 
piùu»P©h
);

807  
piùu»P©h
;

812 
REQUEST_SAF
: {

813 ià(
»suÉCode
 =ğ
RESULT_OK
 && 
d©a
 !ğ
nuÎ
 && d©a.
	`g‘D©a
() !=‚ull) {

814 
Uri
 
Œ“Uri
 = 
d©a
.
	`g‘D©a
();

815 
P»ã»nûMªag”
.
	`g‘DeçuÉSh¬edP»ã»nûs
(
_cÚ‹xt
).
	`ed™
().
	`putSŒšg
(
PREF_KEY__SAF_TREE_URI
, 
Œ“Uri
.
	`toSŒšg
()).
	`comm™
();

816 ià(
Bud
.
VERSION
.
SDK_INT
 >ğBud.
VERSION_CODES
.
KITKAT
) {

817 
aùiv™y
.
	`g‘CÚ‹ÁResŞv”
().
	`keP”si¡abËUriP”missiÚ
(
Œ“Uri
, 
IÁ’t
.
FLAG_GRANT_READ_URI_PERMISSION
 | IÁ’t.
FLAG_GRANT_WRITE_URI_PERMISSION
);

819  
Œ“Uri
;

824  
nuÎ
;

825 
	}
}

831 
public
 
	$£ndLoÿlBrßdÿ¡W™hSŒšgExŒa
(
fš®
 
SŒšg
 
aùiÚ
, fš® SŒšg 
exŒa
, fš® 
Ch¬Sequ’û
 
v®ue
) {

832 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(
aùiÚ
);

833 
š‹Á
.
	`putExŒa
(
exŒa
, 
v®ue
);

834 
LoÿlBrßdÿ¡Mªag”
.
	`g‘In¡ªû
(
_cÚ‹xt
).
	`£ndBrßdÿ¡
(
š‹Á
);

835 
	}
}

845 
public
 
Brßdÿ¡Reûiv”
 
»ûiveResuÉFromLoÿlBrßdÿ¡
(
fš®
 
C®lback
.
a2
<
IÁ’t
, Brßdÿ¡Reûiv”> 
ÿÎback
, fš® 
boŞ—n
 
autoUÄegi¡”
, fš® 
SŒšg
... 
f‹rAùiÚs
) {

846 
IÁ’tF‹r
 
	gš‹ÁF‹r
 = 
Ãw
 IntentFilter();

847 
SŒšg
 
	gf‹rAùiÚ
 : 
f‹rAùiÚs
) {

848 
š‹ÁF‹r
.
addAùiÚ
(
f‹rAùiÚ
);

850 
fš®
 
Brßdÿ¡Reûiv”
 
	gbr
 = 
Ãw
 BroadcastReceiver() {

851 @
Ov”ride


852 
public
 
ÚReûive
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
š‹Á
) {

853 ià(
š‹Á
 !ğ
nuÎ
) {

854 ià(
autoUÄegi¡”
) {

855 
LoÿlBrßdÿ¡Mªag”
.
g‘In¡ªû
(
_cÚ‹xt
).
uÄegi¡”Reûiv”
(
this
);

857 
	gŒy
 {

858 
	gÿÎback
.
ÿÎback
(
š‹Á
, 
this
);

859 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

864 
	gLoÿlBrßdÿ¡Mªag”
.
g‘In¡ªû
(
_cÚ‹xt
).
»gi¡”Reûiv”
(
br
, 
š‹ÁF‹r
);

865  
	gbr
;

873 
public
 
	$»que¡Piùu»Ed™
(
fš®
 
Fe
 
fe
) {

874 
Uri
 
uri
 = 
	`g‘UriByFeProvid”AuthÜ™y
(
fe
);

875 
æags
 = 
IÁ’t
.
FLAG_GRANT_WRITE_URI_PERMISSION
 | IÁ’t.
FLAG_GRANT_READ_URI_PERMISSION
;

877 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_EDIT
);

878 
š‹Á
.
	`£tD©aAndTy³
(
uri
, "image/*");

879 
š‹Á
.
	`addFÏgs
(
æags
);

880 
š‹Á
.
	`putExŒa
(
MedŸStÜe
.
EXTRA_OUTPUT
, 
uri
);

881 
š‹Á
.
	`putExŒa
(
EXTRA_FILEPATH
, 
fe
.
	`g‘AbsŞu‹P©h
());

883 
ResŞveInfo
 
»sŞveInfo
 : 
_cÚ‹xt
.
	`g‘PackageMªag”
().
	`qu”yIÁ’tAùiv™›s
(
š‹Á
, 
PackageMªag”
.
MATCH_DEFAULT_ONLY
)) {

884 
SŒšg
 
·ckageName
 = 
»sŞveInfo
.
aùiv™yInfo
.packageName;

885 
_cÚ‹xt
.
	`g¿ÁUriP”missiÚ
(
·ckageName
, 
uri
, 
æags
);

887 
_cÚ‹xt
.
	`¡¬tAùiv™y
(
IÁ’t
.
	`ü—‹Choo£r
(
š‹Á
, 
nuÎ
));

888 
	}
}

897 @
Suµ»ssW¬nšgs
("TryFinallyCanBeTryWithResources")

898 
public
 
Uri
 
	$g‘MedŸUri
(
fš®
 
Fe
 
fe
, fš® 
mode
) {

899 
Uri
 
uri
 = 
MedŸStÜe
.
Fes
.
	`g‘CÚ‹ÁUri
("external");

900 
uri
 = (
mode
 !ğ0è? (mod=ğ1 ? 
MedŸStÜe
.
Images
.
MedŸ
.
EXTERNAL_CONTENT_URI
 : MedŸStÜe.
Video
.Media.EXTERNAL_CONTENT_URI) : uri;

902 
CursÜ
 
cursÜ
 = 
nuÎ
;

903 
Œy
 {

904 
cursÜ
 = 
_cÚ‹xt
.
	`g‘CÚ‹ÁResŞv”
().
	`qu”y
(
uri
, 
Ãw
 
SŒšg
[]{
MedŸStÜe
.
Images
.
MedŸ
.
_ID
}, MedŸStÜe.Images.MedŸ.
DATA
 + "ğ?",‚ew SŒšg[]{
fe
.
	`g‘AbsŞu‹P©h
()}, 
nuÎ
);

905 ià(
cursÜ
 !ğ
nuÎ
 && cursÜ.
	`moveToFœ¡
()) {

906 
medŸid
 = 
cursÜ
.
	`g‘IÁ
(cursÜ.
	`g‘CŞumnIndex
(
MedŸStÜe
.
Images
.
MedŸ
.
_ID
));

907  
Uri
.
	`w™hAµ’dedP©h
(
uri
, 
medŸid
 + "");

909 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

910 } 
fš®ly
 {

911 ià(
cursÜ
 !ğ
nuÎ
) {

912 
cursÜ
.
	`şo£
();

915  
nuÎ
;

916 
	}
}

924 
public
 
	$’abËChromeCu¡omTabsFÜOth”Brow£rs
(
fš®
 
IÁ’t
 
cu¡omTabIÁ’t
) {

925 
SŒšg
[] 
checkpkgs
 = 
Ãw
 String[]{

932 
PackageMªag”
 
pm
 = 
_cÚ‹xt
.
	`g‘PackageMªag”
();

933 
IÁ’t
 
u¾IÁ’t
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_VIEW
, 
Uri
.
	`·r£
("https://www.example.com"));

934 
Li¡
<
SŒšg
> 
brow£rs
 = 
Ãw
 
A¼ayLi¡
<>();

935 
ResŞveInfo
 
ri
 : 
pm
.
	`qu”yIÁ’tAùiv™›s
(
u¾IÁ’t
, 0)) {

936 
IÁ’t
 
i
 = 
Ãw
 
	`IÁ’t
("android.support.customtabs.action.CustomTabsService");

937 
i
.
	`£tPackage
(
ri
.
aùiv™yInfo
.
·ckageName
);

938 ià(
pm
.
	`»sŞveS”viû
(
i
, 0è!ğ
nuÎ
) {

939 
brow£rs
.
	`add
(
ri
.
aùiv™yInfo
.
·ckageName
);

944 
ResŞveInfo
 
ri
 = 
pm
.
	`»sŞveAùiv™y
(
u¾IÁ’t
, 0);

945 
SŒšg
 
u£rDeçuÉBrow£r
 = (
ri
 =ğ
nuÎ
è?‚uÎ :„i.
aùiv™yInfo
.
·ckageName
;

948 
SŒšg
 
pkg
 = 
nuÎ
;

949 ià(
brow£rs
.
	`isEm±y
()) {

950 
pkg
 = 
nuÎ
;

951 } ià(
brow£rs
.
	`size
() == 1) {

952 
pkg
 = 
brow£rs
.
	`g‘
(0);

953 } ià(!
TextUts
.
	`isEm±y
(
u£rDeçuÉBrow£r
è&& 
brow£rs
.
	`cÚšs
(userDefaultBrowser)) {

954 
pkg
 = 
u£rDeçuÉBrow£r
;

956 
SŒšg
 
checkpkg
 : 
checkpkgs
) {

957 ià(
brow£rs
.
	`cÚšs
(
checkpkg
)) {

958 
pkg
 = 
checkpkg
;

962 ià(
pkg
 =ğ
nuÎ
 && !
brow£rs
.
	`isEm±y
()) {

963 
pkg
 = 
brow£rs
.
	`g‘
(0);

966 ià(
pkg
 !ğ
nuÎ
 && 
cu¡omTabIÁ’t
 !=‚ull) {

967 
cu¡omTabIÁ’t
.
	`£tPackage
(
pkg
);

969 
	}
}

975 
public
 
	$»que¡StÜageAcûssF¿mewÜk
(
fš®
 
Aùiv™y
... 
aùiv™y
) {

976 
Aùiv™y
 
a
 = 
	`g»edyG‘Aùiv™y
(
aùiv™y
);

977 ià(
a
 !ğ
nuÎ
 && 
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 >ğªdroid.os.Bud.
VERSION_CODES
.
LOLLIPOP
) {

978 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_OPEN_DOCUMENT_TREE
);

979 
š‹Á
.
	`addFÏgs
(
IÁ’t
.
FLAG_GRANT_READ_URI_PERMISSION


980 | 
IÁ’t
.
FLAG_GRANT_WRITE_URI_PERMISSION


981 | 
IÁ’t
.
FLAG_GRANT_PERSISTABLE_URI_PERMISSION


982 | 
IÁ’t
.
FLAG_GRANT_PREFIX_URI_PERMISSION


984 
a
.
	`¡¬tAùiv™yFÜResuÉ
(
š‹Á
, 
REQUEST_SAF
);

986 
	}
}

993 
public
 
Uri
 
	$g‘StÜageAcûssF¿mewÜkT»eUri
() {

994 
SŒšg
 
Œ“SŒ
 = 
P»ã»nûMªag”
.
	`g‘DeçuÉSh¬edP»ã»nûs
(
_cÚ‹xt
).
	`g‘SŒšg
(
PREF_KEY__SAF_TREE_URI
, 
nuÎ
);

995 ià(!
TextUts
.
	`isEm±y
(
Œ“SŒ
)) {

996 
Œy
 {

997  
Uri
.
	`·r£
(
Œ“SŒ
);

998 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

1001  
nuÎ
;

1002 
	}
}

1009 
public
 
Fe
 
	$g‘StÜageAcûssFŞd”
() {

1010 
Uri
 
§fUri
 = 
	`g‘StÜageAcûssF¿mewÜkT»eUri
();

1011 ià(
§fUri
 !ğ
nuÎ
) {

1012 
SŒšg
 
§fUriSŒ
 = 
§fUri
.
	`toSŒšg
();

1013 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
);

1014 
Paœ
<
Fe
, 
SŒšg
> 
¡Üage
 : 
cu
.
	`g‘StÜages
(
çl£
, 
Œue
)) {

1015 @
	`Suµ»ssW¬nšgs
("CÚ¡ªtCÚd™iÚs"è
SŒšg
 
¡ÜageFŞd”Name
 = 
¡Üage
.
fœ¡
.
	`g‘Name
();

1016 ià(
§fUriSŒ
.
	`cÚšs
(
¡ÜageFŞd”Name
)) {

1017  
¡Üage
.
fœ¡
;

1020 
cu
.
	`ä“CÚ‹xtRef
();

1022  
nuÎ
;

1023 
	}
}

1031 
public
 
boŞ—n
 
	$isUnd”StÜageAcûssFŞd”
(
fš®
 
Fe
 
fe
) {

1032 ià(
fe
 !ğ
nuÎ
) {

1034 ià(
fe
.
	`ÿnWr™e
()) {

1035  
çl£
;

1037 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
);

1038 
Paœ
<
Fe
, 
SŒšg
> 
¡Üage
 : 
cu
.
	`g‘StÜages
(
çl£
, 
Œue
)) {

1039 ià(
fe
.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(
¡Üage
.
fœ¡
.getAbsolutePath())) {

1040 
cu
.
	`ä“CÚ‹xtRef
();

1041  
Œue
;

1044 
cu
.
	`ä“CÚ‹xtRef
();

1046  
çl£
;

1047 
	}
}

1052 
´iv©e
 
Aùiv™y
 
	$g»edyG‘Aùiv™y
(
fš®
 
Aùiv™y
... 
aùiv™y
) {

1053 ià(
aùiv™y
 !ğ
nuÎ
 &&‡ùiv™y.
Ëngth
 != 0 &&‡ctivity[0] !=‚ull) {

1054  
aùiv™y
[0];

1056 ià(
_cÚ‹xt
 
š¡ªûof
 
Aùiv™y
) {

1057  (
Aùiv™y
è
_cÚ‹xt
;

1059  
nuÎ
;

1060 
	}
}

1070 
public
 
boŞ—n
 
	$ÿnWr™eFe
(
fš®
 
Fe
 
fe
, fš® 
boŞ—n
 
isDœ
) {

1071 ià(
fe
 =ğ
nuÎ
) {

1072  
çl£
;

1073 } ià(
fe
.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(
EnvœÚm’t
.
	`g‘Ex‹º®StÜageDœeùÜy
().getAbsolutePath())

1074 || 
fe
.
	`g‘AbsŞu‹P©h
().
	`¡¬tsW™h
(
_cÚ‹xt
.
	`g‘FesDœ
().getAbsolutePath())) {

1075 
boŞ—n
 
s1
 = 
isDœ
 && 
fe
.
	`g‘P¬’tFe
().
	`ÿnWr™e
();

1076  !
isDœ
 && 
fe
.
	`g‘P¬’tFe
(è!ğ
nuÎ
 ? fe.g‘P¬’tFe().
	`ÿnWr™e
() : file.canWrite();

1078 
Docum’tFe
 
dof
 = 
	`g‘Docum’tFe
(
fe
, 
isDœ
);

1079  
dof
 !ğ
nuÎ
 && dof.
	`ÿnWr™e
();

1081 
	}
}

1092 @
Suµ»ssW¬nšgs
("RegExpRedundantEscape")

1093 
public
 
Docum’tFe
 
	$g‘Docum’tFe
(
fš®
 
Fe
 
fe
, fš® 
boŞ—n
 
isDœ
) {

1095 ià(
Bud
.
VERSION
.
SDK_INT
 <ğBud.
VERSION_CODES
.
KITKAT
) {

1096  
Docum’tFe
.
	`äomFe
(
fe
);

1100 
CÚ‹xtUts
 
cu
 = 
Ãw
 
	`CÚ‹xtUts
(
_cÚ‹xt
);

1101 
Fe
 
ba£FŞd”Fe
 = 
cu
.
	`g‘StÜageRoÙFŞd”
(
fe
);

1102 
cu
.
	`ä“CÚ‹xtRef
();

1104 
SŒšg
 
ba£FŞd”
 = 
ba£FŞd”Fe
 =ğ
nuÎ
 ?‚uÎ : ba£FŞd”Fe.
	`g‘AbsŞu‹P©h
();

1105 
boŞ—n
 
Üigš®DœeùÜy
 = 
çl£
;

1106 ià(
ba£FŞd”
 =ğ
nuÎ
) {

1107  
nuÎ
;

1110 
SŒšg
 
»lP©h
 = 
nuÎ
;

1111 
Œy
 {

1112 
SŒšg
 
fuÎP©h
 = 
fe
.
	`g‘CªÚiÿlP©h
();

1113 ià(!
ba£FŞd”
.
	`equ®s
(
fuÎP©h
)) {

1114 
»lP©h
 = 
fuÎP©h
.
	`sub¡ršg
(
ba£FŞd”
.
	`Ëngth
() + 1);

1116 
Üigš®DœeùÜy
 = 
Œue
;

1118 } 
	`ÿtch
 (
IOExû±iÚ
 
e
) {

1119  
nuÎ
;

1120 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

1121 
Üigš®DœeùÜy
 = 
Œue
;

1123 
Uri
 
Œ“Uri
;

1124 ià((
Œ“Uri
 = 
	`g‘StÜageAcûssF¿mewÜkT»eUri
()è=ğ
nuÎ
) {

1125  
nuÎ
;

1127 
Docum’tFe
 
dof
 = Docum’tFe.
	`äomT»eUri
(
_cÚ‹xt
, 
Œ“Uri
);

1128 ià(
Üigš®DœeùÜy
) {

1129  
dof
;

1131 
SŒšg
[] 
·¹s
 = 
»lP©h
.
	`¥l™
("\\/");

1132 
i
 = 0; i < 
·¹s
.
Ëngth
; i++) {

1133 
Docum’tFe
 
ÃxtDof
 = 
dof
.
	`fšdFe
(
·¹s
[
i
]);

1134 ià(
ÃxtDof
 =ğ
nuÎ
) {

1135 
Œy
 {

1136 
ÃxtDof
 = ((
i
 < 
·¹s
.
Ëngth
 - 1è|| 
isDœ
è? 
dof
.
	`ü—‹DœeùÜy
Õ¬ts[i]è: dof.
	`ü—‹Fe
("image",…arts[i]);

1137 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

1138 
ÃxtDof
 = 
nuÎ
;

1141 
dof
 = 
ÃxtDof
;

1143  
dof
;

1144 
	}
}

1146 
public
 
showMouÁSdDŸlog
(@
SŒšgRes
 
fš®
 
t™Ë
, @SŒšgRe fš® 
desütiÚ
, @
D¿wabËRes
 fš® 
mouÁDesütiÚG¿phic
, fš® 
Aùiv™y
... 
aùiv™yOrNuÎ
) {

1147 
Aùiv™y
 
	gaùiv™y
 = 
g»edyG‘Aùiv™y
(
aùiv™yOrNuÎ
);

1148 ià(
	gaùiv™y
 =ğ
nuÎ
) {

1153 
ImageV›w
 
	gimv
 = 
Ãw
 ImageV›w(
aùiv™y
);

1154 
	gimv
.
£tImageResourû
(
mouÁDesütiÚG¿phic
);

1155 
	gimv
.
£tAdju¡V›wBounds
(
Œue
);

1157 
	gAË¹DŸlog
.
Bud”
 
	gdŸlog
 = 
Ãw
 
AË¹DŸlog
.Bud”(
aùiv™y
);

1158 
	gdŸlog
.
£tV›w
(
imv
);

1159 
	gdŸlog
.
£tT™Ë
(
t™Ë
);

1160 
	gdŸlog
.
£tMes§ge
(
_cÚ‹xt
.
g‘SŒšg
(
desütiÚ
) + "\n\n");

1161 
	gdŸlog
.
£tNeg©iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
ÿnûl
, 
nuÎ
);

1162 
	gdŸlog
.
£tPos™iveBu‰Ú
(
ªdroid
.
R
.
¡ršg
.
yes
, (
dŸlogIÁ”çû
, 
i
è-> 
»que¡StÜageAcûssF¿mewÜk
(
aùiv™y
));

1163 
AË¹DŸlog
 
	gdŸlogi
 = 
dŸlog
.
ü—‹
();

1164 
	gdŸlogi
.
show
();

1167 @
Suµ»ssW¬nšgs
({"ResultOfMethodCallIgnored", "StatementWithEmptyBody"})

1168 
public
 
wr™eFe
(
fš®
 
Fe
 
fe
, fš® 
boŞ—n
 
isDœeùÜy
, fš® 
C®lback
.
a2
<
BoŞ—n
, 
FeOuutSŒ—m
> 
wr™eFeC®lback
) {

1169 
	gŒy
 {

1170 
FeOuutSŒ—m
 
	gfeOuutSŒ—m
 = 
nuÎ
;

1171 
P¬ûlFeDesütÜ
 
	gpfd
 = 
nuÎ
;

1172 
fš®
 
boŞ—n
 
	gexi¡šgEm±yFe
 = 
fe
.
ÿnWr™e
(è&& fe.
Ëngth
(è< 
MIN_OVERWRITE_LENGTH
;

1173 
fš®
 
boŞ—n
 
	gnÚExi¡šgC»©abËFe
 = !
fe
.
exi¡s
(è&& fe.
g‘P¬’tFe
().
ÿnWr™e
();

1174 ià(
	gexi¡šgEm±yFe
 || 
	gnÚExi¡šgC»©abËFe
) {

1175 ià(
	gisDœeùÜy
) {

1176 
	gfe
.
mkdœs
();

1178 
	gfeOuutSŒ—m
 = 
Ãw
 
FeOuutSŒ—m
(
fe
);

1181 
Docum’tFe
 
	gdof
 = 
g‘Docum’tFe
(
fe
, 
isDœeùÜy
);

1182 ià(
	gdof
 !ğ
nuÎ
 && 
dof
.
g‘Uri
(è!ğnuÎ && dof.
ÿnWr™e
()) {

1183 ià(
isDœeùÜy
) {

1186 
pfd
 = 
_cÚ‹xt
.
g‘CÚ‹ÁResŞv”
().
İ’FeDesütÜ
(
dof
.
g‘Uri
(), "rwt");

1187 
	gfeOuutSŒ—m
 = 
Ãw
 
FeOuutSŒ—m
(
pfd
.
g‘FeDesütÜ
());

1191 ià(
	gwr™eFeC®lback
 !ğ
nuÎ
) {

1192 
wr™eFeC®lback
.
ÿÎback
(
feOuutSŒ—m
 !ğ
nuÎ
 || (
isDœeùÜy
 && 
fe
.
exi¡s
()), fileOutputStream);

1194 ià(
	gfeOuutSŒ—m
 !ğ
nuÎ
) {

1195 
Œy
 {

1196 
feOuutSŒ—m
.
şo£
();

1197 } 
ÿtch
 (
Exû±iÚ
 
ignÜed
) {

1200 ià(
	gpfd
 !ğ
nuÎ
) {

1201 
pfd
.
şo£
();

1203 } 
ÿtch
 (
Exû±iÚ
 
e
) {

1204 
	ge
.
´štSckT¿û
();

1217 @
Suµ»ssW¬nšgs
("SimplifiableConditionalExpression")

1218 
public
 
	$ÿÎT–•hÚeNumb”
(
fš®
 
SŒšg
 
‹lNo
, fš® 
boŞ—n
... 
dœeùC®l
) {

1219 
Aùiv™y
 
aùiv™y
 = 
	`g»edyG‘Aùiv™y
();

1220 ià(
aùiv™y
 =ğ
nuÎ
) {

1221 
throw
 
Ãw
 
	`RuÁimeExû±iÚ
("Error: ShareUtil::callTelephoneNumber‚eedso be contstructed with‡ctivity context");

1223 
boŞ—n
 
ldœeùC®l
 = (
dœeùC®l
 !ğ
nuÎ
 && dœeùC®l.
Ëngth
 > 0è? dœeùC®l[0] : 
Œue
;

1226 ià(
ªdroid
.
os
.
Bud
.
VERSION
.
SDK_INT
 >ğ23 && 
ldœeùC®l
 && 
aùiv™y
 !ğ
nuÎ
) {

1227 ià(
CÚ‹xtCom·t
.
	`checkS–fP”missiÚ
(
aùiv™y
, 
Mªiã¡
.
³rmissiÚ
.
CALL_PHONE
è!ğ
PackageMªag”
.
PERMISSION_GRANTED
) {

1228 
Aùiv™yCom·t
.
	`»que¡P”missiÚs
(
aùiv™y
, 
Ãw
 
SŒšg
[]{
Mªiã¡
.
³rmissiÚ
.
CALL_PHONE
}, 4001);

1229 
ldœeùC®l
 = 
çl£
;

1231 
Œy
 {

1232 
IÁ’t
 
ÿÎIÁ’t
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_CALL
);

1233 
ÿÎIÁ’t
.
	`£tD©a
(
Uri
.
	`·r£
("‹l:" + 
‹lNo
));

1234 
aùiv™y
.
	`¡¬tAùiv™y
(
ÿÎIÁ’t
);

1235 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

1236 
ldœeùC®l
 = 
çl£
;

1241 ià(!
ldœeùC®l
) {

1242 
IÁ’t
 
š‹Á
 = 
Ãw
 
	`IÁ’t
(IÁ’t.
ACTION_DIAL
, 
Uri
.
	`äomP¬ts
("‹l", 
‹lNo
, 
nuÎ
));

1243 
aùiv™y
.
	`¡¬tAùiv™y
(
š‹Á
);

1245 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/StringUtils.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

12 
impÜt
 
	gªdroid
.
	gut
.
	gBa£64
;

13 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

15 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

16 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

17 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

19 @
Suµ»ssW¬nšgs
({"CharsetObjectCanBeUsed", "WeakerAccess", "unused"})

20 
public
 
fš®
 cÏs 
	cSŒšgUts
 {

23 
´iv©e
 
	$SŒšgUts
() {

24 
throw
 
Ãw
 
	`As£¹iÚE¼Ü
();

27 
public
 
boŞ—n
 
	$isV®idIndex
(
fš®
 
Ch¬Sequ’û
 
s
, fš® ... 
šdiûs
) {

28 ià(
s
 !ğ
nuÎ
 && 
šdiûs
.
Ëngth
 > 0) {

29 
fš®
 
i
 : 
šdiûs
) {

30 ià(
i
 < 0 || i >ğ
s
.
	`Ëngth
()) {

31  
çl£
;

34  
Œue
;

36  
çl£
;

37 
	}
}

39 
public
 
	$g‘LšeS¹
(
Ch¬Sequ’û
 
s
, 
¡¬t
) {

40  
	`g‘LšeS¹
(
s
, 
¡¬t
, 0);

41 
	}
}

43 
public
 
	$g‘LšeS¹
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
mšRªge
) {

44 
i
 = 
¡¬t
;

45 ià(
	`isV®idIndex
(
s
, 
¡¬t
 - 1, 
mšRªge
)) {

46 ; 
i
 > 
mšRªge
; i--) {

47 ià(
s
.
	`ch¬At
(
i
 - 1) == '\n') {

53  
i
;

54 
	}
}

56 
public
 
	$g‘LšeEnd
(
Ch¬Sequ’û
 
s
, 
¡¬t
) {

57  
	`g‘LšeEnd
(
s
, 
¡¬t
, s.
	`Ëngth
());

58 
	}
}

60 
public
 
	$g‘LšeEnd
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
maxRªge
) {

61 
i
 = 
¡¬t
;

62 ià(
	`isV®idIndex
(
s
, 
¡¬t
, 
maxRªge
 - 1)) {

63 ; 
i
 < 
maxRªge
; i++) {

64 ià(
s
.
	`ch¬At
(
i
) == '\n') {

70  
i
;

71 
	}
}

73 
public
 
	$g‘NextNÚWh™e¥aû
(
Ch¬Sequ’û
 
s
, 
¡¬t
) {

74  
	`g‘NextNÚWh™e¥aû
(
s
, 
¡¬t
, s.
	`Ëngth
());

75 
	}
}

77 
public
 
	$g‘NextNÚWh™e¥aû
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
maxRªge
) {

78 
i
 = 
¡¬t
;

79 ià(
	`isV®idIndex
(
s
, 
¡¬t
, 
maxRªge
 - 1)) {

80 ; 
i
 < 
maxRªge
; i++) {

81 
c
 = 
s
.
	`ch¬At
(
i
);

82 ià(
c
 != ' ' && c != '\t') {

87  
i
;

88 
	}
}

90 
public
 
boŞ—n
 
	$isNuÎOrWh™e¥aû
(
SŒšg
 
¡r
) {

91 ià(
¡r
 =ğ
nuÎ
 || sŒ.
	`isEm±y
()) {

92  
Œue
;

95 
i
 = 0; i < 
¡r
.
	`Ëngth
(); i++) {

96 
ch
 = 
¡r
.
	`ch¬At
(
i
);

97 ià(!
Ch¬aù”
.
	`isWh™e¥aû
(
ch
)) {

98  
çl£
;

102  
Œue
;

103 
	}
}

105 
public
 [] 
	$g‘S–eùiÚ
(
fš®
 
TextV›w
 
‹xt
) {

107 
£ËùiÚS¹
 = 
‹xt
.
	`g‘S–eùiÚS¹
();

108 
£ËùiÚEnd
 = 
‹xt
.
	`g‘S–eùiÚEnd
();

110 ià(
£ËùiÚEnd
 < 
£ËùiÚS¹
) {

111 
£ËùiÚEnd
 = 
‹xt
.
	`g‘S–eùiÚS¹
();

112 
£ËùiÚS¹
 = 
‹xt
.
	`g‘S–eùiÚEnd
();

115  
Ãw
 []{
£ËùiÚS¹
, 
£ËùiÚEnd
};

116 
	}
}

118 
public
 [] 
	$g‘LšeS–eùiÚ
(
fš®
 
TextV›w
 
‹xt
) {

119 
fš®
 [] 
£l
 = 
	`g‘S–eùiÚ
(
‹xt
);

120 
fš®
 
Ch¬Sequ’û
 
s
 = 
‹xt
.
	`g‘Text
();

121  
Ãw
 []{

122 
	`g‘LšeS¹
(
s
, 
£l
[0]),

123 
	`g‘LšeEnd
(
s
, 
£l
[1])

125 
	}
}

127 
public
 
SŒšg
 
	$g‘S–eùedLšes
(
fš®
 
TextV›w
 
‹xt
) {

128 
fš®
 [] 
£l
 = 
	`g‘LšeS–eùiÚ
(
‹xt
);

129  
‹xt
.
	`g‘Text
().
	`subSequ’û
(
£l
[0], s–[1]).
	`toSŒšg
();

130 
	}
}

132 
public
 
SŒšg
 
	$»³©Ch¬s
(
ch¬aù”
, 
couÁ
) {

133 [] 
¡ršgCh¬s
 = 
Ãw
 [
couÁ
];

134 
A¼ays
.
	`fl
(
¡ršgCh¬s
, 
ch¬aù”
);

135  
Ãw
 
	`SŒšg
(
¡ršgCh¬s
);

136 
	}
}

145 
public
 [] 
	$g‘LšeOff£tFromIndex
(
fš®
 
Ch¬Sequ’û
 
s
, 
p
) {

146 
p
 = 
M©h
.
	`mš
(M©h.
	`max
Õ, 0), 
s
.
	`Ëngth
());

147 
fš®
 
lše
 = 
	`couÁCh¬
(
s
, '\n', 0, 
p
);

148 
fš®
 
off£t
 = 
	`g‘LšeEnd
(
s
, 
p
) -…;

150  
Ãw
 []{
lše
, 
off£t
};

151 
	}
}

153 
public
 
	$g‘IndexFromLšeOff£t
(
fš®
 
Ch¬Sequ’û
 
s
, fš® [] 
Ë
) {

154  
	`g‘IndexFromLšeOff£t
(
s
, 
Ë
[0],†e[1]);

155 
	}
}

165 
public
 
	$g‘IndexFromLšeOff£t
(
fš®
 
Ch¬Sequ’û
 
s
, fš® 
l
, fš® 
e
) {

166 
i
 = 0, 
couÁ
 = 0;

167 ià(
s
 !ğ
nuÎ
) {

168 ià(
l
 > 0) {

169 ; 
i
 < 
s
.
	`Ëngth
(); i++) {

170 ià(
s
.
	`ch¬At
(
i
) == '\n') {

171 
couÁ
++;

172 ià(
couÁ
 =ğ
l
) {

178 ià(
i
 < 
s
.
	`Ëngth
()) {

179 
fš®
 
¡¬t
 = (
l
 =ğ0è? 0 : 
i
 + 1;

180 
fš®
 
’d
 = 
	`g‘LšeEnd
(
s
, 
¡¬t
);

182  
’d
 - 
M©h
.
	`mš
(
e
,ƒnd - 
¡¬t
);

185  
i
;

186 
	}
}

197 
public
 
	$couÁCh¬
(
fš®
 
Ch¬Sequ’û
 
s
, fš® 
c
, 
¡¬t
, 
’d
) {

198 
couÁ
 = 0;

199 ià(
	`isV®idIndex
(
s
, 
¡¬t
, 
’d
 - 1)) {

200 
¡¬t
 = 
M©h
.
	`max
(0, start);

201 
’d
 = 
M©h
.
	`mš
Ónd, 
s
.
	`Ëngth
());

202 
i
 = 
¡¬t
; i < 
’d
; i++) {

203 ià(
s
.
	`ch¬At
(
i
è=ğ
c
) {

204 
couÁ
++;

208  
couÁ
;

209 
	}
}

211 
public
 
boŞ—n
 
	$isNewLše
(
Ch¬Sequ’û
 
sourû
, 
¡¬t
, 
’d
) {

212  
	`isV®idIndex
(
sourû
, 
¡¬t
, 
’d
 - 1è&& (sourû.
	`ch¬At
(start) == '\n' || source.charAt(end - 1) == '\n');

213 
	}
}

215 
public
 <
	gT
> 
	gA¼ayLi¡
<T> 
	$toA¼ayLi¡
(
T
[] 
¬¿y
) {

216 
A¼ayLi¡
<
T
> 
li¡
 = 
Ãw
 ArrayList<>();

217 
CŞËùiÚs
.
	`addAÎ
(
li¡
, 
¬¿y
);

218  
li¡
;

219 
	}
}

234 
public
 
SŒšg
 
	$uÃsÿ³SŒšg
(
fš®
 
SŒšg
 
šput
) {

235 
fš®
 
SŒšgBud”
 
bud”
 = 
Ãw
 
	`SŒšgBud”
();

236 
boŞ—n
 
isEsÿ³d
 = 
çl£
;

237 
i
 = 0; i < 
šput
.
	`Ëngth
(); i++) {

238 
cu¼’t
 = 
šput
.
	`ch¬At
(
i
);

239 ià(
isEsÿ³d
) {

240 ià(
cu¼’t
 == 't') {

241 
bud”
.
	`­³nd
('\t');

242 } ià(
cu¼’t
 == 'b') {

243 
bud”
.
	`­³nd
('\b');

244 } ià(
cu¼’t
 == 'r') {

245 
bud”
.
	`­³nd
('\r');

246 } ià(
cu¼’t
 == 'n') {

247 
bud”
.
	`­³nd
('\n');

248 } ià(
cu¼’t
 == 'f') {

249 
bud”
.
	`­³nd
('\f');

252 
bud”
.
	`­³nd
('\\');

253 
bud”
.
	`­³nd
(
cu¼’t
);

255 
isEsÿ³d
 = 
çl£
;

256 } ià(
cu¼’t
 == '\\') {

257 
isEsÿ³d
 = 
Œue
;

259 
bud”
.
	`­³nd
(
cu¼’t
);

264 ià(
isEsÿ³d
) {

265 
bud”
.
	`­³nd
('\\');

268  
bud”
.
	`toSŒšg
();

269 
	}
}

271 
public
 
SŒšg
 
	$toBa£64
(
fš®
 
SŒšg
 
s
) {

272 
Œy
 {

273  
	`toBa£64
(
s
.
	`g‘By‹s
("UTF-8"));

274 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

277 
	}
}

279 
public
 
SŒšg
 
	$toBa£64
(
fš®
 
by‹
[] 
by‹s
) {

280 
Œy
 {

281  
Ba£64
.
	`’codeToSŒšg
(
by‹s
, Ba£64.
DEFAULT
);

282 } 
	`ÿtch
 (
Exû±iÚ
 
ignÜed
) {

285 
	}
}

287 
public
 
	gby‹
[] 
	$äomBa£64
(
fš®
 
by‹
[] 
by‹s
) {

288  
Ba£64
.
	`decode
(
by‹s
, Ba£64.
DEFAULT
);

289 
	}
}

291 
public
 
SŒšg
 
	$äomBa£64ToSŒšg
(
fš®
 
SŒšg
 
s
) {

292 
Œy
 {

293  
Ãw
 
	`SŒšg
(
	`äomBa£64
(
s
.
	`g‘By‹s
("UTF-8")), "UTF-8");

294 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

297 
	}
}

299 
public
 
	$ŒyP¬£IÁ
(
fš®
 
SŒšg
 
v®ue
, 
deçuÉV®ue
) {

300 
Œy
 {

301  
IÁeg”
.
	`·r£IÁ
(
v®ue
);

302 } 
	`ÿtch
 (
Numb”FÜm©Exû±iÚ
 
e
) {

303  
deçuÉV®ue
;

305 
	}
}

	@app/src/main/java/net/gsantner/opoc/util/TextViewUndoRedo.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
;

42 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

43 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
.
	gEd™Ü
;

44 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

45 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS–eùiÚ
;

46 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

47 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gUnd”lšeS·n
;

48 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

50 
impÜt
 
	gjava
.
	gio
.
	gFe
;

51 
impÜt
 
	gjava
.
	gut
.
	gLškedLi¡
;

56 
public
 cÏs 
	cTextV›wUndoRedo
 {

63 
´iv©e
 
boŞ—n
 
	mmIsUndoOrRedo
 = 
çl£
;

68 
´iv©e
 
Ed™Hi¡Üy
 
	mmEd™Hi¡Üy
;

73 
´iv©e
 
Ed™TextChªgeLi¡’”
 
	mmChªgeLi¡’”
;

78 
´iv©e
 
TextV›w
 
	mmTextV›w
;

87 
public
 
	$TextV›wUndoRedo
(
TextV›w
 
‹xtV›w
) {

88 
mTextV›w
 = 
‹xtV›w
;

89 
mEd™Hi¡Üy
 = 
Ãw
 
	`Ed™Hi¡Üy
();

90 
mChªgeLi¡’”
 = 
Ãw
 
	`Ed™TextChªgeLi¡’”
();

91 
mTextV›w
.
	`addTextChªgedLi¡’”
(
mChªgeLi¡’”
);

94 
public
 
	$£tTextV›w
(
TextV›w
 
‹xtV›w
) {

95 ià(
mTextV›w
 !ğ
nuÎ
) {

96 
mTextV›w
.
	`»moveTextChªgedLi¡’”
(
mChªgeLi¡’”
);

98 
mTextV›w
 = 
‹xtV›w
;

99 
mTextV›w
.
	`addTextChªgedLi¡’”
(
mChªgeLi¡’”
);

100 
	}
}

102 
public
 
SŒšg
 
	$undoRedoP»fKeyFÜFe
(
Fe
 
fe
) {

103  "fe-" + 
fe
.
	`g‘AbsŞu‹P©h
().
	`»¶aû
("/", "-");

104 
	}
}

111 
public
 
	$discÚÃù
() {

112 
mTextV›w
.
	`»moveTextChªgedLi¡’”
(
mChªgeLi¡’”
);

113 
	}
}

119 
public
 
	$£tMaxHi¡ÜySize
(
maxHi¡ÜySize
) {

120 
mEd™Hi¡Üy
.
	`£tMaxHi¡ÜySize
(
maxHi¡ÜySize
);

121 
	}
}

126 
public
 
	$ş—rHi¡Üy
() {

127 
mEd™Hi¡Üy
.
	`ş—r
();

128 
	}
}

133 
public
 
boŞ—n
 
	$g‘CªUndo
() {

134  (
mEd™Hi¡Üy
.
mmPos™iÚ
 > 0);

135 
	}
}

140 
public
 
	$undo
() {

141 
Ed™I‹m
 
ed™
 = 
mEd™Hi¡Üy
.
	`g‘P»vious
();

142 ià(
ed™
 =ğ
nuÎ
) {

146 
Ed™abË
 
‹xt
 = 
mTextV›w
.
	`g‘Ed™abËText
();

147 
¡¬t
 = 
ed™
.
mmS¹
;

148 
’d
 = 
¡¬t
 + (
ed™
.
mmAá”
 !ğ
nuÎ
 ?ƒd™.mmAá”.
	`Ëngth
() : 0);

150 
mIsUndoOrRedo
 = 
Œue
;

151 
‹xt
.
	`»¶aû
(
¡¬t
, 
’d
, 
ed™
.
mmBefÜe
);

152 
mIsUndoOrRedo
 = 
çl£
;

156 
Objeù
 
o
 : 
‹xt
.
	`g‘S·ns
(0,ext.
	`Ëngth
(), 
Und”lšeS·n
.
şass
)) {

157 
‹xt
.
	`»moveS·n
(
o
);

160 
S–eùiÚ
.
	`£tS–eùiÚ
(
‹xt
, 
ed™
.
mmBefÜe
 =ğ
nuÎ
 ? 
¡¬t


161 : (
¡¬t
 + 
ed™
.
mmBefÜe
.
	`Ëngth
()));

162 
	}
}

167 
public
 
boŞ—n
 
	$g‘CªRedo
() {

168  (
mEd™Hi¡Üy
.
mmPos™iÚ
 < mEd™Hi¡Üy.
mmHi¡Üy
.
	`size
());

169 
	}
}

174 
public
 
	$»do
() {

175 
Ed™I‹m
 
ed™
 = 
mEd™Hi¡Üy
.
	`g‘Next
();

176 ià(
ed™
 =ğ
nuÎ
) {

180 
Ed™abË
 
‹xt
 = 
mTextV›w
.
	`g‘Ed™abËText
();

181 
¡¬t
 = 
ed™
.
mmS¹
;

182 
’d
 = 
¡¬t
 + (
ed™
.
mmBefÜe
 !ğ
nuÎ
 ?ƒd™.mmBefÜe.
	`Ëngth
() : 0);

184 
mIsUndoOrRedo
 = 
Œue
;

185 
‹xt
.
	`»¶aû
(
¡¬t
, 
’d
, 
ed™
.
mmAá”
);

186 
mIsUndoOrRedo
 = 
çl£
;

190 
Objeù
 
o
 : 
‹xt
.
	`g‘S·ns
(0,ext.
	`Ëngth
(), 
Und”lšeS·n
.
şass
)) {

191 
‹xt
.
	`»moveS·n
(
o
);

194 
S–eùiÚ
.
	`£tS–eùiÚ
(
‹xt
, 
ed™
.
mmAá”
 =ğ
nuÎ
 ? 
¡¬t


195 : (
¡¬t
 + 
ed™
.
mmAá”
.
	`Ëngth
()));

196 
	}
}

201 
public
 
	$¡ÜeP”si¡’tS‹
(
Ed™Ü
 
ed™Ü
, 
SŒšg
 
´efix
) {

204 
ed™Ü
.
	`putSŒšg
(
´efix
 + ".hash",

205 
SŒšg
.
	`v®ueOf
(
mTextV›w
.
	`g‘Text
().
	`toSŒšg
().
	`hashCode
()));

206 
ed™Ü
.
	`putIÁ
(
´efix
 + ".maxSize", 
mEd™Hi¡Üy
.
mmMaxHi¡ÜySize
);

207 
ed™Ü
.
	`putIÁ
(
´efix
 + ".pos™iÚ", 
mEd™Hi¡Üy
.
mmPos™iÚ
);

208 
ed™Ü
.
	`putIÁ
(
´efix
 + ".size", 
mEd™Hi¡Üy
.
mmHi¡Üy
.
	`size
());

210 
i
 = 0;

211 
Ed™I‹m
 
ei
 : 
mEd™Hi¡Üy
.
mmHi¡Üy
) {

212 
SŒšg
 
´e
 = 
´efix
 + "." + 
i
;

214 
ed™Ü
.
	`putIÁ
(
´e
 + ".¡¬t", 
ei
.
mmS¹
);

215 
ed™Ü
.
	`putSŒšg
(
´e
 + ".befÜe", 
ei
.
mmBefÜe
.
	`toSŒšg
());

216 
ed™Ü
.
	`putSŒšg
(
´e
 + ".aá”", 
ei
.
mmAá”
.
	`toSŒšg
());

218 
i
++;

220 
	}
}

229 
public
 
boŞ—n
 
	$»¡ÜeP”si¡’tS‹
(
Sh¬edP»ã»nûs
 
¥
, 
SŒšg
 
´efix
)

230 
throws
 
IÎeg®S‹Exû±iÚ
 {

232 
boŞ—n
 
ok
 = 
	`doRe¡ÜeP”si¡’tS‹
(
¥
, 
´efix
);

233 ià(!
ok
) {

234 
mEd™Hi¡Üy
.
	`ş—r
();

237  
ok
;

238 
	}
}

240 
´iv©e
 
boŞ—n
 
	$doRe¡ÜeP”si¡’tS‹
(
Sh¬edP»ã»nûs
 
¥
, 
SŒšg
 
´efix
) {

242 
SŒšg
 
hash
 = 
¥
.
	`g‘SŒšg
(
´efix
 + ".hash", 
nuÎ
);

243 ià(
hash
 =ğ
nuÎ
) {

245  
Œue
;

248 ià(
IÁeg”
.
	`v®ueOf
(
hash
è!ğ
mTextV›w
.
	`g‘Text
().
	`toSŒšg
().
	`hashCode
()) {

249  
çl£
;

252 
mEd™Hi¡Üy
.
	`ş—r
();

253 
mEd™Hi¡Üy
.
mmMaxHi¡ÜySize
 = 
¥
.
	`g‘IÁ
(
´efix
 + ".maxSize", -1);

255 
couÁ
 = 
¥
.
	`g‘IÁ
(
´efix
 + ".size", -1);

256 ià(
couÁ
 == -1) {

257  
çl£
;

260 
i
 = 0; i < 
couÁ
; i++) {

261 
SŒšg
 
´e
 = 
´efix
 + "." + 
i
;

263 
¡¬t
 = 
¥
.
	`g‘IÁ
(
´e
 + ".start", -1);

264 
SŒšg
 
befÜe
 = 
¥
.
	`g‘SŒšg
(
´e
 + ".befÜe", 
nuÎ
);

265 
SŒšg
 
aá”
 = 
¥
.
	`g‘SŒšg
(
´e
 + ".aá”", 
nuÎ
);

267 ià(
¡¬t
 =ğ-1 || 
befÜe
 =ğ
nuÎ
 || 
aá”
 ==‚ull) {

268  
çl£
;

270 
mEd™Hi¡Üy
.
	`add
(
Ãw
 
	`Ed™I‹m
(
¡¬t
, 
befÜe
, 
aá”
));

273 
mEd™Hi¡Üy
.
mmPos™iÚ
 = 
¥
.
	`g‘IÁ
(
´efix
 + ".position", -1);

274  
mEd™Hi¡Üy
.
mmPos™iÚ
 != -1;

275 
	}
}

282 
´iv©e
 
fš®
 cÏs 
	cEd™Hi¡Üy
 {

289 
´iv©e
 
	gmmPos™iÚ
 = 0;

294 
´iv©e
 
	gmmMaxHi¡ÜySize
 = -1;

299 
´iv©e
 
fš®
 
	gLškedLi¡
<
	gEd™I‹m
> 
	gmmHi¡Üy
 = 
Ãw
 
LškedLi¡
<
Ed™I‹m
>();

304 
´iv©e
 
ş—r
() {

305 
	gmmPos™iÚ
 = 0;

306 
	gmmHi¡Üy
.
ş—r
();

314 
´iv©e
 
add
(
Ed™I‹m
 
™em
) {

315 
	gmmHi¡Üy
.
size
(è> 
	gmmPos™iÚ
) {

316 
	gmmHi¡Üy
.
»moveLa¡
();

318 
	gmmHi¡Üy
.
add
(
™em
);

319 
	gmmPos™iÚ
++;

321 ià(
	gmmMaxHi¡ÜySize
 >= 0) {

322 
ŒimHi¡Üy
();

330 
´iv©e
 
£tMaxHi¡ÜySize
(
maxHi¡ÜySize
) {

331 
	gmmMaxHi¡ÜySize
 = 
maxHi¡ÜySize
;

332 ià(
	gmmMaxHi¡ÜySize
 >= 0) {

333 
ŒimHi¡Üy
();

340 
´iv©e
 
ŒimHi¡Üy
() {

341 
	gmmHi¡Üy
.
size
(è> 
	gmmMaxHi¡ÜySize
) {

342 
	gmmHi¡Üy
.
»moveFœ¡
();

343 
	gmmPos™iÚ
--;

346 ià(
	gmmPos™iÚ
 < 0) {

347 
	gmmPos™iÚ
 = 0;

355 
´iv©e
 
Ed™I‹m
 
g‘P»vious
() {

356 ià(
	gmmPos™iÚ
 == 0) {

357  
nuÎ
;

359 
	gmmPos™iÚ
--;

360  
	gmmHi¡Üy
.
g‘
(
mmPos™iÚ
);

367 
´iv©e
 
Ed™I‹m
 
g‘Next
() {

368 ià(
	gmmPos™iÚ
 >ğ
mmHi¡Üy
.
size
()) {

369  
nuÎ
;

372 
Ed™I‹m
 
	g™em
 = 
mmHi¡Üy
.
g‘
(
mmPos™iÚ
);

373 
	gmmPos™iÚ
++;

374  
	g™em
;

381 
´iv©e
 
fš®
 cÏs 
	cEd™I‹m
 {

382 
´iv©e
 
fš®
 
	gmmS¹
;

383 
´iv©e
 
fš®
 
Ch¬Sequ’û
 
	gmmBefÜe
;

384 
´iv©e
 
fš®
 
Ch¬Sequ’û
 
	gmmAá”
;

390 
public
 
Ed™I‹m
(
¡¬t
, 
Ch¬Sequ’û
 
befÜe
, Ch¬Sequ’û 
aá”
) {

391 
	gmmS¹
 = 
¡¬t
;

392 
	gmmBefÜe
 = 
befÜe
;

393 
	gmmAá”
 = 
aá”
;

400 
´iv©e
 
fš®
 cÏs 
	cEd™TextChªgeLi¡’”
 
im¶em’ts
 
	gTextW©ch”
 {

405 
´iv©e
 
Ch¬Sequ’û
 
	gmBefÜeChªge
;

410 
´iv©e
 
Ch¬Sequ’û
 
	gmAá”Chªge
;

412 
public
 
befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
,

413 
aá”
) {

414 ià(
	gmIsUndoOrRedo
) {

418 
	gmBefÜeChªge
 = 
s
.
subSequ’û
(
¡¬t
, s¹ + 
couÁ
);

421 
public
 
ÚTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
,

422 
couÁ
) {

423 ià(
	gmIsUndoOrRedo
) {

427 
	gmAá”Chªge
 = 
s
.
subSequ’û
(
¡¬t
, s¹ + 
couÁ
);

428 
	gmEd™Hi¡Üy
.
add
(
Ãw
 
Ed™I‹m
(
¡¬t
, 
mBefÜeChªge
, 
mAá”Chªge
));

431 
public
 
aá”TextChªged
(
Ed™abË
 
s
) {

	@app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternBoldTest.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

13 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

16 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

18 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

20 
public
 cÏs 
	cM¬kdownHighligh‹rP©‹ºBŞdTe¡
 {

22 
´iv©e
 
P©‹º
 
	m·‰”n
;

24 @
BefÜe


25 
public
 
	$befÜe
() {

26 
·‰”n
 = 
M¬kdownHighligh‹rP©‹º
.
BOLD
.pattern;

29 @
Te¡


30 
public
 
	$und”lšeBŞd
() {

31 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("__bold__");

32 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

33 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("__bold__");

34 
	}
}

36 @
Te¡


37 
public
 
	$ÚeL‘‹rUnd”lšeBŞd
() {

38 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("__b__");

39 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

40 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("__b__");

41 
	}
}

43 @
Te¡


44 
public
 
	$und”lšeBŞdInS’‹nû
() {

45 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this __sentence__ has bold");

46 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

47 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("__sentence__");

48 
	}
}

50 @
Te¡


51 
public
 
	$muÉËUnd”lšeBŞdInS’‹nû
() {

52 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this __sentence__ has __bold__");

53 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

54 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("__sentence__");

55 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

56 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("__bold__");

57 
	}
}

59 @
Te¡


60 
public
 
	$¡¬BŞd
() {

61 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("**bold**");

62 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

63 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("**bold**");

64 
	}
}

66 @
Te¡


67 
public
 
	$¡¬BŞdInS’‹nû
() {

68 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this **sentence** has bold");

69 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

70 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("**sentence**");

71 
	}
}

73 @
Te¡


74 
public
 
	$muÉËSrBŞdInS’‹nû
() {

75 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this **sentence** has **bold**");

76 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

77 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("**sentence**");

78 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

79 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("**bold**");

80 
	}
}

82 @
Te¡


83 
public
 
	$bŞdW™hS·û
() {

84 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("**bold words**");

85 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

86 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("**bold words**");

87 
	}
}

89 @
Te¡


90 
public
 
	$mixedUnd”lšeAndSrShouldNÙM©ch
() {

91 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("__bold**");

92 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

93 
	}
}

95 @
Te¡


96 
public
 
	$mixedSrAndUnd”lšeShouldNÙM©ch2
() {

97 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("**bold__");

98 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

99 
	}
}

101 @
Te¡


102 
public
 
	$mixedSrAndUnd”lšeOnSameSideShouldNÙM©ch
() {

103 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("_*bold*_");

104 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

105 
	}
}

107 @
Te¡


108 
public
 
	$™®icUnd”lšeShouldNÙM©ch
() {

109 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("_italic_");

110 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

111 
	}
}

113 @
Te¡


114 
public
 
	$™®icSrShouldNÙM©ch
() {

115 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("*italic*");

116 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

117 
	}
}

119 @
Te¡


120 
public
 
	$™®icsSrW™hTwoS¹Ch¬aù”sShouldNÙM©ch
() {

121 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("**italic*");

122 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

123 
	}
}

125 @
Te¡


126 
public
 
	$bŞdInALi¡
() {

127 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("* **bold** word");

128 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

129 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("**bold**");

130 
	}
}

132 @
Te¡


133 
public
 
	$bŞdInAWÜdShouldNÙM©ch
() {

134 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("2**5 + 4**3");

135 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

136 
	}
}

	@app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternItalicTest.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

13 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

16 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

18 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

20 
public
 cÏs 
	cM¬kdownHighligh‹rP©‹ºIlicTe¡
 {

22 
´iv©e
 
P©‹º
 
	m·‰”n
;

24 @
BefÜe


25 
public
 
	$befÜe
() {

26 
·‰”n
 = 
M¬kdownHighligh‹rP©‹º
.
ITALICS
.pattern;

29 @
Te¡


30 
public
 
	$und”lšeIlic
() {

31 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("_italic_");

32 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

33 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("_italic_");

34 
	}
}

36 @
Te¡


37 
public
 
	$ÚeL‘‹rUnd”lšeIlic
() {

38 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("_i_");

39 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

40 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("_i_");

41 
	}
}

43 @
Te¡


44 
public
 
	$und”lšeIlicInS’‹nû
() {

45 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this _sentence_ has italic");

46 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

47 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("_sentence_");

48 
	}
}

50 @
Te¡


51 
public
 
	$muÉËUnd”lšeIlicInS’‹nû
() {

52 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this _sentence_ has _italic_");

53 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

54 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("_sentence_");

55 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

56 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("_italic_");

57 
	}
}

59 @
Te¡


60 
public
 
	$¡¬Ilic
() {

61 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("*italic*");

62 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

63 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*italic*");

64 
	}
}

66 @
Te¡


67 
public
 
	$¡¬IlicInS’‹nû
() {

68 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this *sentence* has italic");

69 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

70 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*sentence*");

71 
	}
}

73 @
Te¡


74 
public
 
	$muÉËSrIlicInS’‹nû
() {

75 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("this *sentence* has *italic*");

76 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

77 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*sentence*");

78 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

79 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*italic*");

80 
	}
}

82 @
Te¡


83 
public
 
	$™®icW™hS·û
() {

84 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("*italic words*");

85 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

86 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*italic words*");

87 
	}
}

89 @
Te¡


90 
public
 
	$mixedUnd”lšeAndSrShouldNÙM©ch
() {

91 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("_italic*");

92 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

93 
	}
}

95 @
Te¡


96 
public
 
	$mixedSrAndUnd”lšeShouldNÙM©ch2
() {

97 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("*italic_");

98 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

99 
	}
}

101 @
Te¡


102 
public
 
	$bŞdUnd”lšeShouldNÙM©ch
() {

103 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("__bold__");

104 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

105 
	}
}

107 @
Te¡


108 
public
 
	$bŞdSrShouldNÙM©ch
() {

109 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("**bold**");

110 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

111 
	}
}

113 @
Te¡


114 
public
 
	$bŞdAndIlicSrShouldM©ch
() {

115 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("***bold & italic***");

116 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

117 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("***bold & italic***");

118 
	}
}

120 @
Te¡


121 
public
 
	$bŞdAndIlicSrW™hExŒaP»ûdšgSrShouldM©ch
() {

122 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("****bold & italic***");

123 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

124 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("****bold & italic***");

125 
	}
}

127 @
Te¡


128 
public
 
	$bŞdAndIlicSrW™hExŒaT¿šgSrShouldM©ch
() {

129 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("***bold & italic****");

130 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

131 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("***bold & italic****");

132 
	}
}

142 @
Te¡


143 
public
 
	$™®icSrW™hExŒaT¿šgSrShouldM©ch
() {

144 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("*italic**");

145 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

146 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*italic**");

147 
	}
}

150 @
Te¡


151 
public
 
	$™®icInALi¡
() {

152 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("* *italic* word");

153 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

154 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*italic*");

155 
	}
}

157 @
Te¡


158 
public
 
	$bŞdInAWÜdShouldNÙM©ch
() {

159 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("foo_bar_baz");

160 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

161 
	}
}

	@app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternListTest.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

13 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

16 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

18 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

20 
public
 cÏs 
	cM¬kdownHighligh‹rP©‹ºLi¡Te¡
 {

22 
´iv©e
 
P©‹º
 
	m·‰”n
;

24 @
BefÜe


25 
public
 
	$befÜe
() {

26 
·‰”n
 = 
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
.pattern;

29 @
Te¡


30 
public
 
	$dashI‹m
() {

31 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("- Item");

32 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

33 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("-");

34 
	}
}

36 @
Te¡


37 
public
 
	$¡¬I‹m
() {

38 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("* Item");

39 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

40 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("*");

41 
	}
}

43 @
Te¡


44 
public
 
	$lšeP”iodI‹mShouldNÙM©ch
() {

45 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("-. Item");

46 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

47 
	}
}

49 @
Te¡


50 
public
 
	$¡¬P”iodI‹mShouldNÙM©ch
() {

51 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("*. Item");

52 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

53 
	}
}

55 @
Te¡


56 
public
 
	$uncheckedTaskI‹m
() {

57 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("- [ ] Unchecked");

58 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

59 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("- [ ]");

60 
	}
}

62 @
Te¡


63 
public
 
	$low”ÿ£CheckedTaskI‹m
() {

64 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("- [x] Checked");

65 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

66 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("- [x]");

67 
	}
}

69 @
Te¡


70 
public
 
	$uµ”ÿ£CheckedTaskI‹m
() {

71 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("- [X] Checked");

72 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

73 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("- [X]");

74 
	}
}

76 @
Te¡


77 
public
 
	$unknownCheckedTaskI‹m
() {

78 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("- [p] Checked");

79 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

80 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("-");

81 
	}
}

83 @
Te¡


84 
public
 
	$h—d”ShouldNÙM©ch
() {

85 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("--");

86 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

87 
	}
}

89 @
Te¡


90 
public
 
	$h—d”W™hCh¬ach”sShouldNÙM©ch
() {

91 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("-------- header ---------");

92 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

93 
	}
}

95 @
Te¡


96 
public
 
	$bŞdShouldNÙM©ch
() {

97 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("**bold**");

98 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

99 
	}
}

	@app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternOrderedListTest.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

13 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

16 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

18 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

20 
public
 cÏs 
	cM¬kdownHighligh‹rP©‹ºOrd”edLi¡Te¡
 {

22 
´iv©e
 
P©‹º
 
	m·‰”n
;

24 @
BefÜe


25 
public
 
	$befÜe
() {

26 
·‰”n
 = 
M¬kdownHighligh‹rP©‹º
.
LIST_ORDERED
.pattern;

29 @
Te¡


30 
public
 
	$numb”I‹m
() {

31 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("1. Item");

32 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

33 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("1. ");

34 
	}
}

	@app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternStrikethroughTest.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

13 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

16 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

18 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

20 
public
 cÏs 
	cM¬kdownHighligh‹rP©‹ºSŒik‘hroughTe¡
 {

22 
´iv©e
 
P©‹º
 
	m·‰”n
;

24 @
BefÜe


25 
public
 
	$befÜe
() {

26 
·‰”n
 = 
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
.pattern;

29 @
Te¡


30 
public
 
	$¡rik‘hrough
() {

31 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("~~strikethrough~~");

32 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

33 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("~~strikethrough~~");

34 
	}
}

36 @
Te¡


37 
public
 
	$¡rik‘hroughSšgËCh¬aù”
() {

38 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("~~s~~");

39 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

40 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("~~s~~");

41 
	}
}

43 @
Te¡


44 
public
 
	$¡rik‘hroughW™hS·û
() {

45 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("~~strikehrough~~");

46 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

47 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("~~strikehrough~~");

48 
	}
}

50 @
Te¡


51 
public
 
	$muÉËSŒik‘hrough
() {

52 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("~~one~~ ~~two~~");

53 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

54 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("~~one~~");

55 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

56 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("~~two~~");

57 
	}
}

59 @
Te¡


60 
public
 
	$¡rik‘hroughW™hP»ûdšgTde
() {

61 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("~~~one~~");

62 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

63 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("~~~one~~");

64 
	}
}

66 @
Te¡


67 
public
 
	$¡rik‘hroughW™hT¿šgTdeSksExŒaTdes
() {

68 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("~~one~~~");

69 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isTrue
();

70 
	`as£¹Th©
(
m
.
	`group
()).
	`isEqu®To
("~~one~~");

71 
	}
}

73 @
Te¡


74 
public
 
	$¡rik‘hroughW™hS·ûAsLa¡Ch¬ach”ShouldNÙM©ch
() {

75 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
("~~one ~~");

76 
	`as£¹Th©
(
m
.
	`fšd
()).
	`isF®£
();

77 
	}
}

	@app/src/test/java/net/gsantner/markor/format/todotxt/TodoTxtFileRecognitionTests.java

11 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gtodÙxt
;

13 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

17 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

19 
public
 cÏs 
	cTodoTxtFeRecogn™iÚTe¡s
 {

21 @
Te¡


22 
public
 
	$checkTodoTxtFeRecogn™iÚ
() {

23 
P©‹º
 
p
 = 
TodoTxtTask
.
TODOTXT_FILE_PATTERN
;

24 
	`as£¹Th©
(
	`i¥m
(
p
, "todo.txt")).
	`isEqu®To
(
Œue
);

25 
	`as£¹Th©
(
	`i¥m
(
p
, "ToDO.txt")).
	`isEqu®To
(
Œue
);

26 
	`as£¹Th©
(
	`i¥m
(
p
, "todo.¬chive.txt")).
	`isEqu®To
(
Œue
);

27 
	`as£¹Th©
(
	`i¥m
(
p
, "todo-¬chive.txt")).
	`isEqu®To
(
Œue
);

28 
	`as£¹Th©
(
	`i¥m
(
p
, "todo-hi¡Üy.txt")).
	`isEqu®To
(
Œue
);

29 
	`as£¹Th©
(
	`i¥m
(
p
, "2017-todo.txt")).
	`isEqu®To
(
Œue
);

30 
	`as£¹Th©
(
	`i¥m
(
p
, "2015.todo.txt")).
	`isEqu®To
(
Œue
);

31 
	`as£¹Th©
(
	`i¥m
(
p
, "todo.md")).
	`isEqu®To
(
Œue
);

32 
	`as£¹Th©
(
	`i¥m
(
p
, "TODO.md")).
	`isEqu®To
(
Œue
);

33 
	`as£¹Th©
(
	`i¥m
(
p
, "w–Éodo.txt")).
	`isEqu®To
(
çl£
);

34 
	`as£¹Th©
(
	`i¥m
(
p
, "asdáodo.md")).
	`isEqu®To
(
çl£
);

38 
´iv©e
 
boŞ—n
 
	$i¥m
(
P©‹º
 
·‰”n
, 
SŒšg
 
¡r
) {

39  
·‰”n
.
	`m©ch”
(
¡r
).
	`m©ches
();

40 
	}
}

	@app/src/test/java/net/gsantner/markor/format/zimwiki/ZimWikiFileTests.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

14 
impÜt
 
	gjava
.
	gut
.
	gC®’d¬
;

15 
impÜt
 
	gjava
.
	gut
.
	gD©e
;

16 
impÜt
 
	gjava
.
	gut
.
	gLoÿË
;

17 
impÜt
 
	gjava
.
	gut
.
	gTimeZÚe
;

18 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

19 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

21 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

23 
public
 cÏs 
	cZimWikiFeTe¡s
 {

25 
public
 şas 
	cG’”©ÜTe¡s
 {

26 @
Suµ»ssW¬nšgs
("SpellCheckingInspection")

27 @
Te¡


28 
public
 
ü—‹sCÜ»ùCÚ‹ÁsFÜNewZimWikiFes
() {

29 
	mLoÿË
.
£tDeçuÉ
(
LoÿË
.
ENGLISH
);

30 
C®’d¬
 
	mÿËnd¬
 = C®’d¬.
g‘In¡ªû
();

31 
	mÿËnd¬
.
£t
(2020, 
C®’d¬
.
DECEMBER
, 24, 18, 0, 30);

32 
	mÿËnd¬
.
£tTimeZÚe
(
TimeZÚe
.
g‘TimeZÚe
("GMT+01:00"));

33 
D©e
 
	md©e
 = 
ÿËnd¬
.
g‘Time
();

34 
SŒšg
 
	mex³ùed
 = "Content-Type:ext/x-zim-wiki\n" +

41 
SŒšg
 
	maùu®
 = 
ZimWikiTextAùiÚs
.
ü—‹ZimWikiH—d”AndT™ËCÚ‹Ás
("My_Ãw_wiki_·ge", 
d©e
, "Created");

42 
SŒšg
 
	maùu®R•Ïûd
 = 
aùu®
.
»¶aûAÎ
("(?m)T1[78]:00:30.+$", "");

43 
SŒšg
 
	mex³ùedR•Ïûd
 = 
ex³ùed
.
»¶aûAÎ
("(?m)T1[78]:00:30.+$", "");

44 
as£¹Th©
(
aùu®R•Ïûd
).
isEqu®To
(
ex³ùedR•Ïûd
);

48 
public
 şas 
	cZimFeH—d”Te¡
 {

50 
´iv©e
 
P©‹º
 
	g·‰”n
;

52 @
Te¡


53 
public
 
zimH—d”AtBegšnšgOfTheFeShouldM©ch
() {

54 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
ZIMHEADER
.
·‰”n
;

55 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("Content-Type:ext/x-zim-wiki\nWiki-Format: zim 0.4\nCreation-Date: 2019-03-31T14:48:06+02:00\nOther content...");

56 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

57 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("Content-Type:ext/x-zim-wiki\nWiki-Format: zim 0.4\nCreation-Date: 2019-03-31T14:48:06+02:00");

60 @
Te¡


61 
public
 
zimH—d”NÙAtBegšnšgOfTheFeShouldNÙM©ch
() {

62 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
ZIMHEADER
.
·‰”n
;

63 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("Blabla\nContent-Type:ext/x-zim-wiki\nWiki-Format: zim 0.4\nCreation-Date: 2019-03-31T14:48:06+02:00");

64 
as£¹Th©
(
m©ch”
.
fšd
()).
isF®£
();

	@app/src/test/java/net/gsantner/markor/format/zimwiki/ZimWikiHighlighterTests.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gBefÜe
;

13 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

16 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

18 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

20 
public
 cÏs 
	cZimWikiHighligh‹rTe¡s
 {

22 
public
 şas 
	cH—dšgTe¡s
 {

24 
´iv©e
 
P©‹º
 
	m·‰”n
;

26 @
BefÜe


27 
public
 
befÜe
() {

28 
	m·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
HEADING
.
·‰”n
;

31 @
Te¡


32 
public
 
bigge¡H—dšg
() {

33 
SŒšg
 
	mh—dšg
 = "======his ishe biggest heading ======";

34 
fšdAndAs£¹Equ®H—dšg
(
h—dšg
);

37 @
Te¡


38 
public
 
sm®Ë¡H—dšg
() {

39 
SŒšg
 
	mh—dšg
 = "==his ishe smallest heading ==";

40 
fšdAndAs£¹Equ®H—dšg
(
h—dšg
);

43 @
Te¡


44 
public
 
em±yH—dšg
() {

45 
SŒšg
 
	mh—dšg
 = "=== ===";

46 
fšdAndAs£¹Equ®H—dšg
(
h—dšg
);

49 @
Te¡


50 
public
 
šv®idH—dšgTooFewEqu®Signs
() {

51 
SŒšg
 
	mšv®idH—dšg
 = "=his is‚ot‡ valid heading =";

52 
M©ch”
 
	mm©ch”
 = 
·‰”n
.
m©ch”
(
šv®idH—dšg
);

53 
as£¹Th©
(
m©ch”
.
fšd
()).
isF®£
();

56 @
Te¡


57 
public
 
šv®idH—dšgUÃqu®CouÁOfEqu®Signs
() {

58 
SŒšg
 
	mšv®idH—dšg
 = "===hree signs onhe†eft but onlywo onhe„ight ==";

59 
M©ch”
 
	mm©ch”
 = 
·‰”n
.
m©ch”
(
šv®idH—dšg
);

60 
as£¹Th©
(
m©ch”
.
fšd
()).
isF®£
();

63 
´iv©e
 
fšdAndAs£¹Equ®H—dšg
(
SŒšg
 
ex³ùedH—dšg
) {

64 
M©ch”
 
	mm©ch”
 = 
·‰”n
.
m©ch”
(
ex³ùedH—dšg
);

65 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

66 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
(
ex³ùedH—dšg
);

70 
public
 şas 
	cP©‹ºBŞdTe¡s
 {

71 
´iv©e
 
P©‹º
 
	g·‰”n
;

73 @
BefÜe


74 
public
 
befÜe
() {

75 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
BOLD
.
·‰”n
;

78 @
Te¡


79 
public
 
¡¬BŞdInS’‹nû
() {

80 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("this **sentence** has bold");

81 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

82 
as£¹Th©
(
m
.
group
()).
isEqu®To
("**sentence**");

85 @
Te¡


86 
public
 
muÉËSrBŞdInS’‹nû
() {

87 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("this **sentence** has **bold**");

88 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

89 
as£¹Th©
(
m
.
group
()).
isEqu®To
("**sentence**");

90 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

91 
as£¹Th©
(
m
.
group
()).
isEqu®To
("**bold**");

94 @
Te¡


95 
public
 
bŞdW™hS·û
() {

96 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("**bold words**");

97 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

98 
as£¹Th©
(
m
.
group
()).
isEqu®To
("**bold words**");

101 @
Te¡


102 
public
 
bŞdW™hOÆyOÃSrAtTheEndShouldNÙM©ch
() {

103 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("**not bold*");

104 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

107 @
Te¡


108 
public
 
bŞdInALi¡
() {

109 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("* **bold** word");

110 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

111 
as£¹Th©
(
m
.
group
()).
isEqu®To
("**bold**");

114 @
Te¡


115 
public
 
bŞdInAWÜdShouldNÙM©ch
() {

116 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("2**5 + 4**3");

117 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

122 
public
 şas 
	cP©‹ºCheckLi¡Te¡s
 {

124 
´iv©e
 
P©‹º
 
	g·‰”n
;

126 @
Te¡


127 
public
 
uncheckedI‹m
() {

128 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST_UNCHECKED
.
·‰”n
;

129 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("[ ] Unchecked Item");

130 
as£¹CÜ»ùCheckboxW™hIÂ”SymbŞ
(
m
, " ");

133 @
Te¡


134 
public
 
checkedI‹m
() {

135 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST_CHECKED
.
·‰”n
;

136 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("[*] Checked Item");

137 
as£¹CÜ»ùCheckboxW™hIÂ”SymbŞ
(
m
, "*");

140 @
Te¡


141 
public
 
üos£dI‹m
() {

142 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST_CROSSED
.
·‰”n
;

143 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("[x] Crossed Item");

144 
as£¹CÜ»ùCheckboxW™hIÂ”SymbŞ
(
m
, "x");

147 @
Te¡


148 
public
 
™emW™hA¼ow
() {

149 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST_ARROW
.
·‰”n
;

150 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("[>] Marked Item with‡ yellow‡rrow");

151 
as£¹CÜ»ùCheckboxW™hIÂ”SymbŞ
(
m
, ">");

154 @
Te¡


155 
public
 
roundB¿ûsDoNÙM©ch
() {

156 
	gP©‹º
[] 
	gcheckli¡P©‹ºs
 = {
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST
.
·‰”n
,

157 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST_CHECKED
.
·‰”n
,

158 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST_CROSSED
.
·‰”n
,

159 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST_ARROW
.
·‰”n
};

160 
P©‹º
 
	gcheckli¡P©‹º
 : 
checkli¡P©‹ºs
) {

161 
M©ch”
 
m
 = 
checkli¡P©‹º
.
m©ch”
("( ) invalid item");

162 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

166 
´iv©e
 
as£¹CÜ»ùCheckboxW™hIÂ”SymbŞ
(
M©ch”
 
m
, 
SŒšg
 
symbŞ
) {

167 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

168 
as£¹Th©
(
m
.
group
()).
isEqu®To
("[" + 
symbŞ
 + "]");

169 
as£¹Th©
(
m
.
group
(
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKBOX_LEFT_BRACKET_GROUP
)).
isEqu®To
("[");

170 
as£¹Th©
(
m
.
group
(
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKBOX_SYMBOL_GROUP
)).
isEqu®To
(
symbŞ
);

171 
as£¹Th©
(
m
.
group
(
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKBOX_RIGHT_BRACKET_GROUP
)).
isEqu®To
("]");

176 
public
 şas 
	cP©‹ºIlicTe¡
 {

178 
´iv©e
 
P©‹º
 
	g·‰”n
;

180 @
BefÜe


181 
public
 
befÜe
() {

182 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
ITALICS
.
·‰”n
;

185 @
Te¡


186 
public
 
und”lšeIlic
() {

187 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("//italic//");

188 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

189 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//italic//");

192 @
Te¡


193 
public
 
ÚeL‘‹rUnd”lšeIlic
() {

194 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("//i//");

195 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

196 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//i//");

199 @
Te¡


200 
public
 
und”lšeIlicInS’‹nû
() {

201 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("this //sentence// has italic");

202 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

203 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//sentence//");

206 @
Te¡


207 
public
 
muÉËUnd”lšeIlicInS’‹nû
() {

208 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("this //sentence// has //italic//");

209 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

210 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//sentence//");

211 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

212 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//italic//");

215 @
Te¡


216 
public
 
™®icW™hS·û
() {

217 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("//italic words//");

218 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

219 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//italic words//");

222 @
Te¡


223 
public
 
mixedUnd”lšeAndSrShouldNÙM©ch
() {

224 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("_italic*");

225 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

228 @
Te¡


229 
public
 
mixedSrAndUnd”lšeShouldNÙM©ch2
() {

230 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("*italic_");

231 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

234 @
Te¡


235 
public
 
bŞdUnd”lšeShouldNÙM©ch
() {

236 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("__bold__");

237 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

240 @
Te¡


241 
public
 
bŞdSrShouldNÙM©ch
() {

242 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("**bold**");

243 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

246 @
Te¡


247 
public
 
bŞdAndIlicSrShouldM©ch
() {

248 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("//**bold & italic**//");

249 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

250 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//**bold & italic**//");

253 @
Te¡


254 
public
 
bŞdAndIlicSÏshW™hExŒaP»ûdšgSÏshShouldM©ch
() {

255 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("///**bold & italic**//");

256 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

257 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//**bold & italic**//");

260 @
Te¡


261 
public
 
bŞdAndIlicSÏshW™hExŒaT¿šgSÏshShouldM©ch
() {

262 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("//**bold & italic**///");

263 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

264 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//**bold & italic**//");

275 @
Te¡


276 
public
 
™®icSÏshW™hExŒaT¿šgSÏshShouldM©ch
() {

277 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("//italic///");

278 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

279 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//italic//");

283 @
Te¡


284 
public
 
™®icInALi¡
() {

285 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("* //italic// word");

286 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

287 
as£¹Th©
(
m
.
group
()).
isEqu®To
("//italic//");

292 
public
 şas 
	cP©‹ºLi¡Te¡
 {

294 
´iv©e
 
P©‹º
 
	g·‰”n
;

296 @
BefÜe


297 
public
 
befÜe
() {

298 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LIST_UNORDERED
.
·‰”n
;

301 @
Te¡


302 
public
 
dashI‹mShouldNÙM©ch
() {

303 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("- Item");

304 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

307 @
Te¡


308 
public
 
¡¬I‹m
() {

309 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("* Item");

310 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

311 
as£¹Th©
(
m
.
group
()).
isEqu®To
("*");

314 @
Te¡


315 
public
 
¡¬I‹mMuÉËS·ûsShouldM©ch
() {

316 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("* Item");

317 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

318 
as£¹Th©
(
m
.
group
()).
isEqu®To
("*");

321 @
Te¡


322 
public
 
¡¬I‹mInd’‹dShouldM©ch
() {

323 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("\t* Item");

324 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

325 
as£¹Th©
(
m
.
group
()).
isEqu®To
("*");

328 @
Te¡


329 
public
 
lšeP”iodI‹mShouldNÙM©ch
() {

330 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("-. Item");

331 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

334 @
Te¡


335 
public
 
¡¬P”iodI‹mShouldNÙM©ch
() {

336 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("*. Item");

337 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

340 @
Te¡


341 
public
 
h—d”ShouldNÙM©ch
() {

342 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("==");

343 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

346 @
Te¡


347 
public
 
h—d”W™hCh¬ach”sShouldNÙM©ch
() {

348 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("====== header ======");

349 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

352 @
Te¡


353 
public
 
bŞdShouldNÙM©ch
() {

354 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("**bold**");

355 
as£¹Th©
(
m
.
fšd
()).
isF®£
();

361 
public
 şas 
	cP©‹ºOrd”edLi¡Te¡
 {

363 
´iv©e
 
P©‹º
 
	g·‰”n
;

365 @
BefÜe


366 
public
 
befÜe
() {

367 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LIST_ORDERED
.
·‰”n
;

370 @
Te¡


371 
public
 
numb”I‹m
() {

372 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("1. Item");

373 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

374 
as£¹Th©
(
m
.
group
()).
isEqu®To
("1.");

377 @
Te¡


378 
public
 
Ë‰”I‹m
() {

379 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("b. Item");

380 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

381 
as£¹Th©
(
m
.
group
()).
isEqu®To
("b.");

384 @
Te¡


385 
public
 
ÿp™®I‹m
() {

386 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("C. Item");

387 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

388 
as£¹Th©
(
m
.
group
()).
isEqu®To
("C.");

393 
public
 şas 
	cP©‹ºSŒik‘hroughTe¡
 {

395 
´iv©e
 
P©‹º
 
	g·‰”n
;

397 @
BefÜe


398 
public
 
befÜe
() {

399 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
STRIKETHROUGH
.
·‰”n
;

402 @
Te¡


403 
public
 
¡rik‘hrough
() {

404 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("~~strikethrough~~");

405 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

406 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~strikethrough~~");

409 @
Te¡


410 
public
 
¡rik‘hroughSšgËCh¬aù”
() {

411 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("~~s~~");

412 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

413 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~s~~");

416 @
Te¡


417 
public
 
¡rik‘hroughW™hS·û
() {

418 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("~~strikehrough~~");

419 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

420 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~strikehrough~~");

423 @
Te¡


424 
public
 
muÉËSŒik‘hrough
() {

425 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("~~one~~ ~~two~~");

426 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

427 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~one~~");

428 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

429 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~two~~");

432 @
Te¡


433 
public
 
¡rik‘hroughW™hP»ûdšgTde
() {

434 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("~~~one~~");

435 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

436 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~one~~");

439 @
Te¡


440 
public
 
¡rik‘hroughW™hT¿šgTdeSksExŒaTdes
() {

441 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("~~one~~~");

442 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

443 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~one~~");

446 @
Te¡


447 
public
 
¡rik‘hroughW™hS·ûAsLa¡Ch¬ach”ShouldM©ch
() {

448 
M©ch”
 
	gm
 = 
·‰”n
.
m©ch”
("~~one ~~");

449 
as£¹Th©
(
m
.
fšd
()).
isTrue
();

450 
as£¹Th©
(
m
.
group
()).
isEqu®To
("~~one ~~");

454 
public
 şas 
	cP©‹ºOv”®lTe¡s
 {

455 
´iv©e
 
P©‹º
 
	g·‰”n
;

457 @
Te¡


458 
public
 
bŞdWÜdInS’‹nû
() {

459 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
BOLD
.
·‰”n
;

460 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("The following **word** is bold.");

461 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

462 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("**word**");

465 @
Te¡


466 
public
 
™®icsWÜdInS’‹nû
() {

467 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
ITALICS
.
·‰”n
;

468 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("The following //word// is in italics.");

469 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

470 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("//word//");

473 @
Te¡


474 
public
 
highligh‹dWÜdInS’‹nû
() {

475 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
HIGHLIGHTED
.
·‰”n
;

476 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("The following __word__ is marked (highlighted).");

477 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

478 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("__word__");

481 @
Te¡


482 
public
 
¡ruckThroughWÜdInS’‹nû
() {

483 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
STRIKETHROUGH
.
·‰”n
;

484 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("The following ~~word~~ is struckhrough.");

485 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

486 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("~~word~~");

489 @
Te¡


490 
public
 
´efÜm©‹dWÜdInS’‹nû
() {

491 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
PREFORMATTED_INLINE
.
·‰”n
;

492 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("The following ''word'' is struckhrough.");

493 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

494 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("''word''");

497 @
Te¡


498 
public
 
´efÜm©‹dTextBlock
() {

499 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
PREFORMATTED_MULTILINE
.
·‰”n
;

500 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("Someext before\n" +

507 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

508 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("'''\nsome\ntext\nblock\n'''");

511 @
Te¡


512 
public
 
unÜd”edLi¡Highlightšgs
() {

513 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LIST_UNORDERED
.
·‰”n
;

514 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("someext...\n* first item\n\t* item 11\n* item 2");

515 
	gi
 = 0; i < 3; i++) {

516 
as£¹Th©
(
m©ch”
.
fšd
());

517 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("*");

522 @
Te¡


523 
public
 
Üd”edLi¡HighlightšgsNumb”s
() {

524 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LIST_ORDERED
.
·‰”n
;

525 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("\n1. first item\n\t2. second item\n");

526 
	gSŒšg
[] 
	gex³ùedM©ches
 = {"1.", "2."};

527 
SŒšg
 
	gex³ùedM©ch
 : 
ex³ùedM©ches
) {

528 
as£¹Th©
(
m©ch”
.
fšd
());

529 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
(
ex³ùedM©ch
);

533 @
Te¡


534 
public
 
Üd”edLi¡HighlightšgsCh¬aù”s
() {

535 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LIST_ORDERED
.
·‰”n
;

536 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("\na. first item\nb. second item\n");

537 
	gSŒšg
[] 
	gex³ùedM©ches
 = {"a.", "b."};

538 
SŒšg
 
	gex³ùedM©ch
 : 
ex³ùedM©ches
) {

539 
as£¹Th©
(
m©ch”
.
fšd
());

540 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
(
ex³ùedM©ch
);

544 @
Te¡


545 
public
 
Üd”edLi¡HighlightšgsNumb”sAndCh¬aù”s
() {

546 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LIST_ORDERED
.
·‰”n
;

547 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("\n1. first item\n2. second item\n\ta. item 2a\n\tb. item 2b\n");

548 
	gSŒšg
[] 
	gex³ùedM©ches
 = {"1.", "2.", "a.", "b."};

549 
SŒšg
 
	gex³ùedM©ch
 : 
ex³ùedM©ches
) {

550 
as£¹Th©
(
m©ch”
.
fšd
());

551 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
(
ex³ùedM©ch
);

555 @
Te¡


556 
public
 
webLškInS’‹nû
() {

557 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LINK
.
·‰”n
;

558 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("Visit [[https://github.com/gsantner/markor|Markor on Github]]‚ow!");

559 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

560 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("[[https://github.com/gsantner/markor|Markor on Github]]");

563 @
Te¡


564 
public
 
üossWikiLšk
() {

565 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
LINK
.
·‰”n
;

566 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("Goo‡nother…age [[Page Name]] inhe same‚otebook.");

567 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

568 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("[[Page Name]]");

571 @
Te¡


572 
public
 
lškToLoÿlImage
() {

573 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
IMAGE
.
·‰”n
;

574 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("Someext.\nSome moreext.\n{{.pasted_image.png}}\nMoreext.");

575 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

576 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("{{.pasted_image.png}}");

579 @
Te¡


580 
public
 
su³rsütTextInS’‹nû
() {

581 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
SUPERSCRIPT
.
·‰”n
;

582 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("We‡lso have _{subscript}‡nd ^{superscript}.");

583 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

584 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("^{superscript}");

587 @
Te¡


588 
public
 
subsütTextInS’‹nû
() {

589 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
SUBSCRIPT
.
·‰”n
;

590 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("We‡lso have _{subscript}‡nd ^{superscript}.");

591 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

592 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
("_{subscript}");

596 @
Te¡


597 
public
 
checkLi¡Ov”MuÉËLšes
() {

598 
	g·‰”n
 = 
ZimWikiHighligh‹r
.
P©‹ºs
.
CHECKLIST
.
·‰”n
;

599 
M©ch”
 
	gm©ch”
 = 
·‰”n
.
m©ch”
("Someext before...\n" +

605 
	gSŒšg
[] 
	gex³ùedM©ches
 = {"[ ]", "[*]", "\t[x]", "[>]", "[ ]"};

606 
SŒšg
 
	gex³ùedM©ch
 : 
ex³ùedM©ches
) {

607 
as£¹Th©
(
m©ch”
.
fšd
()).
isTrue
();

608 
as£¹Th©
(
m©ch”
.
group
()).
isEqu®To
(
ex³ùedM©ch
);

	@app/src/test/java/net/gsantner/markor/format/zimwiki/ZimWikiReplacePatternGeneratorTests.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gTextAùiÚs
;

14 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

16 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

17 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

19 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

21 
public
 cÏs 
	cZimWikiR•ÏûP©‹ºG’”©ÜTe¡s
 {

24 
public
 şas 
	cV¬iousTe¡s
 {

27 
´iv©e
 
	mLi¡
<
	mTextAùiÚs
.
	mR•ÏûP©‹º
> 
	m»¶aûP©‹ºs
;

28 
´iv©e
 
SŒšg
 
	m»suÉ
;

30 @
Te¡


31 
public
 
ü—‹H—dšgsW™hS³cif›dLev–
() {

34 @
Te¡


35 
public
 
»moveH—dšgCh¬sFÜExaùH—dšgLev–
() {

36 
£tLev–FourH—dšgAùiÚ
();

37 
as£¹CÜ»ùR•Ïûm’t
("=== My Heading ===", "My Heading");

40 @
Te¡


41 
public
 
»¶aûDifã»ÁLev–H—dšgs
() {

42 
£tLev–FourH—dšgAùiÚ
();

43 
as£¹CÜ»ùR•Ïûm’t
("==== My Heading ====", "=== My Heading ===");

46 @
Te¡


47 
public
 
ü—‹Em±yH—dšg
() {

48 
£tLev–FourH—dšgAùiÚ
();

49 
as£¹CÜ»ùR•Ïûm’t
("", "=== ===");

52 @
Te¡


53 
public
 
addH—dšgCh¬aù”sToText
() {

54 
£tLev–FourH—dšgAùiÚ
();

55 
as£¹CÜ»ùR•Ïûm’t
("My Heading", "=== My Heading ===");

58 @
Te¡


59 
public
 
addH—dšgCh¬aù”sAroundMockH—dšg
() {

60 
£tLev–FourH—dšgAùiÚ
();

61 
as£¹CÜ»ùR•Ïûm’t
("= My Heading =", "=== = My Heading = ===");

64 
´iv©e
 
£tLev–FourH—dšgAùiÚ
() {

65 
	mh—dšgLev–
 = 4;

66 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
£tOrUn£tH—dšgW™hLev–
(
h—dšgLev–
);

69 @
Te¡


70 
public
 
toggËFromUncheckedToCheckedBox
() {

71 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hNextS‹Checkbox
();

72 
SŒšg
 
	muncheckedI‹m
 = "[ ] some item";

73 
as£¹CÜ»ùR•Ïûm’t
(
uncheckedI‹m
, "[*] some item");

76 @
Te¡


77 
public
 
toggËCheckBoxInCÜ»ùOrd”
() {

78 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hNextS‹Checkbox
();

79 
	mSŒšg
[] 
	mÜd”edCheckboxS‹s
 = {" ", "*", "x", ">"};

81 
SŒšg
 
	mcu¼’tLše
 = "some item";

82 
	mcu¼’tLše
 = 
»¶aûW™hFœ¡M©chšgP©‹º
(
»¶aûP©‹ºs
, 
cu¼’tLše
);

83 
	mi
 = 0; i < 
	mÜd”edCheckboxS‹s
.
	mËngth
 + 1; i++) {

84 
as£¹Th©
(
cu¼’tLše
).
isEqu®To
("[" + 
Üd”edCheckboxS‹s
[
i
 % ord”edCheckboxS‹s.
Ëngth
] + "] some item");

85 
	mcu¼’tLše
 = 
»¶aûW™hFœ¡M©chšgP©‹º
(
»¶aûP©‹ºs
, 
cu¼’tLše
);

89 @
Te¡


90 
public
 
»¶aûNÚCheckli¡P»fixesW™hUncheckedBox
() {

91 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hNextS‹Checkbox
();

92 
	mSŒšg
[] 
	mÙh”P»fixes
 = {"1.", "a.", "*"};

93 
SŒšg
 
	mÙh”P»fix
 : 
Ùh”P»fixes
) {

94 
SŒšg
 
™emW™hOth”P»fix
 = 
Ùh”P»fix
 + " some item";

95 
as£¹CÜ»ùR•Ïûm’t
(
™emW™hOth”P»fix
, "[ ] some item");

99 @
Te¡


100 
public
 
k“pWh™e¥aûWh’AddšgCheckbox
() {

101 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hNextS‹Checkbox
();

102 
SŒšg
 
	mÜigš®
 = " some item";

103 
as£¹CÜ»ùR•Ïûm’t
(
Üigš®
, " [ ] some item");

106 @
Te¡


107 
public
 
»moveCheckboxFÜAÎCheckS‹s
() {

108 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»moveCheckbox
();

109 
	mSŒšg
[] 
	mÜigš®s
 = {"\t\t[x] bla", "\t\t[ ] bla", "\t\t[*] bla", "\t\t[>] bla"};

110 
SŒšg
 
	mÜigš®
 : 
Üigš®s
) {

111 
as£¹CÜ»ùR•Ïûm’t
(
Üigš®
, "\t\tbla");

114 
as£¹CÜ»ùR•Ïûm’t
("\t\tbÏ", 
nuÎ
);

117 @
Te¡


118 
public
 
chªgeP»fixToUnÜd”edLi¡OrRemoveItAÌ—dyP»£Á
() {

119 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hUnÜd”edLi¡P»fixOrRemoveP»fix
();

120 
	mSŒšg
[] 
	mÙh”P»fixes
 = {"1.", "2.", "a.", "[ ]", "[x]"};

121 
SŒšg
 
	mÙh”P»fix
 : 
Ùh”P»fixes
) {

122 
SŒšg
 
Üigš®Lše
 = 
Ùh”P»fix
 + " some item";

123 
as£¹CÜ»ùR•Ïûm’t
(
Üigš®Lše
, "* some item");

125 
as£¹CÜ»ùR•Ïûm’t
("* some item", "some item");

128 @
Te¡


129 
public
 
chªgeP»fixToOrd”edLi¡OrRemoveItAÌ—dyP»£Á
() {

130 
	m»¶aûP©‹ºs
 = 
ZimWikiR•ÏûP©‹ºG’”©Ü
.
»¶aûW™hOrd”edLi¡P»fixOrRemoveP»fix
();

131 
	mSŒšg
[] 
	mÙh”P»fixes
 = {"[>]", "*", "[ ]"};

132 
SŒšg
 
	mÙh”P»fix
 : 
Ùh”P»fixes
) {

133 
SŒšg
 
Üigš®Lše
 = 
Ùh”P»fix
 + " some item";

134 
as£¹CÜ»ùR•Ïûm’t
(
Üigš®Lše
, "1. some item");

136 
	mSŒšg
[] 
	mÜd”edLi¡P»fixes
 = {"1.", "a.", "2."};

137 
SŒšg
 
	mÜd”edLi¡P»fix
 : 
Üd”edLi¡P»fixes
) {

138 
SŒšg
 
Üigš®Lše
 = 
Üd”edLi¡P»fix
 + " some item";

139 
as£¹CÜ»ùR•Ïûm’t
(
Üigš®Lše
, "some item");

143 
´iv©e
 
as£¹CÜ»ùR•Ïûm’t
(
SŒšg
 
Üigš®
, SŒšg 
ex³ùedR•Ïûm’t
) {

144 
	m»suÉ
 = 
»¶aûW™hFœ¡M©chšgP©‹º
(
»¶aûP©‹ºs
, 
Üigš®
);

145 
as£¹Th©
(
»suÉ
).
isEqu®To
(
ex³ùedR•Ïûm’t
);

148 
´iv©e
 
SŒšg
 
»¶aûW™hFœ¡M©chšgP©‹º
(
Li¡
<
TextAùiÚs
.
R•ÏûP©‹º
> 
»¶aûP©‹ºs
, SŒšg 
šput
) {

149 
	mTextAùiÚs
.
R•ÏûP©‹º
 
	m»¶aûP©‹º
 : 
»¶aûP©‹ºs
) {

150 
M©ch”
 
m©ch”
 = 
»¶aûP©‹º
.
£¬chP©‹º
.m©ch”(
šput
);

151 ià(
	mm©ch”
.
fšd
()) {

152  
	mm©ch”
.
»¶aûFœ¡
(
»¶aûP©‹º
.replacePattern);

155  
	mnuÎ
;

	@app/src/test/java/net/gsantner/markor/model/DocumentTest.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

14 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

16 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

18 
public
 cÏs 
	cDocum’tTe¡
 {

20 @
Te¡


21 
public
 
	$docum’tOld”V”siÚ
() {

22 
Docum’t
 
docum’t
 = 
Ãw
 
	`Docum’t
();

23 
docum’t
.
	`£tT™Ë
("Hello");

24 
docum’t
.
	`fÜûAddNextChªgeToHi¡Üy
();

25 
docum’t
.
	`£tT™Ë
("Hello World");

26 
docum’t
.
	`fÜûAddNextChªgeToHi¡Üy
();

27 
docum’t
.
	`goToE¬l›rV”siÚ
();

28 
	`as£¹Th©
(
docum’t
.
	`g‘T™Ë
()).
	`isEqu®To
("Hello");

31 @
Te¡


32 
public
 
	$docum’tNew”V”siÚ
() {

33 
Docum’t
 
docum’t
 = 
Ãw
 
	`Docum’t
();

34 
docum’t
.
	`£tT™Ë
("Hello");

35 
docum’t
.
	`fÜûAddNextChªgeToHi¡Üy
();

36 
docum’t
.
	`£tT™Ë
("Hello World");

37 
docum’t
.
	`fÜûAddNextChªgeToHi¡Üy
();

38 
docum’t
.
	`£tT™Ë
("Hello World Again");

39 
docum’t
.
	`goToE¬l›rV”siÚ
();

40 
docum’t
.
	`goToE¬l›rV”siÚ
();

41 
	`as£¹Th©
(
docum’t
.
	`g‘T™Ë
()).
	`isEqu®To
("Hello");

42 
docum’t
.
	`goToNew”V”siÚ
();

43 
	`as£¹Th©
(
docum’t
.
	`g‘T™Ë
()).
	`isEqu®To
("Hello World");

44 
	`as£¹Th©
(
docum’t
.
	`ÿnGoToNew”V”siÚ
()).
	`isEqu®To
(
Œue
);

45 
docum’t
.
	`goToNew”V”siÚ
();

46 
	`as£¹Th©
(
docum’t
.
	`g‘T™Ë
()).
	`isEqu®To
("Hello World Again");

47 
	`as£¹Th©
(
docum’t
.
	`ÿnGoToNew”V”siÚ
()).
	`isEqu®To
(
çl£
);

48 
	}
}

50 
public
 
SŒšg
 
	$nÜm®izeT™ËFÜF’ame
(
Docum’t
 
docum’t
) {

51  
Docum’tIO
.
	`nÜm®izeT™ËFÜF’ame
(
docum’t
, docum’t.
	`g‘CÚ‹Á
().
	`toSŒšg
());

52 
	}
}

54 @
Te¡


55 
public
 
	$f’ameNÜm®iz©iÚ
() {

56 
	`as£¹Th©
(
	`nÜm®izeT™ËFÜF’ame
(
	`nd
(
nuÎ
, "H–loWÜld"))).
	`isEqu®To
("HelloWorld");

57 
	`as£¹Th©
(
	`nÜm®izeT™ËFÜF’ame
(
	`nd
("H–loWÜld", "‹xt"))).
	`isEqu®To
("HelloWorld");

58 
	`as£¹Th©
(
	`nÜm®izeT™ËFÜF’ame
(
	`nd
(
nuÎ
, "‹xt\Âewlše"))).
	`isEqu®To
("text");

59 
	`as£¹Th©
(
	`nÜm®izeT™ËFÜF’ame
(
	`nd
(
nuÎ
, "sum‹xt/fŞd”"))).
	`isEqu®To
("sumtextfolder");

60 
	`as£¹Th©
(
	`nÜm®izeT™ËFÜF’ame
(
	`nd
(
nuÎ
, "## h–lØwÜld"))).
	`isEqu®To
("hello world");

61 
	}
}

63 
´iv©e
 
Docum’t
 
	$nd
(
SŒšg
 
t™Ë
, SŒšg 
cÚ‹Á
) {

64 
Docum’t
 
docum’t
 = 
Ãw
 
	`Docum’t
();

65 ià(
t™Ë
 !ğ
nuÎ
) {

66 
docum’t
.
	`£tT™Ë
(
t™Ë
);

68 ià(
cÚ‹Á
 !ğ
nuÎ
) {

69 
docum’t
.
	`£tCÚ‹Á
(
cÚ‹Á
);

71  
docum’t
;

72 
	}
}

	@app/src/test/java/net/gsantner/markor/model/TestPlayground.java

10 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gmod–
;

12 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

14 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

16 @
Suµ»ssW¬nšgs
("ALL")

17 
public
 cÏs 
	cTe¡PÏyground
 {

19 @
Te¡


20 
public
 
	$docum’tOld”V”siÚ
() {

21 
	`as£¹Th©
(
Œue
);

23 
	}
}

	@app/src/test/java/net/gsantner/markor/security/JavaPasswordbasedCryptionTest.java

1 
·ckage
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	g£cur™y
;

3 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

5 
impÜt
 
	gjava
.
	gnio
.
	gch¬£t
.
	gSnd¬dCh¬£ts
;

6 
impÜt
 
	gjava
.
	g£cur™y
.
	gSecu»Rªdom
;

8 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

10 
impÜt
 
	gÜg
.
	gjun™
.
	gAs£¹
.
	gas£¹Equ®s
;

12 
public
 cÏs 
	cJavaPasswÜdba£dCry±iÚTe¡
 {

14 
´iv©e
 
fš®
 
Secu»Rªdom
 
	mRANDOM
 = 
Ãw
 SecureRandom();

15 
´iv©e
 
fš®
 
JavaPasswÜdba£dCry±iÚ
 
	m‹¡“
 = 
Ãw
 JavaPasswÜdba£dCry±iÚ(JavaPasswÜdba£dCry±iÚ.
V”siÚ
.
V001
,‚ew 
Secu»Rªdom
());

17 @
Te¡


18 
public
 
	$ü—‹RoundŒ
() {

19 
fš®
 
SŒšg
 
·sswÜd
 = "Test";

20 
fš®
 
SŒšg
 
‹xt
 = "\u00e4\u00f6\u00fc\u00dfqwe\u20acdahfla fa†fha fh‡jdfh‡jhf‡hf‡jhf†hdslahfsajlhfalh‡djhf‡hf†ahlfhasdl\u05D0\ua707\u4e16\u754c\u60a8\u597d";

21 
Sy¡em
.
out
.
	`´šn
(
‹xt
);

22 
	`dœeùTe¡
(
·sswÜd
, 
‹xt
);

23 
	`cÚv’›ÁTe¡
(
·sswÜd
, 
‹xt
);

26 @
Te¡


27 
public
 
	$ü—‹RoundŒSŒÚgPW
() {

28 
fš®
 
SŒšg
 
·sswÜd
 = "l\u05d0\ua707\u4e16\u754c\u60a8\u597dl\u05d0\ua707\u4e16\u754c\u60a8\u597dl\u05d0\ua707\u4e16\u754c\u60a8\u597dl";

29 
fš®
 
SŒšg
 
‹xt
 = "\u00e4\u00f6\u00fc\u00dfqwe\u20acdahfla fa†fha fh‡jdfh‡jhf‡hf‡jhf†hdslahfsajlhfalh‡djhf‡hf†ahlfhasdl\u05D0\ua707\u4e16\u754c\u60a8\u597d";

30 
Sy¡em
.
out
.
	`´šn
(
‹xt
);

31 
	`dœeùTe¡
(
·sswÜd
, 
‹xt
);

32 
	`cÚv’›ÁTe¡
(
·sswÜd
, 
‹xt
);

33 
	}
}

35 
´iv©e
 
	$cÚv’›ÁTe¡
(
SŒšg
 
·sswÜd
, SŒšg 
‹xt
) {

36 
fš®
 
by‹
[] 
’üy±
 = 
Ãw
 
	`JavaPasswÜdba£dCry±iÚ
(
JavaPasswÜdba£dCry±iÚ
.
V”siÚ
.
V001
, 
RANDOM
).
	`’üy±
(
‹xt
, 
·sswÜd
.
	`toCh¬A¼ay
());

37 
fš®
 
SŒšg
 
deüy±
 = 
JavaPasswÜdba£dCry±iÚ
.
	`g‘Deüy±edText
(
’üy±
, 
·sswÜd
.
	`toCh¬A¼ay
());

38 
	`as£¹Equ®s
(
‹xt
, 
deüy±
);

39 
	}
}

41 
´iv©e
 
	$dœeùTe¡
(
SŒšg
 
·sswÜd
, SŒšg 
‹xt
) {

42 
fš®
 
by‹
[] 
’üy±
 = 
‹¡“
.
	`’üy±
(
‹xt
, 
·sswÜd
.
	`toCh¬A¼ay
());

43 
fš®
 
SŒšg
 
deüy±
 = 
‹¡“
.
	`deüy±
(
’üy±
, 
·sswÜd
.
	`toCh¬A¼ay
());

44 
	`as£¹Equ®s
(
‹xt
, 
deüy±
);

45 
	}
}

47 @
Te¡


48 
public
 
	$g‘V”siÚ
() {

49 
fš®
 
Ëngth
 = "V001".
	`g‘By‹s
(
Snd¬dCh¬£ts
.
US_ASCII
).length;

50 
	`as£¹Equ®s
(
JavaPasswÜdba£dCry±iÚ
.
V”siÚ
.
NAME_LENGTH
, 
Ëngth
);

52 
	}
}

	@app/src/test/java/other/de/stanetz/jpencconverter/cryption/JavaPasswordbasedCryptionTest.java

1 
·ckage
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	güy±iÚ
;

3 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

5 
impÜt
 
	gjava
.
	gnio
.
	gch¬£t
.
	gSnd¬dCh¬£ts
;

6 
impÜt
 
	gjava
.
	g£cur™y
.
	gSecu»Rªdom
;

8 
impÜt
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
.
	gJavaPasswÜdba£dCry±iÚ
;

10 
impÜt
 
	gÜg
.
	gjun™
.
	gAs£¹
.
	gas£¹Equ®s
;

13 
public
 cÏs 
	cJavaPasswÜdba£dCry±iÚTe¡
 {

15 
´iv©e
 
fš®
 
Secu»Rªdom
 
	mRANDOM
 = 
Ãw
 SecureRandom();

17 
´iv©e
 
JavaPasswÜdba£dCry±iÚ
 
	m‹¡“
;

19 @
Te¡


20 
public
 
	$ü—‹RoundŒ
() {

21 
JavaPasswÜdba£dCry±iÚ
.
V”siÚ
 
v”siÚ
 : JavaPasswÜdba£dCry±iÚ.V”siÚ.
	`v®ues
()) {

22 
‹¡“
 = 
Ãw
 
	`JavaPasswÜdba£dCry±iÚ
(
v”siÚ
, 
RANDOM
);

23 
fš®
 
SŒšg
 
·sswÜd
 = "Test";

24 
fš®
 
SŒšg
 
‹xt
 = "\u00e4\u00f6\u00fc\u00dfqwe\u20acdahfla fa†fha fh‡jdfh‡jhf‡hf‡jhf†hdslahfsajlhfalh‡djhf‡hf†ahlfhasdl\u05D0\ua707\u4e16\u754c\u60a8\u597d";

25 
Sy¡em
.
out
.
	`´šn
(
‹xt
);

26 
	`dœeùTe¡
(
·sswÜd
, 
‹xt
);

27 
	`cÚv’›ÁTe¡
(
·sswÜd
, 
‹xt
);

31 @
Te¡


32 
public
 
	$ü—‹RoundŒSŒÚgPW
() {

33 
JavaPasswÜdba£dCry±iÚ
.
V”siÚ
 
v”siÚ
 : JavaPasswÜdba£dCry±iÚ.V”siÚ.
	`v®ues
()) {

34 
‹¡“
 = 
Ãw
 
	`JavaPasswÜdba£dCry±iÚ
(
v”siÚ
, 
RANDOM
);

35 
fš®
 
SŒšg
 
·sswÜd
 = "l\u05d0\ua707\u4e16\u754c\u60a8\u597dl\u05d0\ua707\u4e16\u754c\u60a8\u597dl\u05d0\ua707\u4e16\u754c\u60a8\u597dl";

36 
fš®
 
SŒšg
 
‹xt
 = "\u00e4\u00f6\u00fc\u00dfqwe\u20acdahfla fa†fha fh‡jdfh‡jhf‡hf‡jhf†hdslahfsajlhfalh‡djhf‡hf†ahlfhasdl\u05D0\ua707\u4e16\u754c\u60a8\u597d";

37 
Sy¡em
.
out
.
	`´šn
(
‹xt
);

38 
	`dœeùTe¡
(
·sswÜd
, 
‹xt
);

39 
	`cÚv’›ÁTe¡
(
·sswÜd
, 
‹xt
);

41 
	}
}

43 
´iv©e
 
	$cÚv’›ÁTe¡
(
SŒšg
 
·sswÜd
, SŒšg 
‹xt
) {

44 
fš®
 
by‹
[] 
’üy±
 = 
‹¡“
.
	`’üy±
(
‹xt
, 
·sswÜd
.
	`toCh¬A¼ay
());

45 
fš®
 
SŒšg
 
deüy±
 = 
JavaPasswÜdba£dCry±iÚ
.
	`g‘Deüy±edText
(
’üy±
, 
·sswÜd
.
	`toCh¬A¼ay
());

46 
	`as£¹Equ®s
(
‹xt
, 
deüy±
);

47 
	}
}

49 
´iv©e
 
	$dœeùTe¡
(
SŒšg
 
·sswÜd
, SŒšg 
‹xt
) {

50 
fš®
 
by‹
[] 
’üy±
 = 
‹¡“
.
	`’üy±
(
‹xt
, 
·sswÜd
.
	`toCh¬A¼ay
());

51 
fš®
 
SŒšg
 
deüy±
 = 
‹¡“
.
	`deüy±
(
’üy±
, 
·sswÜd
.
	`toCh¬A¼ay
());

52 
	`as£¹Equ®s
(
‹xt
, 
deüy±
);

53 
	}
}

55 @
Te¡


56 
public
 
	$g‘V”siÚ
() {

57 
fš®
 
by‹
[] 
by‹s
 = "V001".
	`g‘By‹s
(
Snd¬dCh¬£ts
.
US_ASCII
);

58 
fš®
 
Ëngth
 = 
by‹s
.length;

59 
	`as£¹Equ®s
(
JavaPasswÜdba£dCry±iÚ
.
V”siÚ
.
NAME_LENGTH
, 
Ëngth
);

60 
	`as£¹Equ®s
(
JavaPasswÜdba£dCry±iÚ
.
V”siÚ
.
V001
, JavaPasswÜdba£dCry±iÚ.
	`g‘V”siÚ
(
by‹s
));

61 
	}
}

	@app/src/test/java/other/writeily/MarkdownHighlighterPatternTest.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
;

12 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownHighligh‹rP©‹º
;

14 
impÜt
 
	gÜg
.
	gjun™
.
	gTe¡
;

15 
impÜt
 
	gÜg
.
	gjun™
.
	gruÂ”
.
	gRunW™h
;

16 
impÜt
 
	gÜg
.
	gjun™
.
	gruÂ”s
.
	gP¬am‘”ized
;

18 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

19 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

20 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

21 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gP©‹º
;

23 
impÜt
 
	gÜg
.
	gas£¹j
.
	gcÜe
.
	g­i
.
	gAs£¹iÚs
.
	gas£¹Th©
;

25 @
	$RunW™h
(
P¬am‘”ized
.
şass
)

26 
public
 cÏs 
	cM¬kdownHighligh‹rP©‹ºTe¡
 {

29 @
P¬am‘”ized
.
	`P¬am‘”s
(
Çme
 = "{index}: {0} should findext {1} {2}imes")

30 
public
 
CŞËùiÚ
<
Objeù
[]> 
	$d©a
() {

31  
A¼ays
.
	`asLi¡
(
Ãw
 
Objeù
[][]{

32 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, " # Hi", 0},

33 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "# Hi\n", 1},

34 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "#Hi\n", 0},

35 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "## Hi\n", 1},

36 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "####### Hi\n", 0},

37 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "# Hi\n#Hi‡gain\n", 1},

38 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "# Hi\nWhatever\n# Hi‡gain\n", 2},

39 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "# Hi\n======", 1},

40 {
M¬kdownHighligh‹rP©‹º
.
HEADING
, "# Hi\n--------", 1},

41 {
M¬kdownHighligh‹rP©‹º
.
LINK
, "[sometext](some://url.com)", 1},

42 {
M¬kdownHighligh‹rP©‹º
.
LINK
, "[someext ]( some://url.com)", 1},

43 {
M¬kdownHighligh‹rP©‹º
.
LINK
, "[sometext] some://url.com)", 0},

44 {
M¬kdownHighligh‹rP©‹º
.
LINK
, "[sometext]( some://url.com )", 1},

45 {
M¬kdownHighligh‹rP©‹º
.
LINK
, "[sometext] ( some://url.com )", 0},

46 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~~s~~", 1},

47 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~~ s 4 ~~df~~", 1},

48 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~~ s 4 ~~df ~~", 0},

49 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~~ s 4 ~~d\n\nf ~~", 0},

50 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~~ s 4 ~\n~d\n\nf ~~", 0},

51 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~ s 4 ~~df ~\n ff ~~", 0},

52 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~~s~", 0},

53 {
M¬kdownHighligh‹rP©‹º
.
STRIKETHROUGH
, "~s~~", 0},

54 {
M¬kdownHighligh‹rP©‹º
.
CODE
, "`s`", 1},

55 {
M¬kdownHighligh‹rP©‹º
.
CODE
, "``s`", 1},

56 {
M¬kdownHighligh‹rP©‹º
.
CODE
, "`s``", 1},

57 {
M¬kdownHighligh‹rP©‹º
.
CODE
, "`s`", 1},

58 {
M¬kdownHighligh‹rP©‹º
.
CODE
, "`s\n\n`", 0},

59 {
M¬kdownHighligh‹rP©‹º
.
QUOTATION
, ">‡sdfasdfas\n> sadfasdfasdf", 2},

60 {
M¬kdownHighligh‹rP©‹º
.
QUOTATION
, ">‡sdfa > sdfas\n", 1},

61 {
M¬kdownHighligh‹rP©‹º
.
QUOTATION
, ">> sdfas", 1},

62 {
M¬kdownHighligh‹rP©‹º
.
QUOTATION
, "\n> sdfas", 1},

63 {
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
, "*‡sdfasdfas\n* sadfasdfasdf", 2},

64 {
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
, "*‡sdfa > sdfas\n", 1},

65 {
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
, "\n* sdfas", 1},

66 {
M¬kdownHighligh‹rP©‹º
.
LIST_ORDERED
, "1.‡sdfasdfas\n2. sadfasdfasdf", 2},

67 {
M¬kdownHighligh‹rP©‹º
.
LIST_ORDERED
, "1.‡sdfa 2. sdfas\n", 1},

68 {
M¬kdownHighligh‹rP©‹º
.
LIST_ORDERED
, "\n99. sdfas", 1},

69 {
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
, "- [ ] item 1", 1},

70 {
M¬kdownHighligh‹rP©‹º
.
LIST_UNORDERED
, "- [x] item 2", 1},

71 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "**s**", 1},

72 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "****s**", 1},

73 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "**s****", 1},

74 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "**s**", 1},

75 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "**s\n\n**", 0},

76 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "__s__", 1},

77 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "____s__", 1},

78 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "__s____", 1},

79 {
M¬kdownHighligh‹rP©‹º
.
BOLD
, "__s\n\n__", 0},

80 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "*s*", 1},

81 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "*s**", 1},

82 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "*s*", 1},

83 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "*s\n\n*", 0},

84 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "_s_", 1},

85 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "_s__", 1},

86 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "_s_", 1},

87 {
M¬kdownHighligh‹rP©‹º
.
ITALICS
, "_s\n\n_", 0},

91 
´iv©e
 
fš®
 
P©‹º
 
·‰”n
;

92 
´iv©e
 
fš®
 
SŒšg
 
¡ršg
;

93 
´iv©e
 
fš®
 
foundCouÁ
;

95 
public
 
	$M¬kdownHighligh‹rP©‹ºTe¡
(
M¬kdownHighligh‹rP©‹º
 
·‰”n
, 
SŒšg
 
¡ršg
, 
foundCouÁ
) {

96 
this
.
¡ršg
 = string;

97 
this
.
foundCouÁ
 = foundCount;

98 
this
.
·‰”n
 =…attern.pattern;

99 
	}
}

101 @
Te¡


102 
public
 
	$‹¡HighlightP©‹º
() {

103 
couÁ
 = 0;

105 
M©ch”
 
m
 = 
·‰”n
.
	`m©ch”
(
¡ršg
); m.
	`fšd
(); ) {

106 
couÁ
++;

109 
	`as£¹Th©
(
couÁ
).
	`isEqu®To
(
foundCouÁ
);

110 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/build/generated/source/buildConfig/release/com/flask/colorpicker/BuildConfig.java

4 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

6 
public
 
fš®
 cÏs 
	cBudCÚfig
 {

7 
public
 
fš®
 
boŞ—n
 
	mDEBUG
 = 
çl£
;

8 
public
 
fš®
 
SŒšg
 
	mLIBRARY_PACKAGE_NAME
 = "com.flask.colorpicker";

12 @
D•»ÿ‹d


13 
public
 
fš®
 
SŒšg
 
	mAPPLICATION_ID
 = "com.flask.colorpicker";

14 
public
 
fš®
 
SŒšg
 
	mBUILD_TYPE
 = "release";

15 
public
 
fš®
 
SŒšg
 
	mFLAVOR
 = "";

16 
public
 
fš®
 
	mVERSION_CODE
 = 11;

17 
public
 
fš®
 
SŒšg
 
	mVERSION_NAME
 = "0.0.11";

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/androidTest/java/com/flask/colorpicker/ApplicationTest.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
impÜt
 
	gªdroid
.
	g­p
.
	gAµliÿtiÚ
;

4 
impÜt
 
	gªdroid
.
	g‹¡
.
	gAµliÿtiÚTe¡Ca£
;

9 
public
 
şass
 
AµliÿtiÚTe¡
 
ex‹nds
 
	gAµliÿtiÚTe¡Ca£
<
	gAµliÿtiÚ
> {

10 
public
 
AµliÿtiÚTe¡
() {

11 
su³r
(
AµliÿtiÚ
.
şass
);

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/CircleColorDrawable.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

4 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

5 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPÜ‹rDuff
;

6 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gXãrmode
;

7 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gCŞÜD¿wabË
;

9 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gPaštBud”
;

11 
public
 cÏs 
	cCœşeCŞÜD¿wabË
 
ex‹nds
 
	mCŞÜD¿wabË
 {

12 
´iv©e
 
	m¡rokeWidth
;

13 
´iv©e
 
Pašt
 
	m¡rokePašt
 = 
PaštBud”
.
ÃwPašt
().
¡yË
(Pašt.
StyË
.
STROKE
).
¡roke
(
¡rokeWidth
).
cŞÜ
(0xffffffff).
bud
();

14 
´iv©e
 
Pašt
 
	mflPašt
 = 
PaštBud”
.
ÃwPašt
().
¡yË
(Pašt.
StyË
.
FILL
).
cŞÜ
(0).
bud
();

15 
´iv©e
 
Pašt
 
	mflBackPašt
 = 
PaštBud”
.
ÃwPašt
().
shad”
(PaštBud”.
ü—‹AÍhaP©‹ºShad”
(16)).
bud
();

17 
public
 
	$CœşeCŞÜD¿wabË
() {

18 
	`su³r
();

21 
public
 
	$CœşeCŞÜD¿wabË
(
cŞÜ
) {

22 
	`su³r
(
cŞÜ
);

23 
	}
}

25 @
Ov”ride


26 
public
 
	$d¿w
(
Cªvas
 
ÿnvas
) {

27 
ÿnvas
.
	`d¿wCŞÜ
(0);

29 
width
 = 
ÿnvas
.
	`g‘Width
();

30 
¿dius
 = 
width
 / 2f;

31 
¡rokeWidth
 = 
¿dius
 / 12f;

33 
this
.
¡rokePašt
.
	`£tSŒokeWidth
(
¡rokeWidth
);

34 
this
.
flPašt
.
	`£tCŞÜ
(
	`g‘CŞÜ
());

35 
ÿnvas
.
	`d¿wCœşe
(
¿dius
,„adius,„adiu - 
¡rokeWidth
 * 1.5f, 
flBackPašt
);

36 
ÿnvas
.
	`d¿wCœşe
(
¿dius
,„adius,„adiu - 
¡rokeWidth
 * 1.5f, 
flPašt
);

37 
ÿnvas
.
	`d¿wCœşe
(
¿dius
,„adius,„adiu - 
¡rokeWidth
, 
¡rokePašt
);

38 
	}
}

40 @
Ov”ride


41 
public
 
	$£tCŞÜ
(
cŞÜ
) {

42 
su³r
.
	`£tCŞÜ
(
cŞÜ
);

43 
	`šv®id©eS–f
();

44 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/ColorCircle.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

5 
public
 cÏs 
	cCŞÜCœşe
 {

6 
´iv©e
 
	mx
, 
	my
;

7 
´iv©e
 [] 
	mhsv
 = 
Ãw
 [3];

8 
´iv©e
 [] 
	mhsvClÚe
;

9 
´iv©e
 
	mcŞÜ
;

11 
public
 
	$CŞÜCœşe
(
x
, 
y
, [] 
hsv
) {

12 
	`£t
(
x
, 
y
, 
hsv
);

15 
public
 
	$sqDi¡
(
x
, 
y
) {

16 
dx
 = 
this
.
x
 - x;

17 
dy
 = 
this
.
y
 - y;

18  
dx
 * dx + 
dy
 * dy;

19 
	}
}

21 
public
 
	$g‘X
() {

22  
x
;

23 
	}
}

25 
public
 
	$g‘Y
() {

26  
y
;

27 
	}
}

29 
public
 [] 
	$g‘Hsv
() {

30  
hsv
;

31 
	}
}

33 
public
 [] 
	$g‘HsvW™hLighŠess
(
lighŠess
) {

34 ià(
hsvClÚe
 =ğ
nuÎ
)

35 
hsvClÚe
 = 
hsv
.
	`şÚe
();

36 
hsvClÚe
[0] = 
hsv
[0];

37 
hsvClÚe
[1] = 
hsv
[1];

38 
hsvClÚe
[2] = 
lighŠess
;

39  
hsvClÚe
;

40 
	}
}

42 
public
 
	$£t
(
x
, 
y
, [] 
hsv
) {

43 
this
.
x
 = x;

44 
this
.
y
 = y;

45 
this
.
hsv
[0] = hsv[0];

46 
this
.
hsv
[1] = hsv[1];

47 
this
.
hsv
[2] = hsv[2];

48 
this
.
cŞÜ
 = 
CŞÜ
.
	`HSVToCŞÜ
Ñhis.
hsv
);

49 
	}
}

51 
public
 
	$g‘CŞÜ
() {

52  
cŞÜ
;

53 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/ColorPickerPreference.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gTy³dA¼ay
;

7 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

8 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gD¿wabË
;

9 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gG¿d›ÁD¿wabË
;

10 
impÜt
 
	gªdroid
.
	g´eã»nû
.
	gP»ã»nû
;

11 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

12 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

13 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

14 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

15 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

17 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gCŞÜPick”ClickLi¡’”
;

18 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gCŞÜPick”DŸlogBud”
;

20 
public
 cÏs 
	cCŞÜPick”P»ã»nû
 
ex‹nds
 
	mP»ã»nû
 {

22 
´Ùeùed
 
boŞ—n
 
	m®phaSlid”
;

23 
´Ùeùed
 
boŞ—n
 
	mlightSlid”
;

25 
´Ùeùed
 
	m£ËùedCŞÜ
 = 0;

27 
´Ùeùed
 
	mCŞÜPick”V›w
.
WHEEL_TYPE
 
	mwh“lTy³
;

28 
´Ùeùed
 
	md’s™y
;

30 
´iv©e
 
SŒšg
 
	mpick”T™Ë
;

31 
´iv©e
 
SŒšg
 
	mpick”Bu‰ÚCªûl
;

32 
´iv©e
 
SŒšg
 
	mpick”Bu‰ÚOk
;

34 
´Ùeùed
 
ImageV›w
 
	mcŞÜIndiÿtÜ
;

37 
public
 
	$CŞÜPick”P»ã»nû
(
CÚ‹xt
 
cÚ‹xt
) {

38 
	`su³r
(
cÚ‹xt
);

41 
public
 
	$CŞÜPick”P»ã»nû
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

42 
	`su³r
(
cÚ‹xt
, 
©Œs
);

43 
	`š™W™h
(
cÚ‹xt
, 
©Œs
);

44 
	}
}

46 
public
 
	$CŞÜPick”P»ã»nû
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

47 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

48 
	`š™W™h
(
cÚ‹xt
, 
©Œs
);

49 
	}
}

52 
´iv©e
 
	$š™W™h
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

53 
fš®
 
Ty³dA¼ay
 
ty³dA¼ay
 = 
cÚ‹xt
.
	`obšStyËdA‰ribu‹s
(
©Œs
, 
R
.
¡yËabË
.
CŞÜPick”P»ã»nû
);

55 
Œy
 {

56 
®phaSlid”
 = 
ty³dA¼ay
.
	`g‘BoŞ—n
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_®phaSlid”
, 
çl£
);

57 
lightSlid”
 = 
ty³dA¼ay
.
	`g‘BoŞ—n
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_lighŠessSlid”
, 
çl£
);

59 
d’s™y
 = 
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_d’s™y
, 10);

60 
wh“lTy³
 = 
CŞÜPick”V›w
.
WHEEL_TYPE
.
	`šdexOf
(
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_wh“lTy³
, 0));

62 
£ËùedCŞÜ
 = 
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_š™ŸlCŞÜ
, 0xffffffff);

64 
pick”T™Ë
 = 
ty³dA¼ay
.
	`g‘SŒšg
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_pick”T™Ë
);

65 ià(
pick”T™Ë
==
nuÎ
)

66 
pick”T™Ë
 = "Choose color";

68 
pick”Bu‰ÚCªûl
 = 
ty³dA¼ay
.
	`g‘SŒšg
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_pick”Bu‰ÚCªûl
);

69 ià(
pick”Bu‰ÚCªûl
==
nuÎ
)

70 
pick”Bu‰ÚCªûl
 = "cancel";

72 
pick”Bu‰ÚOk
 = 
ty³dA¼ay
.
	`g‘SŒšg
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_pick”Bu‰ÚOk
);

73 ià(
pick”Bu‰ÚOk
==
nuÎ
)

74 
pick”Bu‰ÚOk
 = "ok";

76 } 
fš®ly
 {

77 
ty³dA¼ay
.
	`»cyşe
();

80 
	`£tWidg‘LayoutResourû
(
R
.
Ïyout
.
cŞÜ_widg‘
);

81 
	}
}

84 @
Ov”ride


85 
´Ùeùed
 
ÚBšdV›w
(@
NÚNuÎ
 
V›w
 
v›w
) {

86 
	gsu³r
.
ÚBšdV›w
(
v›w
);

88 
Resourûs
 
	g»s
 = 
v›w
.
g‘CÚ‹xt
().
g‘Resourûs
();

89 
G¿d›ÁD¿wabË
 
	gcŞÜChoiûD¿wabË
 = 
nuÎ
;

91 
	gcŞÜIndiÿtÜ
 = (
ImageV›w
è
v›w
.
fšdV›wById
(
R
.
id
.
cŞÜ_šdiÿtÜ
);

93 
D¿wabË
 
	gcu¼’tD¿wabË
 = 
cŞÜIndiÿtÜ
.
g‘D¿wabË
();

94 ià(
	gcu¼’tD¿wabË
!=
nuÎ
 && 
cu¼’tD¿wabË
 
š¡ªûof
 
G¿d›ÁD¿wabË
)

95 
cŞÜChoiûD¿wabË
 = (
G¿d›ÁD¿wabË
è
cu¼’tD¿wabË
;

97 ià(
	gcŞÜChoiûD¿wabË
==
nuÎ
) {

98 
cŞÜChoiûD¿wabË
 = 
Ãw
 
G¿d›ÁD¿wabË
();

99 
	gcŞÜChoiûD¿wabË
.
£tSh­e
(
G¿d›ÁD¿wabË
.
OVAL
);

102 
	gtmpCŞÜ
 = 
isEÇbËd
()

103 ? 
£ËùedCŞÜ


104 : 
d¬k’
(
£ËùedCŞÜ
, .5f);

106 
	gcŞÜChoiûD¿wabË
.
£tCŞÜ
(
tmpCŞÜ
);

107 
	gcŞÜChoiûD¿wabË
.
£tSŒoke
((è
Ty³dV®ue
.
­¶yDim’siÚ
(

108 
Ty³dV®ue
.
COMPLEX_UNIT_DIP
,

110 
»s
.
g‘Di¥ÏyM‘rics
()

111 ), 
d¬k’
(
tmpCŞÜ
, .8f));

113 
	gcŞÜIndiÿtÜ
.
£tImageD¿wabË
(
cŞÜChoiûD¿wabË
);

116 
public
 
	$£tV®ue
(
v®ue
) {

117 ià(
	`ÿÎChªgeLi¡’”
(
v®ue
)) {

118 
£ËùedCŞÜ
 = 
v®ue
;

119 
	`³rsi¡IÁ
(
v®ue
);

120 
	`nÙifyChªged
();

122 
	}
}

124 @
Ov”ride


125 
´Ùeùed
 
	$ÚS‘In™ŸlV®ue
(
boŞ—n
 
»¡ÜeV®ue
, 
Objeù
 
deçuÉV®ue
) {

126 
	`£tV®ue
(
»¡ÜeV®ue
 ? 
	`g‘P”si¡edIÁ
(0è: (
IÁeg”
è
deçuÉV®ue
);

127 
	}
}

130 @
Ov”ride


131 
´Ùeùed
 
	$ÚClick
() {

132 
CŞÜPick”DŸlogBud”
 
bud”
 = ColorPickerDialogBuilder

133 .
	`w™h
(
	`g‘CÚ‹xt
())

134 .
	`£tT™Ë
(
pick”T™Ë
)

135 .
	`š™ŸlCŞÜ
(
£ËùedCŞÜ
)

136 .
	`wh“lTy³
(
wh“lTy³
)

137 .
	`d’s™y
(
d’s™y
)

138 .
	`£tPos™iveBu‰Ú
(
pick”Bu‰ÚOk
, 
Ãw
 
	`CŞÜPick”ClickLi¡’”
() {

139 @
Ov”ride


140 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
£ËùedCŞÜFromPick”
, 
IÁeg”
[] 
®lCŞÜs
) {

141 
	`£tV®ue
(
£ËùedCŞÜFromPick”
);

144 .
	`£tNeg©iveBu‰Ú
(
pick”Bu‰ÚCªûl
, 
nuÎ
);

146 ià(!
®phaSlid”
 && !
lightSlid”
è
bud”
.
	`noSlid”s
();

147 ià(!
®phaSlid”
è
bud”
.
	`lighŠessSlid”OÆy
();

148 ià(!
lightSlid”
è
bud”
.
	`®phaSlid”OÆy
();

151 
bud”


152 .
	`bud
()

153 .
	`show
();

154 
	}
}

156 
public
 
	$d¬k’
(
cŞÜ
, 
çùÜ
) {

157 
a
 = 
CŞÜ
.
	`®pha
(
cŞÜ
);

158 
r
 = 
CŞÜ
.
	`»d
(
cŞÜ
);

159 
g
 = 
CŞÜ
.
	`g»’
(
cŞÜ
);

160 
b
 = 
CŞÜ
.
	`blue
(
cŞÜ
);

162  
CŞÜ
.
	`¬gb
(
a
,

163 
M©h
.
	`max
(()(
r
 * 
çùÜ
), 0),

164 
M©h
.
	`max
(()(
g
 * 
çùÜ
), 0),

165 
M©h
.
	`max
(()(
b
 * 
çùÜ
), 0));

166 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/ColorPickerView.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gT¬g‘Api
;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gTy³dA¼ay
;

6 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­
;

7 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

8 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

9 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

10 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPÜ‹rDuff
;

11 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

13 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

14 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

15 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

16 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

17 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

18 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

20 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gCŞÜWh“lR’d””Bud”
;

21 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gPaštBud”
;

22 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
.
	gCŞÜWh“lR’d”O±iÚ
;

23 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
.
	gCŞÜWh“lR’d””
;

24 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
.
	gAÍhaSlid”
;

25 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
.
	gLighŠessSlid”
;

27 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

29 
public
 cÏs 
	cCŞÜPick”V›w
 
ex‹nds
 
	mV›w
 {

30 
´iv©e
 
fš®
 
	mSTROKE_RATIO
 = 2f;

32 
´iv©e
 
B™m­
 
	mcŞÜWh“l
;

33 
´iv©e
 
Cªvas
 
	mcŞÜWh“lCªvas
;

34 
´iv©e
 
	md’s™y
 = 10;

36 
´iv©e
 
	mlighŠess
 = 1;

37 
´iv©e
 
	m®pha
 = 1;

38 
´iv©e
 
	mbackgroundCŞÜ
 = 0x00000000;

40 
´iv©e
 
IÁeg”
 
	mš™ŸlCŞÜs
[] = 
Ãw
 IÁeg”[]{
nuÎ
,‚ull,‚ull,‚ull,‚ull};

41 
´iv©e
 
	gcŞÜS–eùiÚ
 = 0;

42 
´iv©e
 
IÁeg”
 
	gš™ŸlCŞÜ
;

43 
´iv©e
 
IÁeg”
 
	gpick”TextCŞÜ
;

44 
´iv©e
 
Pašt
 
	gcŞÜWh“lFl
 = 
PaštBud”
.
ÃwPašt
().
cŞÜ
(0).
bud
();

45 
´iv©e
 
Pašt
 
	g£ËùÜSŒoke1
 = 
PaštBud”
.
ÃwPašt
().
cŞÜ
(0xffffffff).
bud
();

46 
´iv©e
 
Pašt
 
	g£ËùÜSŒoke2
 = 
PaštBud”
.
ÃwPašt
().
cŞÜ
(0xff000000).
bud
();

47 
´iv©e
 
Pašt
 
	g®phaP©‹ºPašt
 = 
PaštBud”
.
ÃwPašt
().
bud
();

48 
´iv©e
 
CŞÜCœşe
 
	gcu¼’tCŞÜCœşe
;

50 
´iv©e
 
	gA¼ayLi¡
<
	gOnCŞÜChªgedLi¡’”
> 
	gcŞÜChªgedLi¡’”s
 = 
Ãw
 
A¼ayLi¡
<>();

51 
´iv©e
 
	gA¼ayLi¡
<
	gOnCŞÜS–eùedLi¡’”
> 
	gli¡’”s
 = 
Ãw
 
A¼ayLi¡
<>();

53 
´iv©e
 
LighŠessSlid”
 
	glighŠessSlid”
;

54 
´iv©e
 
AÍhaSlid”
 
	g®phaSlid”
;

55 
´iv©e
 
Ed™Text
 
	gcŞÜEd™
;

56 
´iv©e
 
TextW©ch”
 
	gcŞÜTextChªge
 = 
Ãw
 
	$TextW©ch”
() {

57 @
Ov”ride


58 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
, 
aá”
) {

61 @
Ov”ride


62 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
, 
couÁ
) {

63 
Œy
 {

64 
cŞÜ
 = 
CŞÜ
.
	`·r£CŞÜ
(
s
.
	`toSŒšg
());

67 
	`£tCŞÜ
(
cŞÜ
, 
çl£
);

68 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

72 @
Ov”ride


73 
public
 
	`aá”TextChªged
(
Ed™abË
 
s
) {

75 
	}
};

76 
´iv©e
 
Lš—rLayout
 
	gcŞÜP»v›w
;

78 
´iv©e
 
CŞÜWh“lR’d””
 
	g»nd””
;

80 
´iv©e
 
	g®phaSlid”V›wId
, 
	glighŠessSlid”V›wId
;

82 
public
 
	$CŞÜPick”V›w
(
CÚ‹xt
 
cÚ‹xt
) {

83 
	`su³r
(
cÚ‹xt
);

84 
	`š™W™h
(
cÚ‹xt
, 
nuÎ
);

85 
	}
}

87 
public
 
	$CŞÜPick”V›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

88 
	`su³r
(
cÚ‹xt
, 
©Œs
);

89 
	`š™W™h
(
cÚ‹xt
, 
©Œs
);

90 
	}
}

92 
public
 
	$CŞÜPick”V›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

93 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

94 
	`š™W™h
(
cÚ‹xt
, 
©Œs
);

95 
	}
}

97 @
	$T¬g‘Api
(21)

98 
public
 
	$CŞÜPick”V›w
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
, 
defStyËRes
) {

99 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
, 
defStyËRes
);

100 
	`š™W™h
(
cÚ‹xt
, 
©Œs
);

101 
	}
}

103 
´iv©e
 
	$š™W™h
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

104 
fš®
 
Ty³dA¼ay
 
ty³dA¼ay
 = 
cÚ‹xt
.
	`obšStyËdA‰ribu‹s
(
©Œs
, 
R
.
¡yËabË
.
CŞÜPick”P»ã»nû
);

106 
d’s™y
 = 
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_d’s™y
, 10);

107 
š™ŸlCŞÜ
 = 
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_š™ŸlCŞÜ
, 0xffffffff);

109 
pick”TextCŞÜ
 = 
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_pick”CŞÜEd™TextCŞÜ
, 0xffffffff);

111 
WHEEL_TYPE
 
wh“lTy³
 = WHEEL_TYPE.
	`šdexOf
(
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_wh“lTy³
, 0));

112 
CŞÜWh“lR’d””
 
»nd””
 = 
CŞÜWh“lR’d””Bud”
.
	`g‘R’d””
(
wh“lTy³
);

114 
®phaSlid”V›wId
 = 
ty³dA¼ay
.
	`g‘ResourûId
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_®phaSlid”V›w
, 0);

115 
lighŠessSlid”V›wId
 = 
ty³dA¼ay
.
	`g‘ResourûId
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_lighŠessSlid”V›w
, 0);

117 
	`£tR’d””
(
»nd””
);

118 
	`£tD’s™y
(
d’s™y
);

119 
	`£tIn™ŸlCŞÜ
(
š™ŸlCŞÜ
, 
Œue
);

121 
ty³dA¼ay
.
	`»cyşe
();

122 
	}
}

124 @
Ov”ride


125 
public
 
	$ÚWšdowFocusChªged
(
boŞ—n
 
hasWšdowFocus
) {

126 
su³r
.
	`ÚWšdowFocusChªged
(
hasWšdowFocus
);

127 
	`upd©eCŞÜWh“l
();

128 
cu¼’tCŞÜCœşe
 = 
	`fšdN—»¡ByCŞÜ
(
š™ŸlCŞÜ
);

129 
	}
}

131 @
Ov”ride


132 
´Ùeùed
 
	$ÚLayout
(
boŞ—n
 
chªged
, 
Ëá
, 
tİ
, 
right
, 
bÙtom
) {

133 
su³r
.
	`ÚLayout
(
chªged
, 
Ëá
, 
tİ
, 
right
, 
bÙtom
);

135 ià(
®phaSlid”V›wId
 != 0)

136 
	`£tAÍhaSlid”
((
AÍhaSlid”
è
	`g‘RoÙV›w
().
	`fšdV›wById
(
®phaSlid”V›wId
));

137 ià(
lighŠessSlid”V›wId
 != 0)

138 
	`£tLighŠessSlid”
((
LighŠessSlid”
è
	`g‘RoÙV›w
().
	`fšdV›wById
(
lighŠessSlid”V›wId
));

140 
	`upd©eCŞÜWh“l
();

141 
cu¼’tCŞÜCœşe
 = 
	`fšdN—»¡ByCŞÜ
(
š™ŸlCŞÜ
);

142 
	}
}

144 @
Ov”ride


145 
´Ùeùed
 
	$ÚSizeChªged
(
w
, 
h
, 
Şdw
, 
Şdh
) {

146 
su³r
.
	`ÚSizeChªged
(
w
, 
h
, 
Şdw
, 
Şdh
);

147 
	`upd©eCŞÜWh“l
();

148 
	}
}

150 
´iv©e
 
	$upd©eCŞÜWh“l
() {

151 
width
 = 
	`g‘M—su»dWidth
();

152 
height
 = 
	`g‘M—su»dHeight
();

154 ià(
height
 < 
width
)

155 
width
 = 
height
;

156 ià(
width
 <= 0)

158 ià(
cŞÜWh“l
 =ğ
nuÎ
) {

159 
cŞÜWh“l
 = 
B™m­
.
	`ü—‹B™m­
(
width
, width, B™m­.
CÚfig
.
ARGB_8888
);

160 
cŞÜWh“lCªvas
 = 
Ãw
 
	`Cªvas
(
cŞÜWh“l
);

161 
®phaP©‹ºPašt
.
	`£tShad”
(
PaštBud”
.
	`ü—‹AÍhaP©‹ºShad”
(8));

163 
	`d¿wCŞÜWh“l
();

164 
	`šv®id©e
();

165 
	}
}

167 
´iv©e
 
	$d¿wCŞÜWh“l
() {

168 
cŞÜWh“lCªvas
.
	`d¿wCŞÜ
(0, 
PÜ‹rDuff
.
Mode
.
CLEAR
);

170 ià(
»nd””
 =ğ
nuÎ
) ;

172 
h®f
 = 
cŞÜWh“lCªvas
.
	`g‘Width
() / 2f;

173 
¡rokeWidth
 = 
STROKE_RATIO
 * (1à+ 
CŞÜWh“lR’d””
.
GAP_PERCENTAGE
);

174 
maxRadius
 = 
h®f
 - 
¡rokeWidth
 - h®à/ 
d’s™y
;

175 
cSize
 = 
maxRadius
 / (
d’s™y
 - 1) / 2;

177 
CŞÜWh“lR’d”O±iÚ
 
cŞÜWh“lR’d”O±iÚ
 = 
»nd””
.
	`g‘R’d”O±iÚ
();

178 
cŞÜWh“lR’d”O±iÚ
.
d’s™y
 = 
this
.density;

179 
cŞÜWh“lR’d”O±iÚ
.
maxRadius
 = maxRadius;

180 
cŞÜWh“lR’d”O±iÚ
.
cSize
 = cSize;

181 
cŞÜWh“lR’d”O±iÚ
.
¡rokeWidth
 = strokeWidth;

182 
cŞÜWh“lR’d”O±iÚ
.
®pha
 =‡lpha;

183 
cŞÜWh“lR’d”O±iÚ
.
lighŠess
 =†ightness;

184 
cŞÜWh“lR’d”O±iÚ
.
rg‘Cªvas
 = 
cŞÜWh“lCªvas
;

186 
»nd””
.
	`š™W™h
(
cŞÜWh“lR’d”O±iÚ
);

187 
»nd””
.
	`d¿w
();

188 
	}
}

190 @
Ov”ride


191 
´Ùeùed
 
	$ÚM—su»
(
widthM—su»S³c
, 
heightM—su»S³c
) {

192 
su³r
.
	`ÚM—su»
(
widthM—su»S³c
, 
heightM—su»S³c
);

193 
widthMode
 = 
M—su»S³c
.
	`g‘Mode
(
widthM—su»S³c
);

194 
width
 = 0;

195 ià(
widthMode
 =ğ
M—su»S³c
.
UNSPECIFIED
)

196 
width
 = 
widthM—su»S³c
;

197 ià(
widthMode
 =ğ
M—su»S³c
.
AT_MOST
)

198 
width
 = 
M—su»S³c
.
	`g‘Size
(
widthM—su»S³c
);

199 ià(
widthMode
 =ğ
M—su»S³c
.
EXACTLY
)

200 
width
 = 
M—su»S³c
.
	`g‘Size
(
widthM—su»S³c
);

202 
heightMode
 = 
M—su»S³c
.
	`g‘Mode
(
heightM—su»S³c
);

203 
height
 = 0;

204 ià(
heightMode
 =ğ
M—su»S³c
.
UNSPECIFIED
)

205 
height
 = 
widthM—su»S³c
;

206 ià(
heightMode
 =ğ
M—su»S³c
.
AT_MOST
)

207 
height
 = 
M—su»S³c
.
	`g‘Size
(
heightM—su»S³c
);

208 ià(
widthMode
 =ğ
M—su»S³c
.
EXACTLY
)

209 
height
 = 
M—su»S³c
.
	`g‘Size
(
heightM—su»S³c
);

210 
squ¬eDim’
 = 
width
;

211 ià(
height
 < 
width
)

212 
squ¬eDim’
 = 
height
;

213 
	`£tM—su»dDim’siÚ
(
squ¬eDim’
, squareDimen);

214 
	}
}

216 @
Ov”ride


217 
public
 
boŞ—n
 
	$ÚTouchEv’t
(
MÙiÚEv’t
 
ev’t
) {

218 
ev’t
.
	`g‘AùiÚ
()) {

219 
MÙiÚEv’t
.
ACTION_DOWN
:

220 
MÙiÚEv’t
.
ACTION_MOVE
: {

221 
Ï¡S–eùedCŞÜ
 = 
	`g‘S–eùedCŞÜ
();

222 
cu¼’tCŞÜCœşe
 = 
	`fšdN—»¡ByPos™iÚ
(
ev’t
.
	`g‘X
(),ƒv’t.
	`g‘Y
());

223 
£ËùedCŞÜ
 = 
	`g‘S–eùedCŞÜ
();

225 
	`ÿÎOnCŞÜChªgedLi¡’”s
(
Ï¡S–eùedCŞÜ
, 
£ËùedCŞÜ
);

227 
š™ŸlCŞÜ
 = 
£ËùedCŞÜ
;

228 
	`£tCŞÜToSlid”s
(
£ËùedCŞÜ
);

229 
	`šv®id©e
();

232 
MÙiÚEv’t
.
ACTION_UP
: {

233 
£ËùedCŞÜ
 = 
	`g‘S–eùedCŞÜ
();

234 ià(
li¡’”s
 !ğ
nuÎ
) {

235 
OnCŞÜS–eùedLi¡’”
 
li¡’”
 : 
li¡’”s
) {

236 
Œy
 {

237 
li¡’”
.
	`ÚCŞÜS–eùed
(
£ËùedCŞÜ
);

238 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

243 
	`£tCŞÜToSlid”s
(
£ËùedCŞÜ
);

244 
	`£tCŞÜText
(
£ËùedCŞÜ
);

245 
	`£tCŞÜP»v›wCŞÜ
(
£ËùedCŞÜ
);

246 
	`šv®id©e
();

250  
Œue
;

251 
	}
}

253 
´Ùeùed
 
	$ÿÎOnCŞÜChªgedLi¡’”s
(
ŞdCŞÜ
, 
ÃwCŞÜ
) {

254 ià(
cŞÜChªgedLi¡’”s
 !ğ
nuÎ
 && 
ŞdCŞÜ
 !ğ
ÃwCŞÜ
) {

255 
OnCŞÜChªgedLi¡’”
 
li¡’”
 : 
cŞÜChªgedLi¡’”s
) {

256 
Œy
 {

257 
li¡’”
.
	`ÚCŞÜChªged
(
ÃwCŞÜ
);

258 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

263 
	}
}

265 @
Ov”ride


266 
´Ùeùed
 
	$ÚD¿w
(
Cªvas
 
ÿnvas
) {

267 
su³r
.
	`ÚD¿w
(
ÿnvas
);

268 
ÿnvas
.
	`d¿wCŞÜ
(
backgroundCŞÜ
);

269 ià(
cŞÜWh“l
 !ğ
nuÎ
)

270 
ÿnvas
.
	`d¿wB™m­
(
cŞÜWh“l
, 0, 0, 
nuÎ
);

271 ià(
cu¼’tCŞÜCœşe
 !ğ
nuÎ
) {

272 
maxRadius
 = 
ÿnvas
.
	`g‘Width
(è/ 2à- 
STROKE_RATIO
 * (1à+ 
CŞÜWh“lR’d””
.
GAP_PERCENTAGE
);

273 
size
 = 
maxRadius
 / 
d’s™y
 / 2;

274 
cŞÜWh“lFl
.
	`£tCŞÜ
(
CŞÜ
.
	`HSVToCŞÜ
(
cu¼’tCŞÜCœşe
.
	`g‘HsvW™hLighŠess
(
this
.
lighŠess
)));

275 
cŞÜWh“lFl
.
	`£tAÍha
((è(
®pha
 * 0xff));

276 
ÿnvas
.
	`d¿wCœşe
(
cu¼’tCŞÜCœşe
.
	`g‘X
(), cu¼’tCŞÜCœşe.
	`g‘Y
(), 
size
 * 
STROKE_RATIO
, 
£ËùÜSŒoke1
);

277 
ÿnvas
.
	`d¿wCœşe
(
cu¼’tCŞÜCœşe
.
	`g‘X
(), cu¼’tCŞÜCœşe.
	`g‘Y
(), 
size
 * (1 + (
STROKE_RATIO
 - 1è/ 2), 
£ËùÜSŒoke2
);

279 
ÿnvas
.
	`d¿wCœşe
(
cu¼’tCŞÜCœşe
.
	`g‘X
(), cu¼’tCŞÜCœşe.
	`g‘Y
(), 
size
, 
®phaP©‹ºPašt
);

280 
ÿnvas
.
	`d¿wCœşe
(
cu¼’tCŞÜCœşe
.
	`g‘X
(), cu¼’tCŞÜCœşe.
	`g‘Y
(), 
size
, 
cŞÜWh“lFl
);

282 
	}
}

284 
´iv©e
 
CŞÜCœşe
 
	$fšdN—»¡ByPos™iÚ
(
x
, 
y
) {

285 
CŞÜCœşe
 
Ã¬
 = 
nuÎ
;

286 
mšDi¡
 = 
DoubË
.
MAX_VALUE
;

288 
CŞÜCœşe
 
cŞÜCœşe
 : 
»nd””
.
	`g‘CŞÜCœşeLi¡
()) {

289 
di¡
 = 
cŞÜCœşe
.
	`sqDi¡
(
x
, 
y
);

290 ià(
mšDi¡
 > 
di¡
) {

291 
mšDi¡
 = 
di¡
;

292 
Ã¬
 = 
cŞÜCœşe
;

296  
Ã¬
;

297 
	}
}

299 
´iv©e
 
CŞÜCœşe
 
	$fšdN—»¡ByCŞÜ
(
cŞÜ
) {

300 [] 
hsv
 = 
Ãw
 [3];

301 
CŞÜ
.
	`cŞÜToHSV
(
cŞÜ
, 
hsv
);

302 
CŞÜCœşe
 
Ã¬
 = 
nuÎ
;

303 
mšDiff
 = 
DoubË
.
MAX_VALUE
;

304 
x
 = 
hsv
[1] * 
M©h
.
	`cos
(hsv[0] * M©h.
PI
 / 180);

305 
y
 = 
hsv
[1] * 
M©h
.
	`sš
(hsv[0] * M©h.
PI
 / 180);

307 
CŞÜCœşe
 
cŞÜCœşe
 : 
»nd””
.
	`g‘CŞÜCœşeLi¡
()) {

308 [] 
hsv1
 = 
cŞÜCœşe
.
	`g‘Hsv
();

309 
x1
 = 
hsv1
[1] * 
M©h
.
	`cos
(hsv1[0] * M©h.
PI
 / 180);

310 
y1
 = 
hsv1
[1] * 
M©h
.
	`sš
(hsv1[0] * M©h.
PI
 / 180);

311 
dx
 = 
x
 - 
x1
;

312 
dy
 = 
y
 - 
y1
;

313 
di¡
 = 
dx
 * dx + 
dy
 * dy;

314 ià(
di¡
 < 
mšDiff
) {

315 
mšDiff
 = 
di¡
;

316 
Ã¬
 = 
cŞÜCœşe
;

320  
Ã¬
;

321 
	}
}

323 
public
 
	$g‘S–eùedCŞÜ
() {

324 
cŞÜ
 = 0;

325 ià(
cu¼’tCŞÜCœşe
 !ğ
nuÎ
)

326 
cŞÜ
 = 
CŞÜ
.
	`HSVToCŞÜ
(
cu¼’tCŞÜCœşe
.
	`g‘HsvW™hLighŠess
(
this
.
lighŠess
));

327  
Uts
.
	`adju¡AÍha
(
this
.
®pha
, 
cŞÜ
);

328 
	}
}

330 
public
 
	gIÁeg”
[] 
	$g‘AÎCŞÜs
() {

331  
š™ŸlCŞÜs
;

332 
	}
}

334 
public
 
	$£tIn™ŸlCŞÜs
(
IÁeg”
[] 
cŞÜs
, 
£ËùedCŞÜ
) {

335 
this
.
š™ŸlCŞÜs
 = 
cŞÜs
;

336 
this
.
cŞÜS–eùiÚ
 = 
£ËùedCŞÜ
;

337 
IÁeg”
 
š™ŸlCŞÜ
 = 
this
.
š™ŸlCŞÜs
[this.
cŞÜS–eùiÚ
];

338 ià(
š™ŸlCŞÜ
 =ğ
nuÎ
) initialColor = 0xffffffff;

339 
	`£tIn™ŸlCŞÜ
(
š™ŸlCŞÜ
, 
Œue
);

340 
	}
}

342 
public
 
	$£tIn™ŸlCŞÜ
(
cŞÜ
, 
boŞ—n
 
upd©eText
) {

343 [] 
hsv
 = 
Ãw
 [3];

344 
CŞÜ
.
	`cŞÜToHSV
(
cŞÜ
, 
hsv
);

346 
this
.
®pha
 = 
Uts
.
	`g‘AÍhaP”ûÁ
(
cŞÜ
);

347 
this
.
lighŠess
 = 
hsv
[2];

348 
this
.
š™ŸlCŞÜs
[this.
cŞÜS–eùiÚ
] = 
cŞÜ
;

349 
this
.
š™ŸlCŞÜ
 = 
cŞÜ
;

350 
	`£tCŞÜP»v›wCŞÜ
(
cŞÜ
);

351 
	`£tCŞÜToSlid”s
(
cŞÜ
);

352 ià(
this
.
cŞÜEd™
 !ğ
nuÎ
 && 
upd©eText
)

353 
	`£tCŞÜText
(
cŞÜ
);

354 
cu¼’tCŞÜCœşe
 = 
	`fšdN—»¡ByCŞÜ
(
cŞÜ
);

355 
	}
}

357 
public
 
	$£tLighŠess
(
lighŠess
) {

358 
Ï¡S–eùedCŞÜ
 = 
	`g‘S–eùedCŞÜ
();

360 
this
.
lighŠess
 =†ightness;

361 
this
.
š™ŸlCŞÜ
 = 
CŞÜ
.
	`HSVToCŞÜ
(
Uts
.
	`®phaV®ueAsIÁ
Ñhis.
®pha
), 
cu¼’tCŞÜCœşe
.
	`g‘HsvW™hLighŠess
(
lighŠess
));

362 ià(
this
.
cŞÜEd™
 !ğ
nuÎ
)

363 
this
.
cŞÜEd™
.
	`£tText
(
Uts
.
	`g‘HexSŒšg
Ñhis.
š™ŸlCŞÜ
,his.
®phaSlid”
 !ğ
nuÎ
));

364 ià(
this
.
®phaSlid”
 !ğ
nuÎ
 &&his.
š™ŸlCŞÜ
 !=‚ull)

365 
this
.
®phaSlid”
.
	`£tCŞÜ
Ñhis.
š™ŸlCŞÜ
);

367 
	`ÿÎOnCŞÜChªgedLi¡’”s
(
Ï¡S–eùedCŞÜ
, 
this
.
š™ŸlCŞÜ
);

369 
	`upd©eCŞÜWh“l
();

370 
	`šv®id©e
();

371 
	}
}

373 
public
 
	$£tCŞÜ
(
cŞÜ
, 
boŞ—n
 
upd©eText
) {

374 
	`£tIn™ŸlCŞÜ
(
cŞÜ
, 
upd©eText
);

375 
	`upd©eCŞÜWh“l
();

376 
	`šv®id©e
();

377 
	}
}

379 
public
 
	$£tAÍhaV®ue
(
®pha
) {

380 
Ï¡S–eùedCŞÜ
 = 
	`g‘S–eùedCŞÜ
();

382 
this
.
®pha
 =‡lpha;

383 
this
.
š™ŸlCŞÜ
 = 
CŞÜ
.
	`HSVToCŞÜ
(
Uts
.
	`®phaV®ueAsIÁ
Ñhis.
®pha
), 
cu¼’tCŞÜCœşe
.
	`g‘HsvW™hLighŠess
Ñhis.
lighŠess
));

384 ià(
this
.
cŞÜEd™
 !ğ
nuÎ
)

385 
this
.
cŞÜEd™
.
	`£tText
(
Uts
.
	`g‘HexSŒšg
Ñhis.
š™ŸlCŞÜ
,his.
®phaSlid”
 !ğ
nuÎ
));

386 ià(
this
.
lighŠessSlid”
 !ğ
nuÎ
 &&his.
š™ŸlCŞÜ
 !=‚ull)

387 
this
.
lighŠessSlid”
.
	`£tCŞÜ
Ñhis.
š™ŸlCŞÜ
);

389 
	`ÿÎOnCŞÜChªgedLi¡’”s
(
Ï¡S–eùedCŞÜ
, 
this
.
š™ŸlCŞÜ
);

391 
	`upd©eCŞÜWh“l
();

392 
	`šv®id©e
();

393 
	}
}

395 
public
 
	$addOnCŞÜChªgedLi¡’”
(
OnCŞÜChªgedLi¡’”
 
li¡’”
) {

396 
this
.
cŞÜChªgedLi¡’”s
.
	`add
(
li¡’”
);

397 
	}
}

399 
public
 
	$addOnCŞÜS–eùedLi¡’”
(
OnCŞÜS–eùedLi¡’”
 
li¡’”
) {

400 
this
.
li¡’”s
.
	`add
(
li¡’”
);

401 
	}
}

403 
public
 
	$£tLighŠessSlid”
(
LighŠessSlid”
 
lighŠessSlid”
) {

404 
this
.
lighŠessSlid”
 =†ightnessSlider;

405 ià(
lighŠessSlid”
 !ğ
nuÎ
) {

406 
this
.
lighŠessSlid”
.
	`£tCŞÜPick”
(this);

407 
this
.
lighŠessSlid”
.
	`£tCŞÜ
(
	`g‘S–eùedCŞÜ
());

409 
	}
}

411 
public
 
	$£tAÍhaSlid”
(
AÍhaSlid”
 
®phaSlid”
) {

412 
this
.
®phaSlid”
 =‡lphaSlider;

413 ià(
®phaSlid”
 !ğ
nuÎ
) {

414 
this
.
®phaSlid”
.
	`£tCŞÜPick”
(this);

415 
this
.
®phaSlid”
.
	`£tCŞÜ
(
	`g‘S–eùedCŞÜ
());

417 
	}
}

419 
public
 
	$£tCŞÜEd™
(
Ed™Text
 
cŞÜEd™
) {

420 
this
.
cŞÜEd™
 = colorEdit;

421 ià(
this
.
cŞÜEd™
 !ğ
nuÎ
) {

422 
this
.
cŞÜEd™
.
	`£tVisib™y
(
V›w
.
VISIBLE
);

423 
this
.
cŞÜEd™
.
	`addTextChªgedLi¡’”
(
cŞÜTextChªge
);

424 
	`£tCŞÜEd™TextCŞÜ
(
pick”TextCŞÜ
);

426 
	}
}

428 
public
 
	$£tCŞÜEd™TextCŞÜ
(
¬gb
) {

429 
this
.
pick”TextCŞÜ
 = 
¬gb
;

430 ià(
cŞÜEd™
 !ğ
nuÎ
)

431 
cŞÜEd™
.
	`£tTextCŞÜ
(
¬gb
);

432 
	}
}

434 
public
 
	$£tD’s™y
(
d’s™y
) {

435 
this
.
d’s™y
 = 
M©h
.
	`max
(2, density);

436 
	`šv®id©e
();

437 
	}
}

439 
public
 
	$£tR’d””
(
CŞÜWh“lR’d””
 
»nd””
) {

440 
this
.
»nd””
 =„enderer;

441 
	`šv®id©e
();

442 
	}
}

444 
public
 
	$£tCŞÜP»v›w
(
Lš—rLayout
 
cŞÜP»v›w
, 
IÁeg”
 
£ËùedCŞÜ
) {

445 ià(
cŞÜP»v›w
 =ğ
nuÎ
)

447 
this
.
cŞÜP»v›w
 = colorPreview;

448 ià(
£ËùedCŞÜ
 =ğ
nuÎ
)

449 
£ËùedCŞÜ
 = 0;

450 
chd»n
 = 
cŞÜP»v›w
.
	`g‘ChdCouÁ
();

451 ià(
chd»n
 =ğ0 || 
cŞÜP»v›w
.
	`g‘Visib™y
(è!ğ
V›w
.
VISIBLE
)

454 
i
 = 0; i < 
chd»n
; i++) {

455 
V›w
 
chdV›w
 = 
cŞÜP»v›w
.
	`g‘ChdAt
(
i
);

456 ià(!(
chdV›w
 
š¡ªûof
 
Lš—rLayout
))

458 
Lš—rLayout
 
chdLayout
 = (Lš—rLayoutè
chdV›w
;

459 ià(
i
 =ğ
£ËùedCŞÜ
) {

460 
chdLayout
.
	`£tBackgroundCŞÜ
(
CŞÜ
.
WHITE
);

462 
ImageV›w
 
chdImage
 = (ImageV›wè
chdLayout
.
	`fšdV›wById
(
R
.
id
.
image_´ev›w
);

463 
chdImage
.
	`£tClickabË
(
Œue
);

464 
chdImage
.
	`£tTag
(
i
);

465 
chdImage
.
	`£tOnClickLi¡’”
(
Ãw
 
	`OnClickLi¡’”
() {

466 @
Ov”ride


467 
public
 
	`ÚClick
(
V›w
 
v
) {

468 ià(
v
 =ğ
nuÎ
)

470 
Objeù
 
g
 = 
v
.
	`g‘Tag
();

471 ià(
g
 =ğ
nuÎ
 || !Ñag 
š¡ªûof
 
IÁeg”
))

473 
	`£tS–eùedCŞÜ
((è
g
);

477 
	}
}

479 
public
 
	$£tS–eùedCŞÜ
(
´ev›wNumb”
) {

480 ià(
š™ŸlCŞÜs
 =ğ
nuÎ
 || in™ŸlCŞÜs.
Ëngth
 < 
´ev›wNumb”
)

482 
this
.
cŞÜS–eùiÚ
 = 
´ev›wNumb”
;

483 
	`£tHighligh‹dCŞÜ
(
´ev›wNumb”
);

484 
IÁeg”
 
cŞÜ
 = 
š™ŸlCŞÜs
[
´ev›wNumb”
];

485 ià(
cŞÜ
 =ğ
nuÎ
)

487 
	`£tCŞÜ
(
cŞÜ
, 
Œue
);

488 
	}
}

490 
´iv©e
 
	$£tHighligh‹dCŞÜ
(
´ev›wNumb”
) {

491 
chd»n
 = 
cŞÜP»v›w
.
	`g‘ChdCouÁ
();

492 ià(
chd»n
 =ğ0 || 
cŞÜP»v›w
.
	`g‘Visib™y
(è!ğ
V›w
.
VISIBLE
)

495 
i
 = 0; i < 
chd»n
; i++) {

496 
V›w
 
chdV›w
 = 
cŞÜP»v›w
.
	`g‘ChdAt
(
i
);

497 ià(!(
chdV›w
 
š¡ªûof
 
Lš—rLayout
))

499 
Lš—rLayout
 
chdLayout
 = (Lš—rLayoutè
chdV›w
;

500 ià(
i
 =ğ
´ev›wNumb”
) {

501 
chdLayout
.
	`£tBackgroundCŞÜ
(
CŞÜ
.
WHITE
);

503 
chdLayout
.
	`£tBackgroundCŞÜ
(
CŞÜ
.
TRANSPARENT
);

506 
	}
}

508 
´iv©e
 
	$£tCŞÜP»v›wCŞÜ
(
ÃwCŞÜ
) {

509 ià(
cŞÜP»v›w
 =ğ
nuÎ
 || 
š™ŸlCŞÜs
 =ğnuÎ || 
cŞÜS–eùiÚ
 > in™ŸlCŞÜs.
Ëngth
 || initialColors[colorSelection] ==‚ull)

512 
chd»n
 = 
cŞÜP»v›w
.
	`g‘ChdCouÁ
();

513 ià(
chd»n
 =ğ0 || 
cŞÜP»v›w
.
	`g‘Visib™y
(è!ğ
V›w
.
VISIBLE
)

516 
V›w
 
chdV›w
 = 
cŞÜP»v›w
.
	`g‘ChdAt
(
cŞÜS–eùiÚ
);

517 ià(!(
chdV›w
 
š¡ªûof
 
Lš—rLayout
))

519 
Lš—rLayout
 
chdLayout
 = (Lš—rLayoutè
chdV›w
;

520 
ImageV›w
 
chdImage
 = (ImageV›wè
chdLayout
.
	`fšdV›wById
(
R
.
id
.
image_´ev›w
);

521 
chdImage
.
	`£tImageD¿wabË
(
Ãw
 
	`CœşeCŞÜD¿wabË
(
ÃwCŞÜ
));

522 
	}
}

524 
´iv©e
 
	$£tCŞÜText
(
¬gb
) {

525 ià(
cŞÜEd™
 =ğ
nuÎ
)

527 
cŞÜEd™
.
	`£tText
(
Uts
.
	`g‘HexSŒšg
(
¬gb
, 
this
.
®phaSlid”
 !ğ
nuÎ
));

528 
	}
}

530 
´iv©e
 
	$£tCŞÜToSlid”s
(
£ËùedCŞÜ
) {

531 ià(
lighŠessSlid”
 !ğ
nuÎ
)

532 
lighŠessSlid”
.
	`£tCŞÜ
(
£ËùedCŞÜ
);

533 ià(
®phaSlid”
 !ğ
nuÎ
)

534 
®phaSlid”
.
	`£tCŞÜ
(
£ËùedCŞÜ
);

535 
	}
}

537 
public
 
	eWHEEL_TYPE
 {

538 
	gFLOWER
, 
	gCIRCLE
;

540 
public
 
WHEEL_TYPE
 
šdexOf
(
šdex
) {

541 
	gšdex
) {

543  
FLOWER
;

545  
CIRCLE
;

547  
	gFLOWER
;

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/OnColorChangedListener.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
public
 
š‹rçû
 
	gOnCŞÜChªgedLi¡’”
 {

4 
ÚCŞÜChªged
(
£ËùedCŞÜ
);

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/OnColorSelectedListener.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
public
 
š‹rçû
 
	gOnCŞÜS–eùedLi¡’”
 {

4 
ÚCŞÜS–eùed
(
£ËùedCŞÜ
);

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/Utils.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

8 
public
 cÏs 
	cUts
 {

9 
public
 
	$g‘AÍhaP”ûÁ
(
¬gb
) {

10  
CŞÜ
.
	`®pha
(
¬gb
) / 255f;

13 
public
 
	$®phaV®ueAsIÁ
(
®pha
) {

14  
M©h
.
	`round
(
®pha
 * 255);

15 
	}
}

17 
public
 
	$adju¡AÍha
(
®pha
, 
cŞÜ
) {

18  
	`®phaV®ueAsIÁ
(
®pha
è<< 24 | (0x00fffffà& 
cŞÜ
);

19 
	}
}

21 
public
 
	$cŞÜAtLighŠess
(
cŞÜ
, 
lighŠess
) {

22 [] 
hsv
 = 
Ãw
 [3];

23 
CŞÜ
.
	`cŞÜToHSV
(
cŞÜ
, 
hsv
);

24 
hsv
[2] = 
lighŠess
;

25  
CŞÜ
.
	`HSVToCŞÜ
(
hsv
);

26 
	}
}

28 
public
 
	$lighŠessOfCŞÜ
(
cŞÜ
) {

29 [] 
hsv
 = 
Ãw
 [3];

30 
CŞÜ
.
	`cŞÜToHSV
(
cŞÜ
, 
hsv
);

31  
hsv
[2];

32 
	}
}

34 
public
 
SŒšg
 
	$g‘HexSŒšg
(
cŞÜ
, 
boŞ—n
 
showAÍha
) {

35 
ba£
 = 
showAÍha
 ? 0xFFFFFFFF : 0xFFFFFF;

36 
SŒšg
 
fÜm©
 = 
showAÍha
 ? "#%08X" : "#%06X";

37  
SŒšg
.
	`fÜm©
(
fÜm©
, (
ba£
 & 
cŞÜ
)).
	`toUµ”Ca£
();

38 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/ColorPickerClickListener.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

8 
public
 
š‹rçû
 
	gCŞÜPick”ClickLi¡’”
 {

9 
ÚClick
(
DŸlogIÁ”çû
 
d
, 
Ï¡S–eùedCŞÜ
, 
IÁeg”
[] 
®lCŞÜs
);

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/ColorPickerDialogBuilder.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
;

3 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

6 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

7 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gCŞÜD¿wabË
;

8 
impÜt
 
	gªdroid
.
	g‹xt
.
	gIÅutF‹r
;

9 
impÜt
 
	gªdroid
.
	gv›w
.
	gG¿v™y
;

10 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

11 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wGroup
;

12 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

13 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

14 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gLš—rLayout
;

16 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜPick”V›w
;

17 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gOnCŞÜChªgedLi¡’”
;

18 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gOnCŞÜS–eùedLi¡’”
;

19 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gR
;

20 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gUts
;

21 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
.
	gCŞÜWh“lR’d””
;

22 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
.
	gAÍhaSlid”
;

23 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
.
	gLighŠessSlid”
;

25 
public
 cÏs 
	cCŞÜPick”DŸlogBud”
 {

26 
´iv©e
 
	mAË¹DŸlog
.
Bud”
 
	mbud”
;

27 
´iv©e
 
Lš—rLayout
 
	mpick”CÚš”
;

28 
´iv©e
 
CŞÜPick”V›w
 
	mcŞÜPick”V›w
;

29 
´iv©e
 
LighŠessSlid”
 
	mlighŠessSlid”
;

30 
´iv©e
 
AÍhaSlid”
 
	m®phaSlid”
;

31 
´iv©e
 
Ed™Text
 
	mcŞÜEd™
;

32 
´iv©e
 
Lš—rLayout
 
	mcŞÜP»v›w
;

34 
´iv©e
 
boŞ—n
 
	misLighŠessSlid”EÇbËd
 = 
Œue
;

35 
´iv©e
 
boŞ—n
 
	misAÍhaSlid”EÇbËd
 = 
Œue
;

36 
´iv©e
 
boŞ—n
 
	misCŞÜEd™EÇbËd
 = 
çl£
;

37 
´iv©e
 
boŞ—n
 
	misP»v›wEÇbËd
 = 
çl£
;

38 
´iv©e
 
	mpick”CouÁ
 = 1;

39 
´iv©e
 
	mdeçuÉM¬gš
 = 0;

40 
´iv©e
 
	mIÁeg”
[] 
	mš™ŸlCŞÜ
 = 
Ãw
 
IÁeg”
[]{
nuÎ
,‚ull,‚ull,‚ull,‚ull};

42 
´iv©e
 
	$CŞÜPick”DŸlogBud”
(
CÚ‹xt
 
cÚ‹xt
) {

43 
	`this
(
cÚ‹xt
, 0);

44 
	}
}

46 
´iv©e
 
	$CŞÜPick”DŸlogBud”
(
CÚ‹xt
 
cÚ‹xt
, 
theme
) {

47 
deçuÉM¬gš
 = 
	`g‘Dim’siÚAsPx
(
cÚ‹xt
, 
R
.
dim’
.
deçuÉ_¦id”_m¬gš
);

48 
fš®
 
dŸlogM¬gšB‘w“nT™Ë
 = 
	`g‘Dim’siÚAsPx
(
cÚ‹xt
, 
R
.
dim’
.
deçuÉ_¦id”_m¬gš_btw_t™Ë
);

50 
bud”
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
cÚ‹xt
, 
theme
);

51 
pick”CÚš”
 = 
Ãw
 
	`Lš—rLayout
(
cÚ‹xt
);

52 
pick”CÚš”
.
	`£tOr›Á©iÚ
(
Lš—rLayout
.
VERTICAL
);

53 
pick”CÚš”
.
	`£tG¿v™y
(
G¿v™y
.
CENTER_HORIZONTAL
);

54 
pick”CÚš”
.
	`£tPaddšg
(
deçuÉM¬gš
, 
dŸlogM¬gšB‘w“nT™Ë
, defaultMargin, defaultMargin);

56 
Lš—rLayout
.
LayoutP¬ams
 
ÏyoutP¬amsFÜCŞÜPick”V›w
 = 
Ãw
 Lš—rLayout.
	`LayoutP¬ams
(
V›wGroup
.LayoutP¬ams.
MATCH_PARENT
, 0);

57 
ÏyoutP¬amsFÜCŞÜPick”V›w
.
weight
 = 1;

58 
cŞÜPick”V›w
 = 
Ãw
 
	`CŞÜPick”V›w
(
cÚ‹xt
);

60 
pick”CÚš”
.
	`addV›w
(
cŞÜPick”V›w
, 
ÏyoutP¬amsFÜCŞÜPick”V›w
);

62 
bud”
.
	`£tV›w
(
pick”CÚš”
);

63 
	}
}

65 
public
 
CŞÜPick”DŸlogBud”
 
	$w™h
(
CÚ‹xt
 
cÚ‹xt
) {

66  
Ãw
 
	`CŞÜPick”DŸlogBud”
(
cÚ‹xt
);

67 
	}
}

69 
public
 
CŞÜPick”DŸlogBud”
 
	$w™h
(
CÚ‹xt
 
cÚ‹xt
, 
theme
) {

70  
Ãw
 
	`CŞÜPick”DŸlogBud”
(
cÚ‹xt
, 
theme
);

71 
	}
}

73 
public
 
CŞÜPick”DŸlogBud”
 
	$£tT™Ë
(
SŒšg
 
t™Ë
) {

74 
bud”
.
	`£tT™Ë
(
t™Ë
);

75  
this
;

76 
	}
}

78 
public
 
CŞÜPick”DŸlogBud”
 
	$£tT™Ë
(
t™ËId
) {

79 
bud”
.
	`£tT™Ë
(
t™ËId
);

80  
this
;

81 
	}
}

83 
public
 
CŞÜPick”DŸlogBud”
 
	$š™ŸlCŞÜ
(
š™ŸlCŞÜ
) {

84 
this
.
š™ŸlCŞÜ
[0] = initialColor;

85  
this
;

86 
	}
}

89 
public
 
CŞÜPick”DŸlogBud”
 
	$š™ŸlCŞÜs
([] 
š™ŸlCŞÜ
) {

90 
i
 = 0; i < 
š™ŸlCŞÜ
.
Ëngth
 && i < 
this
.initialColor.length; i++) {

91 
this
.
š™ŸlCŞÜ
[
i
] = initialColor[i];

93  
this
;

94 
	}
}

96 
public
 
CŞÜPick”DŸlogBud”
 
	$wh“lTy³
(
CŞÜPick”V›w
.
WHEEL_TYPE
 
wh“lTy³
) {

97 
CŞÜWh“lR’d””
 
»nd””
 = 
CŞÜWh“lR’d””Bud”
.
	`g‘R’d””
(
wh“lTy³
);

98 
cŞÜPick”V›w
.
	`£tR’d””
(
»nd””
);

99  
this
;

100 
	}
}

102 
public
 
CŞÜPick”DŸlogBud”
 
	$d’s™y
(
d’s™y
) {

103 
cŞÜPick”V›w
.
	`£tD’s™y
(
d’s™y
);

104  
this
;

105 
	}
}

107 
public
 
CŞÜPick”DŸlogBud”
 
	$£tOnCŞÜChªgedLi¡’”
(
OnCŞÜChªgedLi¡’”
 
ÚCŞÜChªgedLi¡’”
) {

108 
cŞÜPick”V›w
.
	`addOnCŞÜChªgedLi¡’”
(
ÚCŞÜChªgedLi¡’”
);

109  
this
;

110 
	}
}

112 
public
 
CŞÜPick”DŸlogBud”
 
	$£tOnCŞÜS–eùedLi¡’”
(
OnCŞÜS–eùedLi¡’”
 
ÚCŞÜS–eùedLi¡’”
) {

113 
cŞÜPick”V›w
.
	`addOnCŞÜS–eùedLi¡’”
(
ÚCŞÜS–eùedLi¡’”
);

114  
this
;

115 
	}
}

117 
public
 
CŞÜPick”DŸlogBud”
 
	$£tPos™iveBu‰Ú
(
Ch¬Sequ’û
 
‹xt
, 
fš®
 
CŞÜPick”ClickLi¡’”
 
ÚClickLi¡’”
) {

118 
bud”
.
	`£tPos™iveBu‰Ú
(
‹xt
, 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

119 @
Ov”ride


120 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
which
) {

121 
	`pos™iveBu‰ÚOnClick
(
dŸlog
, 
ÚClickLi¡’”
);

124  
this
;

125 
	}
}

127 
public
 
CŞÜPick”DŸlogBud”
 
	$£tPos™iveBu‰Ú
(
‹xtId
, 
fš®
 
CŞÜPick”ClickLi¡’”
 
ÚClickLi¡’”
) {

128 
bud”
.
	`£tPos™iveBu‰Ú
(
‹xtId
, 
Ãw
 
DŸlogIÁ”çû
.
	`OnClickLi¡’”
() {

129 @
Ov”ride


130 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
which
) {

131 
	`pos™iveBu‰ÚOnClick
(
dŸlog
, 
ÚClickLi¡’”
);

134  
this
;

135 
	}
}

137 
public
 
CŞÜPick”DŸlogBud”
 
	$£tNeg©iveBu‰Ú
(
Ch¬Sequ’û
 
‹xt
, 
DŸlogIÁ”çû
.
OnClickLi¡’”
 
ÚClickLi¡’”
) {

138 
bud”
.
	`£tNeg©iveBu‰Ú
(
‹xt
, 
ÚClickLi¡’”
);

139  
this
;

140 
	}
}

142 
public
 
CŞÜPick”DŸlogBud”
 
	$£tNeg©iveBu‰Ú
(
‹xtId
, 
DŸlogIÁ”çû
.
OnClickLi¡’”
 
ÚClickLi¡’”
) {

143 
bud”
.
	`£tNeg©iveBu‰Ú
(
‹xtId
, 
ÚClickLi¡’”
);

144  
this
;

145 
	}
}

147 
public
 
CŞÜPick”DŸlogBud”
 
	$noSlid”s
() {

148 
isLighŠessSlid”EÇbËd
 = 
çl£
;

149 
isAÍhaSlid”EÇbËd
 = 
çl£
;

150  
this
;

151 
	}
}

153 
public
 
CŞÜPick”DŸlogBud”
 
	$®phaSlid”OÆy
() {

154 
isLighŠessSlid”EÇbËd
 = 
çl£
;

155 
isAÍhaSlid”EÇbËd
 = 
Œue
;

156  
this
;

157 
	}
}

159 
public
 
CŞÜPick”DŸlogBud”
 
	$lighŠessSlid”OÆy
() {

160 
isLighŠessSlid”EÇbËd
 = 
Œue
;

161 
isAÍhaSlid”EÇbËd
 = 
çl£
;

162  
this
;

163 
	}
}

165 
public
 
CŞÜPick”DŸlogBud”
 
	$showAÍhaSlid”
(
boŞ—n
 
showAÍha
) {

166 
isAÍhaSlid”EÇbËd
 = 
showAÍha
;

167  
this
;

168 
	}
}

170 
public
 
CŞÜPick”DŸlogBud”
 
	$showLighŠessSlid”
(
boŞ—n
 
showLighŠess
) {

171 
isLighŠessSlid”EÇbËd
 = 
showLighŠess
;

172  
this
;

173 
	}
}

175 
public
 
CŞÜPick”DŸlogBud”
 
	$showCŞÜEd™
(
boŞ—n
 
showEd™
) {

176 
isCŞÜEd™EÇbËd
 = 
showEd™
;

177  
this
;

178 
	}
}

180 
public
 
CŞÜPick”DŸlogBud”
 
	$£tCŞÜEd™TextCŞÜ
(
¬gb
) {

181 
cŞÜPick”V›w
.
	`£tCŞÜEd™TextCŞÜ
(
¬gb
);

182  
this
;

183 
	}
}

185 
public
 
CŞÜPick”DŸlogBud”
 
	$showCŞÜP»v›w
(
boŞ—n
 
showP»v›w
) {

186 
isP»v›wEÇbËd
 = 
showP»v›w
;

187 ià(!
showP»v›w
)

188 
pick”CouÁ
 = 1;

189  
this
;

190 
	}
}

192 
public
 
CŞÜPick”DŸlogBud”
 
	$£tPick”CouÁ
(
pick”CouÁ
è
throws
 
IndexOutOfBoundsExû±iÚ
 {

193 ià(
pick”CouÁ
 < 1 ||…ickerCount > 5)

194 
throw
 
Ãw
 
	`IndexOutOfBoundsExû±iÚ
("Picker Can Only Support 1-5 Colors");

195 
this
.
pick”CouÁ
 =…ickerCount;

196 ià(
this
.
pick”CouÁ
 > 1)

197 
this
.
isP»v›wEÇbËd
 = 
Œue
;

198  
this
;

199 
	}
}

201 
public
 
AË¹DŸlog
 
	$bud
() {

202 
CÚ‹xt
 
cÚ‹xt
 = 
bud”
.
	`g‘CÚ‹xt
();

203 
cŞÜPick”V›w
.
	`£tIn™ŸlCŞÜs
(
š™ŸlCŞÜ
, 
	`g‘S¹Off£t
(initialColor));

205 ià(
isLighŠessSlid”EÇbËd
) {

206 
Lš—rLayout
.
LayoutP¬ams
 
ÏyoutP¬amsFÜLighŠessB¬
 = 
Ãw
 Lš—rLayout.
	`LayoutP¬ams
(
V›wGroup
.LayoutP¬ams.
MATCH_PARENT
, 
	`g‘Dim’siÚAsPx
(
cÚ‹xt
, 
R
.
dim’
.
deçuÉ_¦id”_height
));

207 
lighŠessSlid”
 = 
Ãw
 
	`LighŠessSlid”
(
cÚ‹xt
);

208 
lighŠessSlid”
.
	`£tLayoutP¬ams
(
ÏyoutP¬amsFÜLighŠessB¬
);

209 
pick”CÚš”
.
	`addV›w
(
lighŠessSlid”
);

210 
cŞÜPick”V›w
.
	`£tLighŠessSlid”
(
lighŠessSlid”
);

211 
lighŠessSlid”
.
	`£tCŞÜ
(
	`g‘S¹CŞÜ
(
š™ŸlCŞÜ
));

213 ià(
isAÍhaSlid”EÇbËd
) {

214 
Lš—rLayout
.
LayoutP¬ams
 
ÏyoutP¬amsFÜAÍhaB¬
 = 
Ãw
 Lš—rLayout.
	`LayoutP¬ams
(
V›wGroup
.LayoutP¬ams.
MATCH_PARENT
, 
	`g‘Dim’siÚAsPx
(
cÚ‹xt
, 
R
.
dim’
.
deçuÉ_¦id”_height
));

215 
®phaSlid”
 = 
Ãw
 
	`AÍhaSlid”
(
cÚ‹xt
);

216 
®phaSlid”
.
	`£tLayoutP¬ams
(
ÏyoutP¬amsFÜAÍhaB¬
);

217 
pick”CÚš”
.
	`addV›w
(
®phaSlid”
);

218 
cŞÜPick”V›w
.
	`£tAÍhaSlid”
(
®phaSlid”
);

219 
®phaSlid”
.
	`£tCŞÜ
(
	`g‘S¹CŞÜ
(
š™ŸlCŞÜ
));

221 ià(
isCŞÜEd™EÇbËd
) {

222 
Lš—rLayout
.
LayoutP¬ams
 
ÏyoutP¬amsFÜCŞÜEd™
 = 
Ãw
 Lš—rLayout.
	`LayoutP¬ams
(
V›wGroup
.LayoutP¬ams.
WRAP_CONTENT
, ViewGroup.LayoutParams.WRAP_CONTENT);

223 
cŞÜEd™
 = (
Ed™Text
è
V›w
.
	`šæ©e
(
cÚ‹xt
, 
R
.
Ïyout
.
pick”_ed™
, 
nuÎ
);

224 
cŞÜEd™
.
	`£tF‹rs
(
Ãw
 
IÅutF‹r
[]{Ãw IÅutF‹r.
	`AÎC­s
()});

225 
cŞÜEd™
.
	`£tSšgËLše
();

226 
cŞÜEd™
.
	`£tVisib™y
(
V›w
.
GONE
);

229 
maxL’gth
 = 
isAÍhaSlid”EÇbËd
 ? 9 : 7;

230 
cŞÜEd™
.
	`£tF‹rs
(
Ãw
 
IÅutF‹r
[]{Ãw IÅutF‹r.
	`L’gthF‹r
(
maxL’gth
)});

232 
pick”CÚš”
.
	`addV›w
(
cŞÜEd™
, 
ÏyoutP¬amsFÜCŞÜEd™
);

234 
cŞÜEd™
.
	`£tText
(
Uts
.
	`g‘HexSŒšg
(
	`g‘S¹CŞÜ
(
š™ŸlCŞÜ
), 
isAÍhaSlid”EÇbËd
));

235 
cŞÜPick”V›w
.
	`£tCŞÜEd™
(
cŞÜEd™
);

237 ià(
isP»v›wEÇbËd
) {

238 
cŞÜP»v›w
 = (
Lš—rLayout
è
V›w
.
	`šæ©e
(
cÚ‹xt
, 
R
.
Ïyout
.
cŞÜ_´ev›w
, 
nuÎ
);

239 
cŞÜP»v›w
.
	`£tVisib™y
(
V›w
.
GONE
);

240 
pick”CÚš”
.
	`addV›w
(
cŞÜP»v›w
);

242 ià(
š™ŸlCŞÜ
.
Ëngth
 == 0) {

243 
ImageV›w
 
cŞÜImage
 = (ImageV›wè
V›w
.
	`šæ©e
(
cÚ‹xt
, 
R
.
Ïyout
.
cŞÜ_£ËùÜ
, 
nuÎ
);

244 
cŞÜImage
.
	`£tImageD¿wabË
(
Ãw
 
	`CŞÜD¿wabË
(
CŞÜ
.
WHITE
));

246 
i
 = 0; i < 
š™ŸlCŞÜ
.
Ëngth
 && i < 
this
.
pick”CouÁ
; i++) {

247 ià(
š™ŸlCŞÜ
[
i
] =ğ
nuÎ
)

249 
Lš—rLayout
 
cŞÜLayout
 = (Lš—rLayoutè
V›w
.
	`šæ©e
(
cÚ‹xt
, 
R
.
Ïyout
.
cŞÜ_£ËùÜ
, 
nuÎ
);

250 
ImageV›w
 
cŞÜImage
 = (ImageV›wè
cŞÜLayout
.
	`fšdV›wById
(
R
.
id
.
image_´ev›w
);

251 
cŞÜImage
.
	`£tImageD¿wabË
(
Ãw
 
	`CŞÜD¿wabË
(
š™ŸlCŞÜ
[
i
]));

252 
cŞÜP»v›w
.
	`addV›w
(
cŞÜLayout
);

255 
cŞÜP»v›w
.
	`£tVisib™y
(
V›w
.
VISIBLE
);

256 
cŞÜPick”V›w
.
	`£tCŞÜP»v›w
(
cŞÜP»v›w
, 
	`g‘S¹Off£t
(
š™ŸlCŞÜ
));

259  
bud”
.
	`ü—‹
();

260 
	}
}

262 
´iv©e
 
IÁeg”
 
	$g‘S¹Off£t
(
IÁeg”
[] 
cŞÜs
) {

263 
IÁeg”
 
¡¬t
 = 0;

264 
i
 = 0; i < 
cŞÜs
.
Ëngth
; i++) {

265 ià(
cŞÜs
[
i
] =ğ
nuÎ
) {

266  
¡¬t
;

268 
¡¬t
 = (
i
 + 1) / 2;

270  
¡¬t
;

271 
	}
}

273 
´iv©e
 
	$g‘S¹CŞÜ
(
IÁeg”
[] 
cŞÜs
) {

274 
IÁeg”
 
¡¬tCŞÜ
 = 
	`g‘S¹Off£t
(
cŞÜs
);

275  
¡¬tCŞÜ
 =ğ
nuÎ
 ? 
CŞÜ
.
WHITE
 : 
cŞÜs
[startColor];

276 
	}
}

278 
´iv©e
 
	$g‘Dim’siÚAsPx
(
CÚ‹xt
 
cÚ‹xt
, 
rid
) {

279  (è(
cÚ‹xt
.
	`g‘Resourûs
().
	`g‘Dim’siÚ
(
rid
) + .5f);

280 
	}
}

282 
´iv©e
 
	$pos™iveBu‰ÚOnClick
(
DŸlogIÁ”çû
 
dŸlog
, 
CŞÜPick”ClickLi¡’”
 
ÚClickLi¡’”
) {

283 
£ËùedCŞÜ
 = 
cŞÜPick”V›w
.
	`g‘S–eùedCŞÜ
();

284 
IÁeg”
[] 
®lCŞÜs
 = 
cŞÜPick”V›w
.
	`g‘AÎCŞÜs
();

285 
ÚClickLi¡’”
.
	`ÚClick
(
dŸlog
, 
£ËùedCŞÜ
, 
®lCŞÜs
);

286 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/ColorWheelRendererBuilder.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
;

3 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜPick”V›w
;

4 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
.
	gCŞÜWh“lR’d””
;

5 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
.
	gFlow”CŞÜWh“lR’d””
;

6 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
.
	gSim¶eCŞÜWh“lR’d””
;

8 
public
 cÏs 
	cCŞÜWh“lR’d””Bud”
 {

9 
public
 
CŞÜWh“lR’d””
 
	$g‘R’d””
(
CŞÜPick”V›w
.
WHEEL_TYPE
 
wh“lTy³
) {

10 
wh“lTy³
) {

11 
CIRCLE
:

12  
Ãw
 
	`Sim¶eCŞÜWh“lR’d””
();

13 
FLOWER
:

14  
Ãw
 
	`Flow”CŞÜWh“lR’d””
();

16 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("wrong WHEEL_TYPE");

18 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/PaintBuilder.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
;

3 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­
;

4 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­Shad”
;

5 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

6 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

7 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPÜ‹rDuff
;

8 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPÜ‹rDuffXãrmode
;

9 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gShad”
;

11 
public
 cÏs 
	cPaštBud”
 {

12 
public
 
PaštHŞd”
 
	$ÃwPašt
() {

13  
Ãw
 
	`PaštHŞd”
();

16 
public
 şas 
	cPaštHŞd”
 {

17 
´iv©e
 
Pašt
 
·št
;

19 
´iv©e
 
	`PaštHŞd”
() {

20 
this
.
·št
 = 
Ãw
 
	`Pašt
(
Pašt
.
ANTI_ALIAS_FLAG
);

23 
public
 
PaštHŞd”
 
	`cŞÜ
(
cŞÜ
) {

24 
this
.
·št
.
	`£tCŞÜ
(
cŞÜ
);

25  
this
;

28 
public
 
PaštHŞd”
 
	`ªtiAlŸs
(
boŞ—n
 
æag
) {

29 
this
.
·št
.
	`£tAÁiAlŸs
(
æag
);

30  
this
;

33 
public
 
PaštHŞd”
 
	`¡yË
(
Pašt
.
StyË
 
¡yË
) {

34 
this
.
·št
.
	`£tStyË
(
¡yË
);

35  
this
;

38 
public
 
PaštHŞd”
 
	`mode
(
PÜ‹rDuff
.
Mode
 
mode
) {

39 
this
.
·št
.
	`£tXãrmode
(
Ãw
 
	`PÜ‹rDuffXãrmode
(
mode
));

40  
this
;

43 
public
 
PaštHŞd”
 
	`¡roke
(
width
) {

44 
this
.
·št
.
	`£tSŒokeWidth
(
width
);

45  
this
;

48 
public
 
PaštHŞd”
 
	`xP”Mode
(
PÜ‹rDuff
.
Mode
 
mode
) {

49 
this
.
·št
.
	`£tXãrmode
(
Ãw
 
	`PÜ‹rDuffXãrmode
(
mode
));

50  
this
;

53 
public
 
PaštHŞd”
 
	`shad”
(
Shad”
 
shad”
) {

54 
this
.
·št
.
	`£tShad”
(
shad”
);

55  
this
;

58 
public
 
Pašt
 
	`bud
() {

59  
this
.
·št
;

61 
	}
}

63 
public
 
Shad”
 
	$ü—‹AÍhaP©‹ºShad”
(
size
) {

64 
size
 /= 2;

65 
size
 = 
M©h
.
	`max
(8, size * 2);

66  
Ãw
 
	`B™m­Shad”
(
	`ü—‹AÍhaBackgroundP©‹º
(
size
), 
Shad”
.
TeMode
.
REPEAT
, Shader.TileMode.REPEAT);

67 
	}
}

69 
´iv©e
 
B™m­
 
	$ü—‹AÍhaBackgroundP©‹º
(
size
) {

70 
Pašt
 
®phaP©‹ºPašt
 = 
PaštBud”
.
	`ÃwPašt
().
	`bud
();

71 
B™m­
 
bm
 = B™m­.
	`ü—‹B™m­
(
size
, size, B™m­.
CÚfig
.
ARGB_8888
);

72 
Cªvas
 
c
 = 
Ãw
 
	`Cªvas
(
bm
);

73 
s
 = 
M©h
.
	`round
(
size
 / 2f);

74 
i
 = 0; i < 2; i++)

75 
j
 = 0; j < 2; j++) {

76 ià((
i
 + 
j
è% 2 =ğ0è
®phaP©‹ºPašt
.
	`£tCŞÜ
(0xffffffff);

77 
®phaP©‹ºPašt
.
	`£tCŞÜ
(0xffd0d0d0);

78 
c
.
	`d¿wReù
(
i
 * 
s
, 
j
 * s, (˜+ 1è* s, (j + 1è* s, 
®phaP©‹ºPašt
);

80  
bm
;

81 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/AbsColorWheelRenderer.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
;

3 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜCœşe
;

5 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

6 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

8 
public
 
ab¡¿ù
 cÏs 
	cAbsCŞÜWh“lR’d””
 
im¶em’ts
 
	mCŞÜWh“lR’d””
 {

9 
´Ùeùed
 
CŞÜWh“lR’d”O±iÚ
 
	mcŞÜWh“lR’d”O±iÚ
;

10 
´Ùeùed
 
	mLi¡
<
	mCŞÜCœşe
> 
	mcŞÜCœşeLi¡
 = 
Ãw
 
A¼ayLi¡
<>();

12 
public
 
	$š™W™h
(
CŞÜWh“lR’d”O±iÚ
 
cŞÜWh“lR’d”O±iÚ
) {

13 
this
.
cŞÜWh“lR’d”O±iÚ
 = colorWheelRenderOption;

14 
this
.
cŞÜCœşeLi¡
.
	`ş—r
();

17 @
Ov”ride


18 
public
 
CŞÜWh“lR’d”O±iÚ
 
	$g‘R’d”O±iÚ
() {

19 ià(
cŞÜWh“lR’d”O±iÚ
 =ğ
nuÎ
ècŞÜWh“lR’d”O±iÚ = 
Ãw
 
	`CŞÜWh“lR’d”O±iÚ
();

20  
cŞÜWh“lR’d”O±iÚ
;

21 
	}
}

23 
public
 
	gLi¡
<
	gCŞÜCœşe
> 
	$g‘CŞÜCœşeLi¡
() {

24  
cŞÜCœşeLi¡
;

25 
	}
}

27 
´Ùeùed
 
	$g‘AÍhaV®ueAsIÁ
() {

28  
M©h
.
	`round
(
cŞÜWh“lR’d”O±iÚ
.
®pha
 * 255);

29 
	}
}

31 
´Ùeùed
 
	$ÿlcTÙ®CouÁ
(
¿dius
, 
size
) {

32  
M©h
.
	`max
(1, (è((1à- 
GAP_PERCENTAGE
è* M©h.
PI
 / (M©h.
	`asš
(
size
 / 
¿dius
)) + 0.5f));

33 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/ColorWheelRenderOption.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
;

3 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

5 
public
 cÏs 
	cCŞÜWh“lR’d”O±iÚ
 {

6 
public
 
	md’s™y
;

7 
public
 
	mmaxRadius
;

8 
public
 
	mcSize
, 
	m¡rokeWidth
, 
	m®pha
, 
	mlighŠess
;

9 
public
 
Cªvas
 
	mrg‘Cªvas
;

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/ColorWheelRenderer.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
;

3 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜCœşe
;

5 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

7 
public
 
š‹rçû
 
	gCŞÜWh“lR’d””
 {

8 
	gGAP_PERCENTAGE
 = 0.025f;

10 
d¿w
();

12 
CŞÜWh“lR’d”O±iÚ
 
g‘R’d”O±iÚ
();

14 
š™W™h
(
CŞÜWh“lR’d”O±iÚ
 
cŞÜWh“lR’d”O±iÚ
);

16 
	gLi¡
<
	gCŞÜCœşe
> 
g‘CŞÜCœşeLi¡
();

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/FlowerColorWheelRenderer.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
;

3 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

4 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

6 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜCœşe
;

7 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gPaštBud”
;

9 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

10 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
public
 cÏs 
	cFlow”CŞÜWh“lR’d””
 
ex‹nds
 
	mAbsCŞÜWh“lR’d””
 {

13 
´iv©e
 
Pašt
 
	m£ËùÜFl
 = 
PaštBud”
.
ÃwPašt
().
bud
();

14 
´iv©e
 [] 
	mhsv
 = 
Ãw
 [3];

15 
´iv©e
 
	msizeJ™‹r
 = 1.2f;

17 @
Ov”ride


18 
public
 
	$d¿w
() {

19 
fš®
 
£tSize
 = 
cŞÜCœşeLi¡
.
	`size
();

20 
cu¼’tCouÁ
 = 0;

21 
h®f
 = 
cŞÜWh“lR’d”O±iÚ
.
rg‘Cªvas
.
	`g‘Width
() / 2f;

22 
d’s™y
 = 
cŞÜWh“lR’d”O±iÚ
.density;

23 
¡rokeWidth
 = 
cŞÜWh“lR’d”O±iÚ
.strokeWidth;

24 
maxRadius
 = 
cŞÜWh“lR’d”O±iÚ
.maxRadius;

25 
cSize
 = 
cŞÜWh“lR’d”O±iÚ
.cSize;

27 
i
 = 0; i < 
d’s™y
; i++) {

28 
p
 = (è
i
 / (
d’s™y
 - 1);

29 
j™‹r
 = (
i
 - 
d’s™y
 / 2f) / density;

30 
¿dius
 = 
maxRadius
 * 
p
;

31 
size
 = 
M©h
.
	`max
(1.5à+ 
¡rokeWidth
, 
cSize
 + (
i
 =ğ0 ? 0 : cSiz* 
sizeJ™‹r
 * 
j™‹r
));

32 
tÙ®
 = 
M©h
.
	`mš
(
	`ÿlcTÙ®CouÁ
(
¿dius
, 
size
), 
d’s™y
 * 2);

34 
j
 = 0; j < 
tÙ®
; j++) {

35 
ªgË
 = 
M©h
.
PI
 * 2 * 
j
 / 
tÙ®
 + (M©h.PI /Ù®è* ((
i
 + 1) % 2);

36 
x
 = 
h®f
 + (è(
¿dius
 * 
M©h
.
	`cos
(
ªgË
));

37 
y
 = 
h®f
 + (è(
¿dius
 * 
M©h
.
	`sš
(
ªgË
));

38 
hsv
[0] = (è(
ªgË
 * 180 / 
M©h
.
PI
);

39 
hsv
[1] = 
¿dius
 / 
maxRadius
;

40 
hsv
[2] = 
cŞÜWh“lR’d”O±iÚ
.
lighŠess
;

41 
£ËùÜFl
.
	`£tCŞÜ
(
CŞÜ
.
	`HSVToCŞÜ
(
hsv
));

42 
£ËùÜFl
.
	`£tAÍha
(
	`g‘AÍhaV®ueAsIÁ
());

44 
cŞÜWh“lR’d”O±iÚ
.
rg‘Cªvas
.
	`d¿wCœşe
(
x
, 
y
, 
size
 - 
¡rokeWidth
, 
£ËùÜFl
);

46 ià(
cu¼’tCouÁ
 >ğ
£tSize
)

47 
cŞÜCœşeLi¡
.
	`add
(
Ãw
 
	`CŞÜCœşe
(
x
, 
y
, 
hsv
));

48 
cŞÜCœşeLi¡
.
	`g‘
(
cu¼’tCouÁ
).
	`£t
(
x
, 
y
, 
hsv
);

49 
cu¼’tCouÁ
++;

53 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/SimpleColorWheelRenderer.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g»nd””
;

3 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

4 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

6 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜCœşe
;

7 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gPaštBud”
;

9 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

10 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

12 
public
 cÏs 
	cSim¶eCŞÜWh“lR’d””
 
ex‹nds
 
	mAbsCŞÜWh“lR’d””
 {

13 
´iv©e
 
Pašt
 
	m£ËùÜFl
 = 
PaštBud”
.
ÃwPašt
().
bud
();

14 
´iv©e
 [] 
	mhsv
 = 
Ãw
 [3];

16 @
Ov”ride


17 
public
 
	$d¿w
() {

18 
fš®
 
£tSize
 = 
cŞÜCœşeLi¡
.
	`size
();

19 
cu¼’tCouÁ
 = 0;

20 
h®f
 = 
cŞÜWh“lR’d”O±iÚ
.
rg‘Cªvas
.
	`g‘Width
() / 2f;

21 
d’s™y
 = 
cŞÜWh“lR’d”O±iÚ
.density;

22 
maxRadius
 = 
cŞÜWh“lR’d”O±iÚ
.maxRadius;

24 
i
 = 0; i < 
d’s™y
; i++) {

25 
p
 = (è
i
 / (
d’s™y
 - 1);

26 
¿dius
 = 
maxRadius
 * 
p
;

27 
size
 = 
cŞÜWh“lR’d”O±iÚ
.
cSize
;

28 
tÙ®
 = 
	`ÿlcTÙ®CouÁ
(
¿dius
, 
size
);

30 
j
 = 0; j < 
tÙ®
; j++) {

31 
ªgË
 = 
M©h
.
PI
 * 2 * 
j
 / 
tÙ®
 + (M©h.PI /Ù®è* ((
i
 + 1) % 2);

32 
x
 = 
h®f
 + (è(
¿dius
 * 
M©h
.
	`cos
(
ªgË
));

33 
y
 = 
h®f
 + (è(
¿dius
 * 
M©h
.
	`sš
(
ªgË
));

34 
hsv
[0] = (è(
ªgË
 * 180 / 
M©h
.
PI
);

35 
hsv
[1] = 
¿dius
 / 
maxRadius
;

36 
hsv
[2] = 
cŞÜWh“lR’d”O±iÚ
.
lighŠess
;

37 
£ËùÜFl
.
	`£tCŞÜ
(
CŞÜ
.
	`HSVToCŞÜ
(
hsv
));

38 
£ËùÜFl
.
	`£tAÍha
(
	`g‘AÍhaV®ueAsIÁ
());

40 
cŞÜWh“lR’d”O±iÚ
.
rg‘Cªvas
.
	`d¿wCœşe
(
x
, 
y
, 
size
 - cŞÜWh“lR’d”O±iÚ.
¡rokeWidth
, 
£ËùÜFl
);

42 ià(
cu¼’tCouÁ
 >ğ
£tSize
)

43 
cŞÜCœşeLi¡
.
	`add
(
Ãw
 
	`CŞÜCœşe
(
x
, 
y
, 
hsv
));

44 
cŞÜCœşeLi¡
.
	`g‘
(
cu¼’tCouÁ
).
	`£t
(
x
, 
y
, 
hsv
);

45 
cu¼’tCouÁ
++;

49 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/AbsCustomSlider.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

4 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gB™m­
;

5 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

6 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPÜ‹rDuff
;

7 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gDim’Res
;

8 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

9 
impÜt
 
	gªdroid
.
	gv›w
.
	gMÙiÚEv’t
;

10 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

12 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gR
;

14 
public
 
ab¡¿ù
 cÏs 
	cAbsCu¡omSlid”
 
ex‹nds
 
	mV›w
 {

15 
´Ùeùed
 
B™m­
 
	mb™m­
;

16 
´Ùeùed
 
Cªvas
 
	mb™m­Cªvas
;

17 
´Ùeùed
 
B™m­
 
	mb¬
;

18 
´Ùeùed
 
Cªvas
 
	mb¬Cªvas
;

19 
´Ùeùed
 
OnV®ueChªgedLi¡’”
 
	mÚV®ueChªgedLi¡’”
;

20 
´Ùeùed
 
	mb¬Off£tX
;

21 
´Ùeùed
 
	mhªdËRadius
 = 20;

22 
´Ùeùed
 
	mb¬Height
 = 5;

23 
´Ùeùed
 
	mv®ue
 = 1;

25 
public
 
	$AbsCu¡omSlid”
(
CÚ‹xt
 
cÚ‹xt
) {

26 
	`su³r
(
cÚ‹xt
);

29 
public
 
	$AbsCu¡omSlid”
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

30 
	`su³r
(
cÚ‹xt
, 
©Œs
);

31 
	}
}

33 
public
 
	$AbsCu¡omSlid”
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

34 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

35 
	}
}

37 
´Ùeùed
 
	$upd©eB¬
() {

38 
hªdËRadius
 = 
	`g‘Dim’siÚ
(
R
.
dim’
.
deçuÉ_¦id”_hªdËr_¿dius
);

39 
b¬Height
 = 
	`g‘Dim’siÚ
(
R
.
dim’
.
deçuÉ_¦id”_b¬_height
);

40 
b¬Off£tX
 = 
hªdËRadius
;

42 ià(
b¬
 =ğ
nuÎ
)

43 
	`ü—‹B™m­s
();

44 
	`d¿wB¬
(
b¬Cªvas
);

45 
	`šv®id©e
();

46 
	}
}

48 
´Ùeùed
 
	$ü—‹B™m­s
() {

49 
width
 = 
	`g‘Width
();

50 
height
 = 
	`g‘Height
();

51 
b¬
 = 
B™m­
.
	`ü—‹B™m­
(
width
 - 
b¬Off£tX
 * 2, 
b¬Height
, B™m­.
CÚfig
.
ARGB_8888
);

52 
b¬Cªvas
 = 
Ãw
 
	`Cªvas
(
b¬
);

54 ià(
b™m­
 =ğ
nuÎ
 || b™m­.
	`g‘Width
(è!ğ
width
 || b™m­.
	`g‘Height
(è!ğ
height
) {

55 ià(
b™m­
 !ğ
nuÎ
èb™m­.
	`»cyşe
();

56 
b™m­
 = 
B™m­
.
	`ü—‹B™m­
(
width
, 
height
, B™m­.
CÚfig
.
ARGB_8888
);

57 
b™m­Cªvas
 = 
Ãw
 
	`Cªvas
(
b™m­
);

59 
	}
}

61 @
Ov”ride


62 
´Ùeùed
 
	$ÚD¿w
(
Cªvas
 
ÿnvas
) {

63 
su³r
.
	`ÚD¿w
(
ÿnvas
);

64 ià(
b¬
 !ğ
nuÎ
 && 
b™m­Cªvas
 !=‚ull) {

65 
b™m­Cªvas
.
	`d¿wCŞÜ
(0, 
PÜ‹rDuff
.
Mode
.
CLEAR
);

66 
b™m­Cªvas
.
	`d¿wB™m­
(
b¬
, 
b¬Off£tX
, (
	`g‘Height
(è- b¬.g‘Height()è/ 2, 
nuÎ
);

68 
x
 = 
hªdËRadius
 + 
v®ue
 * (
	`g‘Width
() - handleRadius * 2);

69 
y
 = 
	`g‘Height
() / 2f;

70 
	`d¿wHªdË
(
b™m­Cªvas
, 
x
, 
y
);

71 
ÿnvas
.
	`d¿wB™m­
(
b™m­
, 0, 0, 
nuÎ
);

73 
	}
}

75 
´Ùeùed
 
ab¡¿ù
 
d¿wB¬
(
Cªvas
 
b¬Cªvas
);

77 
´Ùeùed
 
ab¡¿ù
 
ÚV®ueChªged
(
v®ue
);

79 
´Ùeùed
 
ab¡¿ù
 
d¿wHªdË
(
Cªvas
 
ÿnvas
, 
x
, 
y
);

81 @
Ov”ride


82 
´Ùeùed
 
	$ÚSizeChªged
(
w
, 
h
, 
Şdw
, 
Şdh
) {

83 
su³r
.
	`ÚSizeChªged
(
w
, 
h
, 
Şdw
, 
Şdh
);

84 
	`upd©eB¬
();

85 
	}
}

87 @
Ov”ride


88 
´Ùeùed
 
	$ÚM—su»
(
widthM—su»S³c
, 
heightM—su»S³c
) {

89 
su³r
.
	`ÚM—su»
(
widthM—su»S³c
, 
heightM—su»S³c
);

90 
widthMode
 = 
M—su»S³c
.
	`g‘Mode
(
widthM—su»S³c
);

91 
width
 = 0;

92 ià(
widthMode
 =ğ
M—su»S³c
.
UNSPECIFIED
)

93 
width
 = 
widthM—su»S³c
;

94 ià(
widthMode
 =ğ
M—su»S³c
.
AT_MOST
)

95 
width
 = 
M—su»S³c
.
	`g‘Size
(
widthM—su»S³c
);

96 ià(
widthMode
 =ğ
M—su»S³c
.
EXACTLY
)

97 
width
 = 
M—su»S³c
.
	`g‘Size
(
widthM—su»S³c
);

99 
heightMode
 = 
M—su»S³c
.
	`g‘Mode
(
heightM—su»S³c
);

100 
height
 = 0;

101 ià(
heightMode
 =ğ
M—su»S³c
.
UNSPECIFIED
)

102 
height
 = 
heightM—su»S³c
;

103 ià(
heightMode
 =ğ
M—su»S³c
.
AT_MOST
)

104 
height
 = 
M—su»S³c
.
	`g‘Size
(
heightM—su»S³c
);

105 ià(
heightMode
 =ğ
M—su»S³c
.
EXACTLY
)

106 
height
 = 
M—su»S³c
.
	`g‘Size
(
heightM—su»S³c
);

108 
	`£tM—su»dDim’siÚ
(
width
, 
height
);

109 
	}
}

111 @
Ov”ride


112 
public
 
boŞ—n
 
	$ÚTouchEv’t
(
MÙiÚEv’t
 
ev’t
) {

113 
ev’t
.
	`g‘AùiÚ
()) {

114 
MÙiÚEv’t
.
ACTION_DOWN
:

115 
MÙiÚEv’t
.
ACTION_MOVE
: {

116 ià(
b¬
 !ğ
nuÎ
) {

117 
v®ue
 = (
ev’t
.
	`g‘X
(è- 
b¬Off£tX
è/ 
b¬
.
	`g‘Width
();

118 
v®ue
 = 
M©h
.
	`max
(0, M©h.
	`mš
(value, 1));

119 
	`ÚV®ueChªged
(
v®ue
);

120 
	`šv®id©e
();

124 
MÙiÚEv’t
.
ACTION_UP
: {

125 
	`ÚV®ueChªged
(
v®ue
);

126 ià(
ÚV®ueChªgedLi¡’”
 !ğ
nuÎ
)

127 
ÚV®ueChªgedLi¡’”
.
	`ÚV®ueChªged
(
v®ue
);

128 
	`šv®id©e
();

131  
Œue
;

132 
	}
}

134 
´Ùeùed
 
g‘Dim’siÚ
(@
Dim’Res
 
id
) {

135  
g‘Resourûs
().
g‘Dim’siÚPix–Size
(
id
);

138 
public
 
	$£tOnV®ueChªgedLi¡’”
(
OnV®ueChªgedLi¡’”
 
ÚV®ueChªgedLi¡’”
) {

139 
this
.
ÚV®ueChªgedLi¡’”
 = onValueChangedListener;

140 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/AlphaSlider.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

4 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

5 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

6 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPÜ‹rDuff
;

7 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

9 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜPick”V›w
;

10 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gUts
;

11 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gPaštBud”
;

13 
public
 cÏs 
	cAÍhaSlid”
 
ex‹nds
 
	mAbsCu¡omSlid”
 {

14 
public
 
	mcŞÜ
;

15 
´iv©e
 
Pašt
 
	m®phaP©‹ºPašt
 = 
PaštBud”
.
ÃwPašt
().
bud
();

16 
´iv©e
 
Pašt
 
	mb¬Pašt
 = 
PaštBud”
.
ÃwPašt
().
bud
();

17 
´iv©e
 
Pašt
 
	msŞid
 = 
PaštBud”
.
ÃwPašt
().
bud
();

18 
´iv©e
 
Pašt
 
	mş—ršgSŒoke
 = 
PaštBud”
.
ÃwPašt
().
cŞÜ
(0xffffffff).
xP”Mode
(
PÜ‹rDuff
.
Mode
.
CLEAR
).
bud
();

20 
´iv©e
 
CŞÜPick”V›w
 
	mcŞÜPick”
;

22 
public
 
	$AÍhaSlid”
(
CÚ‹xt
 
cÚ‹xt
) {

23 
	`su³r
(
cÚ‹xt
);

26 
public
 
	$AÍhaSlid”
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

27 
	`su³r
(
cÚ‹xt
, 
©Œs
);

28 
	}
}

30 
public
 
	$AÍhaSlid”
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

31 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

32 
	}
}

34 @
Ov”ride


35 
´Ùeùed
 
	$ü—‹B™m­s
() {

36 
su³r
.
	`ü—‹B™m­s
();

37 
®phaP©‹ºPašt
.
	`£tShad”
(
PaštBud”
.
	`ü—‹AÍhaP©‹ºShad”
(
b¬Height
 / 2));

38 
	}
}

40 @
Ov”ride


41 
´Ùeùed
 
	$d¿wB¬
(
Cªvas
 
b¬Cªvas
) {

42 
width
 = 
b¬Cªvas
.
	`g‘Width
();

43 
height
 = 
b¬Cªvas
.
	`g‘Height
();

45 
b¬Cªvas
.
	`d¿wReù
(0, 0, 
width
, 
height
, 
®phaP©‹ºPašt
);

46 
l
 = 
M©h
.
	`max
(2, 
width
 / 256);

47 
x
 = 0; x <ğ
width
; x +ğ
l
) {

48 
®pha
 = (è
x
 / (
width
 - 1);

49 
b¬Pašt
.
	`£tCŞÜ
(
cŞÜ
);

50 
b¬Pašt
.
	`£tAÍha
(
M©h
.
	`round
(
®pha
 * 255));

51 
b¬Cªvas
.
	`d¿wReù
(
x
, 0, x + 
l
, 
height
, 
b¬Pašt
);

53 
	}
}

55 @
Ov”ride


56 
´Ùeùed
 
	$ÚV®ueChªged
(
v®ue
) {

57 ià(
cŞÜPick”
 !ğ
nuÎ
)

58 
cŞÜPick”
.
	`£tAÍhaV®ue
(
v®ue
);

59 
	}
}

61 @
Ov”ride


62 
´Ùeùed
 
	$d¿wHªdË
(
Cªvas
 
ÿnvas
, 
x
, 
y
) {

63 
sŞid
.
	`£tCŞÜ
(
cŞÜ
);

64 
sŞid
.
	`£tAÍha
(
M©h
.
	`round
(
v®ue
 * 255));

65 
ÿnvas
.
	`d¿wCœşe
(
x
, 
y
, 
hªdËRadius
, 
ş—ršgSŒoke
);

66 ià(
v®ue
 < 1)

67 
ÿnvas
.
	`d¿wCœşe
(
x
, 
y
, 
hªdËRadius
 * 0.75f, 
®phaP©‹ºPašt
);

68 
ÿnvas
.
	`d¿wCœşe
(
x
, 
y
, 
hªdËRadius
 * 0.75f, 
sŞid
);

69 
	}
}

71 
public
 
	$£tCŞÜPick”
(
CŞÜPick”V›w
 
cŞÜPick”
) {

72 
this
.
cŞÜPick”
 = colorPicker;

73 
	}
}

75 
public
 
	$£tCŞÜ
(
cŞÜ
) {

76 
this
.
cŞÜ
 = color;

77 
this
.
v®ue
 = 
Uts
.
	`g‘AÍhaP”ûÁ
(
cŞÜ
);

78 ià(
b¬
 !ğ
nuÎ
) {

79 
	`upd©eB¬
();

80 
	`šv®id©e
();

82 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/LightnessSlider.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

4 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCªvas
;

5 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

6 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPašt
;

7 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gPÜ‹rDuff
;

8 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

10 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜPick”V›w
;

11 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gUts
;

12 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gPaštBud”
;

14 
public
 cÏs 
	cLighŠessSlid”
 
ex‹nds
 
	mAbsCu¡omSlid”
 {

15 
´iv©e
 
	mcŞÜ
;

16 
´iv©e
 
Pašt
 
	mb¬Pašt
 = 
PaštBud”
.
ÃwPašt
().
bud
();

17 
´iv©e
 
Pašt
 
	msŞid
 = 
PaštBud”
.
ÃwPašt
().
bud
();

18 
´iv©e
 
Pašt
 
	mş—ršgSŒoke
 = 
PaštBud”
.
ÃwPašt
().
cŞÜ
(0xffffffff).
xP”Mode
(
PÜ‹rDuff
.
Mode
.
CLEAR
).
bud
();

20 
´iv©e
 
CŞÜPick”V›w
 
	mcŞÜPick”
;

22 
public
 
	$LighŠessSlid”
(
CÚ‹xt
 
cÚ‹xt
) {

23 
	`su³r
(
cÚ‹xt
);

26 
public
 
	$LighŠessSlid”
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

27 
	`su³r
(
cÚ‹xt
, 
©Œs
);

28 
	}
}

30 
public
 
	$LighŠessSlid”
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

31 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

32 
	}
}

34 @
Ov”ride


35 
´Ùeùed
 
	$d¿wB¬
(
Cªvas
 
b¬Cªvas
) {

36 
width
 = 
b¬Cªvas
.
	`g‘Width
();

37 
height
 = 
b¬Cªvas
.
	`g‘Height
();

39 [] 
hsv
 = 
Ãw
 [3];

40 
CŞÜ
.
	`cŞÜToHSV
(
cŞÜ
, 
hsv
);

41 
l
 = 
M©h
.
	`max
(2, 
width
 / 256);

42 
x
 = 0; x <ğ
width
; x +ğ
l
) {

43 
hsv
[2] = (è
x
 / (
width
 - 1);

44 
b¬Pašt
.
	`£tCŞÜ
(
CŞÜ
.
	`HSVToCŞÜ
(
hsv
));

45 
b¬Cªvas
.
	`d¿wReù
(
x
, 0, x + 
l
, 
height
, 
b¬Pašt
);

47 
	}
}

49 @
Ov”ride


50 
´Ùeùed
 
	$ÚV®ueChªged
(
v®ue
) {

51 ià(
cŞÜPick”
 !ğ
nuÎ
)

52 
cŞÜPick”
.
	`£tLighŠess
(
v®ue
);

53 
	}
}

55 @
Ov”ride


56 
´Ùeùed
 
	$d¿wHªdË
(
Cªvas
 
ÿnvas
, 
x
, 
y
) {

57 
sŞid
.
	`£tCŞÜ
(
Uts
.
	`cŞÜAtLighŠess
(
cŞÜ
, 
v®ue
));

58 
ÿnvas
.
	`d¿wCœşe
(
x
, 
y
, 
hªdËRadius
, 
ş—ršgSŒoke
);

59 
ÿnvas
.
	`d¿wCœşe
(
x
, 
y
, 
hªdËRadius
 * 0.75f, 
sŞid
);

60 
	}
}

62 
public
 
	$£tCŞÜPick”
(
CŞÜPick”V›w
 
cŞÜPick”
) {

63 
this
.
cŞÜPick”
 = colorPicker;

64 
	}
}

66 
public
 
	$£tCŞÜ
(
cŞÜ
) {

67 
this
.
cŞÜ
 = color;

68 
this
.
v®ue
 = 
Uts
.
	`lighŠessOfCŞÜ
(
cŞÜ
);

69 ià(
b¬
 !ğ
nuÎ
) {

70 
	`upd©eB¬
();

71 
	`šv®id©e
();

73 
	}
}

	@app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/OnValueChangedListener.java

1 
·ckage
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	g¦id”
;

3 
public
 
š‹rçû
 
	gOnV®ueChªgedLi¡’”
 {

4 
ÚV®ueChªged
(
v®ue
);

	@app/thirdparty/java/other/com/flask/colorpicker/ColorPickerPreference.java

1 
·ckage
 
	gÙh”
.
	gcom
.
	gæask
.
	gcŞÜpick”
;

3 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

4 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gDŸlogIÁ”çû
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gTy³dA¼ay
;

7 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gCŞÜ
;

8 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gD¿wabË
;

9 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gd¿wabË
.
	gG¿d›ÁD¿wabË
;

10 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

11 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nû
;

12 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g´eã»nû
.
	gP»ã»nûV›wHŞd”
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

14 
impÜt
 
	gªdroid
.
	gut
.
	gA‰ribu‹S‘
;

15 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

16 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gImageV›w
;

18 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gCŞÜPick”V›w
;

19 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gUts
;

20 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gCŞÜPick”ClickLi¡’”
;

21 
impÜt
 
	gcom
.
	gæask
.
	gcŞÜpick”
.
	gbud”
.
	gCŞÜPick”DŸlogBud”
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

25 
public
 cÏs 
	cCŞÜPick”P»ã»nû
 
ex‹nds
 
	mP»ã»nû
 {

27 
´Ùeùed
 
boŞ—n
 
	m®phaSlid”
;

28 
´Ùeùed
 
boŞ—n
 
	mlightSlid”
;

30 
´Ùeùed
 
	m£ËùedCŞÜ
 = 0;

32 
´Ùeùed
 
	mCŞÜPick”V›w
.
WHEEL_TYPE
 
	mwh“lTy³
;

33 
´Ùeùed
 
	md’s™y
;

35 
´iv©e
 
SŒšg
 
	mpick”T™Ë
;

36 
´iv©e
 
SŒšg
 
	mpick”Bu‰ÚCªûl
;

37 
´iv©e
 
SŒšg
 
	mpick”Bu‰ÚOk
;

39 
´Ùeùed
 
ImageV›w
 
	mcŞÜIndiÿtÜ
;

42 
public
 
	$CŞÜPick”P»ã»nû
(
CÚ‹xt
 
cÚ‹xt
) {

43 
	`su³r
(
cÚ‹xt
);

46 
public
 
	$CŞÜPick”P»ã»nû
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

47 
	`su³r
(
cÚ‹xt
, 
©Œs
);

48 
	`š™W™h
(
cÚ‹xt
, 
©Œs
);

49 
	}
}

51 
public
 
	$CŞÜPick”P»ã»nû
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
, 
defStyËA‰r
) {

52 
	`su³r
(
cÚ‹xt
, 
©Œs
, 
defStyËA‰r
);

53 
	`š™W™h
(
cÚ‹xt
, 
©Œs
);

54 
	}
}

57 
´iv©e
 
	$š™W™h
(
CÚ‹xt
 
cÚ‹xt
, 
A‰ribu‹S‘
 
©Œs
) {

58 
fš®
 
Ty³dA¼ay
 
ty³dA¼ay
 = 
cÚ‹xt
.
	`obšStyËdA‰ribu‹s
(
©Œs
, 
R
.
¡yËabË
.
CŞÜPick”P»ã»nû
);

60 
Œy
 {

61 
®phaSlid”
 = 
ty³dA¼ay
.
	`g‘BoŞ—n
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_®phaSlid”
, 
Œue
);

62 
lightSlid”
 = 
ty³dA¼ay
.
	`g‘BoŞ—n
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_lighŠessSlid”
, 
Œue
);

64 
d’s™y
 = 
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_d’s™y
, 10);

65 
wh“lTy³
 = 
CŞÜPick”V›w
.
WHEEL_TYPE
.
	`šdexOf
(
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_wh“lTy³
, 0));

67 
£ËùedCŞÜ
 = 
ty³dA¼ay
.
	`g‘IÁ
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_š™ŸlCŞÜ
, 0xffffffff);

69 
pick”T™Ë
 = 
ty³dA¼ay
.
	`g‘SŒšg
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_pick”T™Ë
);

70 ià(
pick”T™Ë
 =ğ
nuÎ
)

71 
pick”T™Ë
 = "Choose color";

73 
pick”Bu‰ÚCªûl
 = 
ty³dA¼ay
.
	`g‘SŒšg
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_pick”Bu‰ÚCªûl
);

74 ià(
pick”Bu‰ÚCªûl
 =ğ
nuÎ
)

75 
pick”Bu‰ÚCªûl
 = 
cÚ‹xt
.
	`g‘SŒšg
(
R
.
¡ršg
.
ÿnûl
);

77 
pick”Bu‰ÚOk
 = 
ty³dA¼ay
.
	`g‘SŒšg
(
R
.
¡yËabË
.
CŞÜPick”P»ã»nû_pick”Bu‰ÚOk
);

78 ià(
pick”Bu‰ÚOk
 =ğ
nuÎ
)

79 
pick”Bu‰ÚOk
 = 
cÚ‹xt
.
	`g‘SŒšg
(
ªdroid
.
R
.
¡ršg
.
ok
);

81 } 
fš®ly
 {

82 
ty³dA¼ay
.
	`»cyşe
();

85 
	`£tWidg‘LayoutResourû
(
R
.
Ïyout
.
cŞÜ_widg‘
);

86 
	}
}

89 @
Ov”ride


90 
public
 
ÚBšdV›wHŞd”
(@
NÚNuÎ
 
P»ã»nûV›wHŞd”
 
v›w
) {

91 
	gsu³r
.
ÚBšdV›wHŞd”
(
v›w
);

93 
Resourûs
 
	g»s
 = 
g‘CÚ‹xt
().
g‘Resourûs
();

94 
G¿d›ÁD¿wabË
 
	gcŞÜChoiûD¿wabË
 = 
nuÎ
;

96 
	gcŞÜIndiÿtÜ
 = (
ImageV›w
è
v›w
.
fšdV›wById
(
R
.
id
.
cŞÜ_šdiÿtÜ
);

98 
D¿wabË
 
	gcu¼’tD¿wabË
 = 
cŞÜIndiÿtÜ
.
g‘D¿wabË
();

99 ià(
	gcu¼’tD¿wabË
 !ğ
nuÎ
 && 
cu¼’tD¿wabË
 
š¡ªûof
 
G¿d›ÁD¿wabË
)

100 
cŞÜChoiûD¿wabË
 = (
G¿d›ÁD¿wabË
è
cu¼’tD¿wabË
;

102 ià(
	gcŞÜChoiûD¿wabË
 =ğ
nuÎ
) {

103 
cŞÜChoiûD¿wabË
 = 
Ãw
 
G¿d›ÁD¿wabË
();

104 
	gcŞÜChoiûD¿wabË
.
£tSh­e
(
G¿d›ÁD¿wabË
.
OVAL
);

107 
	gtmpCŞÜ
 = 
isEÇbËd
()

108 ? 
£ËùedCŞÜ


109 : 
d¬k’
(
£ËùedCŞÜ
, .5f);

111 
	gcŞÜChoiûD¿wabË
.
£tCŞÜ
(
tmpCŞÜ
);

112 
	gcŞÜChoiûD¿wabË
.
£tSŒoke
((è
Ty³dV®ue
.
­¶yDim’siÚ
(

113 
Ty³dV®ue
.
COMPLEX_UNIT_DIP
,

115 
»s
.
g‘Di¥ÏyM‘rics
()

116 ), 
d¬k’
(
tmpCŞÜ
, .8f));

118 
	gcŞÜIndiÿtÜ
.
£tImageD¿wabË
(
cŞÜChoiûD¿wabË
);

121 @
Ov”ride


122 
public
 
Ch¬Sequ’û
 
	$g‘Summ¬y
() {

123 
Ch¬Sequ’û
 
‹xt
 = 
su³r
.
	`g‘Summ¬y
();

124 ià(
TextUts
.
	`isEm±y
(
‹xt
)) {

125 
‹xt
 = 
Uts
.
	`g‘HexSŒšg
(
£ËùedCŞÜ
, 
çl£
).
	`toLow”Ca£
();

127  
‹xt
;

128 
	}
}

130 
public
 
	$£tV®ue
(
v®ue
) {

131 ià(
	`ÿÎChªgeLi¡’”
(
v®ue
)) {

132 
£ËùedCŞÜ
 = 
v®ue
;

133 
	`³rsi¡IÁ
(
v®ue
);

134 
	`nÙifyChªged
();

136 
	}
}

139 @
Ov”ride


140 
´Ùeùed
 
	$ÚS‘In™ŸlV®ue
(
boŞ—n
 
»¡ÜeV®ue
, 
Objeù
 
deçuÉV®ue
) {

141 
	`£tV®ue
(
»¡ÜeV®ue
 ? 
	`g‘P”si¡edIÁ
(0è: (
IÁeg”
è
deçuÉV®ue
);

142 
	}
}

144 @
Ov”ride


145 
´Ùeùed
 
Objeù
 
	$ÚG‘DeçuÉV®ue
(
Ty³dA¼ay
 
a
, 
šdex
) {

146  
a
.
	`g‘IÁ
(
šdex
, 0);

147 
	}
}

149 @
Ov”ride


150 
´Ùeùed
 
	$ÚClick
() {

151 
CŞÜPick”DŸlogBud”
 
bud”
 = ColorPickerDialogBuilder

152 .
	`w™h
(
	`g‘CÚ‹xt
())

153 .
	`£tT™Ë
(
pick”T™Ë
)

154 .
	`š™ŸlCŞÜ
(
£ËùedCŞÜ
)

155 .
	`wh“lTy³
(
wh“lTy³
)

156 .
	`d’s™y
(
d’s™y
)

157 .
	`£tPos™iveBu‰Ú
(
pick”Bu‰ÚOk
, 
Ãw
 
	`CŞÜPick”ClickLi¡’”
() {

158 @
Ov”ride


159 
public
 
	`ÚClick
(
DŸlogIÁ”çû
 
dŸlog
, 
£ËùedCŞÜFromPick”
, 
IÁeg”
[] 
®lCŞÜs
) {

160 
	`£tV®ue
(
£ËùedCŞÜFromPick”
);

163 .
	`£tNeg©iveBu‰Ú
(
pick”Bu‰ÚCªûl
, 
nuÎ
);

165 ià(!
®phaSlid”
 && !
lightSlid”
è
bud”
.
	`noSlid”s
();

166 ià(!
®phaSlid”
è
bud”
.
	`lighŠessSlid”OÆy
();

167 ià(!
lightSlid”
è
bud”
.
	`®phaSlid”OÆy
();

170 
bud”


171 .
	`bud
()

172 .
	`show
();

173 
	}
}

175 
public
 
	$d¬k’
(
cŞÜ
, 
çùÜ
) {

176 
a
 = 
CŞÜ
.
	`®pha
(
cŞÜ
);

177 
r
 = 
CŞÜ
.
	`»d
(
cŞÜ
);

178 
g
 = 
CŞÜ
.
	`g»’
(
cŞÜ
);

179 
b
 = 
CŞÜ
.
	`blue
(
cŞÜ
);

181  
CŞÜ
.
	`¬gb
(
a
,

182 
M©h
.
	`max
((è(
r
 * 
çùÜ
), 0),

183 
M©h
.
	`max
((è(
g
 * 
çùÜ
), 0),

184 
M©h
.
	`max
((è(
b
 * 
çùÜ
), 0));

185 
	}
}

	@app/thirdparty/java/other/de/stanetz/jpencconverter/JavaPasswordbasedCryption.java

1 
·ckage
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
;

4 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

5 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

7 
impÜt
 
	gjava
.
	gnio
.
	gch¬£t
.
	gSnd¬dCh¬£ts
;

8 
impÜt
 
	gjava
.
	g£cur™y
.
	gInv®idAlgÜ™hmP¬am‘”Exû±iÚ
;

9 
impÜt
 
	gjava
.
	g£cur™y
.
	gInv®idKeyExû±iÚ
;

10 
impÜt
 
	gjava
.
	g£cur™y
.
	gNoSuchAlgÜ™hmExû±iÚ
;

11 
impÜt
 
	gjava
.
	g£cur™y
.
	g¥ec
.
	gInv®idKeyS³cExû±iÚ
;

12 
impÜt
 
	gjava
.
	g£cur™y
.
	g¥ec
.
	gKeyS³c
;

13 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

14 
impÜt
 
	gjava
.
	gut
.
	gRªdom
;

16 
impÜt
 
	gjavax
.
	güy±o
.
	gBadPaddšgExû±iÚ
;

17 
impÜt
 
	gjavax
.
	güy±o
.
	gCh”
;

18 
impÜt
 
	gjavax
.
	güy±o
.
	gIÎeg®BlockSizeExû±iÚ
;

19 
impÜt
 
	gjavax
.
	güy±o
.
	gNoSuchPaddšgExû±iÚ
;

20 
impÜt
 
	gjavax
.
	güy±o
.
	gSeü‘Key
;

21 
impÜt
 
	gjavax
.
	güy±o
.
	gSeü‘KeyFaùÜy
;

22 
impÜt
 
	gjavax
.
	güy±o
.
	g¥ec
.
	gGCMP¬am‘”S³c
;

23 
impÜt
 
	gjavax
.
	güy±o
.
	g¥ec
.
	gPBEKeyS³c
;

24 
impÜt
 
	gjavax
.
	güy±o
.
	g¥ec
.
	gSeü‘KeyS³c
;

38 @
Suµ»ssW¬nšgs
("deprecation")

39 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
M
)

40 
public
 cÏs 
	cJavaPasswÜdba£dCry±iÚ
 {

45 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
HONEYCOMB_MR2
)

46 
public
 
fš®
 
SŒšg
 
DEFAULT_ENCRYPTION_EXTENSION
 = ".jenc";

47 
´iv©e
 
fš®
 
V”siÚ
 
v”siÚ
;

48 
´iv©e
 
fš®
 
Rªdom
 
¿ndom
;

56 
public
 
	$JavaPasswÜdba£dCry±iÚ
(
­iV”siÚ
, 
Rªdom
 
¿ndom
) {

57 
	`this
(
	`g‘V”siÚFÜAndroid
(
­iV”siÚ
), 
¿ndom
);

66 
public
 
	$JavaPasswÜdba£dCry±iÚ
(
V”siÚ
 
v”siÚ
, 
Rªdom
 
¿ndom
) {

67 
this
.
v”siÚ
 = version;

68 
this
.
¿ndom
 =„andom;

69 
	}
}

72 
´iv©e
 
V”siÚ
 
	$g‘V”siÚFÜAndroid
(
­iV”siÚ
) {

73 ià(
­iV”siÚ
 >= 26) {

74  
V”siÚ
.
V001
;

75 } ià(
­iV”siÚ
 >= 23) {

76  
V”siÚ
.
U001
;

78 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Mšim® API-V”siÚ i 23, sØ" + 
­iV”siÚ
 + " isn't supported");

80 
	}
}

88 
public
 
V”siÚ
 
	$g‘V”siÚ
(
by‹
[] 
’üy±edText
) {

89 
fš®
 
by‹
[] 
v”siÚBy‹s
 = 
A¼ays
.
	`cİyOfRªge
(
’üy±edText
, 0, 
V”siÚ
.
NAME_LENGTH
);

90  
V”siÚ
.
	`v®ueOf
(
Ãw
 
	`SŒšg
(
v”siÚBy‹s
, 
Snd¬dCh¬£ts
.
US_ASCII
));

91 
	}
}

100 
public
 
SŒšg
 
	$g‘Deüy±edText
(
by‹
[] 
’üy±edText
, [] 
·sswÜd
) {

101  
Ãw
 
	`JavaPasswÜdba£dCry±iÚ
(
	`g‘V”siÚ
(
’üy±edText
), 
nuÎ
).
	`deüy±
Ónüy±edText, 
·sswÜd
);

102 
	}
}

113 
public
 
	gby‹
[] 
	$’üy±
(
SŒšg
 
¶ašText
, [] 
·sswÜd
è
throws
 
Enüy±iÚFaedExû±iÚ
 {

114  
	`’üy±By‹s
(
¶ašText
.
	`g‘By‹s
(
Snd¬dCh¬£ts
.
UTF_8
), 
·sswÜd
);

115 
	}
}

125 
public
 
	gby‹
[] 
	$’üy±By‹s
(
by‹
[] 
deüy±edBy‹s
, [] 
·sswÜd
è
throws
 
Enüy±iÚFaedExû±iÚ
 {

126 
Œy
 {

127 
fš®
 
by‹
[] 
§É
 = 
	`g‘RªdomBy‹s
(
v”siÚ
.
keyS®tL’gth
);

128 
fš®
 
by‹
[] 
nÚû
 = 
	`g‘RªdomBy‹s
(
v”siÚ
.
nÚûL’th
);

129 
fš®
 
Seü‘Key
 
key
 = 
	`ü—‹KeyFromPasswÜd
(
·sswÜd
, 
§É
);

130 
fš®
 
by‹
[] 
üy±edBy‹s
 = 
	`g‘Ch”
(
key
, 
Ch”
.
ENCRYPT_MODE
, 
nÚû
).
	`doFš®
(
deüy±edBy‹s
);

131 
fš®
 
by‹
[] 
»suÉ
 = 
Ãw
 by‹[
V”siÚ
.
NAME_LENGTH
 + 
nÚû
.
Ëngth
 + 
§É
.Ëngth + 
üy±edBy‹s
.length];

132 
Sy¡em
.
	`¬¿ycİy
(
v”siÚ
.
	`Çme
().
	`g‘By‹s
(
Snd¬dCh¬£ts
.
US_ASCII
), 0, 
»suÉ
, 0, 
V”siÚ
.
NAME_LENGTH
);

133 
Sy¡em
.
	`¬¿ycİy
(
nÚû
, 0, 
»suÉ
, 
V”siÚ
.
NAME_LENGTH
, 
v”siÚ
.
nÚûL’th
);

134 
Sy¡em
.
	`¬¿ycİy
(
§É
, 0, 
»suÉ
, 
V”siÚ
.
NAME_LENGTH
 + 
v”siÚ
.
nÚûL’th
, v”siÚ.
keyS®tL’gth
);

135 
Sy¡em
.
	`¬¿ycİy
(
üy±edBy‹s
, 0, 
»suÉ
, 
V”siÚ
.
NAME_LENGTH
 + 
v”siÚ
.
nÚûL’th
 + v”siÚ.
keyS®tL’gth
, cry±edBy‹s.
Ëngth
);

136  
»suÉ
;

137 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

138 
throw
 
Ãw
 
	`Enüy±iÚFaedExû±iÚ
("Cª'ˆ’üy±ext.", 
e
);

140 
	}
}

151 
public
 
SŒšg
 
	$deüy±
(
by‹
[] 
’üy±edText
, [] 
·sswÜd
è
throws
 
Enüy±iÚFaedExû±iÚ
 {

152 
by‹
[] 
deüy±edCh”TextBy‹s
 = 
	`deüy±By‹s
(
’üy±edText
, 
·sswÜd
);

153  
Ãw
 
	`SŒšg
(
deüy±edCh”TextBy‹s
, 
Snd¬dCh¬£ts
.
UTF_8
);

154 
	}
}

164 
public
 
	gby‹
[] 
	$deüy±By‹s
(
by‹
[] 
’üy±ed
, [] 
·sswÜd
è
throws
 
Enüy±iÚFaedExû±iÚ
 {

165 
Œy
 {

166 
fš®
 
V”siÚ
 
cu¼’tV”siÚ
 = 
	`g‘V”siÚ
(
’üy±ed
);

167 ià(
cu¼’tV”siÚ
 !ğ
v”siÚ
) {

168 
throw
 
Ãw
 
	`IÎeg®Argum’tExû±iÚ
("Thcu¼’ˆv”siÚ " + 
cu¼’tV”siÚ
.
	`Çme
(è+ " difãr äom cÚfigu»d v”siÚ " + 
v”siÚ
.name());

170 
äom
 = 
V”siÚ
.
NAME_LENGTH
;

171 
to
 = 
äom
 + 
v”siÚ
.
nÚûL’th
;

172 
fš®
 
by‹
[] 
nÚû
 = 
A¼ays
.
	`cİyOfRªge
(
’üy±ed
, 
äom
, 
to
);

173 
äom
 = 
to
;

174 
to
 = 
äom
 + 
v”siÚ
.
keyS®tL’gth
;

175 
fš®
 
by‹
[] 
§É
 = 
A¼ays
.
	`cİyOfRªge
(
’üy±ed
, 
äom
, 
to
);

176 
äom
 = 
to
;

177 
to
 = 
’üy±ed
.
Ëngth
;

178 
fš®
 
by‹
[] 
’codedBy‹s
 = 
A¼ays
.
	`cİyOfRªge
(
’üy±ed
, 
äom
, 
to
);

179 
fš®
 
Seü‘Key
 
key
 = 
	`ü—‹KeyFromPasswÜd
(
·sswÜd
, 
§É
);

180  
	`g‘Ch”
(
key
, 
Ch”
.
DECRYPT_MODE
, 
nÚû
).
	`doFš®
(
’codedBy‹s
);

181 } 
	`ÿtch
 (
NoSuchPaddšgExû±iÚ
 | 
NoSuchAlgÜ™hmExû±iÚ
 | 
Inv®idAlgÜ™hmP¬am‘”Exû±iÚ
 | 
Inv®idKeyExû±iÚ
 | 
IÎeg®BlockSizeExû±iÚ
 | 
BadPaddšgExû±iÚ
 
e
) {

182 
throw
 
Ãw
 
	`Enüy±iÚFaedExû±iÚ
("Cª'ˆdeüy±ext.", 
e
);

184 
	}
}

186 
´iv©e
 
Seü‘Key
 
	$ü—‹KeyFromPasswÜd
([] 
·sswÜd
, 
by‹
[] 
§É
) {

187 
Œy
 {

188 
Seü‘KeyFaùÜy
 
£ü‘KeyFaùÜy
 = Seü‘KeyFaùÜy.
	`g‘In¡ªû
(
v”siÚ
.
keyFaùÜy
);

189 
KeyS³c
 
·sswÜdBa£dEnüy±iÚKeyS³c
 = 
Ãw
 
	`PBEKeyS³c
(
·sswÜd
, 
§É
, 
v”siÚ
.
keyI‹¿tiÚCouÁ
, v”siÚ.
keyL’gth
);

190 
A¼ays
.
	`fl
(
·sswÜd
, 
Ch¬aù”
.
MIN_VALUE
);

191 
Seü‘Key
 
£ü‘KeyFromPBKDF2
 = 
£ü‘KeyFaùÜy
.
	`g’”©eSeü‘
(
·sswÜdBa£dEnüy±iÚKeyS³c
);

192  
Ãw
 
	`Seü‘KeyS³c
(
£ü‘KeyFromPBKDF2
.
	`g‘Encoded
(), 
v”siÚ
.
keyAlgÜ™hm
);

193 } 
	`ÿtch
 (
NoSuchAlgÜ™hmExû±iÚ
 | 
Inv®idKeyS³cExû±iÚ
 
e
) {

194 
throw
 
Ãw
 
	`Enüy±iÚFaedExû±iÚ
("E¼Ü c»©šg key from…asswÜd: " + 
e
.
	`g‘Mes§ge
(),ƒ);

196 
	}
}

198 
´iv©e
 
Ch”
 
	$g‘Ch”
(
Seü‘Key
 
key
, 
’üy±Mode
, 
by‹
[] 
nÚû
è
throws


199 
NoSuchPaddšgExû±iÚ
, 
NoSuchAlgÜ™hmExû±iÚ
, 
Inv®idAlgÜ™hmP¬am‘”Exû±iÚ
, 
Inv®idKeyExû±iÚ
 {

200 ià(
v”siÚ
 =ğ
V”siÚ
.
V001
 || v”siÚ =ğV”siÚ.
U001
) {

201 
Ch”
 
ch”
 = Ch”.
	`g‘In¡ªû
(
v”siÚ
.cipher);

202 
GCMP¬am‘”S³c
 
¥ec
 = 
Ãw
 
	`GCMP¬am‘”S³c
(16 * 8, 
nÚû
);

203 
ch”
.
	`š™
(
’üy±Mode
, 
key
, 
¥ec
);

204  
ch”
;

206 
throw
 
Ãw
 
	`IÎeg®S‹Exû±iÚ
("UnknowÀv”siÚ " + 
v”siÚ
.
	`Çme
());

207 
	}
}

215 
´iv©e
 
	gby‹
[] 
	$g‘RªdomBy‹s
(
Ëngth
) {

216 
fš®
 
by‹
[] 
§É
 = 
Ãw
 by‹[
Ëngth
];

217 
¿ndom
.
	`ÃxtBy‹s
(
§É
);

218  
§É
;

219 
	}
}

224 
public
 
fš®
 cÏs 
	cEnüy±iÚFaedExû±iÚ
 
ex‹nds
 
	gRuÁimeExû±iÚ
 {

225 
Enüy±iÚFaedExû±iÚ
(
SŒšg
 
mes§ge
, 
ThrowabË
 
ÿu£
) {

226 
su³r
(
mes§ge
, 
ÿu£
);

234 @
Suµ»ssW¬nšgs
("DeprecatedIsStillUsed")

235 
public
 
	eV”siÚ
 {

236 
V001
("PBKDF2WithHmacSHA512", 10000, 256, "AES", 64, "AES/GCM/NoPadding", 32),

243 @
D•»ÿ‹d


244 
U001
("PBKDF2WithHmacSHA1", 10000, 256, "AES", 64, "AES/GCM/NoPadding", 32);

249 
public
 
fš®
 
	gNAME_LENGTH
 = 4;

250 
´iv©e
 
fš®
 
SŒšg
 
	gkeyFaùÜy
;

251 
´iv©e
 
fš®
 
	gkeyI‹¿tiÚCouÁ
;

252 
´iv©e
 
fš®
 
	gkeyL’gth
;

253 
´iv©e
 
fš®
 
SŒšg
 
	gkeyAlgÜ™hm
;

254 
´iv©e
 
fš®
 
	gkeyS®tL’gth
;

255 
´iv©e
 
fš®
 
SŒšg
 
	gch”
;

256 
´iv©e
 
fš®
 
	gnÚûL’th
;

258 
V”siÚ
(
SŒšg
 
keyFaùÜy
, 
keyI‹¿tiÚCouÁ
, 
keyL’gth
, SŒšg 
keyAlgÜ™hm
, 
keyS®tL’gth
, SŒšg 
ch”
, 
nÚûL’th
) {

259 
	gthis
.
	gkeyFaùÜy
 = 
keyFaùÜy
;

260 
	gthis
.
	gkeyI‹¿tiÚCouÁ
 = 
keyI‹¿tiÚCouÁ
;

261 
	gthis
.
	gkeyL’gth
 = 
keyL’gth
;

262 
	gthis
.
	gkeyAlgÜ™hm
 = 
keyAlgÜ™hm
;

263 
	gthis
.
	gkeyS®tL’gth
 = 
keyS®tL’gth
;

264 
	gthis
.
	gch”
 = 
ch”
;

265 
	gthis
.
	gnÚûL’th
 = 
nÚûL’th
;

	@app/thirdparty/java/other/de/stanetz/jpencconverter/PasswordStore.java

1 
·ckage
 
	gÙh”
.
	gde
.
	g¡ª‘z
.
	gj³nccÚv”‹r
;

3 
impÜt
 
	gªdroid
.
	gªnÙ©iÚ
.
	gSuµ»ssLšt
;

4 
impÜt
 
	gªdroid
.
	g­p
.
	gKeygu¬dMªag”
;

5 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

6 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

7 
impÜt
 
	gªdroid
.
	gos
.
	gBud
;

8 
impÜt
 
	gªdroid
.
	g´eã»nû
.
	gP»ã»nûMªag”
;

9 
impÜt
 
	gªdroid
.
	g£cur™y
.
	gkey¡Üe
.
	gKeyG’P¬am‘”S³c
;

10 
impÜt
 
	gªdroid
.
	g£cur™y
.
	gkey¡Üe
.
	gKeyPrİ”t›s
;

11 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

12 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gRequœesApi
;

13 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gSŒšgRes
;

14 
impÜt
 
	gªdroid
.
	gut
.
	gBa£64
;

15 
impÜt
 
	gªdroid
.
	gut
.
	gLog
;

16 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTß¡
;

18 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

19 
impÜt
 
	gjava
.
	gio
.
	gUnsuµÜ‹dEncodšgExû±iÚ
;

20 
impÜt
 
	gjava
.
	gnio
.
	gBy‹Bufãr
;

21 
impÜt
 
	gjava
.
	gnio
.
	gCh¬Bufãr
;

22 
impÜt
 
	gjava
.
	gnio
.
	gch¬£t
.
	gCh¬£t
;

23 
impÜt
 
	gjava
.
	g£cur™y
.
	gInv®idAlgÜ™hmP¬am‘”Exû±iÚ
;

24 
impÜt
 
	gjava
.
	g£cur™y
.
	gInv®idKeyExû±iÚ
;

25 
impÜt
 
	gjava
.
	g£cur™y
.
	gKeyStÜe
;

26 
impÜt
 
	gjava
.
	g£cur™y
.
	gKeyStÜeExû±iÚ
;

27 
impÜt
 
	gjava
.
	g£cur™y
.
	gNoSuchAlgÜ™hmExû±iÚ
;

28 
impÜt
 
	gjava
.
	g£cur™y
.
	gNoSuchProvid”Exû±iÚ
;

29 
impÜt
 
	gjava
.
	g£cur™y
.
	gUÄecov”abËEÁryExû±iÚ
;

30 
impÜt
 
	gjava
.
	g£cur™y
.
	gû¹
.
	gC”tifiÿ‹Exû±iÚ
;

31 
impÜt
 
	gjava
.
	gut
.
	gObjeùs
;

33 
impÜt
 
	gjavax
.
	güy±o
.
	gBadPaddšgExû±iÚ
;

34 
impÜt
 
	gjavax
.
	güy±o
.
	gCh”
;

35 
impÜt
 
	gjavax
.
	güy±o
.
	gIÎeg®BlockSizeExû±iÚ
;

36 
impÜt
 
	gjavax
.
	güy±o
.
	gKeyG’”©Ü
;

37 
impÜt
 
	gjavax
.
	güy±o
.
	gNoSuchPaddšgExû±iÚ
;

38 
impÜt
 
	gjavax
.
	güy±o
.
	gSeü‘Key
;

39 
impÜt
 
	gjavax
.
	güy±o
.
	g¥ec
.
	gGCMP¬am‘”S³c
;

53 @
Suµ»ssW¬nšgs
("CharsetObjectCanBeUsed")

54 @
	$RequœesApi
(
­i
 = 
Bud
.
VERSION_CODES
.
M
)

55 
public
 cÏs 
	cPasswÜdStÜe
 {

57 
´iv©e
 
fš®
 
SŒšg
 
LOG_TAG_NAME
 = "SecurityStore";

58 
´iv©e
 
fš®
 
SŒšg
 
CIPHER_MODE
 = "AES/GCM/NoPadding";

61 
´iv©e
 
fš®
 
SŒšg
 
ANDROID_KEY_STORE
 = "AndroidKeyStore";

62 
´iv©e
 
fš®
 
SŒšg
 
KEY_SUFFIX_IV
 = ".iv";

63 
´iv©e
 
fš®
 
SŒšg
 
KEY_SUFFIX_KEY
 = ".key";

66 
´iv©e
 
fš®
 
boŞ—n
 
_deviûIsPrÙeùed
;

68 
´iv©e
 
fš®
 
Sh¬edP»ã»nûs
 
_´eã»nûs
;

69 
´iv©e
 
fš®
 
CÚ‹xt
 
_cÚ‹xt
;

78 @
	`Suµ»ssLšt
("HardwareIds")

79 
public
 
	$PasswÜdStÜe
(
CÚ‹xt
 
cÚ‹xt
) {

80 
this
.
_cÚ‹xt
 = 
Objeùs
.
	`»quœeNÚNuÎ
(
cÚ‹xt
, "The context must be set.");

81 
fš®
 
Keygu¬dMªag”
 
keygu¬dMªag”
 = (Keygu¬dMªag”è
cÚ‹xt
.
	`g‘Sy¡emS”viû
(
CÚ‹xt
.
KEYGUARD_SERVICE
);

82 
_deviûIsPrÙeùed
 = 
keygu¬dMªag”
.
	`isDeviûSecu»
();

83 
this
.
_´eã»nûs
 = 
P»ã»nûMªag”
.
	`g‘DeçuÉSh¬edP»ã»nûs
(
cÚ‹xt
);

94 
public
 
boŞ—n
 
	$¡ÜeKey
(
SŒšg
 
uÃnüy±edKey
, SŒšg 
keyÇme
, 
Secur™yMode
 
£cur™yMode
) {

95 ià(
uÃnüy±edKey
 =ğ
nuÎ
 || uÃnüy±edKey.
	`isEm±y
()) {

96  
	`ş—rAÎKeys
(
keyÇme
);

98 
Œy
 {

99 
fš®
 
Secur™yMode
 
u£dSecur™yMode
;

100 ià(
Secur™yMode
.
AUTHENTICATION
.
	`equ®s
(
£cur™yMode
è&& !
_deviûIsPrÙeùed
) {

101 
fš®
 
SŒšg
 
w¬nšgText
 = "Downgrade security modeo‚one, " +

105 
Tß¡
.
	`makeText
(
_cÚ‹xt
, 
w¬nšgText
,

106 
Tß¡
.
LENGTH_LONG
).
	`show
();

107 
Log
.
	`w
(
LOG_TAG_NAME
, 
w¬nšgText
);

108 
u£dSecur™yMode
 = 
Secur™yMode
.
NONE
;

110 
u£dSecur™yMode
 = 
£cur™yMode
;

112 
fš®
 
Ch”
 
ch”
 = Ch”.
	`g‘In¡ªû
(
CIPHER_MODE
);

113 
ch”
.
	`š™
(
Ch”
.
ENCRYPT_MODE
, 
	`ü—‹Seü‘Key
(
keyÇme
, 
u£dSecur™yMode
));

114 
fš®
 
by‹
[] 
iv
 = 
ch”
.
	`g‘IV
();

115 
fš®
 
by‹
[] 
üy±eKey
 = 
ch”
.
	`doFš®
(
uÃnüy±edKey
.
	`g‘By‹s
("UTF-8"));

117 
fš®
 
Sh¬edP»ã»nûs
.
Ed™Ü
 
ed™Ü
 = 
_´eã»nûs
.
	`ed™
();

118 
ed™Ü
.
	`putSŒšg
(
keyÇme
 + 
KEY_SUFFIX_KEY
, 
Ba£64
.
	`’codeToSŒšg
(
üy±eKey
, Ba£64.
DEFAULT
));

119 
ed™Ü
.
	`putSŒšg
(
keyÇme
 + 
KEY_SUFFIX_IV
, 
Ba£64
.
	`’codeToSŒšg
(
iv
, Ba£64.
DEFAULT
));

120 
ed™Ü
.
	`putSŒšg
(
keyÇme
, "***");

121 
ed™Ü
.
	`­¶y
();

122  
Œue
;

123 } 
	`ÿtch
 (
NoSuchAlgÜ™hmExû±iÚ
 | 
NoSuchPaddšgExû±iÚ
 | 
Inv®idKeyExû±iÚ
 |

124 
BadPaddšgExû±iÚ
 | 
IÎeg®BlockSizeExû±iÚ
 | 
NoSuchProvid”Exû±iÚ
 
e
) {

125 
Log
.
	`e
(
LOG_TAG_NAME
, "WrÚgƒnüy±iÚ…¬am‘”", 
e
);

126 } 
	`ÿtch
 (
Inv®idAlgÜ™hmP¬am‘”Exû±iÚ
 
e
) {

127 ià(
Secur™yMode
.
AUTHENTICATION
.
	`equ®s
(
£cur™yMode
è&& !
_deviûIsPrÙeùed
) {

128 
Log
.
	`e
(
LOG_TAG_NAME
, "Thdeviû mu¡ b´Ùeûd by…š o¸·‰”ÀÜ fšg”´št.", 
e
);

130 
Log
.
	`e
(
LOG_TAG_NAME
, "WrÚgƒnüy±iÚ…¬am‘”", 
e
);

132 } 
	`ÿtch
 (
UnsuµÜ‹dEncodšgExû±iÚ
 
e
) {

133 
Log
.
	`e
(
LOG_TAG_NAME
, "UnkowÀ’codšg", 
e
);

135 
	`ş—rAÎKeys
(
keyÇme
);

136  
çl£
;

137 
	}
}

139 
´iv©e
 
boŞ—n
 
	$ş—rAÎKeys
(
SŒšg
 
keyÇme
) {

140 
fš®
 
Sh¬edP»ã»nûs
.
Ed™Ü
 
ed™Ü
 = 
_´eã»nûs
.
	`ed™
();

141 
ed™Ü
.
	`»move
(
keyÇme
 + 
KEY_SUFFIX_KEY
);

142 
ed™Ü
.
	`»move
(
keyÇme
 + 
KEY_SUFFIX_IV
);

143 
ed™Ü
.
	`»move
(
keyÇme
);

144 
ed™Ü
.
	`­¶y
();

145  
Œue
;

146 
	}
}

155 
public
 
boŞ—n
 
¡ÜeKey
(
SŒšg
 
uÃnüy±edKey
, @
SŒšgRes
 
keyAsResId
) {

156  
¡ÜeKey
(
uÃnüy±edKey
, 
_cÚ‹xt
.
g‘SŒšg
(
keyAsResId
), 
Secur™yMode
.
NONE
);

166 
public
 [] 
lßdKey
(@
SŒšgRes
 
keyAsResId
) {

167  
lßdKey
(
_cÚ‹xt
.
g‘SŒšg
(
keyAsResId
));

176 @
Suµ»ssW¬nšgs
("WeakerAccess")

177 
public
 [] 
	$lßdKey
(
SŒšg
 
keyÇme
) {

178 
fš®
 
Seü‘Key
 
£ü‘Key
 = 
	`g‘Seü‘Key
(
keyÇme
);

179 ià(
_´eã»nûs
.
	`cÚšs
(
keyÇme
 + 
KEY_SUFFIX_KEY
è&& 
£ü‘Key
 !ğ
nuÎ
) {

180 
fš®
 
by‹
[] 
¡ÜedKey
 = 
Ba£64
.
	`decode
(
_´eã»nûs
.
	`g‘SŒšg
(
keyÇme
 + 
KEY_SUFFIX_KEY
, 
nuÎ
), Ba£64.
DEFAULT
);

181 
fš®
 
by‹
[] 
’üy±iÚIv
 = 
Ba£64
.
	`decode
(
_´eã»nûs
.
	`g‘SŒšg
(
keyÇme
 + 
KEY_SUFFIX_IV
, 
nuÎ
), Ba£64.
DEFAULT
);

182 
fš®
 
Ch”
 
ch”
;

183 
Œy
 {

184 
ch”
 = 
Ch”
.
	`g‘In¡ªû
(
CIPHER_MODE
);

185 
fš®
 
GCMP¬am‘”S³c
 
¥ec
 = 
Ãw
 
	`GCMP¬am‘”S³c
(128, 
’üy±iÚIv
);

186 
ch”
.
	`š™
(
Ch”
.
DECRYPT_MODE
, 
£ü‘Key
, 
¥ec
);

187 
fš®
 
by‹
[] 
by‹A¼ay
 = 
ch”
.
	`doFš®
(
¡ÜedKey
);

188 
Ch¬£t
 
utf8Ch¬£t
 = Ch¬£t.
	`fÜName
("UTF-8");

189 
Ch¬Bufãr
 
ch¬Bufãr
 = 
utf8Ch¬£t
.
	`decode
(
By‹Bufãr
.
	`w¿p
(
by‹A¼ay
));

190  
ch¬Bufãr
.
	`¬¿y
();

191 } 
	`ÿtch
 (
NoSuchAlgÜ™hmExû±iÚ
 | 
NoSuchPaddšgExû±iÚ
 | 
Inv®idAlgÜ™hmP¬am‘”Exû±iÚ
 | 
Inv®idKeyExû±iÚ
 | 
IÎeg®BlockSizeExû±iÚ
 | 
BadPaddšgExû±iÚ
 
e
) {

192 
Log
.
	`e
(
LOG_TAG_NAME
, "WrÚg deüy±iÚ…¬am‘”", 
e
);

195  
nuÎ
;

196 
	}
}

198 @
NÚNuÎ


199 
´iv©e
 
Seü‘Key
 
	$ü—‹Seü‘Key
(
SŒšg
 
keyÇme
, 
Secur™yMode
 
£cur™yMode
è
throws
 
NoSuchAlgÜ™hmExû±iÚ
,

200 
NoSuchProvid”Exû±iÚ
, 
Inv®idAlgÜ™hmP¬am‘”Exû±iÚ
 {

202 
fš®
 
KeyG’”©Ü
 
keyG’”©Ü
 = KeyGenerator

203 .
	`g‘In¡ªû
(
KeyPrİ”t›s
.
KEY_ALGORITHM_AES
, 
ANDROID_KEY_STORE
);

205 
keyG’”©Ü
.
	`š™
(
Ãw
 
KeyG’P¬am‘”S³c
.
	`Bud”
(
keyÇme
,

206 
KeyPrİ”t›s
.
PURPOSE_ENCRYPT
 | KeyPrİ”t›s.
PURPOSE_DECRYPT
)

207 .
	`£tBlockModes
(
KeyPrİ”t›s
.
BLOCK_MODE_GCM
)

208 .
	`£tEnüy±iÚPaddšgs
(
KeyPrİ”t›s
.
ENCRYPTION_PADDING_NONE
)

209 .
	`£tU£rAuth’tiÿtiÚRequœed
(
Secur™yMode
.
AUTHENTICATION
.
	`equ®s
(
£cur™yMode
))

210 .
	`£tU£rAuth’tiÿtiÚV®id™yDu¿tiÚSecÚds
(300)

211 .
	`bud
());

212  
keyG’”©Ü
.
	`g’”©eKey
();

213 
	}
}

215 
´iv©e
 
Seü‘Key
 
	$g‘Seü‘Key
(
SŒšg
 
keyÇme
) {

216 
Œy
 {

217 
fš®
 
KeyStÜe
 
keyStÜe
 = KeyStÜe.
	`g‘In¡ªû
(
ANDROID_KEY_STORE
);

218 
keyStÜe
.
	`lßd
(
nuÎ
);

219 
fš®
 
KeyStÜe
.
Seü‘KeyEÁry
 
’Œy
 = (KeyStÜe.Seü‘KeyEÁryè
keyStÜe
.
	`g‘EÁry
(
keyÇme
, 
nuÎ
);

220  
’Œy
 =ğ
nuÎ
 ?‚uÎ :ƒÁry.
	`g‘Seü‘Key
();

221 } 
	`ÿtch
 (
KeyStÜeExû±iÚ
 
e
) {

222 
Log
.
	`e
(
LOG_TAG_NAME
, "NØkey¡Üe-´ovid” i founded o¸ÿn'ˆlßd key from key¡Üe.", 
e
);

223 } 
	`ÿtch
 (
C”tifiÿ‹Exû±iÚ
 | 
IOExû±iÚ
 
e
) {

224 
Log
.
	`e
(
LOG_TAG_NAME
, "Cª'ˆlßd key¡Üe.", 
e
);

225 } 
	`ÿtch
 (
NoSuchAlgÜ™hmExû±iÚ
 
e
) {

226 
Log
.
	`e
(
LOG_TAG_NAME
, "Cª'ˆlßd key¡ÜÜ cª'ˆlßd key from key¡Üe.", 
e
);

227 } 
	`ÿtch
 (
UÄecov”abËEÁryExû±iÚ
 
e
) {

228 
Log
.
	`e
(
LOG_TAG_NAME
, "Cª'ˆlßd key from key¡Üe.", 
e
);

230  
nuÎ
;

231 
	}
}

234 
public
 
	eSecur™yMode
 {

235 
	gNONE
,

256 
	gAUTHENTICATION


	@app/thirdparty/java/other/so/AndroidBug5497Workaround.java

9 
·ckage
 
	gÙh”
.
	gso
;

11 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

12 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gReù
;

13 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

14 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›wT»eOb£rv”
;

15 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gF¿meLayout
;

17 @
Suµ»ssW¬nšgs
("all")

18 
public
 cÏs 
	cAndroidBug5497WÜk¬ound
 {

23 
public
 
	$assi¡Aùiv™y
(
Aùiv™y
 
aùiv™y
) {

24 
Ãw
 
	`AndroidBug5497WÜk¬ound
(
aùiv™y
);

27 
´iv©e
 
V›w
 
mChdOfCÚ‹Á
;

28 
´iv©e
 
u§bËHeightP»vious
;

29 
´iv©e
 
F¿meLayout
.
LayoutP¬ams
 
äameLayoutP¬ams
;

31 
´iv©e
 
	$AndroidBug5497WÜk¬ound
(
Aùiv™y
 
aùiv™y
) {

32 
F¿meLayout
 
cÚ‹Á
 = (F¿meLayoutè
aùiv™y
.
	`fšdV›wById
(
ªdroid
.
R
.
id
.content);

33 
mChdOfCÚ‹Á
 = 
cÚ‹Á
.
	`g‘ChdAt
(0);

34 
mChdOfCÚ‹Á
.
	`g‘V›wT»eOb£rv”
().
	`addOnGlob®LayoutLi¡’”
(
Ãw
 
V›wT»eOb£rv”
.
	`OnGlob®LayoutLi¡’”
() {

35 
public
 
	`ÚGlob®Layout
() {

36 
	`possiblyResizeChdOfCÚ‹Á
();

39 
äameLayoutP¬ams
 = (
F¿meLayout
.
LayoutP¬ams
è
mChdOfCÚ‹Á
.
	`g‘LayoutP¬ams
();

40 
	}
}

42 
´iv©e
 
	$possiblyResizeChdOfCÚ‹Á
() {

43 
u§bËHeightNow
 = 
	`compu‹U§bËHeight
();

44 ià(
u§bËHeightNow
 !ğ
u§bËHeightP»vious
) {

45 
u§bËHeightSªsKeybßrd
 = 
mChdOfCÚ‹Á
.
	`g‘RoÙV›w
().
	`g‘Height
();

46 
heightDifã»nû
 = 
u§bËHeightSªsKeybßrd
 - 
u§bËHeightNow
;

47 ià(
heightDifã»nû
 > (
u§bËHeightSªsKeybßrd
 / 4)) {

49 
äameLayoutP¬ams
.
height
 = 
u§bËHeightSªsKeybßrd
 - 
heightDifã»nû
;

52 
äameLayoutP¬ams
.
height
 = 
u§bËHeightSªsKeybßrd
;

54 
mChdOfCÚ‹Á
.
	`»que¡Layout
();

55 
u§bËHeightP»vious
 = 
u§bËHeightNow
;

57 
	}
}

59 
´iv©e
 
	$compu‹U§bËHeight
() {

60 
Reù
 
r
 = 
Ãw
 
	`Reù
();

61 
mChdOfCÚ‹Á
.
	`g‘WšdowVisibËDi¥ÏyF¿me
(
r
);

62  (
r
.
bÙtom
 -„.
tİ
);

63 
	}
}

	@app/thirdparty/java/other/writeily/format/WrProportionalHeaderSpanCreator.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gfÜm©
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gCŞÜS‹Li¡
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	g»s
.
	gResourûs
;

14 
impÜt
 
	gªdroid
.
	gg¿phics
.
	gTy³çû
;

15 
impÜt
 
	gªdroid
.
	g‹xt
.
	gP¬ûÏbËS·n
;

16 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gFÜegroundCŞÜS·n
;

17 
impÜt
 
	gªdroid
.
	g‹xt
.
	g¡yË
.
	gTextAµ—¿nûS·n
;

18 
impÜt
 
	gªdroid
.
	gut
.
	gDi¥ÏyM‘rics
;

19 
impÜt
 
	gªdroid
.
	gut
.
	gTy³dV®ue
;

21 
public
 cÏs 
	cWrPrİÜtiÚ®H—d”S·nC»©Ü
 {

23 
´iv©e
 
fš®
 
Di¥ÏyM‘rics
 
	mDISPLAY_METRICS
 = 
Resourûs
.
g‘Sy¡em
().
g‘Di¥ÏyM‘rics
();

25 
´iv©e
 
fš®
 
SŒšg
 
	m_fÚtTy³
;

26 
´iv©e
 
fš®
 
	m_fÚtSize
;

27 
´iv©e
 
fš®
 
	m_cŞÜ
;

28 
´iv©e
 
fš®
 
boŞ—n
 
	m_shouldU£DyÇmicTextSize
;

30 
public
 
	$WrPrİÜtiÚ®H—d”S·nC»©Ü
(
SŒšg
 
fÚtTy³
, 
fÚtSize
, 
cŞÜ
, 
boŞ—n
 
shouldU£DyÇmicTextSize
) {

31 
_fÚtTy³
 = 
fÚtTy³
;

32 
_fÚtSize
 = 
fÚtSize
;

33 
_cŞÜ
 = 
cŞÜ
;

34 
_shouldU£DyÇmicTextSize
 = 
shouldU£DyÇmicTextSize
;

37 
public
 
P¬ûÏbËS·n
 
	$ü—‹H—d”S·n
(
´İÜtiÚ
) {

38 ià(
_shouldU£DyÇmicTextSize
) {

39 
Flßt
 
size
 = 
	`ÿlcuÏ‹Adju¡edSize
(
´İÜtiÚ
);

40  
Ãw
 
	`TextAµ—¿nûS·n
(
_fÚtTy³
, 
Ty³çû
.
BOLD
, 
size
.
	`by‹V®ue
(),

41 
CŞÜS‹Li¡
.
	`v®ueOf
(
_cŞÜ
), 
nuÎ
);

43  
Ãw
 
	`FÜegroundCŞÜS·n
(
_cŞÜ
);

45 
	}
}

47 
´iv©e
 
	$ÿlcuÏ‹Adju¡edSize
(
Flßt
 
´İÜtiÚ
) {

48  
Ty³dV®ue
.
	`­¶yDim’siÚ
(Ty³dV®ue.
COMPLEX_UNIT_SP
,

49 
_fÚtSize
 * 
´İÜtiÚ
,

50 
DISPLAY_METRICS
);

51 
	}
}

	@app/thirdparty/java/other/writeily/format/markdown/WrMarkdownHeaderSpanCreator.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gfÜm©
.
	gm¬kdown
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gP¬ûÏbËS·n
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gHighligh‹r
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gS·nC»©Ü
;

18 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

20 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gfÜm©
.
	gWrPrİÜtiÚ®H—d”S·nC»©Ü
;

22 
public
 
şass
 
WrM¬kdownH—d”S·nC»©Ü
 
im¶em’ts
 
	gS·nC»©Ü
.
	gP¬ûÏbËS·nC»©Ü
 {

23 
´iv©e
 
fš®
 
Ch¬aù”
 
	gPOUND_SIGN
 = '#';

24 
´iv©e
 
fš®
 
	gSTANDARD_PROPORTION_MAX
 = 1.80f;

25 
´iv©e
 
fš®
 
	gSIZE_STEP
 = 0.20f;

27 
´Ùeùed
 
Highligh‹r
 
	g_highligh‹r
;

28 
´iv©e
 
fš®
 
S·ÂabË
 
	g_¥ªÇbË
;

29 
´iv©e
 
fš®
 
WrPrİÜtiÚ®H—d”S·nC»©Ü
 
	g_¥ªC»©Ü
;

31 
public
 
WrM¬kdownH—d”S·nC»©Ü
(
Highligh‹r
 
highligh‹r
, 
S·ÂabË
 
¥ªÇbË
, 
cŞÜ
, 
boŞ—n
 
dyÇmicTextSize
) {

32 
	g_highligh‹r
 = 
highligh‹r
;

33 
	g_¥ªÇbË
 = 
¥ªÇbË
;

34 
	g_¥ªC»©Ü
 = 
Ãw
 
WrPrİÜtiÚ®H—d”S·nC»©Ü
(
highligh‹r
.
g‘AµS‘tšgs
().
g‘FÚtFamy
(), highligh‹r.g‘AµS‘tšgs().
g‘FÚtSize
(), 
cŞÜ
, 
dyÇmicTextSize
);

37 
public
 
P¬ûÏbËS·n
 
ü—‹
(
M©ch”
 
m
, 
iM
) {

38 
fš®
 [] 
	gch¬Sequ’û
 = 
exŒaùM©chšgRªge
(
m
);

39 
	g´İÜtiÚ
 = 
ÿlcuÏ‹PrİÜtiÚBa£dOnH—d”Ty³
(
ch¬Sequ’û
);

40  
	g_¥ªC»©Ü
.
ü—‹H—d”S·n
(
´İÜtiÚ
);

43 
´iv©e
 [] 
exŒaùM©chšgRªge
(
M©ch”
 
m
) {

44  
	g_¥ªÇbË
.
subSequ’û
(
m
.
¡¬t
(), m.
’d
()).
toSŒšg
().
Œim
().
toCh¬A¼ay
();

47 
´iv©e
 
Flßt
 
ÿlcuÏ‹PrİÜtiÚBa£dOnH—d”Ty³
(
fš®
 [] 
ch¬Sequ’û
) {

49 
Flßt
 
	g´İÜtiÚ
 = 
ÿlcuÏ‹PrİÜtiÚFÜHashesH—d”
(
ch¬Sequ’û
);

50 ià(
	g´İÜtiÚ
 =ğ
STANDARD_PROPORTION_MAX
) {

51  
ÿlcuÏ‹PrİÜtiÚFÜUnd”lšeH—d”
(
ch¬Sequ’û
);

53  
	g´İÜtiÚ
;

56 
´iv©e
 
Flßt
 
ÿlcuÏ‹PrİÜtiÚFÜUnd”lšeH—d”
(
fš®
 [] 
ch¬Sequ’û
) {

57  
	gCh¬aù”
.
v®ueOf
('=').
equ®s
(
ch¬Sequ’û
[ch¬Sequ’û.
Ëngth
 - 1])

61 
´iv©e
 
Flßt
 
ÿlcuÏ‹PrİÜtiÚFÜHashesH—d”
(
fš®
 [] 
ch¬Sequ’û
) {

62 
	g´İÜtiÚ
 = 
STANDARD_PROPORTION_MAX
;

63 
	gi
 = 0;

65 
	gPOUND_SIGN
.
equ®s
(
ch¬Sequ’û
[
i
]è&& 
	g´İÜtiÚ
 >= 1.0) {

66 
´İÜtiÚ
 -ğ
SIZE_STEP
;

67 
	gi
++;

69  
	g´İÜtiÚ
;

	@app/thirdparty/java/other/writeily/format/zimwiki/WrZimWikiHeaderSpanCreator.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gfÜm©
.
	gzimwiki
;

12 
impÜt
 
	gªdroid
.
	g‹xt
.
	gP¬ûÏbËS·n
;

13 
impÜt
 
	gªdroid
.
	g‹xt
.
	gS·ÂabË
;

15 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gzimwiki
.
	gZimWikiHighligh‹r
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	ghËd™Ü
.
	gS·nC»©Ü
;

18 
impÜt
 
	gjava
.
	gut
.
	g»gex
.
	gM©ch”
;

20 
impÜt
 
	gÙh”
.
	gwr™ey
.
	gfÜm©
.
	gWrPrİÜtiÚ®H—d”S·nC»©Ü
;

22 
public
 
şass
 
WrZimWikiH—d”S·nC»©Ü
 
im¶em’ts
 
	gS·nC»©Ü
.
	gP¬ûÏbËS·nC»©Ü
 {

23 
´iv©e
 
fš®
 
Ch¬aù”
 
	gEQUAL_SIGN
 = '=';

24 
´iv©e
 
fš®
 
	gSTANDARD_PROPORTION_MAX
 = 1.60f;

25 
´iv©e
 
fš®
 
	gSTANDARD_PROPORTION_MIN
 = 1.00f;

26 
´iv©e
 
fš®
 
	gSIZE_STEP
 = (
STANDARD_PROPORTION_MAX
 - 
STANDARD_PROPORTION_MIN
) / 5f;

28 
´Ùeùed
 
ZimWikiHighligh‹r
 
	g_highligh‹r
;

29 
´iv©e
 
fš®
 
S·ÂabË
 
	g_¥ªÇbË
;

30 
´iv©e
 
fš®
 
WrPrİÜtiÚ®H—d”S·nC»©Ü
 
	g_¥ªC»©Ü
;

32 
public
 
WrZimWikiH—d”S·nC»©Ü
(
ZimWikiHighligh‹r
 
highligh‹r
, 
S·ÂabË
 
¥ªÇbË
, 
cŞÜ
, 
boŞ—n
 
dyÇmicTextSize
, 
fš®
 
SŒšg
 
fÚtTy³
, fš® 
fÚtSize
) {

33 
	g_highligh‹r
 = 
highligh‹r
;

34 
	g_¥ªÇbË
 = 
¥ªÇbË
;

35 
	g_¥ªC»©Ü
 = 
Ãw
 
WrPrİÜtiÚ®H—d”S·nC»©Ü
(
fÚtTy³
, 
fÚtSize
, 
cŞÜ
, 
dyÇmicTextSize
);

38 
public
 
P¬ûÏbËS·n
 
ü—‹
(
M©ch”
 
m
, 
iM
) {

39 
fš®
 [] 
	gh—dšgCh¬aù”s
 = 
exŒaùM©chšgRªge
(
m
);

40 
	g´İÜtiÚ
 = 
ÿlcuÏ‹PrİÜtiÚBa£dOnEqu®SignCouÁ
(
h—dšgCh¬aù”s
);

41  
	g_¥ªC»©Ü
.
ü—‹H—d”S·n
(
´İÜtiÚ
);

44 
´iv©e
 [] 
exŒaùM©chšgRªge
(
M©ch”
 
m
) {

45  
	g_¥ªÇbË
.
subSequ’û
(
m
.
¡¬t
(), m.
’d
()).
toSŒšg
().
Œim
().
toCh¬A¼ay
();

48 
´iv©e
 
ÿlcuÏ‹PrİÜtiÚBa£dOnEqu®SignCouÁ
(
fš®
 [] 
h—dšgSequ’û
) {

49 
	g´İÜtiÚ
 = 
STANDARD_PROPORTION_MIN
;

50 
	gi
 = 1;

52 
	gEQUAL_SIGN
.
equ®s
(
h—dšgSequ’û
[
i
]è&& 
	g´İÜtiÚ
 < 
	gSTANDARD_PROPORTION_MAX
) {

53 
	g´İÜtiÚ
 +ğ
SIZE_STEP
;

54 
	gi
++;

56  
	g´İÜtiÚ
;

	@app/thirdparty/java/other/writeily/model/WrMarkorSingleton.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gmod–
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gAùiv™y
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g´ovid”
.
	gDocum’tFe
;

16 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

17 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gS—rchOrCu¡omTextDŸlogC»©Ü
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

21 
impÜt
 
	gjava
.
	gio
.
	gFe
;

22 
impÜt
 
	gjava
.
	gio
.
	gIOExû±iÚ
;

23 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

24 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

25 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚ
;

26 
impÜt
 
	gjava
.
	gut
.
	gCŞËùiÚs
;

27 
impÜt
 
	gjava
.
	gut
.
	gLi¡
;

28 
impÜt
 
	gjava
.
	gut
.
	gSck
;

30 @
Suµ»ssW¬nšgs
("all")

31 
public
 cÏs 
	cWrM¬kÜSšgËtÚ
 {

33 
´iv©e
 
WrM¬kÜSšgËtÚ
 
	mm¬kÜSšgËtÚIn¡ªû
 = 
nuÎ
;

34 
´iv©e
 
Fe
 
	mnÙesLa¡DœeùÜy
 = 
nuÎ
;

36 
public
 
WrM¬kÜSšgËtÚ
 
	$g‘In¡ªû
() {

37 ià(
m¬kÜSšgËtÚIn¡ªû
 =ğ
nuÎ
) {

38 
m¬kÜSšgËtÚIn¡ªû
 = 
Ãw
 
	`WrM¬kÜSšgËtÚ
();

41  
m¬kÜSšgËtÚIn¡ªû
;

44 
public
 
Fe
 
	$g‘NÙesLa¡DœeùÜy
() {

45  
nÙesLa¡DœeùÜy
;

46 
	}
}

48 
public
 
	$£tNÙesLa¡DœeùÜy
(
Fe
 
nÙesLa¡DœeùÜy
) {

49 
WrM¬kÜSšgËtÚ
.
nÙesLa¡DœeùÜy
 =‚otesLastDirectory;

50 
	}
}

53 
´iv©e
 
boŞ—n
 
	$nÙChd
(
fš®
 
Fe
 
a
, fš® F
b
) {

54 
Œy
 {

55  
b
.
	`equ®s
(
a
è|| !b.
	`g‘P¬’tFe
().
	`g‘CªÚiÿlP©h
().
	`¡¬tsW™h
(a.getCanonicalPath());

56 } 
	`ÿtch
(
IOExû±iÚ
 
e
) {

57  
çl£
;

59 
	}
}

61 
´iv©e
 
boŞ—n
 
	$§ÃCİy
(
fš®
 
Fe
 
fe
, fš® F
de¡
) {

62  
fe
 !ğ
nuÎ
 && 
de¡
 !ğnuÎ && fe.
	`exi¡s
(è&& 
	`nÙChd
(file, dest);

63 
	}
}

65 
´iv©e
 
boŞ—n
 
	$§ÃMove
(
fš®
 
Fe
 
fe
, fš® F
de¡
) {

66  
	`§ÃCİy
(
fe
, 
de¡
è&& !fe.
	`equ®s
(dest);

67 
	}
}

69 
public
 
boŞ—n
 
	$moveFe
(
fš®
 
Fe
 
fe
, fš® F
de¡
, fš® 
CÚ‹xt
 
cÚ‹xt
) {

70 ià(
	`§ÃMove
(
fe
, 
de¡
è&& !de¡.
	`exi¡s
()) {

71 
boŞ—n
 
»ÇmeSucûss
;

72 
Œy
 {

73 
»ÇmeSucûss
 = 
fe
.
	`»ÇmeTo
(
de¡
);

74 } 
	`ÿtch
 (
Exû±iÚ
 
e
) {

75 
»ÇmeSucûss
 = 
çl£
;

77  (
»ÇmeSucûss
 || (
	`cİyFe
(
fe
, 
de¡
è&& 
	`d–‘eFe
(fe, 
cÚ‹xt
)));

79  
çl£
;

80 
	}
}

82 
public
 
boŞ—n
 
	$cİyFe
(
fš®
 
Fe
 
fe
, fš® F
de¡
) {

83 ià(
	`§ÃCİy
(
fe
, 
de¡
è&& !de¡.
	`exi¡s
()) {

84 ià(
fe
.
	`isDœeùÜy
()) {

85 ià(
de¡
.
	`mkdœ
()) {

86 
boŞ—n
 
sucûss
 = 
Œue
;

87 
fš®
 
Fe
 
dœFe
 : 
fe
.
	`li¡Fes
()) {

89 
sucûss
 &ğ
this
.
	`cİyFe
(
dœFe
, 
Ãw
 
	`Fe
(
de¡
, dœFe.
	`g‘Name
()));

91  
sucûss
;

93  
çl£
;

95 
FeUts
.
	`cİyFe
(
fe
, 
de¡
);

96  
Œue
;

99  
çl£
;

100 
	}
}

102 
public
 
boŞ—n
 
	$d–‘eFe
(
fš®
 
Fe
 
fe
, fš® 
CÚ‹xt
 
cÚ‹xt
) {

103 ià(
fe
.
	`isDœeùÜy
()) {

104 
fš®
 
Fe
 
chdFe
 : 
fe
.
	`li¡Fes
()) {

105 
	`d–‘eFe
(
chdFe
, 
cÚ‹xt
);

109 
fš®
 
Sh¬eUt
 
sh¬eUt
 = 
Ãw
 
	`Sh¬eUt
(
cÚ‹xt
);

110 ià(
cÚ‹xt
 !ğ
nuÎ
 && 
sh¬eUt
.
	`isUnd”StÜageAcûssFŞd”
(
fe
)) {

111 
fš®
 
Docum’tFe
 
dof
 = 
sh¬eUt
.
	`g‘Docum’tFe
(
fe
, fe.
	`isDœeùÜy
());

112 
sh¬eUt
.
	`ä“CÚ‹xtRef
();

113  
dof
 =ğ
nuÎ
 ? 
çl£
 : (dof.
	`d–‘e
(è|| !dof.
	`exi¡s
());

115 
sh¬eUt
.
	`ä“CÚ‹xtRef
();

116  
fe
.
	`d–‘e
();

118 
	}
}

120 
public
 
d–‘eS–eùedI‹ms
(
fš®
 
CŞËùiÚ
<
Fe
> 
fes
, fš® 
CÚ‹xt
 
cÚ‹xt
) {

121 
fš®
 
Fe
 
	gfe
 : 
fes
) {

122 
d–‘eFe
(
fe
, 
cÚ‹xt
);

126 
´iv©e
 
	eCÚæiùResŞutiÚ
 {

127 
	gKEEP_BOTH
,

128 
	gOVERWRITE
,

129 
	gSKIP
,

130 
	gASK


133 
public
 
moveOrCİyS–eùed
(
fš®
 
Li¡
<
Fe
> 
fes
, fš® F
de¡Dœ
, fš® 
Aùiv™y
 
aùiv™y
, fš® 
boŞ—n
 
isMove
) {

134 ià(
	gde¡Dœ
.
isDœeùÜy
()) {

135 
boŞ—n
 
	g®lSªe
 = 
Œue
;

136 
fš®
 
Fe
 
	gfe
 : 
fes
) {

137 
fš®
 
Fe
 
de¡
 = 
Ãw
 Fe(
de¡Dœ
, 
fe
.
g‘Name
());

138 
	g®lSªe
 &ğ
isMove
 ? 
§ÃMove
(
fe
, 
de¡
è: 
§ÃCİy
(file, dest);

140 ià(
	g®lSªe
) {

141 
fš®
 
	gSck
<
	gFe
> 
	g_fes
 = 
Ãw
 
Sck
<>();

142 
	g_fes
.
addAÎ
(
fes
);

143 
_moveOrCİyS–eùed
(
_fes
, 
de¡Dœ
, 
aùiv™y
, 
isMove
, 
CÚæiùResŞutiÚ
.
ASK
, 
çl£
);

149 
´iv©e
 
_moveOrCİyS–eùed
(

150 
fš®
 
Sck
<
Fe
> 
fes
,

151 
fš®
 
Fe
 
de¡Dœ
,

152 
fš®
 
Aùiv™y
 
aùiv™y
,

153 
fš®
 
boŞ—n
 
isMove
,

154 
CÚæiùResŞutiÚ
 
»sŞutiÚ
,

155 
boŞ—n
 
´e£rveResŞutiÚ


157 !
	gfes
.
em±y
()) {

158 
fš®
 
Fe
 
	gfe
 = 
fes
.
pİ
();

159 
fš®
 
Fe
 
	gde¡
 = 
Ãw
 Fe(
de¡Dœ
, 
fe
.
g‘Name
());

160 ià(
	gde¡
.
exi¡s
()) {

162 ià(
	g»sŞutiÚ
 =ğ
CÚæiùResŞutiÚ
.
KEEP_BOTH
 || (!
isMove
 && 
fe
.
equ®s
(
de¡
))) {

163 
moveOrCİy
(
aùiv™y
, 
fe
, 
fšdNÚCÚæiùšgDe¡
(fe, 
de¡Dœ
), 
isMove
);

164 } ià(
	g»sŞutiÚ
 =ğ
CÚæiùResŞutiÚ
.
OVERWRITE
) {

165 ià(
d–‘eFe
(
de¡
, 
aùiv™y
)) {

166 
moveOrCİy
(
aùiv™y
, 
fe
, 
de¡
, 
isMove
);

168 } ià(
	g»sŞutiÚ
 =ğ
CÚæiùResŞutiÚ
.
ASK
) {

170 
fes
.
push
(
fe
);

171 
	gS—rchOrCu¡omTextDŸlogC»©Ü
.
showCİyMoveCÚæiùDŸlog
(

172 
aùiv™y
, 
fe
.
g‘Name
(), 
de¡Dœ
.g‘Name(), 
fes
.
size
(è> 1, (
İtiÚ
) -> {

173 
CÚæiùResŞutiÚ
 
»s
 = CÚæiùResŞutiÚ.
ASK
;

174 ià(
İtiÚ
 == 0 || option == 3) {

175 
»s
 = 
CÚæiùResŞutiÚ
.
KEEP_BOTH
;

176 } ià(
İtiÚ
 == 1 || option == 4) {

177 
»s
 = 
CÚæiùResŞutiÚ
.
OVERWRITE
;

178 } ià(
İtiÚ
 == 2 || option == 5) {

179 
»s
 = 
CÚæiùResŞutiÚ
.
SKIP
;

181 
_moveOrCİyS–eùed
(
fes
, 
de¡Dœ
, 
aùiv™y
, 
isMove
, 
»s
, 
İtiÚ
 > 2);

185 
	g»sŞutiÚ
 = 
´e£rveResŞutiÚ
 ? 
»sŞutiÚ
 : 
CÚæiùResŞutiÚ
.
ASK
;

187 
moveOrCİy
(
aùiv™y
, 
fe
, 
de¡
, 
isMove
);

192 
´iv©e
 
	$moveOrCİy
(
fš®
 
CÚ‹xt
 
cÚ‹xt
, fš® 
Fe
 
¤c
, fš® F
de¡
, fš® 
boŞ—n
 
isMove
) {

193 ià(
isMove
) {

194 
	`moveFe
(
¤c
, 
de¡
, 
cÚ‹xt
);

196 
	`cİyFe
(
¤c
, 
de¡
);

198 
	}
}

200 
public
 
Fe
 
	$fšdNÚCÚæiùšgDe¡
(
fš®
 
Fe
 
fe
, fš® F
de¡Dœ
) {

201 
Fe
 
de¡
 = 
Ãw
 
	`Fe
(
de¡Dœ
, 
fe
.
	`g‘Name
());

202 
fš®
 
SŒšg
[] 
¥l™s
 = 
fe
.
	`g‘Name
().
	`¥l™
("\\.");

203 
fš®
 
SŒšg
 
Çme
 = 
¥l™s
[0];

204 
¥l™s
[0] = "";

205 
fš®
 
SŒšg
 
ex‹nsiÚ
 = SŒšg.
	`još
(".", 
¥l™s
);

206 
i
 = 1;

207 
de¡
.
	`exi¡s
()) {

208 
de¡
 = 
Ãw
 
	`Fe
(
de¡Dœ
, 
SŒšg
.
	`fÜm©
("%s_%d%s", 
Çme
, 
i
, 
ex‹nsiÚ
));

209 
i
++;

211  
de¡
;

212 
	}
}

214 
public
 
boŞ—n
 
isDœeùÜyEm±y
(
A¼ayLi¡
<
Fe
> 
fes
) {

215  (
	gfes
 =ğ
nuÎ
 || 
fes
.
isEm±y
());

223 
public
 
	gA¼ayLi¡
<
	gFe
> 
addM¬kdownFesFromDœeùÜy
(
Fe
 
sourûDœ
, 
A¼ayLi¡
<Fe> 
fes
) {

224 
	gA¼ayLi¡
<
	gFe
> 
	gaddedFes
 = 
Ãw
 
A¼ayLi¡
<>();

226 
	gLi¡
<
	gFe
> 
	gli¡edD©a
 = 
A¼ays
.
asLi¡
(
sourûDœ
.
li¡Fes
());

227 
	gCŞËùiÚs
.
sÜt
(
li¡edD©a
, (
f1
, 
f2
è-> f1.
g‘Name
().
com·»ToIgnÜeCa£
(f2.getName()));

229 
Fe
 
	gf
 : 
li¡edD©a
) {

230 ià(!
f
.
g‘Name
().
¡¬tsW™h
(".")) {

231 ià(
f
.
isDœeùÜy
()) {

232 
fes
.
add
(
f
);

233 } ià(
	gTextFÜm©
.
isTextFe
(
f
)) {

234 
	gaddedFes
.
add
(
f
);

240 
	gfes
.
addAÎ
(
addedFes
);

241  
	gfes
;

	@app/thirdparty/java/other/writeily/ui/WrConfirmDialog.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gui
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

13 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gDŸlogF¿gm’t
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

17 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextUts
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

22 
impÜt
 
	gjava
.
	gio
.
	gS”ŸlizabË
;

24 
public
 cÏs 
	cWrCÚfœmDŸlog
 
ex‹nds
 
	mDŸlogF¿gm’t
 {

25 
public
 
fš®
 
SŒšg
 
	mFRAGMENT_TAG
 = "WrConfirmDialog";

27 
´iv©e
 
fš®
 
SŒšg
 
	mEXTRA_TITLE
 = "EXTRA_TITLE";

28 
´iv©e
 
fš®
 
SŒšg
 
	mEXTRA_MESSAGE
 = "EXTRA_MESSAGE";

29 
public
 
fš®
 
SŒšg
 
	mEXTRA_DATA
 = "EXTRA_DATA";

31 
´iv©e
 
S”ŸlizabË
 
	m_d©a
;

32 
´iv©e
 
	mCÚfœmDŸlogC®lback
[] 
	m_ÿÎbacks
;

33 
´iv©e
 
SŒšg
 
	m_summ¬y
;

35 
public
 
WrCÚfœmDŸlog
 
	$ÃwIn¡ªû
(
SŒšg
 
t™Ë
, SŒšg 
mes§ge
,

36 
S”ŸlizabË
 
d©a
, 
CÚfœmDŸlogC®lback
... 
ÿÎbacks
) {

37 
WrCÚfœmDŸlog
 
cÚfœmDŸlog
 = 
Ãw
 
	`WrCÚfœmDŸlog
();

38 
BundË
 
¬gs
 = 
Ãw
 
	`BundË
();

39 
¬gs
.
	`putS”ŸlizabË
(
EXTRA_DATA
, 
d©a
);

40 
¬gs
.
	`putSŒšg
(
EXTRA_TITLE
, 
t™Ë
);

41 
¬gs
.
	`putSŒšg
(
EXTRA_MESSAGE
, 
mes§ge
);

42 
cÚfœmDŸlog
.
	`£tArgum’ts
(
¬gs
);

43 
cÚfœmDŸlog
.
	`£tC®lbacks
(
ÿÎbacks
);

44  
cÚfœmDŸlog
;

47 
public
 
	$£tC®lbacks
(
CÚfœmDŸlogC®lback
[] 
ÿÎbacks
) {

48 
_ÿÎbacks
 = 
ÿÎbacks
;

49 
	}
}

51 @
	gOv”ride


52 @
NÚNuÎ


53 
public
 
DŸlog
 
	$ÚC»©eDŸlog
(
BundË
 
§vedIn¡ªûS‹
) {

54 
SŒšg
 
t™Ë
 = 
	`g‘Argum’ts
().
	`g‘SŒšg
(
EXTRA_TITLE
);

55 
SŒšg
 
mes§ge
 = 
	`g‘Argum’ts
().
	`g‘SŒšg
(
EXTRA_MESSAGE
);

56 
_d©a
 = 
	`g‘Argum’ts
().
	`g‘S”ŸlizabË
(
EXTRA_DATA
);

58 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
;

59 
boŞ—n
 
d¬kTheme
 = 
AµS‘tšgs
.
	`g‘
().
	`isD¬kThemeEÇbËd
();

60 
dŸlogBud”
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
	`g‘Aùiv™y
(), 
d¬kTheme
 ?

61 
R
.
¡yË
.
Theme_AµCom·t_DŸlog
 : R.¡yË.
Theme_AµCom·t_Light_DŸlog
);

63 
dŸlogBud”
.
	`£tT™Ë
(
t™Ë
);

64 ià(!
TextUts
.
	`isEm±y
(
mes§ge
)) {

65 
dŸlogBud”
.
	`£tMes§ge
(
mes§ge
);

68 
dŸlogBud”
.
	`£tPos™iveBu‰Ú
(
	`g‘SŒšg
(
ªdroid
.
R
.
¡ršg
.
ok
), (
dŸlog
, 
which
) -> {

69 ià(
_ÿÎbacks
 !ğ
nuÎ
) {

70 
CÚfœmDŸlogC®lback
 
cdc
 : 
_ÿÎbacks
) {

71 ià(
cdc
 !ğ
nuÎ
) {

72 
cdc
.
	`ÚCÚfœmDŸlogAnsw”
(
Œue
, 
_d©a
);

78 
dŸlogBud”
.
	`£tNeg©iveBu‰Ú
(
	`g‘SŒšg
(
R
.
¡ršg
.
ÿnûl
), (
dŸlog
, 
which
) -> {

79 
dŸlog
.
	`dismiss
();

80 
CÚfœmDŸlogC®lback
 
cdc
 : 
_ÿÎbacks
) {

81 
cdc
.
	`ÚCÚfœmDŸlogAnsw”
(
çl£
, 
_d©a
);

85  
dŸlogBud”
.
	`show
();

86 
	}
}

88 
public
 
š‹rçû
 
	gCÚfœmDŸlogC®lback
 {

89 
ÚCÚfœmDŸlogAnsw”
(
boŞ—n
 
cÚfœmed
, 
S”ŸlizabË
 
d©a
);

	@app/thirdparty/java/other/writeily/ui/WrRenameDialog.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gui
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gDŸlog
;

13 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

14 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

15 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gDŸlogF¿gm’t
;

16 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	gcÚ‹Á
.
	gCÚ‹xtCom·t
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g´ovid”
.
	gDocum’tFe
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAË¹DŸlog
;

19 
impÜt
 
	gªdroid
.
	g‹xt
.
	gEd™abË
;

20 
impÜt
 
	gªdroid
.
	g‹xt
.
	gTextW©ch”
;

21 
impÜt
 
	gªdroid
.
	gv›w
.
	gLayoutInæ©”
;

22 
impÜt
 
	gªdroid
.
	gv›w
.
	gV›w
;

23 
impÜt
 
	gªdroid
.
	gv›w
.
	gWšdowMªag”
;

24 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gEd™Text
;

25 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gTextV›w
;

27 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

28 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

29 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gSh¬eUt
;

30 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gC®lback
;

31 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gut
.
	gFeUts
;

33 
impÜt
 
	gjava
.
	gio
.
	gFe
;

35 
public
 cÏs 
	cWrR’ameDŸlog
 
ex‹nds
 
	mDŸlogF¿gm’t
 {

36 
public
 
fš®
 
SŒšg
 
	mEXTRA_FILEPATH
 = "EXTRA_FILEPATH";

37 
public
 
fš®
 
SŒšg
 
	mFRAGMENT_TAG
 = "WrRenameDialog";

39 
public
 
WrR’ameDŸlog
 
	$ÃwIn¡ªû
(
Fe
 
sourûFe
) {

40  
	`ÃwIn¡ªû
(
sourûFe
, 
nuÎ
);

44 
public
 
WrR’ameDŸlog
 
	`ÃwIn¡ªû
(
Fe
 
sourûFe
, 
C®lback
.
a1
<Fe> 
ÿÎback
) {

45 
WrR’ameDŸlog
 
dŸlog
 = 
Ãw
 
	`WrR’ameDŸlog
();

46 
BundË
 
¬gs
 = 
Ãw
 
	`BundË
();

47 
¬gs
.
	`putS”ŸlizabË
(
EXTRA_FILEPATH
, 
sourûFe
);

48 
dŸlog
.
	`£tArgum’ts
(
¬gs
);

49 
dŸlog
.
_ÿÎback
 = 
ÿÎback
;

50  
dŸlog
;

51 
	}
}

53 
´iv©e
 
	gC®lback
.
	ga1
<
	gFe
> 
	g_ÿÎback
;

54 
´iv©e
 
boŞ—n
 
	g_f’ameCÏsh
;

55 
´iv©e
 
AË¹DŸlog
 
	g_dŸlog
;

57 @
	gNÚNuÎ


58 @
Ov”ride


59 
public
 
DŸlog
 
	$ÚC»©eDŸlog
(
BundË
 
§vedIn¡ªûS‹
) {

60 
fš®
 
Fe
 
fe
 = (Feè
	`g‘Argum’ts
().
	`g‘S”ŸlizabË
(
EXTRA_FILEPATH
);

62 
LayoutInæ©”
 
šæ©”
 = LayoutInæ©”.
	`äom
(
	`g‘Aùiv™y
());

63 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
 = 
	`£tUpDŸlog
(
fe
, 
šæ©”
);

64 
_dŸlog
 = 
dŸlogBud”
.
	`show
();

65 
_dŸlog
.
	`g‘Wšdow
().
	`£tSoáIÅutMode
(
WšdowMªag”
.
LayoutP¬ams
.
SOFT_INPUT_STATE_ALWAYS_VISIBLE
);

67 
Ed™Text
 
ÃwNameF›ld
 = 
_dŸlog
.
	`fšdV›wById
(
R
.
id
.
Ãw_Çme
);

68 
	`addF’ameCÏshTextW©ch”
(
ÃwNameF›ld
);

70 
_dŸlog
.
	`g‘Bu‰Ú
(
AË¹DŸlog
.
BUTTON_POSITIVE
).
	`£tOnClickLi¡’”
(
v›w
 -> {

71 
V›w
 
roÙ
 = 
šæ©”
.
	`šæ©e
(
R
.
Ïyout
.
»Çme__dŸlog
, 
nuÎ
);

72 
SŒšg
 
ÃwFeName
 = 
ÃwNameF›ld
.
	`g‘Text
().
	`toSŒšg
();

73 
Sh¬eUt
 
sh¬eUt
 = 
Ãw
 
	`Sh¬eUt
(
roÙ
.
	`g‘CÚ‹xt
());

74 
boŞ—n
 
»Çmed
 = 
çl£
;

75 
boŞ—n
 
f’ameChªged
 = !
fe
.
	`g‘Name
().
	`equ®s
(
ÃwFeName
);

76 ià(
f’ameChªged
) {

77 
_f’ameCÏsh
 = 
	`checkF’ameCÏsh
(
fe
, 
ÃwFeName
);

79 ià(
sh¬eUt
.
	`isUnd”StÜageAcûssFŞd”
(
fe
)) {

80 
Docum’tFe
 
dof
 = 
sh¬eUt
.
	`g‘Docum’tFe
(
fe
, fe.
	`isDœeùÜy
());

81 ià(
dof
 !ğ
nuÎ
) {

82 ià(!
_f’ameCÏsh
) {

83 
»Çmed
 = 
dof
.
	`»ÇmeTo
(
ÃwFeName
);

84 
»Çmed
 =„’amed || (
fe
.
	`g‘P¬’tFe
(è!ğ
nuÎ
 && 
Ãw
 
	`Fe
(fe.g‘P¬’tFe(), 
ÃwFeName
).
	`exi¡s
());

88 ià(!
_f’ameCÏsh
) {

89 
»Çmed
 = 
FeUts
.
	`»ÇmeFeInSameFŞd”
(
fe
, 
ÃwFeName
);

93 ià(
»Çmed
 || !
f’ameChªged
) {

94 ià(
_ÿÎback
 !ğ
nuÎ
) {

95 
_ÿÎback
.
	`ÿÎback
(
fe
);

97 
sh¬eUt
.
	`ä“CÚ‹xtRef
();

98 
_dŸlog
.
	`dismiss
();

102 
_dŸlog
.
	`g‘Bu‰Ú
(
AË¹DŸlog
.
BUTTON_NEGATIVE
).
	`£tOnClickLi¡’”
(
v›w
 -> _dŸlog.
	`dismiss
());

104  
_dŸlog
;

105 
	}
}

107 
´iv©e
 
	gAË¹DŸlog
.
Bud”
 
	$£tUpDŸlog
(
fš®
 
Fe
 
fe
, 
LayoutInæ©”
 
šæ©”
) {

108 
V›w
 
roÙ
;

109 
AË¹DŸlog
.
Bud”
 
dŸlogBud”
;

110 
boŞ—n
 
d¬kTheme
 = 
AµS‘tšgs
.
	`g‘
().
	`isD¬kThemeEÇbËd
();

111 
dŸlogBud”
 = 
Ãw
 
AË¹DŸlog
.
	`Bud”
(
	`g‘Aùiv™y
(), 
d¬kTheme
 ?

112 
R
.
¡yË
.
Theme_AµCom·t_DŸlog
 : R.¡yË.
Theme_AµCom·t_Light_DŸlog
);

113 
roÙ
 = 
šæ©”
.
	`šæ©e
(
R
.
Ïyout
.
»Çme__dŸlog
, 
nuÎ
);

115 
dŸlogBud”
.
	`£tT™Ë
(
	`g‘Resourûs
().
	`g‘SŒšg
(
R
.
¡ršg
.
»Çme
));

116 
dŸlogBud”
.
	`£tV›w
(
roÙ
);

118 
Ed™Text
 
ed™Text
 = 
roÙ
.
	`fšdV›wById
(
R
.
id
.
Ãw_Çme
);

119 
ed™Text
.
	`»que¡Focus
();

120 
ed™Text
.
	`£tText
(
fe
.
	`g‘Name
());

121 
ed™Text
.
	`£tTextCŞÜ
(
CÚ‹xtCom·t
.
	`g‘CŞÜ
(
roÙ
.
	`g‘CÚ‹xt
(),

122 
d¬kTheme
 ? 
R
.
cŞÜ
.
d¬k__´im¬y_‹xt
 : R.cŞÜ.
light__´im¬y_‹xt
));

124 
dŸlogBud”
.
	`£tPos™iveBu‰Ú
(
	`g‘SŒšg
(
ªdroid
.
R
.
¡ršg
.
ok
), 
nuÎ
);

125 
dŸlogBud”
.
	`£tNeg©iveBu‰Ú
(
	`g‘SŒšg
(
R
.
¡ršg
.
ÿnûl
), 
nuÎ
);

127  
dŸlogBud”
;

128 
	}
}

130 
´iv©e
 
	$addF’ameCÏshTextW©ch”
(
Ed™Text
 
ed™Text
) {

131 
ed™Text
.
	`addTextChªgedLi¡’”
(
Ãw
 
	`TextW©ch”
() {

132 @
Ov”ride


133 
public
 
	`befÜeTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
couÁ
, 
aá”
) {

136 @
Ov”ride


137 
public
 
	`ÚTextChªged
(
Ch¬Sequ’û
 
s
, 
¡¬t
, 
befÜe
, 
couÁ
) {

140 @
Ov”ride


141 
public
 
	`aá”TextChªged
(
Ed™abË
 
s
) {

142 ià(
_f’ameCÏsh
) {

143 
_dŸlog
.
	`g‘Bu‰Ú
(
AË¹DŸlog
.
BUTTON_POSITIVE
).
	`£tEÇbËd
(
Œue
);

144 ((
TextV›w
è
_dŸlog
.
	`fšdV›wById
(
R
.
id
.
dŸlog_mes§ge
)).
	`£tText
("");

145 
_f’ameCÏsh
 = 
çl£
;

149 
	}
}

151 
´iv©e
 
boŞ—n
 
	$checkF’ameCÏsh
(
Fe
 
Üigš®Fe
, 
SŒšg
 
ÃwName
) {

152 
Fe
 
ÃwFe
 = 
Ãw
 
	`Fe
(
Üigš®Fe
.
	`g‘P¬’t
(), 
ÃwName
);

153 ià(
ÃwFe
.
	`exi¡s
()) {

154 ((
TextV›w
è
_dŸlog
.
	`fšdV›wById
(
R
.
id
.
dŸlog_mes§ge
)).
	`£tText
(R.
¡ršg
.
fe_fŞd”_®»ady_exi¡s_¶—£_u£_a_difã»Á_Çme
);

155 
_dŸlog
.
	`g‘Bu‰Ú
(
AË¹DŸlog
.
BUTTON_POSITIVE
).
	`£tEÇbËd
(
çl£
);

156  
Œue
;

158  
çl£
;

159 
	}
}

	@app/thirdparty/java/other/writeily/widget/WrFilesWidgetFactory.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gwidg‘
;

12 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Mªag”
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

15 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gRemÙeV›ws
;

16 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gRemÙeV›wsS”viû
;

18 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

19 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gTextFÜm©
;

20 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gfÜm©
.
	gm¬kdown
.
	gM¬kdownTextCÚv”‹r
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”Ad­‹r
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”F¿gm’t
;

27 
impÜt
 
	gjava
.
	gio
.
	gFe
;

28 
impÜt
 
	gjava
.
	gut
.
	gA¼ayLi¡
;

29 
impÜt
 
	gjava
.
	gut
.
	gA¼ays
;

31 
public
 
şass
 
WrFesWidg‘FaùÜy
 
im¶em’ts
 
	gRemÙeV›wsS”viû
.
	gRemÙeV›wsFaùÜy
 {

33 
´iv©e
 
CÚ‹xt
 
	g_cÚ‹xt
;

34 
´iv©e
 
	gFe
[] 
	g_widg‘FesLi¡
 = 
Ãw
 
Fe
[0];

35 
´iv©e
 
	g_­pWidg‘Id
;

36 
´iv©e
 
Fe
 
	g_dœ
;

38 
public
 
WrFesWidg‘FaùÜy
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
š‹Á
) {

39 
	g_cÚ‹xt
 = 
cÚ‹xt
;

40 
	g_­pWidg‘Id
 = 
š‹Á
.
g‘IÁExŒa
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_ID
, AµWidg‘Mªag”.
INVALID_APPWIDGET_ID
);

41 
	g_dœ
 = (
Fe
è
š‹Á
.
g‘S”ŸlizabËExŒa
(
Docum’tIO
.
EXTRA_PATH
);

44 @
Ov”ride


45 
public
 
ÚC»©e
() {

46 
ÚD©aS‘Chªged
();

49 @
Ov”ride


50 
public
 
ÚD©aS‘Chªged
() {

51 
upd©eFes
();

54 
´iv©e
 
upd©eFes
() {

55 
	g_widg‘FesLi¡
 = (
_dœ
 =ğ
nuÎ
è? 
Ãw
 
Fe
[0] : _dœ.
li¡Fes
(
fe
 ->

56 !
fe
.
isDœeùÜy
(è&& 
TextFÜm©
.
isTextFe
(file)

58 ià(
	g_dœ
 !ğ
nuÎ
 && 
_dœ
.
equ®s
(
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_RECENTS
)) {

59 
_widg‘FesLi¡
 = 
Fesy¡emV›w”C»©Ü
.
¡¾i¡ToA¼ay
(
AµS‘tšgs
.
g‘
().
g‘ReûÁDocum’ts
());

61 ià(
	g_dœ
 !ğ
nuÎ
 && 
_dœ
.
equ®s
(
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_POPULAR
)) {

62 
_widg‘FesLi¡
 = 
Fesy¡emV›w”C»©Ü
.
¡¾i¡ToA¼ay
(
AµS‘tšgs
.
g‘
().
g‘PİuÏrDocum’ts
());

64 
	gA¼ayLi¡
<
	gFe
> 
	gfes
 = 
Ãw
 
A¼ayLi¡
<>(
A¼ays
.
asLi¡
(
_widg‘FesLi¡
 !ğ
nuÎ
 ? _widg‘FesLi¡ :‚ew 
Fe
[0]));

67 ià(
	g_dœ
 !ğ
nuÎ
 && (
_dœ
.
equ®s
(
Fesy¡emV›w”Ad­‹r
.
VIRTUAL_STORAGE_RECENTS
è|| _dœ.equ®s(Fesy¡emV›w”Ad­‹r.
VIRTUAL_STORAGE_POPULAR
))) {

70 
Fesy¡emV›w”F¿gm’t
.
sÜtFŞd”
(
fes
);

72 
	g_widg‘FesLi¡
 = 
fes
.
toA¼ay
(
Ãw
 
Fe
[fes.
size
()]);

75 
	gWrM¬kÜWidg‘Provid”
.
hªdËWidg‘Scheme
(

76 
_cÚ‹xt
,

77 
Ãw
 
RemÙeV›ws
(
_cÚ‹xt
.
g‘PackageName
(), 
R
.
Ïyout
.
widg‘_Ïyout
),

78 
Ãw
 
AµS‘tšgs
(
_cÚ‹xt
).
isD¬kThemeEÇbËd
());

81 @
Ov”ride


82 
public
 
ÚDe¡roy
() {

83 
	g_widg‘FesLi¡
 = 
Ãw
 
Fe
[0];

86 @
Ov”ride


87 
public
 
g‘CouÁ
() {

88  
	g_widg‘FesLi¡
 =ğ
nuÎ
 ? 0 : 
_widg‘FesLi¡
.
Ëngth
;

91 @
Ov”ride


92 
public
 
RemÙeV›ws
 
g‘V›wAt
(
pos™iÚ
) {

93 
RemÙeV›ws
 
	growV›w
 = 
Ãw
 RemÙeV›ws(
_cÚ‹xt
.
g‘PackageName
(), 
R
.
Ïyout
.
widg‘_fe_™em
);

94 
	growV›w
.
£tTextV›wText
(
R
.
id
.
widg‘_nÙe_t™Ë
, "???");

95 ià(
Ãw
 
AµS‘tšgs
(
_cÚ‹xt
).
isD¬kThemeEÇbËd
())

96 
	growV›w
.
£tTextCŞÜ
(
R
.
id
.
widg‘_nÙe_t™Ë
, 
_cÚ‹xt
.
g‘Resourûs
().
g‘CŞÜ
(R.
cŞÜ
.
d¬k__´im¬y_‹xt
));

98 
	growV›w
.
£tTextCŞÜ
(
R
.
id
.
widg‘_nÙe_t™Ë
, 
_cÚ‹xt
.
g‘Resourûs
().
g‘CŞÜ
(R.
cŞÜ
.
light__´im¬y_‹xt
));

99 ià(
	gpos™iÚ
 < 
	g_widg‘FesLi¡
.
	gËngth
) {

100 
Fe
 
	gfe
 = 
_widg‘FesLi¡
[
pos™iÚ
];

101 
IÁ’t
 
	gflInIÁ’t
 = 
Ãw
 IÁ’t().
putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
fe
).putExŒa(Docum’tIO.
EXTRA_PATH_IS_FOLDER
, fe.
isDœeùÜy
());

102 
	growV›w
.
£tTextV›wText
(
R
.
id
.
widg‘_nÙe_t™Ë
, 
M¬kdownTextCÚv”‹r
.
MD_EXTENSION_PATTERN
.
m©ch”
(
fe
.
g‘Name
()).
»¶aûAÎ
(""));

103 
	growV›w
.
£tOnClickFlInIÁ’t
(
R
.
id
.
widg‘_nÙe_t™Ë
, 
flInIÁ’t
);

105  
	growV›w
;

108 @
Ov”ride


109 
public
 
RemÙeV›ws
 
g‘LßdšgV›w
() {

110  
	gnuÎ
;

113 @
Ov”ride


114 
public
 
g‘V›wTy³CouÁ
() {

118 @
Ov”ride


119 
public
 
g‘I‹mId
(
pos™iÚ
) {

120  
	gpos™iÚ
;

123 @
Ov”ride


124 
public
 
boŞ—n
 
hasSbËIds
() {

125  
	gçl£
;

	@app/thirdparty/java/other/writeily/widget/WrFilesWidgetService.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gwidg‘
;

12 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

13 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gRemÙeV›wsS”viû
;

15 
public
 cÏs 
	cWrFesWidg‘S”viû
 
ex‹nds
 
	mRemÙeV›wsS”viû
 {

16 @
Ov”ride


17 
public
 
RemÙeV›wsFaùÜy
 
	$ÚG‘V›wFaùÜy
(
IÁ’t
 
š‹Á
) {

18  (
Ãw
 
	`WrFesWidg‘FaùÜy
(
	`g‘AµliÿtiÚCÚ‹xt
(), 
š‹Á
));

20 
	}
}

	@app/thirdparty/java/other/writeily/widget/WrMarkorWidgetProvider.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gwidg‘
;

12 
impÜt
 
	gªdroid
.
	g­p
.
	gP’dšgIÁ’t
;

13 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Mªag”
;

14 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Provid”
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCompÚ’tName
;

16 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

17 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

18 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

19 
impÜt
 
	gªdroid
.
	gÃt
.
	gUri
;

20 
impÜt
 
	gªdroid
.
	gwidg‘
.
	gRemÙeV›ws
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gDocum’tR–ayAùiv™y
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gaùiv™y
.
	gMašAùiv™y
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

26 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gDocum’tIO
;

28 
impÜt
 
	gjava
.
	gio
.
	gFe
;

30 
public
 cÏs 
	cWrM¬kÜWidg‘Provid”
 
ex‹nds
 
	mAµWidg‘Provid”
 {

31 
public
 
fš®
 
SŒšg
 
	mWIDGET_PATH
 = "WIDGET_PATH";

33 @
Ov”ride


34 
public
 
	$ÚD–‘ed
(
CÚ‹xt
 
cÚ‹xt
, [] 
­pWidg‘Ids
) {

35 
su³r
.
	`ÚD–‘ed
(
cÚ‹xt
, 
­pWidg‘Ids
);

38 @
Ov”ride


39 
public
 
	$ÚDi§bËd
(
CÚ‹xt
 
cÚ‹xt
) {

40 
su³r
.
	`ÚDi§bËd
(
cÚ‹xt
);

41 
	}
}

43 @
Ov”ride


44 
public
 
	$ÚEÇbËd
(
CÚ‹xt
 
cÚ‹xt
) {

45 
su³r
.
	`ÚEÇbËd
(
cÚ‹xt
);

46 
	}
}

48 @
Ov”ride


49 
public
 
	$ÚReûive
(
CÚ‹xt
 
cÚ‹xt
, 
IÁ’t
 
š‹Á
) {

50 
su³r
.
	`ÚReûive
(
cÚ‹xt
, 
š‹Á
);

51 
	}
}

53 @
Ov”ride


54 
public
 
	$ÚUpd©e
(
CÚ‹xt
 
cÚ‹xt
, 
AµWidg‘Mªag”
 
­pWidg‘Mªag”
, [] 
­pWidg‘Ids
) {

56 
fš®
 
N
 = 
­pWidg‘Ids
.
Ëngth
;

58 
»que¡Code
 = 0;

61 
­pWidg‘Id
 : 
­pWidg‘Ids
) {

63 
RemÙeV›ws
 
v›ws
 = 
Ãw
 
	`RemÙeV›ws
(
cÚ‹xt
.
	`g‘PackageName
(), 
R
.
Ïyout
.
widg‘_Ïyout
);

65 
Sh¬edP»ã»nûs
 
sh¬edP»ã»nûs
 = 
cÚ‹xt
.
	`g‘Sh¬edP»ã»nûs
(

66 "" + 
­pWidg‘Id
, 
CÚ‹xt
.
MODE_PRIVATE
);

67 
SŒšg
 
dœeùÜy
 = 
sh¬edP»ã»nûs
.
	`g‘SŒšg
(
WIDGET_PATH
, 
AµS‘tšgs
.
	`g‘
().
	`g‘NÙebookDœeùÜyAsSŒ
());

69 
Fe
 
dœeùÜyF
 = 
Ãw
 
	`Fe
(
dœeùÜy
);

70 
v›ws
.
	`£tTextV›wText
(
R
.
id
.
widg‘_h—d”_t™Ë
, 
dœeùÜyF
.
	`g‘Name
());

72 
AµS‘tšgs
 
­pS‘tšgs
 = 
Ãw
 
	`AµS‘tšgs
(
cÚ‹xt
);

75 
IÁ’t
 
İ’Sh¬e
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
)

76 .
	`£tAùiÚ
(
IÁ’t
.
ACTION_SEND
)

77 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
dœeùÜyF
)

78 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
Œue
)

79 .
	`putExŒa
(
IÁ’t
.
EXTRA_TEXT
, "");

80 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
widg‘_Ãw_nÙe
, 
P’dšgIÁ’t
.
	`g‘Aùiv™y
(
cÚ‹xt
, 
»que¡Code
++, 
İ’Sh¬e
, 0));

83 
IÁ’t
 
goToMaš
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
MašAùiv™y
.
şass
);

84 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
widg‘_h—d”
, 
P’dšgIÁ’t
.
	`g‘Aùiv™y
(
cÚ‹xt
, 
»que¡Code
++, 
goToMaš
, 0));

87 
IÁ’t
 
İ’Todo
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
)

88 .
	`£tAùiÚ
(
IÁ’t
.
ACTION_EDIT
)

89 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
­pS‘tšgs
.
	`g‘TodoFe
())

90 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
çl£
);

91 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
widg‘_todo
, 
P’dšgIÁ’t
.
	`g‘Aùiv™y
(
cÚ‹xt
, 
»que¡Code
++, 
İ’Todo
, 0));

94 
IÁ’t
 
İ’QuickNÙe
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
)

95 .
	`£tAùiÚ
(
IÁ’t
.
ACTION_EDIT
)

96 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
­pS‘tšgs
.
	`g‘QuickNÙeFe
())

97 .
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
çl£
);

98 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
widg‘_quicknÙe
, 
P’dšgIÁ’t
.
	`g‘Aùiv™y
(
cÚ‹xt
, 
»que¡Code
++, 
İ’QuickNÙe
, 0));

101 
IÁ’t
 
İ’Aµ
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
MašAùiv™y
.
şass
).
	`£tAùiÚ
(IÁ’t.
ACTION_VIEW
);

102 
v›ws
.
	`£tOnClickP’dšgIÁ’t
(
R
.
id
.
widg‘_maš
, 
P’dšgIÁ’t
.
	`g‘Aùiv™y
(
cÚ‹xt
, 
»que¡Code
++, 
İ’Aµ
, 0));

105 
IÁ’t
 
nÙesLi¡IÁ’t
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
WrFesWidg‘S”viû
.
şass
);

106 
nÙesLi¡IÁ’t
.
	`putExŒa
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_ID
, 
­pWidg‘Id
);

107 
nÙesLi¡IÁ’t
.
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH
, 
dœeùÜyF
);

108 
nÙesLi¡IÁ’t
.
	`putExŒa
(
Docum’tIO
.
EXTRA_PATH_IS_FOLDER
, 
Œue
);

109 
nÙesLi¡IÁ’t
.
	`£tD©a
(
Uri
.
	`·r£
ÒÙesLi¡IÁ’t.
	`toUri
(
IÁ’t
.
URI_INTENT_SCHEME
)));

111 
v›ws
.
	`£tEm±yV›w
(
R
.
id
.
widg‘_li¡_cÚš”
, R.id.
widg‘_em±y_hšt
);

112 
v›ws
.
	`£tRemÙeAd­‹r
(
R
.
id
.
widg‘_nÙes_li¡
, 
nÙesLi¡IÁ’t
);

114 
IÁ’t
 
İ’NÙeIÁ’t
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
Docum’tR–ayAùiv™y
.
şass
);

115 
P’dšgIÁ’t
 
İ’NÙeP’dšgIÁ’t
 = P’dšgIÁ’t.
	`g‘Aùiv™y
(
cÚ‹xt
, 
»que¡Code
++,

116 
İ’NÙeIÁ’t
, 
P’dšgIÁ’t
.
FLAG_UPDATE_CURRENT
);

117 
v›ws
.
	`£tP’dšgIÁ’tTem¶©e
(
R
.
id
.
widg‘_nÙes_li¡
, 
İ’NÙeP’dšgIÁ’t
);

120 
­pWidg‘Mªag”
.
	`upd©eAµWidg‘
(
­pWidg‘Id
, 
v›ws
);

122 
su³r
.
	`ÚUpd©e
(
cÚ‹xt
, 
­pWidg‘Mªag”
, 
­pWidg‘Ids
);

123 
	}
}

125 
public
 
	$hªdËWidg‘Scheme
(
CÚ‹xt
 
cÚ‹xt
, 
RemÙeV›ws
 
»mÙeV›ws
, 
BoŞ—n
 
’abËd
) {

126 ià(
’abËd
) {

127 
»mÙeV›ws
.
	`£tIÁ
(
R
.
id
.
widg‘_nÙes_li¡
, "£tBackgroundCŞÜ", 
cÚ‹xt
.
	`g‘Resourûs
().
	`g‘CŞÜ
(R.
cŞÜ
.
d¬k__background
));

129 
»mÙeV›ws
.
	`£tIÁ
(
R
.
id
.
widg‘_nÙes_li¡
, "£tBackgroundCŞÜ", 
cÚ‹xt
.
	`g‘Resourûs
().
	`g‘CŞÜ
(R.
cŞÜ
.
light__background
));

131 
AµWidg‘Mªag”
 
­pWidg‘Mªag”
 = AµWidg‘Mªag”.
	`g‘In¡ªû
(
cÚ‹xt
);

132 
­pWidg‘Mªag”
.
	`upd©eAµWidg‘
(
Ãw
 
	`CompÚ’tName
(
cÚ‹xt
.
	`g‘PackageName
(), 
WrM¬kÜWidg‘Provid”
.
şass
.
	`g‘Name
()), 
»mÙeV›ws
);

133 
	}
}

	@app/thirdparty/java/other/writeily/widget/WrWidgetConfigure.java

10 
·ckage
 
	gÙh”
.
	gwr™ey
.
	gwidg‘
;

12 
impÜt
 
	gªdroid
.
	g­pwidg‘
.
	gAµWidg‘Mªag”
;

13 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gCÚ‹xt
;

14 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gIÁ’t
;

15 
impÜt
 
	gªdroid
.
	gcÚ‹Á
.
	gSh¬edP»ã»nûs
;

16 
impÜt
 
	gªdroid
.
	gos
.
	gBundË
;

17 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gªnÙ©iÚ
.
	gNÚNuÎ
;

18 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv4
.
	g­p
.
	gF¿gm’tMªag”
;

19 
impÜt
 
	gªdroid
.
	gsuµÜt
.
	gv7
.
	g­p
.
	gAµCom·tAùiv™y
;

21 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gR
;

22 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gui
.
	gFesy¡emV›w”C»©Ü
;

23 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gAµS‘tšgs
;

24 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gm¬kÜ
.
	gut
.
	gP”missiÚCheck”
;

25 
impÜt
 
	gÃt
.
	gg§ÁÃr
.
	gİoc
.
	gui
.
	gFesy¡emV›w”D©a
;

27 
impÜt
 
	gjava
.
	gio
.
	gFe
;

29 
public
 cÏs 
	cWrWidg‘CÚfigu»
 
ex‹nds
 
	mAµCom·tAùiv™y
 {

30 
´iv©e
 
	m_­pWidg‘Id
;

32 @
Ov”ride


33 
´Ùeùed
 
	$ÚC»©e
(
BundË
 
§vedIn¡ªûS‹
) {

34 
su³r
.
	`ÚC»©e
(
§vedIn¡ªûS‹
);

36 
BundË
 
exŒas
 = 
	`g‘IÁ’t
().
	`g‘ExŒas
();

37 ià(
exŒas
 !ğ
nuÎ
) {

38 
_­pWidg‘Id
 = 
exŒas
.
	`g‘IÁ
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_ID
, AµWidg‘Mªag”.
INVALID_APPWIDGET_ID
);

40 
	`showS–eùiÚDŸlog
();

43 
´iv©e
 
	$showS–eùiÚDŸlog
() {

44 
P”missiÚCheck”
 
³rmc
 = 
Ãw
 
	`P”missiÚCheck”
(
this
);

45 ià(
³rmc
.
	`mkdœIfStÜageP”missiÚG¿Áed
()) {

46 
F¿gm’tMªag”
 
äagMªag”
 = 
	`g‘SuµÜtF¿gm’tMªag”
();

47 
Fesy¡emV›w”C»©Ü
.
	`showFŞd”DŸlog
(
Ãw
 
Fesy¡emV›w”D©a
.
	`S–eùiÚLi¡’”Ad­‹r
() {

48 @
Ov”ride


49 
public
 
	`ÚFsV›w”S–eùed
(
SŒšg
 
»que¡
, 
Fe
 
fe
, 
fš®
 
IÁeg”
 
lšeNumb”
) {

50 
	`com¶‘e
(
fe
.
	`g‘AbsŞu‹P©h
());

53 @
Ov”ride


54 
public
 
	`ÚFsV›w”NÙhšgS–eùed
(
SŒšg
 
»que¡
) {

55 
	`fšish
();

58 @
Ov”ride


59 
public
 
	`ÚFsV›w”CÚfig
(
Fesy¡emV›w”D©a
.
O±iÚs
 
dİt
) {

60 
dİt
.
t™ËText
 = 
R
.
¡ršg
.
£Ëù_fŞd”
;

61 
dİt
.
roÙFŞd”
 = 
AµS‘tšgs
.
	`g‘
().
	`g‘NÙebookDœeùÜy
();

63 }, 
äagMªag”
, 
this
);

66 
	}
}

68 
public
 
ÚReque¡P”missiÚsResuÉ
(
»que¡Code
, @
NÚNuÎ
 
SŒšg
[] 
³rmissiÚs
, @NÚNuÎ [] 
g¿ÁResuÉs
) {

69 
	gsu³r
.
ÚReque¡P”missiÚsResuÉ
(
»que¡Code
, 
³rmissiÚs
, 
g¿ÁResuÉs
);

70 ià(
Ãw
 
P”missiÚCheck”
(
this
).
checkP”missiÚResuÉ
(
»que¡Code
, 
³rmissiÚs
, 
g¿ÁResuÉs
)) {

71 
showS–eùiÚDŸlog
();

73 
fšish
();

77 
public
 
fš®
 
	$com¶‘e
(
SŒšg
 
dœeùÜy
) {

78 
IÁ’t
 
š‹Á
 = 
	`g‘IÁ’t
();

79 
BundË
 
exŒas
 = 
š‹Á
.
	`g‘ExŒas
();

80 ià(
exŒas
 !ğ
nuÎ
) {

81 
_­pWidg‘Id
 = 
exŒas
.
	`g‘IÁ
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_ID
, AµWidg‘Mªag”.
INVALID_APPWIDGET_ID
);

83 
CÚ‹xt
 
cÚ‹xt
 = 
	`g‘AµliÿtiÚCÚ‹xt
();

86 
Sh¬edP»ã»nûs
 
´eã»nûs
 = 
cÚ‹xt
.
	`g‘Sh¬edP»ã»nûs
("" + 
_­pWidg‘Id
, 
MODE_PRIVATE
);

87 
Sh¬edP»ã»nûs
.
Ed™Ü
 
ed™Ü
 = 
´eã»nûs
.
	`ed™
();

88 
ed™Ü
.
	`putSŒšg
(
WrM¬kÜWidg‘Provid”
.
WIDGET_PATH
, 
dœeùÜy
);

89 
ed™Ü
.
	`­¶y
();

91 
IÁ’t
 
»suÉV®ue
 = 
Ãw
 
	`IÁ’t
(
cÚ‹xt
, 
WrFesWidg‘S”viû
.
şass
);

92 
»suÉV®ue
.
	`putExŒa
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_ID
, 
_­pWidg‘Id
);

93 
	`£tResuÉ
(
RESULT_OK
, 
»suÉV®ue
);

95 
IÁ’t
 
i
 = 
Ãw
 
	`IÁ’t
(
AµWidg‘Mªag”
.
ACTION_APPWIDGET_UPDATE
, 
nuÎ
, 
this
, 
WrM¬kÜWidg‘Provid”
.
şass
);

96 
i
.
	`putExŒa
(
AµWidg‘Mªag”
.
EXTRA_APPWIDGET_IDS
, 
Ãw
 []{
_­pWidg‘Id
});

97 
	`£ndBrßdÿ¡
(
i
);

99 
	`fšish
();

101 
	}
}

	@experiments/markor-nextcloud.txt.java

3 
	gim¶em’tiÚ
 'com.github.nextcloud:android-library:1.3.5'

5 
Ãw
 
	$Th»ad
(){

6 @
Ov”ride


7 
public
 
	`run
() {

8 
	`x
();

10 
	}
}.
¡¬t
();

13 
´iv©e
 
OwnCloudCl›Á
 
	gmCl›Á
;

14 
´iv©e
 
HªdËr
 
	gmHªdËr
;

15 
´iv©e
 
	$x
(){

16 
Uri
 
£rv”Uri
 = Uri.
	`·r£
("https://cloud.myserver.com");

17 
mCl›Á
 = 
OwnCloudCl›ÁFaùÜy
.
	`ü—‹OwnCloudCl›Á
(
£rv”Uri
, 
this
, 
Œue
);

18 
mCl›Á
.
	`£tC»d’tŸls
(

19 
OwnCloudC»d’tŸlsFaùÜy
.
	`ÃwBasicC»d’tŸls
(

25 
Fe
 
downFŞd”
 = 
Ãw
 
	`Fe
(
_­pS‘tšgs
.
	`g‘NÙebookDœeùÜyAsSŒ
());

26 
SŒšg
 
»mÙeP©h
 = 
FeUts
.
PATH_SEPARATOR
 + "Documents" + FileUtils.PATH_SEPARATOR + "todo.txt";

27 
DowÆßdFeRemÙeO³¿tiÚ
 
dowÆßdO³¿tiÚ
 = 
Ãw
 
	`DowÆßdFeRemÙeO³¿tiÚ
(
»mÙeP©h
, 
downFŞd”
.
	`g‘AbsŞu‹P©h
());

28 
dowÆßdO³¿tiÚ
.
	`addD©©¿nsãrProg»ssLi¡’”
(
Ãw
 
	`OnD©©¿nsãrProg»ssLi¡’”
() {

29 @
Ov”ride


30 
public
 
	`ÚT¿nsãrProg»ss
(
´og»ssR©e
, 
tÙ®T¿nsã¼edSoF¬
, 
tÙ®ToT¿nsãr
, 
SŒšg
 
feAbsŞu‹Name
) {

34 
dowÆßdO³¿tiÚ
.
	`execu‹
(
mCl›Á
);

35 
	}
}

	@
1
.
1
/usr/include
173
13895
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/DocumentActivity_ViewBinding.java
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/DocumentEditFragment_ViewBinding.java
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/DocumentShareIntoFragment_ViewBinding.java
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/MainActivity_ViewBinding.java
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/markor/activity/SettingsActivity_ViewBinding.java
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/opoc/ui/FilesystemViewerAdapter$FilesystemViewerViewHolder_ViewBinding.java
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/opoc/ui/FilesystemViewerDialog_ViewBinding.java
app/build/generated/ap_generated_sources/flavorDefaultRelease/out/net/gsantner/opoc/ui/FilesystemViewerFragment_ViewBinding.java
app/build/generated/source/buildConfig/flavorDefault/release/net/gsantner/markor/BuildConfig.java
app/src/flavorAtest/java/net/gsantner/opoc/util/AndroidSupportMeWrapper.java
app/src/flavorDefault/java/net/gsantner/opoc/util/AndroidSupportMeWrapper.java
app/src/flavorGplay/java/net/gsantner/opoc/util/AndroidSupportMeWrapper.java
app/src/main/java/net/gsantner/markor/App.java
app/src/main/java/net/gsantner/markor/activity/ActionOrderActivity.java
app/src/main/java/net/gsantner/markor/activity/AppActivityBase.java
app/src/main/java/net/gsantner/markor/activity/DocumentActivity.java
app/src/main/java/net/gsantner/markor/activity/DocumentEditFragment.java
app/src/main/java/net/gsantner/markor/activity/DocumentRelayActivity.java
app/src/main/java/net/gsantner/markor/activity/DocumentShareIntoFragment.java
app/src/main/java/net/gsantner/markor/activity/IntroActivity.java
app/src/main/java/net/gsantner/markor/activity/MainActivity.java
app/src/main/java/net/gsantner/markor/activity/MoreFragment.java
app/src/main/java/net/gsantner/markor/activity/MoreInfoFragment.java
app/src/main/java/net/gsantner/markor/activity/SettingsActivity.java
app/src/main/java/net/gsantner/markor/activity/openeditor/OpenEditorActivity.java
app/src/main/java/net/gsantner/markor/activity/openeditor/OpenEditorQuickNoteActivity.java
app/src/main/java/net/gsantner/markor/activity/openeditor/OpenEditorTodoActivity.java
app/src/main/java/net/gsantner/markor/activity/openeditor/OpenShareIntoActivity.java
app/src/main/java/net/gsantner/markor/format/AutoFormatter.java
app/src/main/java/net/gsantner/markor/format/ListHandler.java
app/src/main/java/net/gsantner/markor/format/TextConverter.java
app/src/main/java/net/gsantner/markor/format/TextFormat.java
app/src/main/java/net/gsantner/markor/format/general/BackgroundParagraphSpan.java
app/src/main/java/net/gsantner/markor/format/general/ColorUnderlineSpan.java
app/src/main/java/net/gsantner/markor/format/general/CommonTextActions.java
app/src/main/java/net/gsantner/markor/format/general/DatetimeFormatDialog.java
app/src/main/java/net/gsantner/markor/format/general/FilledBackgroundParagraphSpan.java
app/src/main/java/net/gsantner/markor/format/general/FirstLineTopPaddedParagraphSpan.java
app/src/main/java/net/gsantner/markor/format/general/HexColorCodeUnderlineSpan.java
app/src/main/java/net/gsantner/markor/format/general/HorizontalLineBackgroundParagraphSpan.java
app/src/main/java/net/gsantner/markor/format/keyvalue/KeyValueConverter.java
app/src/main/java/net/gsantner/markor/format/keyvalue/KeyValueHighlighter.java
app/src/main/java/net/gsantner/markor/format/markdown/MarkdownAutoFormat.java
app/src/main/java/net/gsantner/markor/format/markdown/MarkdownHighlighter.java
app/src/main/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPattern.java
app/src/main/java/net/gsantner/markor/format/markdown/MarkdownReplacePatternGenerator.java
app/src/main/java/net/gsantner/markor/format/markdown/MarkdownTextActions.java
app/src/main/java/net/gsantner/markor/format/markdown/MarkdownTextConverter.java
app/src/main/java/net/gsantner/markor/format/plaintext/PlaintextConverter.java
app/src/main/java/net/gsantner/markor/format/plaintext/PlaintextHighlighter.java
app/src/main/java/net/gsantner/markor/format/plaintext/PlaintextTextActions.java
app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtAutoFormat.java
app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtHighlighter.java
app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtHighlighterColors.java
app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtTask.java
app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtTextActions.java
app/src/main/java/net/gsantner/markor/format/todotxt/TodoTxtTextConverter.java
app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiAutoFormat.java
app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiHighlighter.java
app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiReplacePatternGenerator.java
app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiTextActions.java
app/src/main/java/net/gsantner/markor/format/zimwiki/ZimWikiTextConverter.java
app/src/main/java/net/gsantner/markor/model/Document.java
app/src/main/java/net/gsantner/markor/ui/AttachImageOrLinkDialog.java
app/src/main/java/net/gsantner/markor/ui/DraggableScrollbarScrollView.java
app/src/main/java/net/gsantner/markor/ui/DraggableScrollbarWebView.java
app/src/main/java/net/gsantner/markor/ui/FileInfoDialog.java
app/src/main/java/net/gsantner/markor/ui/FilesystemViewerCreator.java
app/src/main/java/net/gsantner/markor/ui/NewFileDialog.java
app/src/main/java/net/gsantner/markor/ui/SearchOrCustomTextDialogCreator.java
app/src/main/java/net/gsantner/markor/ui/SearchReplaceDialog.java
app/src/main/java/net/gsantner/markor/ui/fsearch/FileSearchDialog.java
app/src/main/java/net/gsantner/markor/ui/fsearch/FileSearchResultSelectorDialog.java
app/src/main/java/net/gsantner/markor/ui/fsearch/SearchEngine.java
app/src/main/java/net/gsantner/markor/ui/hleditor/Highlighter.java
app/src/main/java/net/gsantner/markor/ui/hleditor/HighlightingEditor.java
app/src/main/java/net/gsantner/markor/ui/hleditor/ReplacePatternGeneratorHelper.java
app/src/main/java/net/gsantner/markor/ui/hleditor/SpanCreator.java
app/src/main/java/net/gsantner/markor/ui/hleditor/TextActions.java
app/src/main/java/net/gsantner/markor/util/ActivityUtils.java
app/src/main/java/net/gsantner/markor/util/AppCast.java
app/src/main/java/net/gsantner/markor/util/AppSettings.java
app/src/main/java/net/gsantner/markor/util/BackupUtils.java
app/src/main/java/net/gsantner/markor/util/ContextUtils.java
app/src/main/java/net/gsantner/markor/util/DocumentIO.java
app/src/main/java/net/gsantner/markor/util/MarkorWebViewClient.java
app/src/main/java/net/gsantner/markor/util/PermissionChecker.java
app/src/main/java/net/gsantner/markor/util/ShareUtil.java
app/src/main/java/net/gsantner/markor/util/ShortcutUtils.java
app/src/main/java/net/gsantner/opoc/activity/GsActivityBase.java
app/src/main/java/net/gsantner/opoc/activity/GsFragmentBase.java
app/src/main/java/net/gsantner/opoc/android/dummy/MenuItemDummy.java
app/src/main/java/net/gsantner/opoc/android/dummy/TextWatcherDummy.java
app/src/main/java/net/gsantner/opoc/format/markdown/SimpleMarkdownParser.java
app/src/main/java/net/gsantner/opoc/format/plaintext/PlainTextStuff.java
app/src/main/java/net/gsantner/opoc/preference/FontPreferenceCompat.java
app/src/main/java/net/gsantner/opoc/preference/GsPreferenceFragmentCompat.java
app/src/main/java/net/gsantner/opoc/preference/LanguagePreferenceCompat.java
app/src/main/java/net/gsantner/opoc/preference/MapPropertyBackend.java
app/src/main/java/net/gsantner/opoc/preference/PropertyBackend.java
app/src/main/java/net/gsantner/opoc/preference/SharedPreferencesPropertyBackend.java
app/src/main/java/net/gsantner/opoc/ui/AndroidSpinnerOnItemSelectedAdapter.java
app/src/main/java/net/gsantner/opoc/ui/AudioRecordOmDialog.java
app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerAdapter.java
app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerData.java
app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerDialog.java
app/src/main/java/net/gsantner/opoc/ui/FilesystemViewerFragment.java
app/src/main/java/net/gsantner/opoc/ui/LinearSplitLayout.java
app/src/main/java/net/gsantner/opoc/ui/SearchOrCustomTextDialog.java
app/src/main/java/net/gsantner/opoc/util/ActivityUtils.java
app/src/main/java/net/gsantner/opoc/util/BackupUtils.java
app/src/main/java/net/gsantner/opoc/util/Callback.java
app/src/main/java/net/gsantner/opoc/util/ContextUtils.java
app/src/main/java/net/gsantner/opoc/util/CoolExperimentalStuff.java
app/src/main/java/net/gsantner/opoc/util/FileUtils.java
app/src/main/java/net/gsantner/opoc/util/GashMap.java
app/src/main/java/net/gsantner/opoc/util/NanoProfiler.java
app/src/main/java/net/gsantner/opoc/util/NetworkUtils.java
app/src/main/java/net/gsantner/opoc/util/PermissionChecker.java
app/src/main/java/net/gsantner/opoc/util/ShareUtil.java
app/src/main/java/net/gsantner/opoc/util/StringUtils.java
app/src/main/java/net/gsantner/opoc/util/TextViewUndoRedo.java
app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternBoldTest.java
app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternItalicTest.java
app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternListTest.java
app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternOrderedListTest.java
app/src/test/java/net/gsantner/markor/format/markdown/MarkdownHighlighterPatternStrikethroughTest.java
app/src/test/java/net/gsantner/markor/format/todotxt/TodoTxtFileRecognitionTests.java
app/src/test/java/net/gsantner/markor/format/zimwiki/ZimWikiFileTests.java
app/src/test/java/net/gsantner/markor/format/zimwiki/ZimWikiHighlighterTests.java
app/src/test/java/net/gsantner/markor/format/zimwiki/ZimWikiReplacePatternGeneratorTests.java
app/src/test/java/net/gsantner/markor/model/DocumentTest.java
app/src/test/java/net/gsantner/markor/model/TestPlayground.java
app/src/test/java/net/gsantner/markor/security/JavaPasswordbasedCryptionTest.java
app/src/test/java/other/de/stanetz/jpencconverter/cryption/JavaPasswordbasedCryptionTest.java
app/src/test/java/other/writeily/MarkdownHighlighterPatternTest.java
app/thirdparty-lib-src/QuadFlask-colorpicker/build/generated/source/buildConfig/release/com/flask/colorpicker/BuildConfig.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/androidTest/java/com/flask/colorpicker/ApplicationTest.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/CircleColorDrawable.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/ColorCircle.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/ColorPickerPreference.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/ColorPickerView.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/OnColorChangedListener.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/OnColorSelectedListener.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/Utils.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/ColorPickerClickListener.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/ColorPickerDialogBuilder.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/ColorWheelRendererBuilder.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/builder/PaintBuilder.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/AbsColorWheelRenderer.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/ColorWheelRenderOption.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/ColorWheelRenderer.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/FlowerColorWheelRenderer.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/renderer/SimpleColorWheelRenderer.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/AbsCustomSlider.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/AlphaSlider.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/LightnessSlider.java
app/thirdparty-lib-src/QuadFlask-colorpicker/src/main/java/com/flask/colorpicker/slider/OnValueChangedListener.java
app/thirdparty/java/other/com/flask/colorpicker/ColorPickerPreference.java
app/thirdparty/java/other/de/stanetz/jpencconverter/JavaPasswordbasedCryption.java
app/thirdparty/java/other/de/stanetz/jpencconverter/PasswordStore.java
app/thirdparty/java/other/so/AndroidBug5497Workaround.java
app/thirdparty/java/other/writeily/format/WrProportionalHeaderSpanCreator.java
app/thirdparty/java/other/writeily/format/markdown/WrMarkdownHeaderSpanCreator.java
app/thirdparty/java/other/writeily/format/zimwiki/WrZimWikiHeaderSpanCreator.java
app/thirdparty/java/other/writeily/model/WrMarkorSingleton.java
app/thirdparty/java/other/writeily/ui/WrConfirmDialog.java
app/thirdparty/java/other/writeily/ui/WrRenameDialog.java
app/thirdparty/java/other/writeily/widget/WrFilesWidgetFactory.java
app/thirdparty/java/other/writeily/widget/WrFilesWidgetService.java
app/thirdparty/java/other/writeily/widget/WrMarkorWidgetProvider.java
app/thirdparty/java/other/writeily/widget/WrWidgetConfigure.java
experiments/markor-nextcloud.txt.java
